"use strict"
define("ghost-admin/adapters/-json-api",["exports","@ember-data/adapter/json-api"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/adapters/api-key",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{queryRecord(e,t,n){if(!n||"me"!==n.id)return super.queryRecord(...arguments)
let i=`${this.buildURL("users","me")}token/`
return this.ajax(i,"GET",{data:{}}).then((e=>e))}}e.default=n})),define("ghost-admin/adapters/application",["exports","ghost-admin/adapters/embedded-relation-adapter"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{shouldBackgroundReloadRecord(){return!1}}e.default=n})),define("ghost-admin/adapters/base",["exports","ember-ajax/mixins/ajax-support","@ember-data/adapter/rest","ghost-admin/utils/ghost-paths"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=n.default.extend(t.default,{host:window.location.origin,namespace:(0,i.default)().apiRoot.slice(1),session:Ember.inject.service(),shouldBackgroundReloadRecord:()=>!1,query(e,t,n){let i
return n.id&&(i=n.id,delete n.id),this.ajax(this.buildURL(t.modelName,i),"GET",{data:n})},pathForType(){const e=this._super(...arguments)
return Ember.String.underscore(e)},buildURL(){let e=this._super(...arguments),t=new URL(e)
return t.pathname.endsWith("/")||(t.pathname+="/"),t.toString()}})
e.default=r})),define("ghost-admin/adapters/custom-theme-setting-list",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{pathForType(){return"custom_theme_settings"}createRecord(e,t,n){return this.saveRecord(e,t,n,{method:"PUT"},"createRecord")}}e.default=n})),define("ghost-admin/adapters/email",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{retry(e){let t=`${this.buildURL("email",e.get("id"))}retry/`
return this.ajax(t,"PUT",{data:{}}).then((t=>(this.store.pushPayload(t),e)))}}e.default=n})),define("ghost-admin/adapters/embedded-relation-adapter",["exports","ghost-admin/adapters/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{find(e,t,n,i){return this.ajax(this.buildIncludeURL(e,t.modelName,n,i,"find"),"GET")}findRecord(e,t,n,i){return this.ajax(this.buildIncludeURL(e,t.modelName,n,i,"findRecord"),"GET")}findAll(e,t,n){let i,r
return n&&(i={since:n}),r=this.buildIncludeURL(e,t.modelName,null,null,"findAll"),this.ajax(r,"GET",{data:i})}query(e,t,n){return super.query(e,t,this.buildQuery(e,t.modelName,n))}queryRecord(e,t,n){return super.queryRecord(e,t,this.buildQuery(e,t.modelName,n))}createRecord(e,t,n){return this.saveRecord(e,t,n,{method:"POST"},"createRecord")}updateRecord(e,t,n){let i={method:"PUT",id:Ember.get(n,"id")}
return this.saveRecord(e,t,n,i,"updateRecord")}saveRecord(e,t,n,i,r){let a=i||{},s=this.buildIncludeURL(e,t.modelName,a.id,n,r),o=this.preparePayload(e,t,n)
return this.ajax(s,a.method,o)}preparePayload(e,t,n){let i={}
return e.serializerFor(t.modelName).serializeIntoHash(i,t,n),{data:i}}buildIncludeURL(e,t,n,i,r,a){let s=this.getEmbeddedRelations(e,t),o=this.buildURL(t,n,i,r,a),l=new URL(o)
return s.length&&l.searchParams.append("include",s.map(Ember.String.underscore).join(",")),l.toString()}buildQuery(e,t,n){let i={},r=this.getEmbeddedRelations(e,t),a=n||{}
return r.length&&("string"==typeof n||"number"==typeof n?(a={},a.id=n,a.include=r.map(Ember.String.underscore).join(",")):("object"==typeof n||Ember.isNone(n))&&(a=a||{},r=r.concat(a.include?a.include.split(","):[]),r.forEach((e=>{i[e]=!0})),a.include=Object.keys(i).map(Ember.String.underscore).join(","))),a}getEmbeddedRelations(e,t){let n=e.modelFor(t),i=[],r=[]
return n.eachRelationship(((e,t)=>{"hasMany"===t.kind&&Object.prototype.hasOwnProperty.call(t.options,"embedded")&&"always"===t.options.embedded&&(i.push(e),r.push([e,t.type]))})),r.forEach((t=>{let[n,r]=t
this.getEmbeddedRelations(e,r).forEach((e=>{i.push(`${n}.${e}`)}))})),i}}e.default=n})),define("ghost-admin/adapters/label",["exports","ghost-admin/adapters/application","ghost-admin/utils/slug-url"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{buildURL(e,t,i,r,a){let s=super.buildURL(...arguments)
return(0,n.default)(s,a)}}e.default=i})),define("ghost-admin/adapters/member",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{queryRecord(e,t,n){if(n&&n.id){let{id:e}=n
delete n.id
let i=this.buildURL(t.modelName,e,n,"findRecord")
return this.ajax(i,"GET",{data:n})}return super.queryRecord(...arguments)}urlForDeleteRecord(e,t,n){let i=super.urlForDeleteRecord(...arguments),r=new URL(i)
return n&&n.adapterOptions&&n.adapterOptions.cancel&&r.searchParams.set("cancel","true"),r.toString()}}e.default=n})),define("ghost-admin/adapters/offer",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{queryRecord(e,t,n){if(n&&n.id){let{id:e}=n
delete n.id
let i=this.buildURL(t.modelName,e,n,"findRecord")
return this.ajax(i,"GET",{data:n})}return super.queryRecord(...arguments)}urlForDeleteRecord(){let e=super.urlForDeleteRecord(...arguments)
return new URL(e).toString()}}e.default=n})),define("ghost-admin/adapters/page",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{buildIncludeURL(e,t,n,i,r,a){return this.buildURL(t,n,i,r,a)}buildQuery(e,t,n){return n}}e.default=n})),define("ghost-admin/adapters/post",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{buildIncludeURL(e,t,n,i,r,a){let s=this.buildURL(t,n,i,r,a),o=new URL(s)
if(i&&i.adapterOptions&&i.adapterOptions.sendEmailWhenPublished){let e=i.adapterOptions.sendEmailWhenPublished
"status:free,status:-free"===e&&(e="all"),o.searchParams.append("email_recipient_filter",e)}return o.toString()}buildQuery(e,t,n){return n}}e.default=n})),define("ghost-admin/adapters/product",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{queryRecord(e,t,n){if(n&&n.id){let{id:e}=n
delete n.id
let i=this.buildURL(t.modelName,e,n,"findRecord")
return this.ajax(i,"GET",{data:n})}return super.queryRecord(...arguments)}urlForDeleteRecord(){let e=super.urlForDeleteRecord(...arguments)
return new URL(e).toString()}}e.default=n})),define("ghost-admin/adapters/setting",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{updateRecord(e,t,n){let i={},r=e.serializerFor(t.modelName)
return delete n.id,r.serializeIntoHash(i,t,n),this.ajax(this.buildURL(t.modelName),"PUT",{data:i})}}e.default=n})),define("ghost-admin/adapters/tag",["exports","ghost-admin/adapters/application","ghost-admin/utils/slug-url"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{buildURL(e,t,i,r,a){let s=super.buildURL(...arguments)
return(0,n.default)(s,a)}}e.default=i})),define("ghost-admin/adapters/theme",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{activate(e){let t=`${this.buildURL("theme",e.get("id"))}activate/`
return this.ajax(t,"PUT",{data:{}}).then((t=>(this.store.pushPayload(t),e)))}}e.default=n})),define("ghost-admin/adapters/user",["exports","ghost-admin/adapters/application","ghost-admin/utils/slug-url"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{buildURL(e,t,i,r,a){let s=super.buildURL(...arguments)
return(0,n.default)(s,a)}queryRecord(e,t,n){if(!n||"me"!==n.id)return super.queryRecord(...arguments)
let i=this.buildURL(t.modelName,"me",null,"findRecord")
return this.ajax(i,"GET",{data:{include:"roles"}})}}e.default=i})),define("ghost-admin/app",["exports","ghost-admin/utils/link-component","ghost-admin/utils/route","ember-resolver","ghost-admin/config/environment","ember-load-initializers","moment"],(function(e,t,n,i,r,a,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s.default.updateLocale("en",{relativeTime:{m:"1 minute"}})
const o=Ember.Application.extend({Resolver:i.default,modulePrefix:r.default.modulePrefix,podModulePrefix:r.default.podModulePrefix,customEvents:{touchstart:null,touchmove:null,touchend:null,touchcancel:null}})
Ember.Debug.registerWarnHandler(((e,t,n)=>{["ds.errors.add","ds.errors.remove","ds.errors.clear"].includes(t.id)||n(e,t)})),(0,a.default)(o,r.default.modulePrefix)
var l=o
e.default=l})),define("ghost-admin/authenticators/cookie",["exports","ember-simple-auth/authenticators/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({ajax:Ember.inject.service(),ghostPaths:Ember.inject.service(),sessionEndpoint:Ember.computed("ghostPaths.apiRoot",(function(){return`${this.ghostPaths.apiRoot}/session`})),restore:function(){return Ember.RSVP.resolve()},authenticate(e,t){const n={data:{username:e,password:t},contentType:"application/json;charset=utf-8",dataType:"text"}
return this.ajax.post(this.sessionEndpoint,n)},invalidate(){return this.ajax.skipSessionDeletion?(this.ajax.skipSessionDeletion=!1,Ember.RSVP.resolve()):this.ajax.del(this.sessionEndpoint)}})
e.default=n})),define("ghost-admin/component-managers/glimmer",["exports","@glimmer/component/-private/ember-component-manager"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/-dynamic-element-alt",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend()
e.default=t})),define("ghost-admin/components/-dynamic-element",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend()
e.default=t})),define("ghost-admin/components/aspect-ratio-box",["exports"],(function(e){function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"wR7ITMwk",block:'{"symbols":["&default"],"statements":[[6,[37,0],[[32,0,["isResizing"]]],null,[["default"],[{"statements":[[18,1,null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["unless"]}',moduleName:"ghost-admin/components/aspect-ratio-box.hbs"})
class i extends Ember.Component{constructor(){super(...arguments),t(this,"ratio","1/1"),t(this,"base","height"),t(this,"isResizing",!0),t(this,"_ratio",1)}init(){super.init(...arguments),this._onResizeHandler=()=>{Ember.run.debounce(this,this._resize,200)}}didReceiveAttrs(){super.didReceiveAttrs(...arguments),this._ratio=this.ratio.split("/").reduce(((e,t)=>e/t))}didInsertElement(){super.didInsertElement(...arguments),this._resize(),window.addEventListener("resize",this._onResizeHandler)}willDestroyElement(){super.willDestroyElement(...arguments),window.removeEventListener("resize",this._onResizeHandler)}_resize(){this.set("isResizing",!0),Ember.run.schedule("afterRender",this,(function(){"height"===this.base?this.element.style.width=this.element.clientHeight*this._ratio+"px":this.element.style.height=this.element.clientWidth*this._ratio+"px",this.set("isResizing",!1)}))}}e.default=i,Ember._setComponentTemplate(n,i)})),define("ghost-admin/components/basic-dropdown-content",["exports","ember-basic-dropdown/components/basic-dropdown-content"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/basic-dropdown-trigger",["exports","ember-basic-dropdown/components/basic-dropdown-trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/basic-dropdown",["exports","ember-basic-dropdown/components/basic-dropdown"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/custom-theme-settings/boolean",["exports","@glimmer/component"],(function(e,t){var n,i
function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"KgpZ0UOD",block:'{"symbols":["@index","@setting"],"statements":[[10,"div"],[15,0,[31,["gh-stack-item ",[30,[36,1],[[30,[36,0],[[32,1],0],null],"gh-setting-first","gh-setting"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n        "],[10,"div"],[14,0,"flex justify-between items-center relative"],[12],[2,"\\n            "],[10,"span"],[14,0,"gh-setting-title"],[15,"for",[32,0,["checkboxId"]]],[12],[2,"\\n                "],[1,[30,[36,2],[[32,2,["key"]]],null]],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"for-switch x-small"],[12],[2,"\\n                "],[10,"label"],[15,"for",[32,0,["checkboxId"]]],[14,0,"switch"],[12],[2,"\\n                    "],[11,"input"],[24,0,"gh-input"],[16,1,[32,0,["checkboxId"]]],[16,"checked",[32,2,["value"]]],[24,4,"checkbox"],[4,[38,3],["input",[32,0,["toggleValue"]]],null],[12],[13],[2,"\\n                    "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["eq","if","humanize-setting-key","on"]}',moduleName:"ghost-admin/components/custom-theme-settings/boolean.hbs"})
let s=(n=Ember._action,i=class extends t.default{constructor(){super(...arguments),r(this,"checkboxId",`checkbox-${Ember.guidFor(this)}`),r(this,"checkboxName",Ember.String.camelize(this.args.setting.key))}toggleValue(e){const t=e.target.checked
this.args.setting.set("value",t),this.args.onChange?.()}},o=i.prototype,l="toggleValue",u=[n],d=Object.getOwnPropertyDescriptor(i.prototype,"toggleValue"),c=i.prototype,p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),i)
var o,l,u,d,c,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/custom-theme-settings/color",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l
function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"oPqV42oy",block:'{"symbols":["@index","@setting"],"statements":[[10,"div"],[15,0,[31,["gh-stack-item ",[30,[36,1],[[30,[36,0],[[32,1],0],null],"gh-setting-first","gh-setting"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"flex flex-grow-1 justify-between"],[12],[2,"\\n        "],[10,"div"],[14,0,"flex justify-between items-center relative"],[12],[2,"\\n            "],[10,"span"],[14,0,"gh-setting-title"],[15,"for",[32,0,["inputId"]]],[12],[2,"\\n                "],[1,[30,[36,2],[[32,2,["key"]]],null]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"div"],[14,0,"input-color"],[12],[2,"\\n                "],[11,"input"],[16,1,[32,0,["inputId"]]],[16,3,[32,0,["inputName"]]],[24,"autocorrect","off"],[24,"maxlength","6"],[16,2,[32,0,["colorWithoutHash"]]],[24,0,"gh-input"],[24,4,"text"],[4,[38,4],["input",[30,[36,3],[[32,0,["debounceValueUpdate"]]],null]],null],[4,[38,4],["blur",[32,0,["updateValue"]]],null],[4,[38,5],["Enter",[32,0,["blurElement"]]],null],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"color-picker-horizontal-divider"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"color-box-container"],[15,5,[32,0,["colorPickerBgStyle"]]],[12],[2,"\\n                    "],[11,"input"],[16,3,[32,0,["inputName"]]],[24,0,"color-picker"],[16,2,[32,2,["value"]]],[24,4,"color"],[4,[38,4],["input",[30,[36,3],[[32,0,["debounceValueUpdate"]]],null]],null],[12],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["isInvalid"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"w-100 red"],[12],[2,"Please enter a color in hex format"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["eq","if","humanize-setting-key","perform","on","on-key"]}',moduleName:"ghost-admin/components/custom-theme-settings/color.hbs"})
let p=(i=Ember._tracked,r=Ember._action,a=(0,n.task)({restartable:!0}),s=Ember._action,o=class extends t.default{constructor(){var e,t,n,i
super(...arguments),u(this,"inputId",`input-${Ember.guidFor(this)}`),u(this,"inputName",Ember.String.camelize(this.args.setting.key)),e=this,t="isInvalid",i=this,(n=l)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get colorWithoutHash(){const e=this.args.setting.value
return e&&"#"===e[0]?e.slice(1):e}get colorPickerBgStyle(){return Ember.String.htmlSafe(`background-color: ${this.args.setting.value||"#ffffff"}`)}updateValue(e){const t=this.args.setting.value
let n=e.target.value
if(n)if("#"!==n[0]&&(n=`#${n}`),n.match(/#[0-9A-Fa-f]{6}$/)){if(this.isInvalid=!1,n===t)return
this.args.setting.set("value",n),this.args.onChange?.()}else this.isInvalid=!0
else this.isInvalid=!0}*debounceValueUpdate(e){yield(0,n.timeout)(500),this.updateValue(e)}blurElement(e){e.target.blur()}},l=d(o.prototype,"isInvalid",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d(o.prototype,"updateValue",[r],Object.getOwnPropertyDescriptor(o.prototype,"updateValue"),o.prototype),d(o.prototype,"debounceValueUpdate",[a],Object.getOwnPropertyDescriptor(o.prototype,"debounceValueUpdate"),o.prototype),d(o.prototype,"blurElement",[s],Object.getOwnPropertyDescriptor(o.prototype,"blurElement"),o.prototype),o)
e.default=p,Ember._setComponentTemplate(c,p)})),define("ghost-admin/components/custom-theme-settings/image",["exports","@glimmer/component","ghost-admin/components/gh-image-uploader"],(function(e,t,n){var i,r,a
function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"JnDNrFOa",block:'{"symbols":["uploader","error","@setting","@index"],"statements":[[10,"div"],[15,0,[31,["gh-stack-item ",[30,[36,3],[[30,[36,5],[[32,4],0],null],"gh-setting-first","gh-setting"],null]]]],[12],[2,"\\n    "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["imageUploaded"]]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[15,0,[31,[[30,[36,3],[[32,3,["value"]],"","flex flex-grow-1 items-center justify-between"],null]]]],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n                "],[10,"div"],[15,0,[31,["gh-setting-title ",[30,[36,3],[[32,3,["value"]],"gh-theme-setting-title"],null]]]],[12],[1,[30,[36,6],[[32,3,["key"]]],null]],[13],[2,"\\n"],[6,[37,8],[[30,[36,7],[[30,[36,7],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-error"],[12],[1,[30,[36,4],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-action gh-uploadbutton-container flex flex-column items-stretch"],[12],[2,"\\n"],[6,[37,3],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,3,["value"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-branding-image-container largeimg justify-start"],[12],[2,"\\n                        "],[11,"img"],[24,0,"blog-cover"],[16,"src",[32,3,["value"]]],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-setting-action-largeimg-delete"],[24,4,"button"],[4,[38,0],["click",[30,[36,1],[[32,0,["updateValue"]],null],null]],null],[12],[2,"\\n                            "],[1,[30,[36,2],["trash"],[["class"],["w4 h4 fill-white"]]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-white self-start"],[24,4,"button"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Upload"],[13],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                    "],[8,"gh-file-input",[],[["@multiple","@action","@accept","@onInsert"],[false,[32,1,["setFiles"]],[32,0,["imageMimeTypes"]],[32,1,["registerFileInput"]]]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","fn","svg-jar","if","or","eq","humanize-setting-key","-track-array","each"]}',moduleName:"ghost-admin/components/custom-theme-settings/image.hbs"})
let u=(i=Ember._action,r=Ember._action,a=class extends t.default{constructor(){super(...arguments),s(this,"inputId",`input-${Ember.guidFor(this)}`),s(this,"inputName",Ember.String.camelize(this.args.setting.key)),s(this,"imageExtensions",n.IMAGE_EXTENSIONS),s(this,"imageMimeTypes",n.IMAGE_MIME_TYPES)}imageUploaded(e){e[0]&&this.updateValue(e[0].url)}updateValue(e){this.args.setting.set("value",e),this.args.onChange?.()}},o(a.prototype,"imageUploaded",[i],Object.getOwnPropertyDescriptor(a.prototype,"imageUploaded"),a.prototype),o(a.prototype,"updateValue",[r],Object.getOwnPropertyDescriptor(a.prototype,"updateValue"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/custom-theme-settings/select",["exports","@glimmer/component"],(function(e,t){var n,i
function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"sVLglPY/",block:'{"symbols":["settingOption","@setting","@index"],"statements":[[10,"div"],[15,0,[31,["gh-stack-item ",[30,[36,1],[[30,[36,0],[[32,3],0],null],"gh-setting-first","gh-setting"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title gh-theme-setting-title"],[15,"for",[32,0,["selectId"]]],[12],[2,"\\n            "],[1,[30,[36,2],[[32,2,["key"]]],null]],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n            "],[11,"select"],[24,0,"ember-select"],[16,3,[32,0,["selectName"]]],[16,1,[32,0,["selectId"]]],[4,[38,3],["change",[32,0,["setSelection"]]],null],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,2,["options"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"option"],[15,2,[32,1]],[15,"selected",[30,[36,0],[[32,1],[32,2,["value"]]],null]],[12],[2,"\\n                        "],[1,[32,1]],[2,"\\n                        "],[6,[37,1],[[30,[36,0],[[32,1],[32,2,["default"]]],null]],null,[["default"],[{"statements":[[2,"(default)"]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n            "],[1,[30,[36,6],["arrow-down-small"],null]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["eq","if","humanize-setting-key","on","-track-array","each","svg-jar"]}',moduleName:"ghost-admin/components/custom-theme-settings/select.hbs"})
let s=(n=Ember._action,i=class extends t.default{constructor(){super(...arguments),r(this,"selectId",`select-${Ember.guidFor(this)}`),r(this,"selectName",Ember.String.camelize(this.args.setting.key))}setSelection(e){const t=e.target.value
this.args.setting.set("value",t),this.args.onChange?.()}},o=i.prototype,l="setSelection",u=[n],d=Object.getOwnPropertyDescriptor(i.prototype,"setSelection"),c=i.prototype,p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),i)
var o,l,u,d,c,p
e.default=s,Ember._setComponentTemplate(a,s)}))
define("ghost-admin/components/custom-theme-settings/text",["exports","@glimmer/component"],(function(e,t){var n,i,r
function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"O7jULB7o",block:'{"symbols":["@index","@setting"],"statements":[[10,"div"],[15,0,[31,["gh-stack-item ",[30,[36,1],[[30,[36,0],[[32,1],0],null],"gh-setting-first","gh-setting"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title gh-theme-setting-title"],[15,"for",[32,0,["inputId"]]],[12],[2,"\\n            "],[1,[30,[36,2],[[32,2,["key"]]],null]],[2,"\\n        "],[13],[2,"\\n\\n        "],[11,"input"],[24,0,"gh-input"],[16,2,[32,2,["value"]]],[16,1,[32,0,["inputId"]]],[16,3,[32,0,["inputName"]]],[24,4,"text"],[4,[38,3],["input",[32,0,["updateValue"]]],null],[4,[38,3],["blur",[32,0,["triggerOnChange"]]],null],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["eq","if","humanize-setting-key","on"]}',moduleName:"ghost-admin/components/custom-theme-settings/text.hbs"})
let l=(n=Ember._action,i=Ember._action,r=class extends t.default{constructor(){super(...arguments),a(this,"inputId",`input-${Ember.guidFor(this)}`),a(this,"inputName",Ember.String.camelize(this.args.setting.key))}updateValue(e){this.args.setting.set("value",e.target.value)}triggerOnChange(){this.args.onChange?.()}},s(r.prototype,"updateValue",[n],Object.getOwnPropertyDescriptor(r.prototype,"updateValue"),r.prototype),s(r.prototype,"triggerOnChange",[i],Object.getOwnPropertyDescriptor(r.prototype,"triggerOnChange"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/dashboard/dashboard-v5",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s
function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"5u8mIHjh",block:'{"symbols":["option"],"statements":[[11,"section"],[24,0,"gh-dashboard5"],[4,[38,1],[[32,0,["onInsert"]]],null],[12],[2,"\\n\\n"],[6,[37,0],[[32,0,["isLoading"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["areMembersEnabled"]]],null,[["default"],[{"statements":[[2,"            "],[10,"section"],[14,0,"gh-dashboard5-section"],[12],[2,"\\n                "],[8,"dashboard/v5/chart-members-counts",[],[[],[]],null],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"section"],[14,0,"gh-dashboard5-section"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard5-header"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Members"],[13],[2,"\\n                    "],[10,"div"],[14,0,"prototype-selection"],[12],[2,"\\n                        "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,0,["selectedDaysOption"]],[32,0,["daysOptions"]],false,[32,0,["onDaysChange"]],"gh-power-select/trigger","gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n                            "],[6,[37,0],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[1,[32,1,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown option"],[13]],"parameters":[]}]]],[2,"\\n                        "]],"parameters":[1]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-dashboard5-growth"],[12],[2,"\\n                    "],[10,"article"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n                        "],[8,"dashboard/v5/chart-total-members",[],[["@days"],[[32,0,["days"]]]],null],[2,"\\n                    "],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["hasPaidTiers"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"article"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n                            "],[8,"dashboard/v5/chart-monthly-revenue",[],[["@days"],[[32,0,["days"]]]],null],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"article"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n                            "],[8,"dashboard/v5/chart-total-paid",[],[["@days"],[[32,0,["days"]]]],null],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"article"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n                            "],[8,"dashboard/v5/chart-paid-members",[],[["@days"],[[32,0,["days"]]]],null],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"article"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n                            "],[8,"dashboard/v5/chart-paid-mix",[],[[],[]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-dashboard5-section"],[12],[2,"\\n                "],[8,"dashboard/v5/chart-engagement",[],[[],[]],null],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["areNewslettersEnabled"]]],null,[["default"],[{"statements":[[2,"            "],[10,"section"],[14,0,"gh-dashboard5-section"],[12],[2,"\\n                "],[8,"dashboard/v5/chart-email",[],[[],[]],null],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[10,"section"],[14,0,"gh-dashboard5-split"],[12],[2,"\\n            "],[10,"section"],[14,0,"gh-dashboard5-section"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard5-header"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Recent posts"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"article"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n                    "],[8,"dashboard/v5/recent-posts",[],[[],[]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"section"],[14,0,"gh-dashboard5-section"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard5-header"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Recent activity"],[13],[2,"\\n                "],[13],[2,"\\n                "],[8,"dashboard/latest-member-activity",[],[[],[]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-dashboard5-section"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-dashboard5-header"],[12],[2,"\\n                "],[10,"h3"],[12],[2,"Resources"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section gh-offers-help"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                        "],[10,"a"],[14,6,"https://ghost.org/help"],[14,"target","_blank"],[14,0,"gh-offers-help-card"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-offers-help-content"],[12],[2,"\\n                                "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/offers-1-f2e1b653c4d5bb90eea9d7a2862530f9.jpg);"],[12],[13],[2,"\\n                                "],[10,"div"],[14,0,"text"],[12],[2,"\\n                                    "],[10,"h3"],[12],[2,"Do something cool in Ghost"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"There is a lot of cool things you can do in Ghost and this is just one of them."],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-btn"],[12],[10,"span"],[12],[2,"Read more"],[13],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"a"],[14,6,"https://ghost.org/help"],[14,"target","_blank"],[14,0,"gh-offers-help-card"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-offers-help-content"],[12],[2,"\\n                                "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/offers-3-2094c91ab21a16c37fbe6ec16c140160.jpg);"],[12],[13],[2,"\\n                                "],[10,"div"],[14,0,"text"],[12],[2,"\\n                                    "],[10,"h3"],[12],[2,"Do something cool in Ghost"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"There is a lot of cool things you can do in Ghost and this is just one of them."],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-btn"],[12],[10,"span"],[12],[2,"Read more"],[13],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"a"],[14,6,"https://ghost.org/help"],[14,"target","_blank"],[14,0,"gh-offers-help-card"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-offers-help-content"],[12],[2,"\\n                                "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/offers-2-28a225d34cc39d133748431536961d00.jpg)"],[12],[13],[2,"\\n                                "],[10,"div"],[14,0,"text"],[12],[2,"\\n                                    "],[10,"h3"],[12],[2,"Do something cool in Ghost"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"There is a lot of cool things you can do in Ghost and this is just one of them."],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-btn"],[12],[10,"span"],[12],[2,"Read more"],[13],[13],[2,"\\n                        "],[13],[2,"\\n\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"dashboard/v5/prototype-control-panel",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"]],"hasEval":false,"upvars":["if","did-insert"]}',moduleName:"ghost-admin/components/dashboard/dashboard-v5.hbs"}),u=[{name:"7 days",value:7},{name:"30 days",value:30},{name:"90 days",value:90},{name:"All time",value:365}]
let d=(n=Ember.inject.service,i=Ember._action,r=Ember._action,a=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="dashboardStats",i=this,(n=s)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"daysOptions",u)}get days(){return this.dashboardStats.chartDays}set days(e){this.dashboardStats.chartDays=e}onInsert(){this.dashboardStats.loadSiteStatus()}get selectedDaysOption(){return this.daysOptions.find((e=>e.value===this.days))}get isLoading(){return null===this.dashboardStats.siteStatus}get hasPaidTiers(){return this.dashboardStats.siteStatus?.hasPaidTiers}get isStripeEnabled(){return this.dashboardStats.siteStatus?.stripeEnabled}get areNewslettersEnabled(){return this.dashboardStats.siteStatus?.newslettersEnabled}get areMembersEnabled(){return this.dashboardStats.siteStatus?.membersEnabled}onDaysChange(e){this.days=e.value}},s=o(a.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"onInsert",[i],Object.getOwnPropertyDescriptor(a.prototype,"onInsert"),a.prototype),o(a.prototype,"onDaysChange",[r],Object.getOwnPropertyDescriptor(a.prototype,"onDaysChange"),a.prototype),a)
e.default=d,Ember._setComponentTemplate(l,d)})),define("ghost-admin/components/dashboard/latest-member-activity",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"NT2wZaE3",block:'{"symbols":["eventsFetcher","event","parsedEvent"],"statements":[[6,[37,7],[[32,0,["shouldDisplay"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-dashboard-box activity"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-dashboard-header-container"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-dashboard-header"],[12],[2,"\\n                Activity\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"content"],[12],[2,"\\n"],[6,[37,4],[[30,[36,12],null,[["filter","pageSize"],[[30,[36,7],[[30,[36,8],["membersActivityFeed"],null],[30,[36,11],null,[["excludeEmailEvents"],[true]]]],null],5]]]],null,[["default"],[{"statements":[[6,[37,7],[[32,1,["isLoading"]]],null,[["default"],[{"statements":[[2,"                    Loading...\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[32,1,["isError"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"p"],[14,0,"error"],[12],[2,"\\n                        There was an error loading events\\n"],[6,[37,7],[[32,1,["errorMessage"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"code"],[12],[1,[32,1,["errorMessage"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[30,[36,9],[[32,1,["isLoading"]],[32,1,["isError"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-event-timeline"],[12],[2,"\\n"],[6,[37,7],[[32,1,["data"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"ul"],[14,0,"gh-dashboard-activity-list"],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,1,["data"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,4],[[30,[36,3],[[32,2]],null]],null,[["default"],[{"statements":[[2,"                                        "],[10,"li"],[14,0,"gh-dashboard-activity-item"],[12],[2,"\\n                                            "],[8,"link-to",[[24,0,"member-details"]],[["@route","@model"],["member",[31,[[32,3,["memberId"]]]]]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"div"],[14,0,"gh-dashboard-activity-container"],[12],[2,"\\n                                                    "],[1,[30,[36,1],[[32,3,["icon"]]],null]],[2,"\\n                                                    "],[10,"div"],[14,0,"gh-dashboard-activity-detail"],[12],[2,"\\n                                                        "],[10,"div"],[14,0,"gh-dashboard-activity-name"],[12],[2,"\\n                                                            "],[1,[32,3,["subject"]]],[2,"\\n                                                        "],[13],[2,"\\n                                                        "],[10,"div"],[14,0,"gh-dashboard-activity-event"],[12],[2,"\\n                                                            "],[1,[32,3,["action"]]],[2,"\\n                                                            "],[1,[32,3,["object"]]],[2,"\\n                                                            "],[10,"span"],[14,0,"highlight"],[12],[1,[32,3,["info"]]],[13],[2,"\\n                                                        "],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                            "],[10,"span"],[14,0,"gh-dashboard-activity-time"],[12],[1,[30,[36,2],[[32,3,["timestamp"]]],null]],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[3]}]]]],"parameters":[2]}]]],[2,"                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-no-data-list"],[12],[2,"\\n                                "],[1,[30,[36,1],["no-data-list"],null]],[2,"\\n                                "],[10,"span"],[12],[2,"No member activity available."],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n\\n"],[6,[37,7],[[30,[36,8],["membersActivityFeed"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"footer"],[12],[2,"\\n                            "],[8,"link-to",[],[["@route","@query"],["members-activity",[30,[36,0],["members-activity"],null]]],[["default"],[{"statements":[[2,"See all activity →"]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[1]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["reset-query-params","svg-jar","moment-from-now","parse-member-event","let","-track-array","each","if","feature","or","unless","members-event-filter","members-event-fetcher"]}',moduleName:"ghost-admin/components/dashboard/latest-member-activity.hbs"})
let p=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=class extends t.default{constructor(){super(...arguments),u(this,"feature",s,this),u(this,"session",o,this),u(this,"settings",l,this)}get shouldDisplay(){if(this.feature.improvedOnboarding)return!0
const e=this.session.user?.isOwnerOnly,t=this.settings.get("editorIsLaunchComplete")
return!(e&&!t)}},s=d(a.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(a.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(a.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=p,Ember._setComponentTemplate(c,p)})),define("ghost-admin/components/dashboard/members-graphs",["exports","@glimmer/component","ghost-admin/utils/currency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j
function _(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function z(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const x=Ember.HTMLBars.template({id:"drVL5fcD",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-dashboard-area charts"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard-box mrr"],[12],[2,"\\n        "],[10,"div"],[14,0,"flex items-center justify-between"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-dashboard-header"],[12],[2,"MRR"],[13],[2,"\\n            "],[10,"h4"],[14,0,"gh-dashboard-header secondary"],[12],[2,"30 days"],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-chart-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["mrrStatsLoading"]]],null,[["default","else"],[{"statements":[[2,"                Loading...\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["mrrStatsError"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"p"],[14,0,"error"],[12],[2,"\\n                        There was an error loading MRR\\n                        "],[10,"code"],[12],[1,[32,0,["mrrStatsError","message"]]],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-dashboard-summary"],[12],[2,"\\n                        "],[10,"div"],[14,0,"data"],[12],[10,"span"],[14,0,"currency"],[12],[1,[32,0,["mrrStatsData","currency"]]],[13],[1,[30,[36,2],[[32,0,["mrrStatsData","currentAmount"]]],null]],[13],[2,"\\n                        "],[10,"div"],[15,0,[31,["growth ",[32,0,["mrrStatsData","percentClass"]]]]],[12],[1,[32,0,["mrrStatsData","percentGrowth"]]],[2,"%"],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,1],[[32,0,["mrrStatsData"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-dashboard-chart"],[12],[2,"\\n                            "],[8,"gh-members-chart",[],[["@type","@nightShift","@showSummary","@showRange","@chartType","@chartStats"],["LineWithLine",[30,[36,0],["nightShift"],null],false,false,"mrr",[32,0,["mrrStatsData"]]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard-box total-members"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-chart-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["memberCountStatsLoading"]]],null,[["default","else"],[{"statements":[[2,"                Loading...\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["memberCountStatsError"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"p"],[14,0,"error"],[12],[2,"\\n                        There was an error loading total members\\n                        "],[10,"code"],[12],[1,[32,0,["memberCountStatsData","message"]]],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-dashboard-summary small"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-dashboard-header"],[12],[2,"Total members"],[13],[2,"\\n                        "],[10,"div"],[14,0,"data-container"],[12],[2,"\\n                            "],[10,"div"],[14,0,"data"],[12],[1,[30,[36,2],[[32,0,["memberCountStatsData","all","total"]]],null]],[13],[2,"\\n                            "],[10,"div"],[15,0,[31,["growth ",[32,0,["memberCountStatsData","all","percentClass"]]]]],[12],[1,[32,0,["memberCountStatsData","all","percentGrowth"]]],[2,"%"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-chart small"],[12],[2,"\\n                        "],[8,"gh-members-chart",[],[["@type","@nightShift","@chartSize","@showSummary","@chartType","@showRange","@chartStats"],["LineWithLine",[30,[36,0],["nightShift"],null],"small",false,"all-members",false,[32,0,["memberCountStatsData","all"]]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard-box paid-members"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-chart-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["memberCountStatsLoading"]]],null,[["default","else"],[{"statements":[[2,"                Loading...\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["memberCountStatsError"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"p"],[14,0,"error"],[12],[2,"\\n                        There was an error loading paid members\\n                        "],[10,"code"],[12],[1,[32,0,["memberCountStatsData","message"]]],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-dashboard-summary small"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-dashboard-header"],[12],[2,"Paid members"],[13],[2,"\\n                        "],[10,"div"],[14,0,"data-container"],[12],[2,"\\n                            "],[10,"div"],[14,0,"data"],[12],[1,[30,[36,2],[[32,0,["memberCountStatsData","paid","total"]]],null]],[13],[2,"\\n                            "],[10,"div"],[15,0,[31,["growth ",[32,0,["memberCountStatsData","paid","percentClass"]]]]],[12],[1,[32,0,["memberCountStatsData","paid","percentGrowth"]]],[2,"%"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-chart small"],[12],[2,"\\n                        "],[8,"gh-members-chart",[],[["@type","@nightShift","@chartSize","@showSummary","@chartType","@showRange","@chartStats"],["LineWithLine",[30,[36,0],["nightShift"],null],"small",false,"paid-members",false,[32,0,["memberCountStatsData","paid"]]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard-box newsletter-open-rate"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-chart-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["newsletterOpenRatesLoading"]]],null,[["default","else"],[{"statements":[[2,"                Loading...\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["newsletterOpenRatesError"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"p"],[14,0,"error"],[12],[2,"\\n                        There was an error loading newsletter open rates\\n                        "],[10,"code"],[12],[1,[32,0,["memberCountStatsData","message"]]],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-dashboard-summary small"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-dashboard-header"],[12],[2,"Email open rate"],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"data-container"],[12],[2,"\\n                            "],[10,"div"],[14,0,"data"],[12],[1,[32,0,["newsletterOpenRatesData","current"]]],[2,"%"],[13],[2,"\\n                            "],[10,"div"],[15,0,[31,["growth ",[32,0,["newsletterOpenRatesData","percentClass"]]]]],[12],[1,[32,0,["newsletterOpenRatesData","percentGrowth"]]],[2,"%"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-chart small"],[12],[2,"\\n                        "],[8,"gh-members-chart",[],[["@type","@nightShift","@chartSize","@showSummary","@chartType","@showRange","@chartStats"],["bar",[30,[36,0],["nightShift"],null],"small",false,"open-rate",false,[32,0,["newsletterOpenRatesData"]]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["feature","if","format-number"]}',moduleName:"ghost-admin/components/dashboard/members-graphs.hbs"})
let T=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=class extends t.default{constructor(){super(...arguments),_(this,"membersStats",g,this),_(this,"store",b,this),_(this,"mrrStatsData",f,this),_(this,"mrrStatsError",v,this),_(this,"mrrStatsLoading",y,this),_(this,"memberCountStatsData",w,this),_(this,"memberCountStatsError",E,this),_(this,"memberCountStatsLoading",k,this),_(this,"newsletterOpenRatesData",P,this),_(this,"newsletterOpenRatesError",O,this),_(this,"newsletterOpenRatesLoading",j,this),this.loadCharts()}loadCharts(){this.loadMRRStats(),this.loadMemberCountStats(),this.loadNewsletterOpenRates()}async loadMRRStats(){const e=(await this.store.query("product",{filter:"type:paid",include:"monthly_price,yearly_price",limit:"all"}))?.firstObject
this.mrrStatsLoading=!0,this.membersStats.fetchMRR().then((t=>{this.mrrStatsLoading=!1
const i=t.data||[],r=e?.monthlyPrice?.currency||"usd"
let a=i.find((e=>e.currency===r))
if(a=a||{data:[],currency:r},a){const e=this.membersStats.fillDates(a.data)||{},t=Object.values(e).map((e=>Math.round(e/100))),i=t.length?t[t.length-1]:0,r=t.length?t[0]:0,s=0!==r?(i-r)/r*100:0
this.mrrStatsData={currentAmount:i,currency:(0,n.getSymbol)(a.currency),percentGrowth:s.toFixed(1),percentClass:s>0?"positive":s<0?"negative":"",options:{rangeInDays:30},data:{label:"MRR",dateLabels:Object.keys(e),dateValues:t},title:"MRR",stats:a}}}),(e=>{this.mrrStatsError=e,this.mrrStatsLoading=!1}))}loadMemberCountStats(){this.memberCountStatsLoading=!0,this.membersStats.fetchCounts().then((e=>{if(this.memberCountStatsLoading=!1,e){const t=this.membersStats.fillCountDates(e.data)||{},n=Object.values(t),i=n.length?n[n.length-1].total:0,r=n.length?n[n.length-1].paid:0,a=n.length?n[0].total:0,s=n.length?n[0].paid:0,o=0!==a?(i-a)/a*100:0,l=0!==s?(r-s)/s*100:0
this.memberCountStatsData={all:{percentGrowth:o.toFixed(1),percentClass:o>0?"positive":o<0?"negative":"",total:n.length?n[n.length-1].total:0,options:{rangeInDays:30},data:{label:"Members",dateLabels:Object.keys(t),dateValues:n.map((e=>e.total))},title:"Total Members",stats:e},paid:{percentGrowth:l.toFixed(1),percentClass:l>0?"positive":l<0?"negative":"",total:n.length?n[n.length-1].paid:0,options:{rangeInDays:30},data:{label:"Members",dateLabels:Object.keys(t),dateValues:n.map((e=>e.paid))},title:"Paid Members",stats:e}}}}),(e=>{this.memberCountStatsError=e,this.memberCountStatsLoading=!1}))}loadNewsletterOpenRates(){this.newsletterOpenRatesLoading=!0,this.membersStats.fetchNewsletterStats().then((e=>{const t=e.length>1?e[e.length-2].openRate:0,n=e.length>0?e[e.length-1].openRate:0,i=0!==t?(n-t)/t*100:0
this.newsletterOpenRatesData={percentGrowth:i.toFixed(1),percentClass:i>0?"positive":i<0?"negative":"",current:n,options:{rangeInDays:30},data:{label:"Open rate",dateLabels:e.map((e=>e.subject)),dateValues:e.map((e=>e.openRate))},title:"Open rate",stats:e},this.newsletterOpenRatesLoading=!1}),(e=>{this.newsletterOpenRatesError=e,this.newsletterOpenRatesLoading=!1}))}},g=z(h.prototype,"membersStats",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=z(h.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=z(h.prototype,"mrrStatsData",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=z(h.prototype,"mrrStatsError",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=z(h.prototype,"mrrStatsLoading",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=z(h.prototype,"memberCountStatsData",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=z(h.prototype,"memberCountStatsError",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=z(h.prototype,"memberCountStatsLoading",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=z(h.prototype,"newsletterOpenRatesData",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=z(h.prototype,"newsletterOpenRatesError",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=z(h.prototype,"newsletterOpenRatesLoading",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h)
e.default=T,Ember._setComponentTemplate(x,T)})),define("ghost-admin/components/dashboard/v5/chart-email",["exports","@glimmer/component"],(function(e,t){var n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"vZQ3UIWU",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-dashboard5-header"],[12],[2,"\\n    "],[11,"h3"],[4,[38,2],[[32,0,["loadCharts"]]],null],[12],[2,"Email"],[13],[2,"\\n"],[13],[2,"\\n"],[10,"div"],[14,0,"gh-dashboard5-container gh-dashboard5-email"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-dashboard5-metric"],[12],[2,"Newsletter subscribers"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-number is-small"],[12],[1,[32,0,["dataSubscribers"]]],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-percentage is-positive"],[12],[2,"+2.2%"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-dashboard5-metric"],[12],[2,"Emails sent in the past 30 days"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-number is-small"],[12],[1,[32,0,["dataEmailsSent"]]],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-percentage is-positive"],[12],[2,"+2.2%"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-dashboard5-metric is-main"],[12],[2,"Email open rate"],[13],[2,"\\n"],[6,[37,3],[[32,0,["loading"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-dashboard5-loading"],[15,5,[30,[36,1],[[30,[36,0],["height: ",[32,0,["chartHeight"]],"px;"],null]],null]],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[8,"ember-chart",[],[["@type","@data","@options","@height"],[[32,0,["chartType"]],[32,0,["chartData"]],[32,0,["chartOptions"]],[32,0,["chartHeight"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n\\n"]],"hasEval":false,"upvars":["concat","html-safe","did-insert","if"]}',moduleName:"ghost-admin/components/dashboard/v5/chart-email.hbs"})
let l=(n=Ember.inject.service,i=Ember._action,r=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="dashboardStats",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}loadCharts(){this.dashboardStats.loadNewsletterSubscribers(),this.dashboardStats.loadEmailsSent(),this.dashboardStats.loadEmailOpenRateStats()}get dataSubscribers(){return this.dashboardStats.newsletterSubscribers?.total??0}get dataEmailsSent(){return this.dashboardStats.emailsSent30d??0}get loading(){return null===this.dashboardStats.emailOpenRateStats}get chartType(){return"bar"}get chartData(){const e=this.dashboardStats.emailOpenRateStats.filter((e=>e.email.deliveredCount>0))
return{labels:e.map((e=>e.title)),datasets:[{data:e.map((e=>e.email.openedCount/e.email.deliveredCount*100)),fill:!1,backgroundColor:"#14b8ff",tension:.1}]}}get chartOptions(){return{legend:{display:!1}}}get chartHeight(){return 100}},a=s(r.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"loadCharts",[i],Object.getOwnPropertyDescriptor(r.prototype,"loadCharts"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/dashboard/v5/chart-engagement",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"5o8sTgEK",block:'{"symbols":["option"],"statements":[[10,"div"],[14,0,"gh-dashboard5-header"],[12],[2,"\\n    "],[11,"h3"],[4,[38,0],[[32,0,["loadCharts"]]],null],[12],[2,"Engagement"],[13],[2,"\\n    "],[10,"div"],[14,0,"prototype-selection"],[12],[2,"\\n        "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,0,["selectedStatusOption"]],[32,0,["statusOptions"]],false,[32,0,["onSwitchStatus"]],"gh-power-select/trigger","gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n            "],[6,[37,1],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[1,[32,1,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown option"],[13]],"parameters":[]}]]],[2,"\\n        "]],"parameters":[1]}]]],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"gh-dashboard5-container"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-dashboard5-metric"],[12],[2,"Engaged in past 30 days"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-number is-small"],[12],[1,[32,0,["data30Days"]]],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-percentage is-positive"],[12],[2,"+2.2%"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-dashboard5-metric"],[12],[2,"Engaged in past 7 days"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-number is-small"],[12],[1,[32,0,["data7Days"]]],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-percentage is-negative"],[12],[2,"-1.1%"],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["did-insert","if"]}',moduleName:"ghost-admin/components/dashboard/v5/chart-engagement.hbs"}),p=[{name:"All members",value:"total"},{name:"Paid members",value:"paid"},{name:"Free members",value:"free"}]
let m=(n=Ember.inject.service,i=Ember._action,r=Ember._tracked,a=Ember._action,s=class extends t.default{constructor(){super(...arguments),u(this,"dashboardStats",o,this),u(this,"status",l,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"statusOptions",p)}loadCharts(){this.dashboardStats.lastSeenFilterStatus=this.status,this.dashboardStats.loadLastSeen(),this.dashboardStats.loadMembersCounts()}get selectedStatusOption(){return this.statusOptions.find((e=>e.value===this.status))}onSwitchStatus(e){this.status=e.value,this.dashboardStats.lastSeenFilterStatus=this.status,this.dashboardStats.loadLastSeen()}get loading(){return null===this.dashboardStats.memberCounts||!this.dashboardStats.memberCounts[this.status]||null===this.dashboardStats.membersLastSeen30d||null===this.dashboardStats.membersLastSeen7d}get data30Days(){if(this.loading)return"- %"
const e=this.dashboardStats.memberCounts[this.status],t=this.dashboardStats.membersLastSeen30d
if(e<=0)return"- %"
return`${Math.round(t/e*100)}%`}get data7Days(){if(this.loading)return"- %"
const e=this.dashboardStats.memberCounts[this.status],t=this.dashboardStats.membersLastSeen7d
if(e<=0)return"- %"
return`${Math.round(t/e*100)}%`}},o=d(s.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"loadCharts",[i],Object.getOwnPropertyDescriptor(s.prototype,"loadCharts"),s.prototype),l=d(s.prototype,"status",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"total"}}),d(s.prototype,"onSwitchStatus",[a],Object.getOwnPropertyDescriptor(s.prototype,"onSwitchStatus"),s.prototype),s)
e.default=m,Ember._setComponentTemplate(c,m)})),define("ghost-admin/components/dashboard/v5/chart-members-counts",["exports","@glimmer/component"],(function(e,t){var n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"A9Fh63qd",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-dashboard5-header"],[12],[2,"\\n    "],[11,"h3"],[4,[38,0],[[32,0,["loadCharts"]]],null],[12],[2,"Overview"],[13],[2,"\\n"],[13],[2,"\\n"],[10,"div"],[14,0,"gh-dashboard5-container"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-dashboard5-metric"],[12],[1,[30,[36,1],[[32,0,["totalMembers"]],"Total member"],[["without-count"],[true]]]],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-number"],[12],[1,[30,[36,2],[[32,0,["totalMembers"]]],null]],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-percentage is-positive"],[12],[2,"+2.2%"],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-dashboard5-metric"],[12],[1,[30,[36,1],[[32,0,["paidMembers"]],"Paid member"],[["without-count"],[true]]]],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-number"],[12],[1,[30,[36,2],[[32,0,["paidMembers"]]],null]],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-percentage is-positive"],[12],[2,"+3.3%"],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard5-box"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-dashboard5-metric"],[12],[1,[30,[36,1],[[32,0,["freeMembers"]],"Free member"],[["without-count"],[true]]]],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-number"],[12],[1,[30,[36,2],[[32,0,["freeMembers"]]],null]],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard5-percentage is-negative"],[12],[2,"-1.1%"],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["did-insert","gh-pluralize","format-number"]}',moduleName:"ghost-admin/components/dashboard/v5/chart-members-counts.hbs"})
let l=(n=Ember.inject.service,i=Ember._action,r=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="dashboardStats",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}loadCharts(){this.dashboardStats.loadMembersCounts()}get totalMembers(){return this.dashboardStats.memberCounts?.total??0}get paidMembers(){return this.dashboardStats.memberCounts?.paid??0}get freeMembers(){return this.dashboardStats.memberCounts?.free??0}},a=s(r.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"loadCharts",[i],Object.getOwnPropertyDescriptor(r.prototype,"loadCharts"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/dashboard/v5/chart-monthly-revenue",["exports","@glimmer/component"],(function(e,t){var n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"S1cLhiLa",block:'{"symbols":["@days"],"statements":[[11,"h4"],[24,0,"gh-dashboard5-metric is-main"],[4,[38,2],[[32,0,["loadCharts"]]],null],[4,[38,3],[[32,0,["loadCharts"]],[32,1]],null],[12],[2,"\\n    Monthly revenue (MMR)\\n"],[13],[2,"\\n"],[6,[37,4],[[32,0,["loading"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-dashboard5-loading"],[15,5,[30,[36,1],[[30,[36,0],["height: ",[32,0,["chartHeight"]],"px;"],null]],null]],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"ember-chart",[],[["@type","@data","@options","@height"],[[32,0,["chartType"]],[32,0,["chartData"]],[32,0,["chartOptions"]],[32,0,["chartHeight"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["concat","html-safe","did-insert","did-update","if"]}',moduleName:"ghost-admin/components/dashboard/v5/chart-monthly-revenue.hbs"})
let l=(n=Ember.inject.service,i=Ember._action,r=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="dashboardStats",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}loadCharts(){this.dashboardStats.loadMrrStats()}get loading(){return null===this.dashboardStats.mrrStats}get chartType(){return"line"}get chartData(){const e=this.dashboardStats.mrrStats
return{labels:e.map((e=>e.date)),datasets:[{data:e.map((e=>e.mrr)),fill:!1,borderColor:"#14b8ff",tension:.1}]}}get chartOptions(){return{legend:{display:!1}}}get chartHeight(){return 100}},a=s(r.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"loadCharts",[i],Object.getOwnPropertyDescriptor(r.prototype,"loadCharts"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/dashboard/v5/chart-paid-members",["exports","@glimmer/component"],(function(e,t){var n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"o/fmQlby",block:'{"symbols":["@days"],"statements":[[11,"h4"],[24,0,"gh-dashboard5-metric is-main"],[4,[38,2],[[32,0,["loadCharts"]]],null],[4,[38,3],[[32,0,["loadCharts"]],[32,1]],null],[12],[2,"\\n    Paid members\\n"],[13],[2,"\\n"],[6,[37,4],[[32,0,["loading"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-dashboard5-loading"],[15,5,[30,[36,1],[[30,[36,0],["height: ",[32,0,["chartHeight"]],"px;"],null]],null]],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"ember-chart",[],[["@type","@data","@options","@height"],[[32,0,["chartType"]],[32,0,["chartData"]],[32,0,["chartOptions"]],[32,0,["chartHeight"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["concat","html-safe","did-insert","did-update","if"]}',moduleName:"ghost-admin/components/dashboard/v5/chart-paid-members.hbs"})
let l=(n=Ember.inject.service,i=Ember._action,r=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="dashboardStats",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}loadCharts(){this.dashboardStats.loadMemberCountStats()}get loading(){return null===this.dashboardStats.memberCountStats}get chartType(){return"bar"}get chartData(){const e=this.dashboardStats.memberCountStats
return{labels:e.map((e=>e.date)),datasets:[{data:e.map((e=>e.newPaid)),fill:!1,backgroundColor:"#14b8ff",tension:.1},{data:e.map((e=>-e.canceledPaid)),fill:!1,backgroundColor:"#E16262",tension:.1}]}}get chartOptions(){return{legend:{display:!1}}}get chartHeight(){return 100}},a=s(r.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"loadCharts",[i],Object.getOwnPropertyDescriptor(r.prototype,"loadCharts"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/dashboard/v5/chart-paid-mix",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"2yb92XvK",block:'{"symbols":["option"],"statements":[[2,"\\n"],[10,"div"],[14,0,"prototype-paid-mix-dropdown"],[12],[2,"\\n    "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,0,["selectedModeOption"]],[32,0,["modeOptions"]],false,[32,0,["onSwitchMode"]],"gh-power-select/trigger","gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n        "],[6,[37,2],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[1,[32,1,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown option"],[13]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13],[2,"\\n\\n"],[11,"h4"],[24,0,"gh-dashboard5-metric is-main"],[4,[38,3],[[32,0,["loadCharts"]]],null],[12],[2,"Paid mix"],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["loading"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-dashboard5-loading"],[15,5,[30,[36,1],[[30,[36,0],["height: ",[32,0,["chartHeight"]],"px;"],null]],null]],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"ember-chart",[],[["@type","@data","@options","@height"],[[32,0,["chartType"]],[32,0,["chartData"]],[32,0,["chartOptions"]],[32,0,["chartHeight"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["concat","html-safe","if","did-insert"]}',moduleName:"ghost-admin/components/dashboard/v5/chart-paid-mix.hbs"}),p=[{name:"Cadence",value:"cadence"},{name:"Tiers",value:"tiers"}]
let m=(n=Ember.inject.service,i=Ember._action,r=Ember._tracked,a=Ember._action,s=class extends t.default{constructor(){super(...arguments),u(this,"dashboardStats",o,this),u(this,"mode",l,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"modeOptions",p)}loadCharts(){"cadence"===this.mode?this.dashboardStats.loadPaidMembersByCadence():this.dashboardStats.loadPaidMembersByTier()}get selectedModeOption(){return this.modeOptions.find((e=>e.value===this.mode))}onSwitchMode(e){this.mode=e.value,this.loading&&this.loadCharts()}get loading(){return"cadence"===this.mode?null===this.dashboardStats.paidMembersByCadence:null===this.dashboardStats.paidMembersByTier}get chartType(){return"pie"}get chartData(){if("cadence"===this.mode)return{labels:["Monthly","Annual"],datasets:[{data:[this.dashboardStats.paidMembersByCadence.monthly,this.dashboardStats.paidMembersByCadence.annual],fill:!1,backgroundColor:["#14b8ff"],tension:.1}]}
return{labels:this.dashboardStats.paidMembersByTier.map((e=>e.tier.name)),datasets:[{data:this.dashboardStats.paidMembersByTier.map((e=>e.members)),fill:!1,backgroundColor:["#14b8ff"],tension:.1}]}}get chartOptions(){return{legend:{display:!1}}}get chartHeight(){return 100}},o=d(s.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"loadCharts",[i],Object.getOwnPropertyDescriptor(s.prototype,"loadCharts"),s.prototype),l=d(s.prototype,"mode",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"cadence"}}),d(s.prototype,"onSwitchMode",[a],Object.getOwnPropertyDescriptor(s.prototype,"onSwitchMode"),s.prototype),s)
e.default=m,Ember._setComponentTemplate(c,m)})),define("ghost-admin/components/dashboard/v5/chart-total-members",["exports","@glimmer/component"],(function(e,t){var n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"FhQj/jaX",block:'{"symbols":["@days"],"statements":[[11,"h4"],[24,0,"gh-dashboard5-metric is-main"],[4,[38,2],[[32,0,["loadCharts"]]],null],[4,[38,3],[[32,0,["loadCharts"]],[32,1]],null],[12],[2,"\\n    Total members\\n"],[13],[2,"\\n"],[6,[37,4],[[32,0,["loading"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-dashboard5-loading"],[15,5,[30,[36,1],[[30,[36,0],["height: ",[32,0,["chartHeight"]],"px;"],null]],null]],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"ember-chart",[],[["@type","@data","@options","@height"],[[32,0,["chartType"]],[32,0,["chartData"]],[32,0,["chartOptions"]],[32,0,["chartHeight"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["concat","html-safe","did-insert","did-update","if"]}',moduleName:"ghost-admin/components/dashboard/v5/chart-total-members.hbs"})
let l=(n=Ember.inject.service,i=Ember._action,r=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="dashboardStats",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}loadCharts(){this.dashboardStats.loadMemberCountStats()}get loading(){return null===this.dashboardStats.memberCountStats}get chartType(){return"line"}get chartData(){const e=this.dashboardStats.memberCountStats
return{labels:e.map((e=>e.date)),datasets:[{data:e.map((e=>e.paid+e.free+e.comped)),fill:!1,borderColor:"#14b8ff",tension:.1}]}}get chartOptions(){return{legend:{display:!1}}}get chartHeight(){return 75}},a=s(r.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"loadCharts",[i],Object.getOwnPropertyDescriptor(r.prototype,"loadCharts"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/dashboard/v5/chart-total-paid",["exports","@glimmer/component"],(function(e,t){var n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"T+BiSVMA",block:'{"symbols":["@days"],"statements":[[11,"h4"],[24,0,"gh-dashboard5-metric is-main"],[4,[38,2],[[32,0,["loadCharts"]]],null],[4,[38,3],[[32,0,["loadCharts"]],[32,1]],null],[12],[2,"\\n    Total paid\\n"],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["loading"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-dashboard5-loading"],[15,5,[30,[36,1],[[30,[36,0],["height: ",[32,0,["chartHeight"]],"px;"],null]],null]],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"ember-chart",[],[["@type","@data","@options","@height"],[[32,0,["chartType"]],[32,0,["chartData"]],[32,0,["chartOptions"]],[32,0,["chartHeight"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["concat","html-safe","did-insert","did-update","if"]}',moduleName:"ghost-admin/components/dashboard/v5/chart-total-paid.hbs"})
let l=(n=Ember.inject.service,i=Ember._action,r=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="dashboardStats",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}loadCharts(){this.dashboardStats.loadMemberCountStats()}get loading(){return null===this.dashboardStats.memberCountStats}get chartType(){return"line"}get chartData(){const e=this.dashboardStats.memberCountStats
return{labels:e.map((e=>e.date)),datasets:[{data:e.map((e=>e.paid)),fill:!1,borderColor:"#14b8ff",tension:.1}]}}get chartOptions(){return{legend:{display:!1}}}get chartHeight(){return 100}},a=s(r.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"loadCharts",[i],Object.getOwnPropertyDescriptor(r.prototype,"loadCharts"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/dashboard/v5/prototype-control-panel",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u,d,c
function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"mSD7ELP9",block:'{"symbols":["option"],"statements":[[11,"div"],[24,0,"gh-main-section prototype-panel"],[4,[38,1],[[32,0,["onInsert"]]],null],[12],[2,"\\n    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Prototype control panel"],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Enable fake data"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                        Replace real data with mocked data to test the dashboard\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                    "],[10,"label"],[14,0,"switch"],[12],[2,"\\n                        "],[8,"input",[],[["@type","@checked"],["checkbox",[32,0,["enabled"]]]],null],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["enabled"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Emulated state"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                            Choose a state you want to emulate for this site\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,0,["selectedStateOption"]],[32,0,["stateOptions"]],false,[32,0,["onStateChange"]],"gh-power-select/trigger","gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n                            "],[6,[37,0],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[1,[32,1,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown option"],[13]],"parameters":[]}]]],[2,"\\n                        "]],"parameters":[1]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Stripe connected"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                            Mock that Stripe is enabled\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                        "],[10,"label"],[14,0,"switch"],[12],[2,"\\n                            "],[8,"input",[],[["@type","@checked"],["checkbox",[32,0,["mockStripeEnabled"]]]],null],[2,"\\n                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Newsletters enabled"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                            All email related charts shown\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                        "],[10,"label"],[14,0,"switch"],[12],[2,"\\n                            "],[8,"input",[],[["@type","@checked"],["checkbox",[32,0,["mockNewslettersEnabled"]]]],null],[2,"\\n                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Members enabled"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                            Setting subscription access to other value than \'Nobody\'\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                        "],[10,"label"],[14,0,"switch"],[12],[2,"\\n                            "],[8,"input",[],[["@type","@checked"],["checkbox",[32,0,["mockMembersEnabled"]]]],null],[2,"\\n                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["mockMembersEnabled"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Has paid tiers"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Paid memberships\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[10,"label"],[14,0,"switch"],[12],[2,"\\n                                "],[8,"input",[],[["@type","@checked"],["checkbox",[32,0,["mockPaidTiers"]]]],null],[2,"\\n                                "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","did-insert"]}',moduleName:"ghost-admin/components/dashboard/v5/prototype-control-panel.hbs"}),g=[{name:"No data",value:{days:0}},{name:"7 days",value:{days:7}},{name:"30 days",value:{days:30}},{name:"90 days",value:{days:90}},{name:"One year",value:{days:365}},{name:"Two years",value:{days:730}}]
let b=(n=Ember.inject.service,i=Ember.inject.service,r=Ember._tracked,a=Ember._action,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(){super(...arguments),p(this,"dashboardStats",u,this),p(this,"dashboardMocks",d,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"stateOptions",g),p(this,"state",c,this)}onInsert(){this.loadState(),this.dashboardMocks.updateMockedData(this.state)}saveState(){try{localStorage.setItem("dashboard5-prototype-state",JSON.stringify(this.state)),localStorage.setItem("dashboard5-prototype-status",JSON.stringify(this.dashboardMocks.siteStatus)),localStorage.setItem("dashboard5-prototype-enabled",JSON.stringify(this.enabled))}catch(e){}}loadState(){try{const e=localStorage.getItem("dashboard5-prototype-state")
if(e){const t=JSON.parse(e)
t&&(this.state=t)}const t=localStorage.getItem("dashboard5-prototype-status")
if(t){const e=JSON.parse(t)
e&&(this.dashboardMocks.siteStatus={...this.dashboardMocks.siteStatus,...e})}const n=localStorage.getItem("dashboard5-prototype-enabled")
if(n){const e=JSON.parse(n)
"boolean"==typeof e&&e!==this.dashboardMocks.enabled&&(this.dashboardMocks.enabled=e,this.dashboardStats.loadSiteStatus(),this.dashboardStats.reloadAll())}}catch(e){}}get selectedStateOption(){return this.stateOptions.find((e=>e.value.days===this.state.days))}onStateChange(e){this.state=e.value,this.updateMockedData(),this.saveState()}updateMockedData(){this.dashboardMocks.updateMockedData(this.state),this.dashboardStats.reloadAll()}get enabled(){return this.dashboardMocks.enabled}set enabled(e){this.dashboardMocks.enabled=e,this.dashboardStats.reloadAll(),this.saveState()}get mockPaidTiers(){return this.dashboardMocks.siteStatus?.hasPaidTiers}set mockPaidTiers(e){this.dashboardMocks.siteStatus.hasPaidTiers=e,this.dashboardStats.loadSiteStatus(),this.saveState()}get mockStripeEnabled(){return this.dashboardMocks.siteStatus?.stripeEnabled}set mockStripeEnabled(e){this.dashboardMocks.siteStatus.stripeEnabled=e,this.dashboardStats.loadSiteStatus(),this.saveState()}get mockNewslettersEnabled(){return this.dashboardMocks.siteStatus?.newslettersEnabled}set mockNewslettersEnabled(e){this.dashboardMocks.siteStatus.newslettersEnabled=e,this.dashboardStats.loadSiteStatus(),this.saveState()}get mockMembersEnabled(){return this.dashboardMocks.siteStatus?.membersEnabled}set mockMembersEnabled(e){this.dashboardMocks.siteStatus.membersEnabled=e,this.dashboardStats.loadSiteStatus(),this.saveState()}},u=m(l.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(l.prototype,"dashboardMocks",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(l.prototype,"state",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g[1].value}}),m(l.prototype,"onInsert",[a],Object.getOwnPropertyDescriptor(l.prototype,"onInsert"),l.prototype),m(l.prototype,"onStateChange",[s],Object.getOwnPropertyDescriptor(l.prototype,"onStateChange"),l.prototype),m(l.prototype,"updateMockedData",[o],Object.getOwnPropertyDescriptor(l.prototype,"updateMockedData"),l.prototype),l)
e.default=b,Ember._setComponentTemplate(h,b)})),define("ghost-admin/components/dashboard/v5/recent-posts",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o
function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"UA2DUoQ5",block:'{"symbols":["post"],"statements":[[11,"ol"],[24,0,"gh-list"],[4,[38,0],[[32,0,["loadPosts"]]],null],[12],[2,"\\n    "],[10,"li"],[14,0,"gh-list-row header"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-list-header gh-posts-title-header"],[12],[2,"Title"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-list-header gh-posts-sends-header"],[12],[2,"Sends"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-list-header gh-posts-opens-header"],[12],[2,"Opens"],[13],[2,"\\n    "],[13],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["posts"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"        "],[8,"gh-posts-list-item",[],[["@post","@hideAuthor","@hideStatusColumn"],[[32,1],true,true]],null],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"        "],[10,"li"],[14,0,"no-posts-box"],[12],[2,"\\n            "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n                "],[10,"h3"],[12],[2,"No published posts yet."],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[10,"div"],[14,0,"footer"],[12],[2,"\\n    "],[8,"link-to",[],[["@route","@query"],["posts",[30,[36,3],["posts"],null]]],[["default"],[{"statements":[[2,"See all posts →"]],"parameters":[]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["did-insert","-track-array","each","reset-query-params"]}',moduleName:"ghost-admin/components/dashboard/v5/recent-posts.hbs"})
let c=(n=Ember.inject.service,i=Ember._tracked,r=Ember._action,a=class extends t.default{constructor(){super(...arguments),l(this,"store",s,this),l(this,"posts",o,this)}async loadPosts(){this.posts=await this.store.query("post",{limit:5,filter:"status:published",order:"published_at desc"})}},s=u(a.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"posts",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u(a.prototype,"loadPosts",[r],Object.getOwnPropertyDescriptor(a.prototype,"loadPosts"),a.prototype),a)
e.default=c,Ember._setComponentTemplate(d,c)})),define("ghost-admin/components/dashboard/v5/resource-general",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"zQ3kcV7m",block:'{"symbols":[],"statements":[[2,"Links to resource blog"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/dashboard/v5/resource-general.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/draggable-object-target",["exports","ember-drag-drop/components/draggable-object-target"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default
e.default=n})),define("ghost-admin/components/draggable-object",["exports","ember-drag-drop/components/draggable-object"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default
e.default=n})),define("ghost-admin/components/ember-chart",["exports","ember-cli-chart/components/ember-chart"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default
e.default=n})),define("ghost-admin/components/ember-load-remover",["exports","ember-load/components/ember-load-remover"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/ember-popover",["exports","ember-tooltips/components/ember-popover"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/ember-tooltip",["exports","ember-tooltips/components/ember-tooltip"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/epm-modal-container",["exports","ember-promise-modals/components/modal-container"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"3RYPhkJi",block:'{"symbols":["modal","index"],"statements":[[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["modals","_stack"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,1,["_options","omitBackdrop"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[15,0,[31,["epm-backdrop ",[30,[36,0],[[32,1,["isClosing"]],"epm-out"],null]]]],[14,"tabindex","-1"],[14,"role","presentation"],[14,"aria-hidden","true"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[10,"div"],[14,0,"epm-modal-container"],[12],[2,"\\n        "],[8,"epm-modal",[],[["@modal"],[[32,1]]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[1,2]}]]]],"hasEval":false,"upvars":["if","unless","-track-array","each"]}',moduleName:"ghost-admin/components/epm-modal-container.hbs"})
var i=Ember._setComponentTemplate(n,class extends t.default{})
e.default=i})),define("ghost-admin/components/epm-modal",["exports","ember-promise-modals/components/modal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/gh-alert",["exports","@ember-decorators/component"],(function(e,t){var n,i,r,a,s,o,l,u,d
function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"yTzRiT/E",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-alert-content"],[12],[2,"\\n    "],[1,[32,0,["message","message"]]],[2,"\\n"],[13],[2,"\\n"],[11,"button"],[24,0,"gh-alert-close"],[24,4,"button"],[4,[38,0],[[32,0],"closeNotification"],null],[12],[2,"\\n    "],[1,[30,[36,1],["close-stroke"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/gh-alert.hbs"})
let m=(n=(0,t.classNameBindings)("typeClass"),i=(0,t.classNames)("gh-alert"),r=(0,t.tagName)("article"),a=Ember.inject.service,s=Ember.computed("message.type"),o=Ember._action,n(l=i(l=r((u=class extends Ember.Component{constructor(){var e,t,n,i
super(...arguments),e=this,t="notifications",i=this,(n=d)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get typeClass(){let e,t=this.get("message.type"),n=""
return e={success:"green",error:"red",warn:"blue",info:"blue"},void 0!==e[t]&&(n+=`gh-alert-${e[t]}`),n}closeNotification(){this.notifications.closeNotification(this.message)}},d=c(u.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(u.prototype,"typeClass",[s],Object.getOwnPropertyDescriptor(u.prototype,"typeClass"),u.prototype),c(u.prototype,"closeNotification",[o],Object.getOwnPropertyDescriptor(u.prototype,"closeNotification"),u.prototype),l=u))||l)||l)||l)
e.default=m,Ember._setComponentTemplate(p,m)})),define("ghost-admin/components/gh-alerts",["exports","@ember-decorators/component"],(function(e,t){var n,i,r,a,s,o,l,u
function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"3UyWDqYU",block:'{"symbols":["message"],"statements":[[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,["messages"]]],null]],null]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-alert",[],[["@message"],[[32,1]]],null],[2,"\\n"]],"parameters":[1]}]]]],"hasEval":false,"upvars":["-track-array","each"]}',moduleName:"ghost-admin/components/gh-alerts.hbs"})
let m=(n=(0,t.classNames)("gh-alerts"),i=(0,t.tagName)("aside"),r=Ember.inject.service,a=Ember.computed.alias("notifications.alerts"),n(s=i((o=class extends Ember.Component{constructor(){super(...arguments),d(this,"notifications",l,this),d(this,"messages",u,this)}},l=c(o.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c(o.prototype,"messages",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=o))||s)||s)
e.default=m,Ember._setComponentTemplate(p,m)})),define("ghost-admin/components/gh-app",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"8aitR5i8",block:'{"symbols":["&attrs","&default"],"statements":[[11,"div"],[24,0,"gh-app"],[17,1],[12],[2,"\\n    "],[18,2,null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-app.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/gh-basic-dropdown",["exports","ember-basic-dropdown/components/basic-dropdown"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"6xEeMbwo",block:'{"symbols":["api","&default","&attrs","@rootEventType","@preventScroll","@contentComponent","@triggerComponent"],"statements":[[6,[37,5],[[30,[36,4],null,[["uniqueId","isOpen","disabled","actions","Trigger","Content"],[[32,0,["publicAPI","uniqueId"]],[32,0,["publicAPI","isOpen"]],[32,0,["publicAPI","disabled"]],[32,0,["publicAPI","actions"]],[30,[36,3],[[30,[36,2],[[32,7],"basic-dropdown-trigger"],null]],[["dropdown","hPosition","renderInPlace","vPosition"],[[30,[36,1],[[32,0,["publicAPI"]]],null],[30,[36,1],[[32,0,["hPosition"]]],null],[30,[36,1],[[32,0,["renderInPlace"]]],null],[30,[36,1],[[32,0,["vPosition"]]],null]]]],[30,[36,3],[[30,[36,2],[[32,6],"basic-dropdown-content"],null]],[["dropdown","hPosition","renderInPlace","preventScroll","rootEventType","vPosition","destination","top","left","right","width","height","otherStyles"],[[30,[36,1],[[32,0,["publicAPI"]]],null],[30,[36,1],[[32,0,["hPosition"]]],null],[30,[36,1],[[32,0,["renderInPlace"]]],null],[30,[36,1],[[32,5]],null],[30,[36,2],[[32,4],"click"],null],[30,[36,1],[[32,0,["vPosition"]]],null],[30,[36,1],[[32,0,["destination"]]],null],[30,[36,1],[[32,0,["top"]]],null],[30,[36,1],[[32,0,["left"]]],null],[30,[36,1],[[32,0,["right"]]],null],[30,[36,1],[[32,0,["width"]]],null],[30,[36,1],[[32,0,["height"]]],null],[30,[36,1],[[32,0,["otherStyles"]]],null]]]]]]]],null,[["default"],[{"statements":[[6,[37,0],[[32,0,["renderInPlace"]]],null,[["default","else"],[{"statements":[[2,"    "],[11,"div"],[24,0,"ember-basic-dropdown"],[17,3],[12],[18,2,[[32,1]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[18,2,[[32,1]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"hasEval":false,"upvars":["if","readonly","or","component","hash","with"]}',moduleName:"ghost-admin/components/gh-basic-dropdown.hbs"})
let s=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="dropdown",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),this.dropdown.on("close",this,this.close)}willDestroy(){this.dropdown.off("close",this,this.close)}},o=i.prototype,l="dropdown",u=[n],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,i)
var o,l,u,d,c,p,m=Ember._setComponentTemplate(a,s)
e.default=m})),define("ghost-admin/components/gh-benefit-item",["exports","ghost-admin/mixins/validation-state","ghost-admin/utils/bound-one-way"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"UjurlBWj",block:'{"symbols":[],"statements":[[6,[37,2],[[32,0,["benefitItem","isNew"]]],null,[["default"],[{"statements":[[2,"    "],[10,"span"],[14,0,"gh-blognav-grab"],[12],[2,"\\n        "],[1,[30,[36,1],["grab"],null]],[2,"\\n        "],[10,"span"],[14,0,"sr-only"],[12],[2,"Reorder"],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[10,"div"],[15,0,[31,["gh-blognav-line ",[30,[36,2],[[32,0,["name"]],"placeholder"],null]]]],[12],[2,"\\n    "],[1,[30,[36,1],["check-2"],null]],[2,"\\n    "],[8,"gh-validation-status-container",[],[["@tagName","@class","@errors","@property","@hasValidated"],["span","gh-blognav-label",[32,0,["benefitItem","errors"]],"name",[32,0,["benefitItem","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n        "],[8,"gh-trim-focus-input",[],[["@shouldFocus","@placeholder","@value","@input","@keyPress","@stopEnterKeyDownPropagation","@focus-out"],[[32,0,["benefitItem","last"]],[30,[36,3],[[32,0,["isFreeProduct"]],"Access to all public posts","Expert analysis"],null],[30,[36,4],[[32,0,["name"]]],null],[30,[36,0],[[32,0],"updateLabel"],[["value"],["target.value"]]],[30,[36,0],[[32,0],"clearLabelErrors"],null],true,[30,[36,0],[[32,0],"updateLabel",[32,0,["name"]]],null]]],null],[2,"\\n\\n        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["benefitItem","errors"]],"name"]],null],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["benefitItem","isNew"]]],null,[["default","else"],[{"statements":[[2,"    "],[11,"button"],[24,0,"gh-blognav-add"],[24,4,"button"],[4,[38,0],[[32,0],"addItem",[32,0,["benefitItem"]]],null],[12],[2,"\\n        "],[1,[30,[36,1],["add"],null]],[10,"span"],[14,0,"sr-only"],[12],[2,"Add"],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[11,"button"],[24,0,"gh-blognav-delete"],[24,4,"button"],[4,[38,0],[[32,0],"deleteItem",[32,0,["benefitItem"]]],null],[12],[2,"\\n        "],[1,[30,[36,1],["trash"],null]],[10,"span"],[14,0,"sr-only"],[12],[2,"Delete"],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","svg-jar","unless","if","readonly"]}',moduleName:"ghost-admin/components/gh-benefit-item.hbs"})
var r=Ember._setComponentTemplate(i,Ember.Component.extend(t.default,{classNames:"gh-blognav-item",classNameBindings:["errorClass","benefitItem.isNew::gh-blognav-item--sortable"],new:!1,addItem(){},deleteItem(){},updateLabel(){},name:(0,n.default)("benefitItem.name"),errors:Ember.computed.readOnly("benefitItem.errors"),errorClass:Ember.computed("hasError",(function(){return this.hasError?"gh-blognav-item--error":""})),actions:{addItem(e){this.addItem(e)},deleteItem(e){this.deleteItem(e)},updateLabel(e){return this.set("name",e),this.updateLabel(e,this.benefitItem)},clearLabelErrors(){this.get("benefitItem.errors")&&this.get("benefitItem.errors").remove("name")}},keyPress(e){13===e.keyCode&&(e.preventDefault(),this.get("benefitItem.isNew")?Ember.run.scheduleOnce("actions",this,this.send,"addItem",this.benefitItem):Ember.run.scheduleOnce("actions",this,this.send,"focusItem",this.benefitItem))}}))
e.default=r})),define("ghost-admin/components/gh-billing-iframe",["exports"],(function(e){var t,n,i,r,a,s,o,l,u,d,c
function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"RpnqqOsD",block:'{"symbols":[],"statements":[[10,"iframe"],[14,1,"billing-frame"],[14,0,"billing-frame"],[14,"frameborder","0"],[12],[13]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-billing-iframe.hbs"})
let b=(t=Ember.inject.service,n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=class extends Ember.Component{constructor(){super(...arguments),p(this,"billing",o,this),p(this,"config",l,this),p(this,"ghostPaths",u,this),p(this,"ajax",d,this),p(this,"notifications",c,this),m(this,"isOwner",null),m(this,"fetchingSubscription",!1)}didInsertElement(){super.didInsertElement(...arguments),this.billing.getBillingIframe().src=this.billing.getIframeURL(),window.addEventListener("message",(e=>{e?.data&&("token"===e.data?.request&&this._handleTokenRequest(),"forceUpgradeInfo"===e.data?.request&&this._handleForceUpgradeRequest(),e.data?.subscription&&this._handleSubscriptionUpdate(e.data))}))}_handleTokenRequest(){let e
this.set("fetchingSubscription",!1)
const t=this.get("ghostPaths.url").api("identities")
this.ajax.request(t).then((t=>{e=t&&t.identities&&t.identities[0]&&t.identities[0].token,this.billing.getBillingIframe().contentWindow.postMessage({request:"token",response:e},"*"),this.set("isOwner",!0)})).catch((e=>{if(!e.payload?.errors||"NoPermissionError"!==e.payload.errors[0]?.type)throw e
this.set("isOwner",!1),this.billing.getBillingIframe().contentWindow.postMessage({request:"token",response:null},"*")})),this.fetchingSubscription||this.billing.get("subscription")||!e||(this.set("fetchingSubscription",!0),this.billing.getBillingIframe().contentWindow.postMessage({query:"getSubscription",response:"subscription"},"*"))}_handleForceUpgradeRequest(){let e=null
const t=this.billing.ownerUser
t&&(e={name:t?.name,email:t?.email}),this.billing.getBillingIframe().contentWindow.postMessage({request:"forceUpgradeInfo",response:{forceUpgrade:this.config.get("hostSettings.forceUpgrade"),isOwner:this.isOwner,ownerUser:e}},"*")}_handleSubscriptionUpdate(e){if(this.billing.set("subscription",e.subscription),this.billing.set("checkoutRoute",e?.checkoutRoute||"/plans"),"active"===e.subscription.status&&this.config.get("hostSettings.forceUpgrade")&&this.config.set("hostSettings.forceUpgrade",!1),"past_due"===e.subscription.status||"unpaid"===e.subscription.status?this.notifications.showAlert("Billing error: This site is queued for suspension. The owner of this site must update payment information.",{type:"error",key:"billing.overdue"}):this.notifications.closeAlerts("billing.overdue"),e?.exceededLimits&&e?.exceededLimits.length&&e?.exceededLimits.indexOf("members")>=0&&e?.checkoutRoute){const e=this.billing.get("billingRouteRoot")+"?action=checkout"
this.notifications.showAlert(Ember.String.htmlSafe(`Your audience has grown! To continue publishing, the site owner must confirm pricing for this number of members <a href="${e}">here</a>`),{type:"warn",key:"billing.exceeded"})}else this.notifications.closeAlerts("billing.exceeded")}},o=h(s.prototype,"billing",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=h(s.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=h(s.prototype,"ghostPaths",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(s.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(s.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=b,Ember._setComponentTemplate(g,b)})),define("ghost-admin/components/gh-billing-modal",["exports"],(function(e){var t,n,i,r
function a(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"lzYnLSWw",block:'{"symbols":[],"statements":[[10,"div"],[15,0,[31,[[32,0,["visibilityClass"]]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-billing-container"],[12],[2,"\\n        "],[8,"gh-billing-iframe",[],[[],[]],[["default"],[{"statements":[],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-billing-modal.hbs"})
let o=(t=Ember.inject.service,n=Ember.computed("billingWindowOpen"),i=class extends Ember.Component{constructor(){var e,t,n,i
super(...arguments),e=this,t="billing",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get visibilityClass(){return this.billingWindowOpen?"gh-billing":"gh-billing closed"}},r=a(i.prototype,"billing",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a(i.prototype,"visibilityClass",[n],Object.getOwnPropertyDescriptor(i.prototype,"visibilityClass"),i.prototype),i)
e.default=o,Ember._setComponentTemplate(s,o)}))
define("ghost-admin/components/gh-billing-update-button",["exports"],(function(e){var t,n,i,r,a,s,o,l,u,d,c,p,m,h
function g(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function b(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"zVE9ufTm",block:'{"symbols":[],"statements":[[6,[37,1],[[32,0,["showUpgradeButton"]]],null,[["default"],[{"statements":[[2,"    "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,4,"button"],[4,[38,0],[[32,0],"openBilling"],null],[12],[10,"span"],[12],[2,"Upgrade"],[13],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","if"]}',moduleName:"ghost-admin/components/gh-billing-update-button.hbs"})
let v=(t=Ember.inject.service,n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.computed.reads("billing.subscription.isActiveTrial"),o=Ember._action,l=class extends Ember.Component{constructor(){super(...arguments),g(this,"router",u,this),g(this,"config",d,this),g(this,"ghostPaths",c,this),g(this,"ajax",p,this),g(this,"billing",m,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"subscription",null),g(this,"showUpgradeButton",h,this)}openBilling(){this.billing.openBillingWindow(this.router.currentURL,"/pro/billing/plans")}},u=b(l.prototype,"router",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(l.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(l.prototype,"ghostPaths",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(l.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(l.prototype,"billing",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b(l.prototype,"showUpgradeButton",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(l.prototype,"openBilling",[o],Object.getOwnPropertyDescriptor(l.prototype,"openBilling"),l.prototype),l)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/gh-blog-url",["exports","@ember-decorators/component"],(function(e,t){var n,i,r,a,s
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"PxxYavE9",block:'{"symbols":[],"statements":[[2,[32,0,["config","blogUrl"]]]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-blog-url.hbs"})
let l=(n=(0,t.tagName)(""),i=Ember.inject.service,n((a=class extends Ember.Component{constructor(){var e,t,n,i
super(...arguments),e=this,t="config",i=this,(n=s)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}},u=a.prototype,d="config",c=[i],p={configurable:!0,enumerable:!0,writable:!0,initializer:null},h={},Object.keys(p).forEach((function(e){h[e]=p[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=c.slice().reverse().reduce((function(e,t){return t(u,d,e)||e}),h),m&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(m):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(u,d,h),h=null),s=h,r=a))||r)
var u,d,c,p,m,h
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/gh-brand-settings-form",["exports","@glimmer/component","ghost-admin/config/environment","ghost-admin/components/gh-image-uploader","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E
function k(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const j=Ember.HTMLBars.template({id:"kNIx58AO",block:'{"symbols":["uploader","error","uploader","error","uploader","error","error","&attrs"],"statements":[[11,"div"],[24,0,"gh-stack"],[17,8],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-stack-item gh-setting-first gh-accent-color"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Accent color"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2,"Primary color used in your publication theme"],[13],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,0,["uploader","errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-setting-error"],[12],[1,[30,[36,4],[[32,7,["context"]],[32,7,["message"]]],null]],[13],[2,"\\n"]],"parameters":[7]}]]],[2,"            "],[10,"div"],[14,0,"w-100 flex flex-column flex-row-ns"],[12],[2,"\\n                "],[8,"gh-error-message",[[24,0,"w-100 red"]],[["@errors","@property"],[[32,0,["settings","errors"]],"accentColor"]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property","@class"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"accentColor","input-color-form-group"]],[["default"],[{"statements":[[2,"\\n                "],[10,"div"],[14,0,"input-color"],[12],[2,"\\n                    "],[11,"input"],[24,"placeholder","15171A"],[24,3,"accent-color"],[24,"autocorrect","off"],[24,"maxlength","6"],[16,2,[32,0,["accentColor"]]],[24,0,"gh-input"],[24,4,"text"],[4,[38,0],["input",[30,[36,7],[[32,0,["debounceUpdateAccentColor"]]],null]],null],[4,[38,0],["blur",[32,0,["updateAccentColor"]]],null],[4,[38,8],["Enter",[32,0,["blurElement"]]],null],[12],[13],[2,"\\n                    "],[10,"div"],[14,0,"color-picker-horizontal-divider"],[12],[13],[2,"\\n                    "],[10,"div"],[14,0,"color-box-container"],[15,5,[32,0,["accentColorBgStlye"]]],[12],[2,"\\n                        "],[11,"input"],[24,3,"accent-color"],[24,0,"color-picker"],[16,2,[31,[[32,0,["accentColorPickerValue"]]]]],[24,4,"color"],[4,[38,0],["input",[30,[36,7],[[32,0,["debounceUpdateAccentColor"]]],null]],null],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-stack-item gh-setting"],[12],[2,"\\n        "],[8,"gh-uploader",[],[["@extensions","@paramsHash","@onComplete"],[[32,0,["iconExtensions"]],[30,[36,9],null,[["purpose"],["icon"]]],[30,[36,1],[[32,0,["imageUploaded"]],"icon"],null]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Publication icon"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2,"A square, social icon used in the UI of your publication, at least 60x60px"],[13],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,5,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-setting-error"],[12],[1,[30,[36,4],[[32,6,["context"]],[32,6,["message"]]],null]],[13],[2,"\\n"]],"parameters":[6]}]]],[2,"        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-action gh-uploadbutton-container gh-setting-action-smallimg flex flex-column"],[12],[2,"\\n"],[6,[37,3],[[32,5,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[32,5,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["settings","icon"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-branding-image-container transparent-bg"],[12],[2,"\\n                    "],[11,"img"],[24,0,"blog-icon"],[16,"src",[31,[[32,0,["settings","icon"]]]]],[24,"alt","icon"],[4,[38,0],["click",[32,0,["triggerFileDialog"]]],null],[12],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-setting-action-smallimg-delete"],[24,4,"button"],[4,[38,0],["click",[30,[36,1],[[32,0,["removeImage"]],"icon"],null]],null],[12],[2,"\\n                        "],[1,[30,[36,2],["trash"],[["class"],["w4 h4 fill-white"]]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[11,"button"],[24,0,"gh-btn self-center"],[24,4,"button"],[4,[38,0],["click",[32,0,["triggerFileDialog"]]],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Upload icon"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                "],[8,"gh-file-input",[],[["@multiple","@action","@accept"],[false,[32,5,["setFiles"]],[32,0,["iconMimeTypes"]]]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "]],"parameters":[5]}]]],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-stack-item gh-setting"],[12],[2,"\\n        "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[30,[36,1],[[32,0,["imageUploaded"]],"logo"],null]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Publication logo"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-desc mb3"],[12],[2,"The primary logo for your brand displayed across your theme, should be transparent and at least 600px x 72px"],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-setting-action gh-uploadbutton-container gh-setting-action-smallimg flex flex-column"],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,3,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-error"],[12],[1,[30,[36,4],[[32,4,["context"]],[32,4,["message"]]],null]],[13],[2,"\\n"]],"parameters":[4]}]]],[6,[37,3],[[32,3,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[32,3,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["settings","logo"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-branding-image-container largeimg justify-center transparent-bg"],[12],[2,"\\n                        "],[11,"img"],[24,0,"blog-logo"],[16,"src",[31,[[32,0,["settings","logo"]]]]],[24,"alt","logo"],[4,[38,0],["click",[32,0,["triggerFileDialog"]]],null],[12],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-setting-action-smallimg-delete"],[24,4,"button"],[4,[38,0],["click",[30,[36,1],[[32,0,["removeImage"]],"logo"],null]],null],[12],[2,"\\n                            "],[1,[30,[36,2],["trash"],[["class"],["w4 h4 fill-white"]]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn self-start"],[24,4,"button"],[4,[38,0],["click",[32,0,["triggerFileDialog"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Upload logo"],[13],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                    "],[8,"gh-file-input",[],[["@multiple","@action","@accept"],[false,[32,3,["setFiles"]],[32,0,["imageMimeTypes"]]]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "]],"parameters":[3]}]]],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-stack-item gh-setting"],[12],[2,"\\n        "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[30,[36,1],[[32,0,["imageUploaded"]],"coverImage"],null]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Publication cover"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-desc mb3"],[12],[2,"An optional large background image for your site"],[13],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-setting-error"],[12],[1,[30,[36,4],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-action gh-uploadbutton-container flex flex-column items-stretch"],[12],[2,"\\n"],[6,[37,3],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["settings","coverImage"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-branding-image-container largeimg justify-start"],[12],[2,"\\n                        "],[11,"img"],[24,0,"blog-cover"],[16,"src",[31,[[32,0,["settings","coverImage"]]]]],[24,"alt","cover photo"],[4,[38,0],["click",[32,0,["triggerFileDialog"]]],null],[12],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-setting-action-largeimg-delete"],[24,4,"button"],[4,[38,0],["click",[30,[36,1],[[32,0,["removeImage"]],"coverImage"],null]],null],[12],[2,"\\n                            "],[1,[30,[36,2],["trash"],[["class"],["w4 h4 fill-white"]]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn self-start"],[24,4,"button"],[4,[38,0],["click",[32,0,["triggerFileDialog"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Upload cover"],[13],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                    "],[8,"gh-file-input",[],[["@multiple","@action","@accept"],[false,[32,1,["setFiles"]],[32,0,["imageMimeTypes"]]]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "]],"parameters":[1]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","fn","svg-jar","if","or","-track-array","each","perform","on-key","hash"]}',moduleName:"ghost-admin/components/gh-brand-settings-form.hbs"})
let _=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember._action,c=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,g=(0,r.task)({restartable:!0}),b=class extends t.default{get accentColor(){const e=this.settings.get("accentColor")
return e&&"#"===e[0]?e.slice(1):e}get accentColorPickerValue(){return this.settings.get("accentColor")||"#ffffff"}get accentColorBgStyle(){return Ember.String.htmlSafe(`background-color: ${this.accentColorPickerValue}`)}get previewData(){const e=new URLSearchParams
return e.append("c",this.accentColorPickerValue),e.append("icon",this.settings.get("icon")),e.append("logo",this.settings.get("logo")),e.append("cover",this.settings.get("coverImage")),e.toString()}constructor(){super(...arguments),k(this,"ajax",f,this),k(this,"config",v,this),k(this,"ghostPaths",y,this),k(this,"settings",w,this),k(this,"frontend",E,this),P(this,"iconExtensions",i.ICON_EXTENSIONS),P(this,"iconMimeTypes",i.ICON_MIME_TYPES),P(this,"imageExtensions",i.IMAGE_EXTENSIONS),P(this,"imageMimeTypes",i.IMAGE_MIME_TYPES),this.updatePreviewTask.perform()}willDestroy(){super.willDestroy?.(...arguments),this.settings.errors.remove("accentColor"),this.settings.rollbackAttributes()}triggerFileDialog(e){let{target:t}=e
t.closest(".gh-setting-action")?.querySelector('input[type="file"]')?.click()}async imageUploaded(e,t){t[0]&&(this.settings.set(e,t[0].url),this.updatePreviewTask.perform())}async removeImage(e){this.settings.set(e,""),this.updatePreviewTask.perform()}blurElement(e){e.preventDefault(),e.target.blur()}async updateAccentColor(e){let t=e.target.value
const n=this.settings.get("accentColor")
if(this.settings.errors.remove("accentColor"),this.settings.hasValidated.removeObject("accentColor"),""===t){if(t===n)return
return this.settings.errors.add("accentColor","Please select an accent color"),void this.settings.hasValidated.pushObject("accentColor")}if(t||(t=n),"#"!==t[0]&&(t=`#${t}`),t.match(/#[0-9A-Fa-f]{6}$/)){if(t===n)return
this.settings.set("accentColor",t),this.updatePreviewTask.perform()}else this.settings.errors.add("accentColor","Please enter a color in hex format"),this.settings.hasValidated.pushObject("accentColor")}*debounceUpdateAccentColor(e){yield(0,r.timeout)(500),this.updateAccentColor(e)}*updatePreviewTask(){if("test"===n.default.environment)return
const e=yield this.frontend.fetch("/",{method:"POST",headers:{"Content-Type":"text/html;charset=utf-8","x-ghost-preview":this.previewData,Accept:"text/plain"}}),t=yield e.text(),i=(new DOMParser).parseFromString(t,"text/html"),r=i.querySelector("style"),a=r.innerHTML
r.innerHTML=`${a}\n\nhtml { pointer-events: none; }`
const s=(new XMLSerializer).serializeToString(i.doctype)+i.documentElement.outerHTML
this.args.replacePreviewContents(s)}},f=O(b.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=O(b.prototype,"config",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=O(b.prototype,"ghostPaths",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=O(b.prototype,"settings",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=O(b.prototype,"frontend",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O(b.prototype,"triggerFileDialog",[d],Object.getOwnPropertyDescriptor(b.prototype,"triggerFileDialog"),b.prototype),O(b.prototype,"imageUploaded",[c],Object.getOwnPropertyDescriptor(b.prototype,"imageUploaded"),b.prototype),O(b.prototype,"removeImage",[p],Object.getOwnPropertyDescriptor(b.prototype,"removeImage"),b.prototype),O(b.prototype,"blurElement",[m],Object.getOwnPropertyDescriptor(b.prototype,"blurElement"),b.prototype),O(b.prototype,"updateAccentColor",[h],Object.getOwnPropertyDescriptor(b.prototype,"updateAccentColor"),b.prototype),O(b.prototype,"debounceUpdateAccentColor",[g],Object.getOwnPropertyDescriptor(b.prototype,"debounceUpdateAccentColor"),b.prototype),O(b.prototype,"updatePreviewTask",[r.task],Object.getOwnPropertyDescriptor(b.prototype,"updatePreviewTask"),b.prototype),b)
e.default=_,Ember._setComponentTemplate(j,_)})),define("ghost-admin/components/gh-browser-preview",["exports","@glimmer/component"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"ev+R/3Y0",block:'{"symbols":["@icon","@title","@isMobilePreview","&attrs","&default"],"statements":[[11,"div"],[16,0,[31,[[30,[36,2],[[32,3],"gh-pe-mobile-container flex justify-center","gh-browserpreview-previewcontainer"],null]]]],[17,4],[12],[2,"\\n"],[6,[37,3],[[32,3]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-browserpreview-browser"],[12],[2,"\\n            "],[10,"div"],[14,0,"tabs"],[12],[2,"\\n                "],[10,"ul"],[12],[10,"li"],[12],[13],[10,"li"],[12],[13],[10,"li"],[12],[13],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[32,1],[32,0,["settings","icon"]]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"span"],[14,0,"favicon"],[12],[10,"img"],[15,"src",[30,[36,1],[[32,1],[32,0,["settings","icon"]]],null]],[14,"alt","icon"],[12],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"span"],[14,0,"favicon default"],[12],[1,[30,[36,0],["default-favicon"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"span"],[14,0,"site-title"],[12],[1,[30,[36,1],[[32,2],[32,0,["settings","title"]]],null]],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[10,"div"],[15,0,[31,[[30,[36,2],[[32,3],"gh-pe-mobile-bezel","gh-browserpreview-iframecontainer"],null]]]],[12],[2,"\\n        "],[10,"div"],[15,0,[31,[[30,[36,2],[[32,3],"gh-pe-mobile-screen"],null]]]],[12],[2,"\\n            "],[18,5,null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","or","if","unless"]}',moduleName:"ghost-admin/components/gh-browser-preview.hbs"})
let s=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="settings",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}},o=i.prototype,l="settings",u=[n],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,i)
var o,l,u,d,c,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/gh-canvas-header",["exports","@ember-decorators/component"],(function(e,t){var n,i,r,a,s
function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"d6l4mIfS",block:'{"symbols":["&attrs","&default"],"statements":[[11,"div"],[17,1],[4,[38,1],[[30,[36,0],[[32,0],"initScrollWatch"],null]],null],[4,[38,2],[[30,[36,0],[[32,0],"clearScrollWatch"],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"gh-canvas-header-content"],[12],[2,"\\n        "],[18,2,null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","did-insert","will-destroy"]}',moduleName:"ghost-admin/components/gh-canvas-header.hbs"})
let u=(n=(0,t.tagName)(""),i=Ember._action,r=Ember._action,n((o((s=class extends Ember.Component{initScrollWatch(e){this._onScroll=Ember.run.bind(this,this.onScroll,e),this._scrollContainer=e.closest(".gh-main"),this._scrollContainer&&this._scrollContainer.addEventListener("scroll",this._onScroll,{passive:!0})}clearScrollWatch(){this._scrollContainer&&this._scrollContainer.removeEventListener("scroll",this._onScroll)}onScroll(e){this._isSticky&&this._scrollContainer.scrollTop<10?(e.classList.remove("gh-canvas-header--sticky"),this._isSticky=!1):!this._isSticky&&this._scrollContainer.scrollTop>10&&(e.classList.add("gh-canvas-header--sticky"),this._isSticky=!0)}}).prototype,"initScrollWatch",[i],Object.getOwnPropertyDescriptor(s.prototype,"initScrollWatch"),s.prototype),o(s.prototype,"clearScrollWatch",[r],Object.getOwnPropertyDescriptor(s.prototype,"clearScrollWatch"),s.prototype),a=s))||a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/gh-cm-editor",["exports","@ember-decorators/component","ghost-admin/utils/bound-one-way","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m
function h(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"RBJCUHDq",block:'{"symbols":[],"statements":[[8,"gh-textarea",[],[["@class","@value","@input"],[[30,[36,0],["gh-cm-editor-textarea ",[32,0,["textareaClass"]]],null],[30,[36,1],[[32,0,["_value"]]],null],[30,[36,2],[[32,0],"updateFromTextarea"],[["value"],["target.value"]]]]],null],[2,"\\n"]],"hasEval":false,"upvars":["concat","readonly","action"]}',moduleName:"ghost-admin/components/gh-cm-editor.hbs"})
let v=(r=(0,t.classNameBindings)("isFocused:focus"),a=Ember.inject.service,s=(0,n.default)("value"),o=Ember._action,l=(0,i.task)((function*(){let e=this.lazyLoader
yield e.loadScript("codemirror","assets/codemirror/codemirror-d25c379b87ec8b33d54ac7149bc0b6ae.js"),Ember.run.scheduleOnce("afterRender",this,this._initCodeMirror)})),r((d=class extends Ember.Component{constructor(){super(...arguments),h(this,"lazyLoader",c,this),g(this,"textareaClass",""),g(this,"isFocused",!1),g(this,"autofocus",!1),g(this,"indentUnit",4),g(this,"lineNumbers",!0),g(this,"lineWrapping",!1),g(this,"mode","htmlmixed"),g(this,"theme","xq-light"),g(this,"_editor",null),g(this,"focus-in",(()=>{})),g(this,"update",(()=>{})),h(this,"_value",p,this),h(this,"initCodeMirror",m,this)}didReceiveAttrs(){super.didReceiveAttrs(...arguments),null===this._value&&this.set("_value",""),this.mode!==this._lastMode&&this._editor&&this._editor.setOption("mode",this.mode),this._lastMode=this.mode}didInsertElement(){super.didInsertElement(...arguments),this.initCodeMirror.perform()}willDestroyElement(){if(super.willDestroyElement(...arguments),this._editor){let e=this._editor.getWrapperElement()
e.parentNode.removeChild(e),this._editor=null}}updateFromTextarea(e){this.update(e)}_initCodeMirror(){let e=this.getProperties("lineNumbers","lineWrapping","indentUnit","mode","theme","autofocus")
Ember.assign(e,{value:this._value})
let t=this.element.querySelector("textarea")
t&&t===document.activeElement&&(e.autofocus=!0),this._editor=new CodeMirror.fromTextArea(t,e),e.autofocus&&this._editor.setCursor(this._editor.lineCount(),0),this._setupCodeMirrorEventHandler("focus",this,this._focus),this._setupCodeMirrorEventHandler("blur",this,this._blur),this._setupCodeMirrorEventHandler("change",this,this._update)}_setupCodeMirrorEventHandler(e,t,n){let i=Ember.run.bind(t,n)
this._editor.on(e,i),this.one("willDestroyElement",this,(function(){this._editor.off(e,i)}))}_update(e,t){Ember.run.once(this,this.update,e.getValue(),e,t)}_focus(e,t){this.set("isFocused",!0),Ember.run.once(this,this["focus-in"],e.getValue(),e,t)}_blur(){this.set("isFocused",!1)}},c=b(d.prototype,"lazyLoader",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(d.prototype,"_value",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(d.prototype,"updateFromTextarea",[o],Object.getOwnPropertyDescriptor(d.prototype,"updateFromTextarea"),d.prototype),m=b(d.prototype,"initCodeMirror",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d))||u)
var y=Ember._setComponentTemplate(f,v)
e.default=y})),define("ghost-admin/components/gh-content-cover",["exports","@ember-decorators/component"],(function(e,t){var n,i,r,a,s
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(n=(0,t.classNames)("content-cover"),i=Ember.inject.service,n((a=class extends Ember.Component{constructor(){var e,t,n,i
super(...arguments),e=this,t="ui",i=this,(n=s)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}click(){this.ui.closeMenus()}},l=a.prototype,u="ui",d=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},m={},Object.keys(c).forEach((function(e){m[e]=c[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=d.slice().reverse().reduce((function(e,t){return t(l,u,e)||e}),m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(l,u,m),m=null),s=m,r=a))||r)
var l,u,d,c,p,m
e.default=o})),define("ghost-admin/components/gh-contentfilter",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"UEqsdkBs",block:'{"symbols":["order","tag","author","visibility","type","@selectedTag","@availableTags","@onTagChange","@selectedAuthor","@availableAuthors","@onAuthorChange","@selectedVisibility","@availableVisibilities","@onVisibilityChange","&attrs","@selectedType","@availableTypes","@onTypeChange","@currentUser","@selectedOrder","@availableOrders","@onOrderChange"],"statements":[[11,"div"],[24,0,"gh-contentfilter view-actions-bottom-row"],[17,15],[12],[2,"\\n    \\n    "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-type ",[30,[36,2],[[32,16,["value"]],"gh-contentfilter-selected"],null]]]],[12],[2,"\\n        "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,16],[32,17],false,[32,18],"gh-power-select/trigger","gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n            "],[6,[37,2],[[32,5,["name"]]],null,[["default","else"],[{"statements":[[1,[32,5,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown type"],[13]],"parameters":[]}]]],[2,"\\n        "]],"parameters":[5]}]]],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,3],[[32,19,["isContributor"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-visibility ",[30,[36,2],[[32,12,["value"]],"gh-contentfilter-selected"],null]]]],[12],[2,"\\n            "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,12],[32,13],false,[32,14],"gh-power-select/trigger","gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n                "],[6,[37,2],[[32,4,["name"]]],null,[["default","else"],[{"statements":[[1,[32,4,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown visibility"],[13]],"parameters":[]}]]],[2,"\\n            "]],"parameters":[4]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,19,["isAuthorOrContributor"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-author ",[30,[36,2],[[32,9,["slug"]],"gh-contentfilter-selected"],null]]]],[12],[2,"\\n            "],[8,"power-select",[],[["@selected","@options","@searchField","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@searchPlaceholder","@matchTriggerWidth"],[[32,9],[32,10],"name",[32,11],"gh-power-select/trigger","gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown","Search authors",false]],[["default"],[{"statements":[[2,"\\n                "],[6,[37,2],[[32,3,["name"]]],null,[["default","else"],[{"statements":[[1,[32,3,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown author"],[13]],"parameters":[]}]]],[2,"\\n            "]],"parameters":[3]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,19,["isContributor"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-tag ",[30,[36,2],[[32,6,["slug"]],"gh-contentfilter-selected"],null]]]],[12],[2,"\\n            "],[8,"power-select",[],[["@selected","@options","@searchField","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@searchPlaceholder","@matchTriggerWidth","@optionsComponent"],[[32,6],[32,7],"name",[32,8],"gh-power-select/trigger","gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown","Search tags",false,"power-select-vertical-collection-options"]],[["default"],[{"statements":[[2,"\\n                "],[6,[37,2],[[32,2,["name"]]],null,[["default","else"],[{"statements":[[1,[32,2,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown tag"],[13]],"parameters":[]}]]],[2,"\\n            "]],"parameters":[2]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"gh-contentfilter-menu gh-contentfilter-sort"],[12],[2,"\\n        "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,20],[32,21],false,[32,22],"gh-power-select/trigger","gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n            "],[6,[37,2],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[1,[32,1,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown"],[13]],"parameters":[]}]]],[2,"\\n        "]],"parameters":[1]}]]],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["showCustomViewManagement"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"dropdown gh-contentfilter-menu gh-contentfilter-actions"],[12],[2,"\\n"],[6,[37,2],[[32,0,["customViews","activeView"]]],null,[["default","else"],[{"statements":[[2,"                "],[11,"button"],[24,0,"gh-contentfilter-menu-trigger gh-contentfilter-button gh-btn-save-view"],[24,"title","Edit current view..."],[24,4,"button"],[4,[38,0],["click",[32,0,["customViews","editView"]]],null],[12],[2,"\\n                    "],[1,[30,[36,1],["edit-view"],null]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[11,"button"],[24,0,"gh-contentfilter-menu-trigger gh-contentfilter-button gh-btn-save-view"],[24,"title","Save as view..."],[24,4,"button"],[4,[38,0],["click",[32,0,["customViews","editView"]]],null],[12],[2,"\\n                    "],[1,[30,[36,1],["add-view"],null]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["on","svg-jar","if","unless"]}',moduleName:"ghost-admin/components/gh-contentfilter.hbs"})
let p=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=class extends t.default{constructor(){super(...arguments),u(this,"customViews",s,this),u(this,"feature",o,this),u(this,"router",l,this)}get showCustomViewManagement(){let e=Ember.get(this.args.currentUser||{},"isAdmin"),t="posts"===this.router.currentRouteName,n=this.customViews?.activeView?.isDefault,i=this.args.selectedType.value||this.args.selectedVisibility.value||this.args.selectedAuthor.slug||this.args.selectedTag.slug||this.args.selectedOrder.value
return e&&t&&!n&&i}calculateActionsDropdownPosition(e,t){let{top:n,left:i,width:r,height:a}=e.getBoundingClientRect(),{width:s}=t.firstElementChild.getBoundingClientRect()
return{style:{left:i+r-s,top:n+a+5}}}},s=d(a.prototype,"customViews",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(a.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(a.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=p,Ember._setComponentTemplate(c,p)})),define("ghost-admin/components/gh-custom-view-title",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s
function o(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function l(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"7pU96yWa",block:'{"symbols":["@query","@title"],"statements":[[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n    "],[8,"link-to",[],[["@route","@query"],[[32,0,["router","currentRouteName"]],[32,1]]],[["default"],[{"statements":[[1,[30,[36,1],[[32,2],"No @title provided"],null]]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["customViews","activeView"]]],null,[["default"],[{"statements":[[2,"        "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n        "],[10,"span"],[14,0,"truncate"],[12],[1,[32,0,["customViews","activeView","name"]]],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["svg-jar","or","if"]}',moduleName:"ghost-admin/components/gh-custom-view-title.hbs"})
let d=(n=Ember.inject.service,i=Ember.inject.service,r=class extends t.default{constructor(){super(...arguments),o(this,"customViews",a,this),o(this,"router",s,this)}},a=l(r.prototype,"customViews",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=d,Ember._setComponentTemplate(u,d)})),define("ghost-admin/components/gh-date-picker",["exports","@glimmer/component","moment"],(function(e,t,n){var i,r,a,s,o,l,u,d,c
function p(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.DateError=void 0
const m=Ember.HTMLBars.template({id:"GABimJbU",block:'{"symbols":["dp","&default","&attrs","@value","@disabled"],"statements":[[2,"\\n"],[11,"div"],[24,0,"gh-date-picker"],[17,3],[12],[2,"\\n    "],[8,"power-datepicker",[],[["@selected","@center","@onSelect","@renderInPlace","@disabled"],[[32,4],[32,4],[32,0,["onDateSelected"]],true,[32,5]]],[["default"],[{"statements":[[2,"\\n        "],[8,[32,1,["Trigger"]],[],[["@tabindex"],["-1"]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[15,0,[31,[[30,[36,3],[[32,0,["error"]],"error"],null]]]],[12],[2,"\\n"],[2,"                "],[11,"input"],[16,"placeholder",[32,0,["dateFormat"]]],[16,2,[30,[36,4],[[32,4],[32,0,["dateFormat"]]],null]],[16,"disabled",[32,5]],[24,"aria-label","Selected date"],[24,0,"gh-input gh-datepicker-input"],[24,4,"text"],[4,[38,6],["input",[30,[36,5],[[32,0,["onDateInput"]],[32,1]],null]],null],[4,[38,6],["blur",[32,0,["onDateBlur"]]],null],[4,[38,6],["keydown",[30,[36,5],[[32,0,["onDateKeydown"]],[32,1]],null]],null],[4,[38,7],[[32,0,["resetInputValue"]],[32,4]],null],[12],[13],[2,"\\n                "],[1,[30,[36,8],["calendar"],[["class"],["gh-date-picker-cal-icon"]]]],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n        "],[8,[32,1,["Content"]],[[24,0,"dropdown-menu"]],[[],[]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[27,[32,2]]],null,[["default","else"],[{"statements":[[2,"                "],[18,2,[[30,[36,2],[[32,1],[30,[36,1],null,[["select","Triger","Content","Nav","Days"],[[32,0,["onDateSelected"]],null,null,[32,1,["Nav"]],[30,[36,0],[[32,1,["Days"]]],[["minDate","maxDate","weekdayFormat"],[[32,0,["minDate"]],[32,0,["maxDate"]],"min"]]]]]]],null]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[8,[32,1,["Nav"]],[],[[],[]],null],[2,"\\n                "],[8,[32,1,["Days"]],[],[["@minDate","@maxDate","@weekdayFormat"],[[32,0,["minDate"]],[32,0,["maxDate"]],"min"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,3],[[32,0,["error"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-date-time-picker-error"],[12],[1,[32,0,["error"]]],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["component","hash","assign","if","moment-format","fn","on","did-update","svg-jar"]}',moduleName:"ghost-admin/components/gh-date-picker.hbs"})
class h extends Error{constructor(e){"string"==typeof e?super(e):(super(e.message),Object.keys(e).forEach((t=>{"message"!==t&&(this[t]=e[t])})))}}e.DateError=h
let g=(i=Ember._tracked,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,d=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="error",i=this,(n=c)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get dateFormat(){return"YYYY-MM-DD"}get minDate(){return this._minMaxMoment(this.args.minDate)}get maxDate(){return this._minMaxMoment(this.args.maxDate)}setDate(e){if(this.error=null,!e.match(/^\d\d\d\d-\d\d-\d\d$/))return this.error=`Date must be ${this.dateFormat}`,this.args.onError?.(new h({message:this.error,date:e})),!1
const t=(0,n.default)(e)
return t.isValid()?this.args.minDate&&t.isBefore((0,n.default)(this.args.minDate))?(this.error=this.args.minDateError||`Must be on or after ${(0,n.default)(this.args.minDate).format(this.dateFormat)}`,this.args.onError?.(new h({message:this.error,date:e})),!1):this.args.maxDate&&t.isAfter((0,n.default)(this.args.maxDate))?(this.error=this.args.maxDateError||`Must be on or before ${(0,n.default)(this.args.maxDate).format(this.dateFormat)}`,this.args.onError?.(new h({message:this.error,date:e})),!1):void this.args.onChange?.(t.toDate()):(this.error="Invalid date",this.args.onError?.(new h({message:this.error,date:e})),!1)}onDateSelected(e){e instanceof n.default?this.setDate(e.format(this.dateFormat)):this.setDate(e.id)}onDateInput(e,t){e.actions.close(t,!0),this.args.onInput?.(t)}onDateBlur(e){const t=e.target.value
t?this.setDate(t):this.resetInputValue(e.target),this.args.onBlur?.(e)}onDateKeydown(e,t){"Escape"===t.key&&(t.preventDefault(),t.stopImmediatePropagation(),this.resetInputValue(t.target)),"Enter"===t.key&&(t.preventDefault(),t.stopImmediatePropagation(),this.setDate(t.target.value),e.actions.close()),this.args.onKeydown?.(t)}resetInputValue(e){e.value=(0,n.default)(this.args.value).format(this.dateFormat),this.error=null}_minMaxMoment(e){return"now"===e?(0,n.default)((0,n.default)().format(this.dateFormat)):Ember.isBlank(e)?null:(0,n.default)((0,n.default)(e).format(this.dateFormat))}},c=p(d.prototype,"error",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p(d.prototype,"setDate",[r],Object.getOwnPropertyDescriptor(d.prototype,"setDate"),d.prototype),p(d.prototype,"onDateSelected",[a],Object.getOwnPropertyDescriptor(d.prototype,"onDateSelected"),d.prototype),p(d.prototype,"onDateInput",[s],Object.getOwnPropertyDescriptor(d.prototype,"onDateInput"),d.prototype),p(d.prototype,"onDateBlur",[o],Object.getOwnPropertyDescriptor(d.prototype,"onDateBlur"),d.prototype),p(d.prototype,"onDateKeydown",[l],Object.getOwnPropertyDescriptor(d.prototype,"onDateKeydown"),d.prototype),p(d.prototype,"resetInputValue",[u],Object.getOwnPropertyDescriptor(d.prototype,"resetInputValue"),d.prototype),d)
e.default=g,Ember._setComponentTemplate(m,g)})),define("ghost-admin/components/gh-date-time-picker",["exports","moment","@ember-decorators/component"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k
function P(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const _=Ember.HTMLBars.template({id:"4mhaF5Eh",block:'{"symbols":["dp"],"statements":[[10,"div"],[14,0,"gh-date-time-picker"],[12],[2,"\\n    "],[8,"power-datepicker",[],[["@selected","@center","@onSelect","@renderInPlace","@disabled"],[[32,0,["_date"]],[32,0,["_date"]],[30,[36,0],[[32,0],"setDateInternal"],[["value"],["date"]]],true,[32,0,["disabled"]]]],[["default"],[{"statements":[[2,"\\n        "],[8,[32,1,["Trigger"]],[],[["@tabindex"],["-1"]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[15,0,[31,["gh-date-time-picker-date ",[30,[36,1],[[32,0,["dateError"]],"error"],null]]]],[12],[2,"\\n                "],[11,"input"],[16,"placeholder",[32,0,["dateFormat"]]],[16,2,[30,[36,2],[[32,0,["dateValue"]]],null]],[16,"disabled",[32,0,["disabled"]]],[24,4,"text"],[4,[38,4],["input",[30,[36,3],[[32,0,["onDateInput"]],[32,1]],null]],null],[4,[38,4],["blur",[32,0,["onDateBlur"]]],null],[4,[38,4],["keydown",[30,[36,3],[[32,0,["onDateKeydown"]],[32,1]],null]],null],[12],[13],[2,"\\n                "],[1,[30,[36,5],["calendar"],null]],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n        "],[8,[32,1,["Content"]],[[24,0,"dropdown-menu"]],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[8,[32,1,["Nav"]],[],[[],[]],null],[2,"\\n            "],[8,[32,1,["Days"]],[],[["@minDate","@maxDate","@weekdayFormat"],[[32,0,["_minDate"]],[32,0,["_maxDate"]],"min"]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n\\n    "],[10,"div"],[15,0,[31,["gh-date-time-picker-time ",[30,[36,1],[[32,0,["hasError"]],"error"],null]]]],[12],[2,"\\n        "],[11,"input"],[16,2,[32,0,["_time"]]],[16,"disabled",[32,0,["disabled"]]],[24,4,"text"],[4,[38,4],["change",[32,0,["updateTimeValue"]]],null],[4,[38,4],["blur",[30,[36,3],[[32,0,["setTimeInternal"]],[32,0,["_time"]]],null]],null],[4,[38,6],[[32,0,["registerTimeInput"]]],null],[12],[13],[2,"\\n        "],[10,"small"],[14,0,"gh-date-time-picker-timezone"],[12],[2,"("],[1,[32,0,["timezone"]]],[2,")"],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[6,[37,1],[[32,0,["hasError"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-date-time-picker-error"],[12],[1,[32,0,["dateError"]]],[1,[32,0,["timeError"]]],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","if","readonly","fn","on","svg-jar","did-insert"]}',moduleName:"ghost-admin/components/gh-date-time-picker.hbs"}),z="YYYY-MM-DD"
let x=(i=(0,n.tagName)(""),r=Ember.inject.service,a=Ember.computed.reads("settings.timezone"),s=Ember.computed.or("dateError","timeError"),o=Ember.computed("_date","_scratchDate"),l=Ember.computed("blogTimezone"),u=Ember.computed("errors.[]","dateErrorProperty","_scratchDateError"),d=Ember.computed("errors.[]","timeErrorProperty"),c=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,i((y=class extends Ember.Component{constructor(){super(...arguments),P(this,"settings",w,this),O(this,"date",""),O(this,"dateFormat",z),O(this,"time",""),O(this,"errors",null),O(this,"dateErrorProperty",null),O(this,"timeErrorProperty",null),O(this,"isActive",!0),O(this,"_time",""),O(this,"_previousTime",""),O(this,"_minDate",null),O(this,"_maxDate",null),O(this,"_scratchDate",null),O(this,"_scratchDateError",null),P(this,"blogTimezone",E,this),P(this,"hasError",k,this)}setTypedDateError(){}get dateValue(){return null!==this._scratchDate?this._scratchDate:(0,t.default)(this._date).format(z)}get timezone(){let e=this.blogTimezone
return t.default.utc().tz(e).format("z")}get dateError(){if(this._scratchDateError)return this._scratchDateError
let e=this.errors,t=this.dateErrorProperty
return e&&!Ember.isEmpty(e.errorsFor(t))?e.errorsFor(t).get("firstObject").message:""}get timeError(){let e=this.errors,t=this.timeErrorProperty
return e&&!Ember.isEmpty(e.errorsFor(t))?e.errorsFor(t).get("firstObject").message:""}didReceiveAttrs(){super.didReceiveAttrs(...arguments)
let e=this.date,n=this.time,i=this.minDate,r=this.maxDate,a=this.blogTimezone
Ember.isBlank(e)?this.set("_date",(0,t.default)().tz(a)):this.set("_date",(0,t.default)(e)),!this.isActive&&this._lastIsActive&&this._resetScratchDate(),this._lastIsActive=this.isActive,(e&&e.valueOf())!==(this._lastDate&&this._lastDate.valueOf())&&this._resetScratchDate(),this._lastDate=this.date,Ember.isBlank(n)?this.set("_time",(0,t.default)(this._date).format("HH:mm")):this.set("_time",this.time),this.set("_previousTime",this._time),"now"===i?this.set("_minDate",(0,t.default)((0,t.default)().format(z))):Ember.isBlank(i)?this.set("_minDate",null):this.set("_minDate",(0,t.default)((0,t.default)(i).format(z))),"now"===r?this.set("_maxDate",(0,t.default)((0,t.default)().format(z))):Ember.isBlank(r)?this.set("_maxDate",null):this.set("_maxDate",(0,t.default)((0,t.default)(r).format(z)))}willDestroyElement(){super.willDestroyElement(...arguments),this.setTypedDateError(null)}setDateInternal(e){e!==this._date&&(this.setDate(e),Ember.isBlank(this.time)&&this.setTime(this._time))}setTimeInternal(e){e.match(/^\d:\d\d$/)&&(e=`0${e}`),e!==this._previousTime&&(this.setTime(e),this.set("_previousTime",e),Ember.isBlank(this.date)&&this.setDate(this._date))}updateTimeValue(e){this.set("_time",e.target.value)}registerTimeInput(e){this._timeInputElem=e}onDateInput(e,t){e.actions.close(t,!0),this.set("_scratchDate",t.target.value)}onDateBlur(e){e.target.value!==(0,t.default)(this._date).format("YYYY-MM-DD")&&e.target.value?this._setDate(e.target.value):this._resetScratchDate()}onDateKeydown(e,t){if("Escape"===t.key&&this._resetScratchDate(),"Enter"===t.key&&(this._setDate(t.target.value),t.preventDefault(),t.stopImmediatePropagation(),e.actions.close()),"Tab"===t.key&&e.isOpen&&(e.actions.close(),!t.shiftKey&&this._timeInputElem&&(t.preventDefault(),this._timeInputElem.focus(),this._timeInputElem.select())),"s"===t.key&&(t.ctrlKey||t.metaKey)){this._setDate(t.target.value)||(t.stopImmediatePropagation(),t.preventDefault())}}_resetScratchDate(){this.set("_scratchDate",null),this._setScratchDateError(null)}_setDate(e){if(!e.match(/^\d\d\d\d-\d\d-\d\d$/))return this._setScratchDateError("Invalid date format, must be YYYY-MM-DD"),!1
let n=(0,t.default)(e,z)
return n.isValid()?(this.setDateInternal(n.toDate()),this._resetScratchDate(),!0):(this._setScratchDateError("Invalid date"),!1)}_setScratchDateError(e){this.set("_scratchDateError",e),this.setTypedDateError(e)}},w=j(y.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=j(y.prototype,"blogTimezone",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=j(y.prototype,"hasError",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j(y.prototype,"dateValue",[o],Object.getOwnPropertyDescriptor(y.prototype,"dateValue"),y.prototype),j(y.prototype,"timezone",[l],Object.getOwnPropertyDescriptor(y.prototype,"timezone"),y.prototype),j(y.prototype,"dateError",[u],Object.getOwnPropertyDescriptor(y.prototype,"dateError"),y.prototype),j(y.prototype,"timeError",[d],Object.getOwnPropertyDescriptor(y.prototype,"timeError"),y.prototype),j(y.prototype,"setDateInternal",[c],Object.getOwnPropertyDescriptor(y.prototype,"setDateInternal"),y.prototype),j(y.prototype,"setTimeInternal",[p],Object.getOwnPropertyDescriptor(y.prototype,"setTimeInternal"),y.prototype),j(y.prototype,"updateTimeValue",[m],Object.getOwnPropertyDescriptor(y.prototype,"updateTimeValue"),y.prototype),j(y.prototype,"registerTimeInput",[h],Object.getOwnPropertyDescriptor(y.prototype,"registerTimeInput"),y.prototype),j(y.prototype,"onDateInput",[g],Object.getOwnPropertyDescriptor(y.prototype,"onDateInput"),y.prototype),j(y.prototype,"onDateBlur",[b],Object.getOwnPropertyDescriptor(y.prototype,"onDateBlur"),y.prototype),j(y.prototype,"onDateKeydown",[f],Object.getOwnPropertyDescriptor(y.prototype,"onDateKeydown"),y.prototype),v=y))||v)
e.default=x,Ember._setComponentTemplate(_,x)})),define("ghost-admin/components/gh-distribution-action-select",["exports","@glimmer/component"],(function(e,t){var n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"QGhPP20q",block:'{"symbols":["availablePublishAction"],"statements":[[10,"span"],[14,0,"gh-publishmenu-select"],[12],[2,"\\n    "],[8,"power-select",[],[["@options","@renderInPlace","@selected","@onChange","@searchEnabled","@id","@name","@triggerComponent","@triggerClass","@dropdownClass"],[[32,0,["availablePublishActions"]],true,[32,0,["distributionValue"]],[32,0,["setDistributionAction"]],false,"publish-action","publish-action","gh-power-select/trigger","ember-power-select-inline","gh-publishmenu-select-dropdown"]],[["default"],[{"statements":[[2,"\\n        "],[1,[32,1,["name"]]],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-distribution-action-select.hbs"})
let a=(n=Ember._action,i=class extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"availablePublishActions",[{value:"publish_send",name:"publish & send"},{value:"publish",name:"publish"},{value:"send",name:"send"}])}get distributionValue(){return this.availablePublishActions.findBy("value",this.args.distributionAction)}setDistributionAction(e){this.args.setDistributionAction(e.value)}},s=i.prototype,o="setDistributionAction",l=[n],u=Object.getOwnPropertyDescriptor(i.prototype,"setDistributionAction"),d=i.prototype,c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),i)
var s,o,l,u,d,c
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/gh-dropdown-button",["exports","ghost-admin/mixins/dropdown-mixin","@ember-decorators/component"],(function(e,t,n){var i,r,a,s,o,l,u
function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(i=(0,n.tagName)("button"),r=(0,n.attributeBindings)("href","role","type"),a=Ember.inject.service,s=Ember.computed,i(o=r((l=class extends(Ember.Component.extend(t.default)){constructor(){var e,t,n,i
super(...arguments),e=this,t="dropdown",i=this,(n=u)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),d(this,"role","button"),d(this,"dropdownName",null)}get type(){return"button"===this.tagName?"button":null}click(){if(super.click(...arguments),this.dropdown.toggleDropdown(this.dropdownName,this),"a"===this.tagName)return!1}},u=c(l.prototype,"dropdown",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(l.prototype,"type",[s],Object.getOwnPropertyDescriptor(l.prototype,"type"),l.prototype),o=l))||o)||o)
e.default=p})),define("ghost-admin/components/gh-dropdown",["exports","ghost-admin/mixins/dropdown-mixin","@ember-decorators/component"],(function(e,t,n){var i,r,a,s,o,l,u
function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(i=(0,n.classNames)("dropdown"),r=(0,n.classNameBindings)("fadeIn:fade-in-scale:fade-out","isOpen:open:closed"),a=Ember.inject.service,s=Ember.computed("isOpen","closing"),i(o=r((l=class extends(Ember.Component.extend(t.default)){constructor(){var e,t,n,i
super(...arguments),e=this,t="dropdown",i=this,(n=u)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),d(this,"name",null),d(this,"closeOnClick",!1),d(this,"closing",!1),d(this,"isOpen",!1)}onClose(){}get fadeIn(){return this.isOpen&&!this.closing}didInsertElement(){super.didInsertElement(...arguments)
let e=this.dropdown
e.on("close",this,this.close),e.on("toggle",this,this.toggle),this._animationEndHandler=Ember.run.bind(this,(function(e){"fade-out"===e.animationName&&this.closing&&(this.set("isOpen",!1),this.set("closing",!1),this.onClose?.())})),this.element.addEventListener("animationend",this._animationEndHandler)}willDestroyElement(){super.willDestroyElement(...arguments)
let e=this.dropdown
e.off("close",this,this.close),e.off("toggle",this,this.toggle),this.element.removeEventListener("animationend",this._animationEndHandler)}open(){this.set("isOpen",!0),this.set("closing",!1),this.set("button.isOpen",!0)}close(){this.set("closing",!0),this.button&&this.set("button.isOpen",!1)}toggle(e){let t=this.closing,n=this.isOpen,i=this.name,r=e.target,a=this.button
i!==r||n&&!t?n&&this.close():(a||(a=e.button,this.set("button",a)),this.open())}click(){if(super.click(...arguments),this.closeOnClick)return this.close()}},u=c(l.prototype,"dropdown",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(l.prototype,"fadeIn",[s],Object.getOwnPropertyDescriptor(l.prototype,"fadeIn"),l.prototype),o=l))||o)||o)
e.default=p})),define("ghost-admin/components/gh-editor-feature-image",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k
function P(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function O(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const j=Ember.HTMLBars.template({id:"vAr31ryx",block:'{"symbols":["uploader","error","@caption","@updateCaption","@alt","@image","@clearImage"],"statements":[[11,"div"],[24,0,"gh-editor-feature-image-container"],[4,[38,0],["mouseover",[30,[36,4],[[30,[36,3],[[32,0,["isHovered"]]],null],true],null]],null],[4,[38,0],["mouseleave",[30,[36,4],[[30,[36,3],[[32,0,["isHovered"]]],null],false],null]],null],[12],[2,"\\n    "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["setUploadedImage"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,9],[[32,6]],null,[["default"],[{"statements":[[2,"            "],[11,"div"],[24,0,"gh-editor-feature-image-dropzone"],[4,[38,0],["dragover",[32,0,["dragOver"]]],null],[4,[38,0],["dragleave",[32,0,["dragLeave"]]],null],[4,[38,0],["drop",[30,[36,4],[[32,0,["drop"]],[32,1,["setFiles"]]],null]],null],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["canDrop"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-editor-feature-image-drop-indicator bg-green br-pill pe-none"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,1,["errors"]]],null,[["default","else"],[{"statements":[[6,[37,8],[[30,[36,7],[[30,[36,7],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-setting-error"],[12],[2,"\\n                    "],[1,[30,[36,6],[[32,2,["context"]],[32,2,["message"]]],null]],[2,"\\n                    "],[11,"button"],[24,0,"ml2 b"],[24,4,"button"],[4,[38,0],["click",[32,1,["cancel"]]],null],[12],[2,"Retry"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[2]}]]]],"parameters":[]},{"statements":[[6,[37,2],[[32,6]],null,[["default","else"],[{"statements":[[2,"            "],[10,"span"],[14,0,"gh-editor-feature-image-indicator"],[14,"data-tooltip","A feature image is publicly visible to anyone"],[12],[2,"\\n                "],[1,[30,[36,1],["feature-image"],null]],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-editor-feature-image"],[12],[2,"\\n                "],[10,"img"],[15,"src",[32,6]],[12],[13],[2,"\\n                "],[11,"button"],[24,0,"image-delete"],[24,"title","Delete image"],[24,4,"button"],[4,[38,0],["click",[32,7]],null],[12],[2,"\\n                    "],[1,[30,[36,1],["trash"],null]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"flex justify-between align-center"],[12],[2,"\\n"],[6,[37,2],[[32,0,["isEditingAlt"]]],null,[["default","else"],[{"statements":[[2,"                    "],[11,"input"],[24,"placeholder","Add alt text to the feature image"],[24,0,"gh-editor-feature-image-alttext"],[24,3,"alt"],[16,2,[32,5]],[24,4,"text"],[4,[38,5],null,null],[4,[38,0],["input",[32,0,["onAltInput"]]],null],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[8,"koenig-basic-html-input",[],[["@html","@placeholder","@class","@name","@onChange","@onFocus","@onBlur"],[[32,3],[30,[36,2],[[32,0,["captionInputFocused"]],"","Add a caption to the feature image"],null],"gh-editor-feature-image-caption","caption",[32,4],[30,[36,4],[[30,[36,3],[[32,0,["captionInputFocused"]]],null],true],null],[30,[36,4],[[30,[36,3],[[32,0,["captionInputFocused"]]],null],false],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[11,"button"],[24,"title","Toggle between editing alt text and caption"],[16,0,[31,["h-100 pl1 pr1 ba br3 f8 sans-serif fw4 lh-title tracked-2 ",[30,[36,2],[[32,0,["isEditingAlt"]],"bg-green b--green white","bg-white b--midlightgrey midlightgrey"],null]]]],[24,4,"button"],[4,[38,0],["click",[32,0,["toggleAltEditing"]]],[["passive"],[true]]],[12],[2,"\\n                    Alt\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[15,0,[31,["flex flex-row items-center ",[30,[36,2],[[32,0,["hideButton"]],"invisible"],null]]]],[12],[2,"\\n"],[6,[37,2],[[32,0,["canDrop"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-editor-feature-image-add-button"],[12],[10,"span"],[12],[2,"Drop to upload feature image"],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-editor-feature-image-add-button"],[24,4,"button"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[1,[30,[36,1],["plus"],null]],[10,"span"],[12],[2,"Add feature image"],[13],[13],[2,"\\n"],[6,[37,2],[[32,0,["settings","unsplash"]]],null,[["default"],[{"statements":[[2,"                        "],[11,"button"],[24,0,"gh-editor-feature-image-unsplash"],[24,4,"button"],[4,[38,0],["click",[32,0,["toggleUnsplashSelector"]]],null],[12],[1,[30,[36,1],["unsplash"],null]],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n        "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n            "],[8,"gh-file-input",[],[["@multiple","@action","@accept","@onInsert"],[false,[32,1,["setFiles"]],[32,1,["imageMimeTypes"]],[32,1,["registerFileInput"]]]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["showUnsplashSelector"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-unsplash",[],[["@select","@close"],[[32,0,["setUnsplashImage"]],[32,0,["toggleUnsplashSelector"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","svg-jar","if","mut","fn","autofocus","or","-track-array","each","unless"]}',moduleName:"ghost-admin/components/gh-editor-feature-image.hbs"})
let _=(n=Ember.inject.service,i=Ember._tracked,r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._action,u=Ember._action,d=Ember._action,c=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,g=Ember._action,b=class extends t.default{constructor(){super(...arguments),P(this,"settings",f,this),P(this,"isEditingAlt",v,this),P(this,"isHovered",y,this),P(this,"captionInputFocused",w,this),P(this,"showUnsplashSelector",E,this),P(this,"canDrop",k,this)}get hideButton(){return!this.canDrop&&!this.isHovered&&!this.args.forceButtonDisplay}setUploadedImage(e){e[0]&&this.args.updateImage(e[0].url)}setUnsplashImage(e){let{src:t,caption:n}=e
this.args.updateImage(t),this.args.updateCaption(n)}toggleUnsplashSelector(){this.showUnsplashSelector=!this.showUnsplashSelector}toggleAltEditing(){this.isEditingAlt=!this.isEditingAlt}onAltInput(e){this.args.updateAlt(e.target.value)}dragOver(e){if(e.dataTransfer.files){if(navigator.userAgent.indexOf("Chrome")>-1){let t=e.dataTransfer.effectAllowed
e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy"}e.preventDefault(),this.canDrop=!0}}dragLeave(e){e.dataTransfer.files&&(e.preventDefault(),this.canDrop=!1)}drop(e,t){t.dataTransfer.files&&(t.stopPropagation(),t.preventDefault(),this.canDrop=!1,e(t.dataTransfer.files))}},f=O(b.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=O(b.prototype,"isEditingAlt",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=O(b.prototype,"isHovered",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=O(b.prototype,"captionInputFocused",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=O(b.prototype,"showUnsplashSelector",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=O(b.prototype,"canDrop",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O(b.prototype,"setUploadedImage",[l],Object.getOwnPropertyDescriptor(b.prototype,"setUploadedImage"),b.prototype),O(b.prototype,"setUnsplashImage",[u],Object.getOwnPropertyDescriptor(b.prototype,"setUnsplashImage"),b.prototype),O(b.prototype,"toggleUnsplashSelector",[d],Object.getOwnPropertyDescriptor(b.prototype,"toggleUnsplashSelector"),b.prototype),O(b.prototype,"toggleAltEditing",[c],Object.getOwnPropertyDescriptor(b.prototype,"toggleAltEditing"),b.prototype),O(b.prototype,"onAltInput",[p],Object.getOwnPropertyDescriptor(b.prototype,"onAltInput"),b.prototype),O(b.prototype,"dragOver",[m],Object.getOwnPropertyDescriptor(b.prototype,"dragOver"),b.prototype),O(b.prototype,"dragLeave",[h],Object.getOwnPropertyDescriptor(b.prototype,"dragLeave"),b.prototype),O(b.prototype,"drop",[g],Object.getOwnPropertyDescriptor(b.prototype,"drop"),b.prototype),b)
e.default=_,Ember._setComponentTemplate(j,_)})),define("ghost-admin/components/gh-editor-post-status",["exports","@glimmer/component","ghost-admin/config/environment","ghost-admin/helpers/gh-format-post-time","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p
function m(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"GJlKbXdk",block:'{"symbols":["@hasDirtyAttributes","@post","&attrs"],"statements":[[11,"div"],[17,3],[12],[2,"\\n"],[6,[37,1],[[32,0,["isSaving"]]],null,[["default","else"],[{"statements":[[2,"        Saving...\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,2,["isSent"]]],null,[["default","else"],[{"statements":[[2,"        Sent to "],[1,[30,[36,4],[[32,2,["email","emailCount"]],"member"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,3],[[32,2,["emailOnly"]],[32,2,["isScheduled"]]],null]],null,[["default","else"],[{"statements":[[2,"        "],[10,"time"],[15,"datetime",[31,[[32,2,["publishedAtUTC"]]]]],[14,0,"ml1 green f8"],[12],[2,"\\n            Will be sent to "],[8,"gh-recipient-filter-count",[],[["@filter"],[[32,2,["emailRecipientFilter"]]]],null],[2,"\\n            "],[1,[32,0,["scheduledTime"]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,6],[[32,2,["isPublished"]],[32,2,["pastScheduledTime"]]],null]],null,[["default","else"],[{"statements":[[2,"        Published\\n"],[6,[37,1],[[30,[36,6],[[30,[36,5],[[32,2,["email","status"]],"submitting"],null],[30,[36,5],[[32,2,["email","status"]],"submitting"],null]],null]],null,[["default","else"],[{"statements":[[2,"            and sending to "],[1,[30,[36,4],[[32,2,["email","emailCount"]],"member"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,5],[[32,2,["email","status"]],"submitted"],null]],null,[["default"],[{"statements":[[2,"            and sent to "],[1,[30,[36,4],[[32,2,["email","emailCount"]],"member"],null]],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,2,["isScheduled"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"time"],[15,"datetime",[31,[[32,2,["publishedAtUTC"]]]]],[14,0,"ml1 green f8"],[12],[2,"\\n            Will be published\\n"],[6,[37,1],[[30,[36,3],[[32,2,["emailRecipientFilter"]],[30,[36,2],[[32,2,["email"]]],null]],null]],null,[["default"],[{"statements":[[2,"                and sent to "],[8,"gh-recipient-filter-count",[],[["@filter"],[[32,2,["emailRecipientFilter"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[1,[32,0,["scheduledTime"]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,2,["isNew"]]],null,[["default","else"],[{"statements":[[2,"        New\\n"]],"parameters":[]},{"statements":[[2,"        Draft\\n        "],[1,[30,[36,0],[[32,1],"- Saved"],null]],[2,"\\n    "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["unless","if","not","and","gh-pluralize","eq","or"]}',moduleName:"ghost-admin/components/gh-editor-post-status.hbs"})
let b=(a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=(0,r.task)({drop:!0}),u=class extends t.default{constructor(){super(...arguments),m(this,"clock",d,this),m(this,"settings",c,this),m(this,"_isSaving",p,this)}get isSaving(){return this.args.isSaving&&this.showSavingMessage.perform(),this._isSaving}get scheduledTime(){return Ember.get(this.clock,"second"),(0,i.formatPostTime)(this.args.post.publishedAtUTC,{timezone:this.settings.get("timezone"),scheduled:!0})}*showSavingMessage(){this._isSaving=!0,yield(0,r.timeout)("test"===n.default.environment?0:3e3),this.isDestroyed||this.isDestroying||(this._isSaving=!1)}},d=h(u.prototype,"clock",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(u.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h(u.prototype,"_isSaving",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h(u.prototype,"showSavingMessage",[l],Object.getOwnPropertyDescriptor(u.prototype,"showSavingMessage"),u.prototype),u)
e.default=b,Ember._setComponentTemplate(g,b)})),define("ghost-admin/components/gh-editor",["exports","ghost-admin/components/gh-image-uploader","@ember-decorators/component"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g
function b(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"IWeBepOu",block:'{"symbols":["&default"],"statements":[[18,1,[[30,[36,1],null,[["headerHeight","isDraggedOver","isFullScreen","droppedFiles","uploadedImageUrls","imageMimeTypes","imageExtensions","toggleFullScreen","togglePreview","toggleSplitScreen","uploadComplete","uploadCancelled","uploadImages"],[[32,0,["headerHeight"]],[32,0,["isDraggedOver"]],[32,0,["isFullScreen"]],[32,0,["droppedFiles"]],[32,0,["uploadedImageUrls"]],[32,0,["imageMimeTypes"]],[32,0,["imageExtensions"]],[30,[36,0],[[32,0],"toggleFullScreen"],null],[30,[36,0],[[32,0],"togglePreview"],null],[30,[36,0],[[32,0],"toggleSplitScreen"],null],[30,[36,0],[[32,0],"uploadComplete"],null],[30,[36,0],[[32,0],"uploadCancelled"],null],[30,[36,0],[[32,0],"uploadImages"],null]]]]]],[2,"\\n"]],"hasEval":false,"upvars":["action","hash"]}',moduleName:"ghost-admin/components/gh-editor.hbs"})
let w=(i=(0,n.classNameBindings)("isDraggedOver:-drag-over","isFullScreen:gh-editor-fullscreen","isPreview:gh-editor-preview"),r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,d=Ember._action,c=Ember._action,i((m=class extends Ember.Component{constructor(){super(...arguments),b(this,"feature",h,this),b(this,"ui",g,this),f(this,"droppedFiles",null),f(this,"headerHeight",0),f(this,"imageExtensions",t.IMAGE_EXTENSIONS),f(this,"imageMimeTypes",t.IMAGE_MIME_TYPES),f(this,"isDraggedOver",!1),f(this,"isFullScreen",!1),f(this,"isSplitScreen",!1),f(this,"uploadedImageUrls",null),f(this,"_dragCounter",0),f(this,"_onResizeHandler",null),f(this,"_viewActionsWidth",190)}toggleFullScreen(e){this.set("isFullScreen",e),this.ui.set("isFullScreen",e)}togglePreview(e){this.set("isPreview",e)}toggleSplitScreen(e){this.set("isSplitScreen",e)}uploadImages(e,t){let n=Array.from(e)
this.set("droppedFiles",n),t()}uploadComplete(e){this.set("uploadedImageUrls",e.mapBy("url")),this.set("droppedFiles",null)}uploadCancelled(){this.set("droppedFiles",null)}_setHeaderHeight(){if(this.headerClass&&this._editorTitleElement){let e=this._editorTitleElement.offsetHeight
return this.set("headerHeight",e)}this.set("headerHeight",0)}dragOver(e){if(e.dataTransfer){if(navigator.userAgent.indexOf("Chrome")>-1){let t=e.dataTransfer.effectAllowed
e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy"}e.preventDefault(),e.stopPropagation()}}dragEnter(e){e.dataTransfer&&(e.preventDefault(),e.stopPropagation(),this._dragCounter+=1,this.set("isDraggedOver",!0))}dragLeave(e){e.preventDefault(),e.stopPropagation(),this._dragCounter-=1,0===this._dragCounter&&this.set("isDraggedOver",!1)}drop(e){e.preventDefault(),e.stopPropagation(),this._dragCounter=0,this.set("isDraggedOver",!1),e.dataTransfer.files&&this.set("droppedFiles",e.dataTransfer.files)}},h=v(m.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(m.prototype,"ui",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(m.prototype,"toggleFullScreen",[s],Object.getOwnPropertyDescriptor(m.prototype,"toggleFullScreen"),m.prototype),v(m.prototype,"togglePreview",[o],Object.getOwnPropertyDescriptor(m.prototype,"togglePreview"),m.prototype),v(m.prototype,"toggleSplitScreen",[l],Object.getOwnPropertyDescriptor(m.prototype,"toggleSplitScreen"),m.prototype),v(m.prototype,"uploadImages",[u],Object.getOwnPropertyDescriptor(m.prototype,"uploadImages"),m.prototype),v(m.prototype,"uploadComplete",[d],Object.getOwnPropertyDescriptor(m.prototype,"uploadComplete"),m.prototype),v(m.prototype,"uploadCancelled",[c],Object.getOwnPropertyDescriptor(m.prototype,"uploadCancelled"),m.prototype),p=m))||p)
e.default=w,Ember._setComponentTemplate(y,w)})),define("ghost-admin/components/gh-email-preview-link",["exports","@glimmer/component","ghost-admin/components/modals/email-preview"],(function(e,t,n){var i,r,a,s
function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"/XSLP7J7",block:'{"symbols":["@data","&default","&attrs"],"statements":[[11,"a"],[24,6,""],[24,"role","button"],[17,3],[4,[38,1],["click",[32,0,["openPreview"]]],null],[12],[6,[37,2],[[27,[32,2]]],null,[["default","else"],[{"statements":[[18,2,null]],"parameters":[]},{"statements":[[1,[30,[36,0],[[32,1,["subject"]],[32,1,["email","subject"]]],null]]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["or","on","if"]}',moduleName:"ghost-admin/components/gh-email-preview-link.hbs"})
let u=(i=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="modals",i=this,(n=s)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}openPreview(e){return e.preventDefault(),this.modals.open(n.default,this.args.data)}},s=o(a.prototype,"modals",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"openPreview",[r],Object.getOwnPropertyDescriptor(a.prototype,"openPreview"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/gh-error-message",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"mftrBN6Q",block:'{"symbols":["&attrs"],"statements":[[11,"p"],[24,0,"response"],[16,"hidden",[30,[36,0],[[32,0,["message"]],false,true],null]],[17,1],[12],[2,"\\n    "],[1,[32,0,["message"]]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if"]}',moduleName:"ghost-admin/components/gh-error-message.hbs"})
class i extends t.default{get message(){let e,{property:t,errors:n}=this.args,i=[]
return!Ember.isEmpty(n)&&n.get(t)?(n.get(t).forEach((e=>{i.push(e)})),e=Math.floor(Math.random()*i.length),i[e].message):""}}e.default=i,Ember._setComponentTemplate(n,i)})),define("ghost-admin/components/gh-feature-flag",["exports","@ember-decorators/component"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p
function m(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"Vt9dWrff",block:'{"symbols":["&default"],"statements":[[10,"input"],[15,"checked",[32,0,["value"]]],[15,"disabled",[32,0,["disabled"]]],[15,1,[32,0,["for"]]],[15,3,[32,0,["name"]]],[15,"onclick",[30,[36,1],[[32,0],[30,[36,0],[[32,0,["value"]]],null]],[["value"],["target.checked"]]]],[14,4,"checkbox"],[12],[13],[2,"\\n"],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n"],[18,1,null],[2,"\\n"]],"hasEval":false,"upvars":["mut","action"]}',moduleName:"ghost-admin/components/gh-feature-flag.hbs"})
let g=(n=(0,t.tagName)("label"),i=(0,t.classNames)("switch"),r=(0,t.attributeBindings)("for","disabled"),a=Ember.inject.service,s=Ember.computed("_disabled"),o=Ember.computed("_flagValue"),l=Ember.computed("flag"),u=Ember.computed("flag"),n(d=i(d=r((c=class extends Ember.Component{constructor(){var e,t,n,i
super(...arguments),e=this,t="feature",i=this,(n=p)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get disabled(){return!!this._disabled}get value(){return this._flagValue}set value(e){this.set(`feature.${this.flag}`,e)}get for(){return`labs-${this.flag}`}get name(){return`labs[${this.flag}]`}init(){super.init(...arguments),Ember.defineProperty(this,"_flagValue",Ember.computed.readOnly(`feature.${this.flag}`),(function(){return this.get(`feature.${this.flag}`)}))}},p=m(c.prototype,"feature",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(c.prototype,"disabled",[s],Object.getOwnPropertyDescriptor(c.prototype,"disabled"),c.prototype),m(c.prototype,"value",[o],Object.getOwnPropertyDescriptor(c.prototype,"value"),c.prototype),m(c.prototype,"for",[l],Object.getOwnPropertyDescriptor(c.prototype,"for"),c.prototype),m(c.prototype,"name",[u],Object.getOwnPropertyDescriptor(c.prototype,"name"),c.prototype),d=c))||d)||d)||d)
var b=Ember._setComponentTemplate(h,g)
e.default=b})),define("ghost-admin/components/gh-file-input",["exports","emberx-file-input/components/x-file-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{didInsertElement(){super.didInsertElement(...arguments),this.onInsert?.(this.element.querySelector('input[type="file"]'))}change(e){let t=this.action,n=this.files(e)
n.length&&t&&t(n,this.resetInput.bind(this))}files(e){return(e.originalEvent||e).testingFiles||e.originalEvent?.files||e.target.files}resetInput(){let e=this.element.querySelector(".x-file--input")
e.removeAttribute("value"),e.value=null
const t=e.cloneNode(!0)
return e.parentNode.replaceChild(t,e),t}}e.default=n})),define("ghost-admin/components/gh-file-upload",["exports"],(function(e){var t,n
function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"PrMKoXEs",block:'{"symbols":[],"statements":[[10,"input"],[14,0,"gh-input gh-input-file q"],[14,"data-url","upload"],[14,3,"importfile"],[15,"accept",[31,[[32,0,["acceptEncoding"]]]]],[14,4,"file"],[12],[13],[2,"\\n"],[11,"button"],[24,1,"startupload"],[24,0,"gh-btn gh-btn-hover-blue"],[16,"disabled",[32,0,["uploadButtonDisabled"]]],[24,4,"submit"],[4,[38,0],[[32,0],"upload"],null],[12],[2,"\\n    "],[10,"span"],[12],[1,[32,0,["uploadButtonText"]]],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action"]}',moduleName:"ghost-admin/components/gh-file-upload.hbs"})
let a=(t=Ember._action,n=class extends Ember.Component{constructor(){super(...arguments),i(this,"_file",null),i(this,"acceptEncoding",null),i(this,"uploadButtonText","Text"),i(this,"uploadButtonDisabled",!0),i(this,"shouldResetForm",!0)}onUpload(){}onAdd(){}upload(){!this.uploadButtonDisabled&&this._file&&this.onUpload(this._file),this.set("uploadButtonDisabled",!0),this.shouldResetForm&&this.element.closest("form").reset()}change(e){this.set("uploadButtonDisabled",!1),this.onAdd(),this._file=e.target.files[0]}},s=n.prototype,o="upload",l=[t],u=Object.getOwnPropertyDescriptor(n.prototype,"upload"),d=n.prototype,c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),n)
var s,o,l,u,d,c
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/gh-file-uploader",["exports","ghost-admin/services/ajax"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"nfPpBCkL",block:'{"symbols":[],"statements":[[6,[37,1],[[32,0,["file"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["failureMessage"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"failed"],[12],[1,[32,0,["failureMessage"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[10,"div"],[14,0,"progress-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"progress"],[12],[2,"\\n            "],[10,"div"],[15,0,[31,["bar ",[30,[36,1],[[32,0,["failureMessage"]],"fail"],null]]]],[15,5,[32,0,["progressStyle"]]],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[6,[37,1],[[32,0,["failureMessage"]]],null,[["default"],[{"statements":[[2,"        "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[10,"span"],[12],[2,"Try Again"],[13],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"upload-form"],[12],[2,"\\n        "],[8,"gh-file-input",[],[["@multiple","@alt","@action","@accept"],[false,[32,0,["labelText"]],[30,[36,0],[[32,0],"fileSelected"],null],[32,0,["accept"]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[14,0,"description"],[12],[1,[32,0,["labelText"]]],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","if"]}',moduleName:"ghost-admin/components/gh-file-uploader.hbs"}),i={accept:["text/csv"],extensions:["csv"]}
var r=Ember._setComponentTemplate(n,Ember.Component.extend({ajax:Ember.inject.service(),eventBus:Ember.inject.service(),notifications:Ember.inject.service(),tagName:"section",classNames:["gh-image-uploader"],classNameBindings:["dragClass"],labelText:"Select or drag-and-drop a file",url:null,paramName:"file",accept:null,extensions:null,validate:null,file:null,response:null,dragClass:null,failureMessage:null,uploadPercentage:0,fileSelected:()=>{},uploadStarted:()=>{},uploadFinished:()=>{},uploadSuccess:()=>{},uploadFailed:()=>{},formData:Ember.computed("file",(function(){let e=this.paramName,t=this.file,n=new FormData
return n.append(e,t),n})),progressStyle:Ember.computed("uploadPercentage",(function(){let e=this.uploadPercentage,t=""
return t=e>0?`${e}%`:"0",Ember.String.htmlSafe(`width: ${t}`)})),init(){this._super(...arguments)
let e=this.listenTo
this.accept=this.accept||i.accept,this.extensions=this.extensions||i.extensions,this._uploadEventHandler=function(e){e&&this.set("file",e),this.send("upload")},e&&this.eventBus.subscribe(`${e}:upload`,this,this._uploadEventHandler)},didReceiveAttrs(){this._super(...arguments)
let e=this.accept,t=this.extensions
this._accept=Ember.isBlank(e)||Ember.isArray(e)?e:e.split(","),this._extensions=Ember.isBlank(t)||Ember.isArray(t)?t:t.split(",")},willDestroyElement(){let e=this.listenTo
this._super(...arguments),e&&this.eventBus.unsubscribe(`${e}:upload`,this,this._uploadEventHandler)},actions:{fileSelected(e,t){let[n]=Array.from(e),i=this._validate(n)
this.set("file",n),this.fileSelected(n),!0===i?Ember.run.schedule("actions",this,(function(){this.generateRequest(),t&&t()})):(this._uploadFailed(i),t&&t())},upload(){this.file&&this.generateRequest()},reset(){this.set("file",null),this.set("uploadPercentage",0),this.set("failureMessage",null)}},dragOver(e){if(e.dataTransfer){if(navigator.userAgent.indexOf("Chrome")>-1){let t=e.dataTransfer.effectAllowed
e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy"}e.stopPropagation(),e.preventDefault(),this.set("dragClass","-drag-over")}},dragLeave(e){e.preventDefault(),this.set("dragClass",null)},drop(e){e.preventDefault(),this.set("dragClass",null),e.dataTransfer.files&&this.send("fileSelected",e.dataTransfer.files)},generateRequest(){let e=this.ajax,t=this.formData,n=this.url
this.uploadStarted(),e.post(n,{data:t,processData:!1,contentType:!1,dataType:"text",xhr:()=>{let e=new window.XMLHttpRequest
return e.upload.addEventListener("progress",(e=>{this._uploadProgress(e)}),!1),e}}).then((e=>{this._uploadSuccess(JSON.parse(e))})).catch((e=>{this._uploadFailed(e)})).finally((()=>{this.uploadFinished()}))},_uploadProgress(e){!e.lengthComputable||this.isDestroyed||this.isDestroying||Ember.run((()=>{let t=Math.round(e.loaded/e.total*100)
this.set("uploadPercentage",t)}))},_uploadSuccess(e){this.uploadSuccess(e),this.send("reset")},_uploadFailed(e){let n;(0,t.isVersionMismatchError)(e)&&this.notifications.showAPIError(e),n=(0,t.isUnsupportedMediaTypeError)(e)?"The file type you uploaded is not supported.":(0,t.isRequestEntityTooLargeError)(e)?"The file you uploaded was larger than the maximum file size your server allows.":e.payload&&e.payload.errors&&!Ember.isBlank(e.payload.errors[0].message)?Ember.String.htmlSafe(e.payload.errors[0].message):"Something went wrong :(",this.set("failureMessage",n),this.uploadFailed(e)},_validate(e){return this.validate?this.validate(e):this._defaultValidator(e)},_defaultValidator(e){let[,n]=/(?:\.([^.]+))?$/.exec(e.name),i=this._extensions
return!(!n||-1===i.indexOf(n.toLowerCase()))||new t.UnsupportedMediaTypeError}}))
e.default=r})),define("ghost-admin/components/gh-font-selector",["exports","@glimmer/component"],(function(e,t){var n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"PVCdVgGU",block:'{"symbols":["option"],"statements":[[8,"power-select",[],[["@options","@selected","@onChange","@disabled","@renderInPlace","@triggerClass","@dropdownClass"],[[32,0,["options"]],[32,0,["selectedOption"]],[32,0,["selectOption"]],[30,[36,0],[[32,0,["settings","membersSignupAccess"]],"none"],null],true,"gh-setting-dropdown","gh-setting-dropdown-list"]],[["default"],[{"statements":[[2,"\\n    "],[10,"div"],[15,0,[31,["gh-radio-label ",[30,[36,1],[[32,1,["value"]]],null]]]],[12],[2,"\\n        "],[10,"div"],[14,0,"description"],[12],[2,"\\n            "],[10,"h4"],[12],[1,[32,1,["name"]]],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[1]}]]]],"hasEval":false,"upvars":["eq","dasherize"]}',moduleName:"ghost-admin/components/gh-font-selector.hbs"})
let a=(n=Ember._action,i=class extends t.default{get options(){return[{name:"Elegant serif",description:"Beautiful lines with great readability",value:"serif"},{name:"Clean sans-serif",description:"A more minimal style with sharp lines",value:"sans_serif"}]}get selectedOption(){return this.options.find((e=>e.value===this.args.selected))}selectOption(e){this.args.onChange(e.value)}},s=i.prototype,o="selectOption",l=[n],u=Object.getOwnPropertyDescriptor(i.prototype,"selectOption"),d=i.prototype,c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),i)
var s,o,l,u,d,c
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/gh-form-group",["exports","ghost-admin/components/gh-validation-status-container","@ember-decorators/component"],(function(e,t,n){var i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(0,n.classNames)("form-group")(i=class extends t.default{})||i
e.default=r})),define("ghost-admin/components/gh-fullscreen-modal",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"nbYWNRTH",block:'{"symbols":["ModalComponent","&default"],"statements":[[8,"liquid-wormhole",[],[["@class"],["fullscreen-modal-container"]],[["default"],[{"statements":[[2,"\\n    "],[11,"div"],[24,0,"fullscreen-modal-background"],[4,[38,0],[[32,0],"clickOverlay"],null],[12],[13],[2,"\\n    "],[10,"div"],[15,0,[32,0,["modalClasses"]]],[12],[2,"\\n"],[6,[37,4],[[27,[32,2]]],null,[["default","else"],[{"statements":[[2,"          "],[18,2,null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,0,["modalPath"]]],null]],null,[["default"],[{"statements":[[2,"                "],[8,[32,1],[],[["@model","@confirm","@closeModal","@modifier","@updateModifier"],[[32,0,["model"]],[30,[36,0],[[32,0],"confirm"],null],[30,[36,0],[[32,0],"close"],null],[32,0,["modifier"]],[30,[36,0],[[32,0],[30,[36,1],[[32,0,["modifier"]]],null]],null]]],null],[2,"\\n"]],"parameters":[1]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"]],"hasEval":false,"upvars":["action","mut","component","let","if"]}',moduleName:"ghost-admin/components/gh-fullscreen-modal.hbs"}),n=Ember.Component.extend({dropdown:Ember.inject.service(),model:null,modifier:null,modalPath:Ember.computed("modal",(function(){return`modal-${this.modal||"unknown"}`})),modalClasses:Ember.computed("modifier",(function(){let e="fullscreen-modal",t=(this.modifier||"").split(" "),n=Ember.A([e])
return t.forEach((t=>{if(!Ember.isBlank(t)){let i=`${e}-${t}`
n.push(i)}})),n.join(" ")})),didInsertElement(){this._super(...arguments),Ember.run.schedule("afterRender",this,(function(){this.dropdown.closeDropdowns()}))},actions:{close(){return this.close(...arguments)},confirm(){return this.confirm(...arguments)},clickOverlay(){this.send("close")}},close:()=>Ember.RSVP.resolve(),confirm:()=>Ember.RSVP.resolve()})
var i=Ember._setComponentTemplate(t,n)
e.default=i})),define("ghost-admin/components/gh-html-iframe",["exports","@glimmer/component"],(function(e,t){var n,i,r,a
function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"Lp0HjOlk",block:'{"symbols":["&attrs","@html"],"statements":[[11,"div"],[17,1],[4,[38,0],[[32,0,["replaceIframeContents"]]],null],[4,[38,1],[[32,0,["replaceIframeContents"]],[32,2]],null],[12],[2,"\\n    "],[11,"iframe"],[24,0,"w-100 h-100"],[4,[38,0],[[32,0,["registerIframe"]]],null],[4,[38,2],["load",[32,0,["didLoad"]]],null],[12],[13],[2,"\\n    "],[11,"iframe"],[24,0,"w-100 h-100"],[4,[38,0],[[32,0,["registerIframe"]]],null],[4,[38,2],["load",[32,0,["didLoad"]]],null],[12],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["did-insert","did-update","on"]}',moduleName:"ghost-admin/components/gh-html-iframe.hbs"})
let u=(n=Ember._action,i=Ember._action,r=Ember._action,a=class extends t.default{constructor(){super(...arguments),s(this,"iframes",[]),s(this,"renderedIframe",0),s(this,"toRenderIframe",1)}get hiddenIframeStyle(){return"position: absolute; visibility: hidden; border: none;"}get visibleIframeStyle(){return"border: none;"}replaceIframeContents(){const e=this.iframes[this.toRenderIframe]
e&&this.args.html&&(e.contentWindow.document.open(),e.contentWindow.document.write(this.args.html),e.contentWindow.document.close(),this.swapTimeout=setTimeout((()=>{this.swapIframes(e)}),500))}registerIframe(e){this.iframes.push(e),0===this.iframes.indexOf(e)&&(e.style=this.visibleIframeStyle,this.replaceIframeContents()),1===this.iframes.indexOf(e)&&(e.style=this.hiddenIframeStyle)}didLoad(e){this.isDestroyed||this.isDestroying||this.swapIframes(e.target)}swapIframes(e){if(!this.isDestroyed&&!this.isDestroying&&(window.clearTimeout(this.swapTimeout),this.iframes.indexOf(e)!==this.renderedIframe)){let e=this.iframes[this.renderedIframe].contentDocument.body.scrollTop
this._lastPageId!==this.args.pageId&&(e=0),this._lastPageId=this.args.pageId,this.iframes[this.toRenderIframe].contentDocument.body.scrollTop=e,this.iframes[this.toRenderIframe].style=this.visibleIframeStyle,this.renderedIframe=this.toRenderIframe,this.toRenderIframe=0===this.toRenderIframe?1:0,this.iframes[this.toRenderIframe].style=this.hiddenIframeStyle}}},o(a.prototype,"replaceIframeContents",[n],Object.getOwnPropertyDescriptor(a.prototype,"replaceIframeContents"),a.prototype),o(a.prototype,"registerIframe",[i],Object.getOwnPropertyDescriptor(a.prototype,"registerIframe"),a.prototype),o(a.prototype,"didLoad",[r],Object.getOwnPropertyDescriptor(a.prototype,"didLoad"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/gh-image-uploader-with-preview",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"dgJDQBjV",block:'{"symbols":["@text","@altText","@allowUnsplash","@update","@uploadStarted","@uploadFinished","@image","@remove"],"statements":[[6,[37,4],[[32,7]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-image-uploader -with-image"],[12],[2,"\\n        "],[10,"div"],[12],[10,"img"],[15,"src",[32,7]],[12],[13],[13],[2,"\\n        "],[11,"a"],[24,0,"image-delete"],[24,"title","Delete"],[4,[38,2],["click",[30,[36,1],[[32,8],""],null]],null],[12],[2,"\\n            "],[1,[30,[36,3],["trash"],null]],[2,"\\n            "],[10,"span"],[14,0,"hidden"],[12],[2,"Delete"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"gh-image-uploader",[],[["@text","@altText","@allowUnsplash","@update","@uploadStarted","@uploadFinished"],[[32,1],[32,2],[32,3],[32,4],[30,[36,0],[[32,5]],null],[30,[36,0],[[32,6]],null]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["optional","fn","on","svg-jar","if"]}',moduleName:"ghost-admin/components/gh-image-uploader-with-preview.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/gh-image-uploader",["exports","ghost-admin/utils/ghost-paths","ghost-admin/services/ajax"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.IMAGE_PARAMS=e.IMAGE_MIME_TYPES=e.IMAGE_EXTENSIONS=e.ICON_PARAMS=e.ICON_MIME_TYPES=e.ICON_EXTENSIONS=void 0
const i=Ember.HTMLBars.template({id:"uoI/bA/P",block:'{"symbols":[],"statements":[[6,[37,4],[[32,0,["file"]]],null,[["default","else"],[{"statements":[[6,[37,4],[[32,0,["failureMessage"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"failed"],[12],[1,[32,0,["failureMessage"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[10,"div"],[14,0,"progress-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"progress"],[12],[2,"\\n            "],[10,"div"],[15,0,[31,["bar ",[30,[36,4],[[32,0,["failureMessage"]],"fail"],null]]]],[15,5,[32,0,["progressStyle"]]],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[6,[37,4],[[32,0,["failureMessage"]]],null,[["default"],[{"statements":[[2,"        "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[10,"span"],[12],[2,"Try Again"],[13],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"upload-form"],[12],[2,"\\n        "],[8,"gh-file-input",[],[["@multiple","@alt","@action","@accept"],[false,[32,0,["description"]],[30,[36,0],[[32,0],"fileSelected"],null],[32,0,["accept"]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[14,0,"gh-btn gh-btn-white"],[12],[10,"span"],[12],[1,[32,0,["description"]]],[13],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,4],[[30,[36,3],[[32,0,["allowUnsplash"]],[32,0,["settings","unsplash"]]],null]],null,[["default"],[{"statements":[[2,"            "],[11,"div"],[24,0,"gh-image-uploader-unsplash"],[4,[38,0],[[32,0],[30,[36,1],["_showUnsplash",[32,0]],null]],null],[12],[2,"\\n                "],[1,[30,[36,2],["unsplash"],null]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["_showUnsplash"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-unsplash",[],[["@select","@close"],[[30,[36,0],[[32,0],"addUnsplashPhoto"],null],[30,[36,0],[[32,0],[30,[36,1],["_showUnsplash",[32,0]],null]],null]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","toggle","svg-jar","and","if"]}',moduleName:"ghost-admin/components/gh-image-uploader.hbs"}),r="image/gif,image/jpg,image/jpeg,image/png,image/svg+xml,image/webp"
e.IMAGE_MIME_TYPES=r
const a=["gif","jpg","jpeg","png","svg","webp"]
e.IMAGE_EXTENSIONS=a
const s={purpose:"image"}
e.IMAGE_PARAMS=s
e.ICON_EXTENSIONS=["ico","png"]
e.ICON_MIME_TYPES="image/png,image/x-icon"
e.ICON_PARAMS={purpose:"icon"}
var o=Ember._setComponentTemplate(i,Ember.Component.extend({ajax:Ember.inject.service(),config:Ember.inject.service(),notifications:Ember.inject.service(),settings:Ember.inject.service(),tagName:"section",classNames:["gh-image-uploader"],classNameBindings:["dragClass"],image:null,text:"",altText:"",saveButton:!0,accept:"",extensions:null,uploadUrl:null,paramName:"file",paramsHash:null,resourceName:"images",validate:null,allowUnsplash:!1,dragClass:null,failureMessage:null,file:null,url:null,uploadPercentage:0,_defaultAccept:r,_defaultExtensions:a,_defaultUploadUrl:"/images/upload/",_defaultParamsHash:s,_showUnsplash:!1,fileSelected:()=>{},update:()=>{},uploadStarted:()=>{},uploadFinished:()=>{},uploadSuccess:()=>{},uploadFailed:()=>{},formData:Ember.computed("file",(function(){let e=this.file,t=new FormData
return t.append(this.paramName,e),Object.keys(this.paramsHash||{}).forEach((e=>{t.append(e,this.paramsHash[e])})),t})),description:Ember.computed("text","altText",(function(){let e=this.altText
return this.text||(e?`Upload image of "${e}"`:"Upload an image")})),progressStyle:Ember.computed("uploadPercentage",(function(){let e=this.uploadPercentage,t=""
return t=e>0?`${e}%`:"0",Ember.String.htmlSafe(`width: ${t}`)})),init(){this._super(...arguments),this.accept||this.set("accept",this._defaultAccept),this.extensions||this.set("extensions",this._defaultExtensions),this.uploadUrl||this.set("uploadUrl",this._defaultUploadUrl),this.paramsHash||this.set("paramsHash",this._defaultParamsHash)},didReceiveAttrs(){this._super(...arguments)
let e=this.image
this.set("url",e)},actions:{fileSelected(e,t){let n=e[0],i=this._validate(n)
this.set("file",n),this.fileSelected(n),!0===i?Ember.run.schedule("actions",this,(function(){this.generateRequest(),t&&t()})):(this._uploadFailed(i),t&&t())},addUnsplashPhoto(e){let{src:t}=e
this.set("url",t),this.send("saveUrl")},reset(){this.set("file",null),this.set("uploadPercentage",0)},saveUrl(){let e=this.url
this.update(e)}},dragOver(e){if(e.dataTransfer){if(navigator.userAgent.indexOf("Chrome")>-1){let t=e.dataTransfer.effectAllowed
e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy"}e.stopPropagation(),e.preventDefault(),this.set("dragClass","-drag-over")}},dragLeave(e){e.preventDefault(),this.set("dragClass",null)},drop(e){e.preventDefault(),this.set("dragClass",null),e.dataTransfer.files&&this.send("fileSelected",e.dataTransfer.files)},_uploadProgress(e){e.lengthComputable&&Ember.run((()=>{let t=Math.round(e.loaded/e.total*100)
this.isDestroyed||this.isDestroying||this.set("uploadPercentage",t)}))},_uploadSuccess(e){let t,n
try{t=JSON.parse(e)}catch(i){if(!(i instanceof SyntaxError))throw i}if(t){let e=Ember.get(t,this.resourceName)
e&&Ember.isArray(e)&&e[0]&&(n=Ember.get(e[0],"url"))}this.set("url",n),this.send("saveUrl"),this.send("reset"),this.uploadSuccess(n)},_uploadFailed(e){let t
if((0,n.isVersionMismatchError)(e)&&this.notifications.showAPIError(e),(0,n.isUnsupportedMediaTypeError)(e)){let e=this.extensions.join(", .").toUpperCase()
e=`.${e}`,t=`The image type you uploaded is not supported. Please use ${e}`}else t=(0,n.isRequestEntityTooLargeError)(e)?"The image you uploaded was larger than the maximum file size your server allows.":e.payload.errors&&!Ember.isBlank(e.payload.errors[0].message)?e.payload.errors[0].message:"Something went wrong :("
this.set("failureMessage",t),this.uploadFailed(e)},generateRequest(){let e=this.ajax,n=this.formData,i=this.uploadUrl,r=`${(0,t.default)().apiRoot}${i}`
this.uploadStarted(),e.post(r,{data:n,processData:!1,contentType:!1,dataType:"text",xhr:()=>{let e=new window.XMLHttpRequest
return e.upload.addEventListener("progress",(e=>{this._uploadProgress(e)}),!1),e}}).then((e=>{this._uploadSuccess(e)})).catch((e=>{this._uploadFailed(e)})).finally((()=>{this.uploadFinished()}))},_validate(e){return this.validate?this.validate(e):this._defaultValidator(e)},_defaultValidator(e){let t=this.extensions,[,i]=/(?:\.([^.]+))?$/.exec(e.name)
return Ember.isArray(t)||(t=t.split(",")),!(!i||-1===t.indexOf(i.toLowerCase()))||new n.UnsupportedMediaTypeError}}))
e.default=o})),define("ghost-admin/components/gh-infinity-loader",["exports","ember-infinity/components/infinity-loader"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"LSg2nsN+",block:'{"symbols":["&default"],"statements":[[6,[37,0],[[32,0,["isVisible"]]],null,[["default"],[{"statements":[[2,"    "],[11,"div"],[16,0,[31,[[32,0,["loaderClassNames"]],[30,[36,0],[[32,0,["viewportEntered"]]," in-viewport"],null],[30,[36,0],[[32,0,["isDoneLoading"]]," reached-infinity"],null]]]],[4,[38,1],[[32,0,["didInsertLoader"]],[32,0]],null],[12],[2,"\\n\\n"],[6,[37,0],[[27,[32,1]]],null,[["default","else"],[{"statements":[[2,"            "],[18,1,[[32,0,["infinityModelContent"]]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["isDoneLoading"]]],null,[["default","else"],[{"statements":[],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["if","did-insert"]}',moduleName:"ghost-admin/components/gh-infinity-loader.hbs"})
class i extends t.default{}e.default=i,Ember._setComponentTemplate(n,i)}))
define("ghost-admin/components/gh-input-with-select/index",["exports","@glimmer/component","ember-power-select/utils/group-utils"],(function(e,t,n){var i,r,a,s,o
function l(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"UyAmA6Gj",block:'{"symbols":["Select","option","term","&default","@suggestedOptionComponent","@afterOptionsComponent","@allowClear","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@buildSelection","@calculatePosition","@class","@closeOnSelect","@defaultHighlighted","@destination","@dir","@disabled","@dropdownClass","@closeWhenEmpty","@openOnFocus","@autofocus","@value","@extra","@groupComponent","@highlightOnHover","@horizontalPosition","@initiallyOpened","@loadingMessage","@matchTriggerWidth","@noMatchesMessage","@onBlur","@onClose","@onFocus","@onInput","@onKeydown","@onOpen","@options","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@scrollTo","@searchField","@searchMessage","@searchMessageComponent","@searchPlaceholder","@selected","@selectedItemComponent","@triggerClass","@tabindex","@triggerComponent","@triggerId","@triggerRole","@typeAheadMatcher","@verticalPosition","&attrs","@powerSelectComponentName"],"statements":[[6,[37,5],[[30,[36,1],[[30,[36,0],[[32,61],"power-select"],null]],null]],null,[["default"],[{"statements":[[2,"    "],[8,[32,1],[[17,60]],[["@afterOptionsComponent","@allowClear","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@beforeOptionsComponent","@buildSelection","@calculatePosition","@class","@closeOnSelect","@defaultHighlighted","@destination","@dir","@disabled","@dropdownClass","@extra","@groupComponent","@highlightOnHover","@horizontalPosition","@initiallyOpened","@loadingMessage","@matchTriggerWidth","@matcher","@noMatchesMessage","@onBlur","@onChange","@onClose","@onFocus","@onInput","@onKeydown","@onOpen","@options","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@scrollTo","@search","@searchEnabled","@searchField","@searchMessage","@searchMessageComponent","@searchPlaceholder","@selected","@selectedItemComponent","@tabindex","@triggerClass","@triggerComponent","@triggerId","@triggerRole","@typeAheadMatcher","@verticalPosition"],[[32,6],[32,7],[32,8],[32,9],[32,10],[32,11],[32,0,["beforeOptionsComponent"]],[32,12],[32,13],[32,14],[32,15],[32,16],[32,17],[32,18],[32,19],[32,20],[30,[36,3],[[32,25],[30,[36,2],null,[["value","autofocus","openOnFocus","closeWhenEmpty"],[[32,24],[32,23],[32,22],[32,21]]]]],null],[32,26],[32,27],[32,28],[32,29],[32,30],[32,31],[32,0,["matcher"]],[30,[36,0],[[32,32],""],null],[32,33],[32,0,["selectOrCreate"]],[32,34],[32,35],[32,36],[32,37],[32,38],[32,39],[32,40],[32,41],[32,42],[32,43],[32,44],[32,45],[32,46],[32,0,["searchAndSuggest"]],false,[30,[36,0],[[32,47],"name"],null],[32,48],[32,49],[32,50],[32,51],[32,52],"-1",[31,["ember-power-select-multiple-trigger gh-input-with-select-trigger ",[32,53]]],[30,[36,1],[[30,[36,0],[[32,55],"gh-input-with-select/trigger"],null]],[["tabindex"],[[32,54]]]],[32,56],[32,57],[32,58],[32,59]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,4],[[32,2,["__isSuggestion__"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,1],[[30,[36,0],[[32,5],"gh-input-with-select/suggested-option"],null]],[["option","term"],[[32,2],[32,3]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[18,4,[[32,2],[32,3]]],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[2,3]}]]],[2,"\\n"]],"parameters":[1]}]]]],"hasEval":false,"upvars":["or","component","hash","assign","if","let"]}',moduleName:"ghost-admin/components/gh-input-with-select/index.hbs"})
let d=(i=Ember._tracked,r=Ember._action,a=Ember._action,s=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="searchEnabled",i=this,(n=o)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get matcher(){return this.args.matcher||n.defaultMatcher}get valueField(){return this.args.valueField||"name"}shouldShowCreateOption(e,t){return!!this.args.showCreate||!!this.args.showCreateWhen&&this.args.showCreateWhen(e,t)}addCreateOption(e,t){this.shouldShowCreateOption(e,t)&&("bottom"===this.args.showCreatePosition?t.push(this.buildSuggestionForTerm(e)):t.unshift(this.buildSuggestionForTerm(e)))}searchAndSuggest(e,t){return Ember.RSVP.resolve(this.args.options).then((n=>{if(0===e.length)return n
let i=this.args.search
return i?Ember.RSVP.resolve(i(e,t)).then((t=>(t.toArray&&(t=t.toArray()),this.addCreateOption(e,t),t))):(n=this.filter(n,e),this.addCreateOption(e,n),n)}))}selectOrCreate(e,t,n){if(t&&!t.isOpen)return
const i=e.__value__||Ember.get(e,this.valueField)
return this.args.onChange?this.args.onChange(i,t,n):this.args.onInput(i,t,n)}filter(e,t){let i
return i=this.args.searchField?(e,t)=>this.matcher(Ember.get(e,this.args.searchField),t):(e,t)=>this.matcher(e,t),(0,n.filterOptions)(e||[],t,i)}buildSuggestionForTerm(e){return{__isSuggestion__:!0,__value__:e,text:this.buildSuggestionLabel(e)}}buildSuggestionLabel(e){return this.args.buildSuggestion?this.args.buildSuggestion(e):`Create "${e}"...`}},o=l(s.prototype,"searchEnabled",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),l(s.prototype,"searchAndSuggest",[r],Object.getOwnPropertyDescriptor(s.prototype,"searchAndSuggest"),s.prototype),l(s.prototype,"selectOrCreate",[a],Object.getOwnPropertyDescriptor(s.prototype,"selectOrCreate"),s.prototype),s)
e.default=d,Ember._setComponentTemplate(u,d)})),define("ghost-admin/components/gh-input-with-select/suggested-option",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"GPpqdF7N",block:'{"symbols":["@option"],"statements":[[10,"span"],[14,0,"gh-btn-create-snippet"],[12],[1,[32,1,["text"]]],[1,[30,[36,0],["add"],null]],[13]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/components/gh-input-with-select/suggested-option.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/gh-input-with-select/trigger",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u,d,c
function p(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"+RuDgjQq",block:'{"symbols":["@extra","@placeholder","@select"],"statements":[[6,[37,1],[[32,1,["inputIcon"]]],null,[["default"],[{"statements":[[2,"    "],[1,[30,[36,0],[[32,1,["inputIcon"]]],[["class"],[[32,1,["inputIconClass"]]]]]],[2,"\\n"]],"parameters":[]}]]],[11,"input"],[24,0,"gh-input-with-select-input"],[16,"autofocus",[32,1,["autofocus"]]],[24,"autocomplete","off"],[24,"autocorrect","off"],[24,"autocapitalize","off"],[16,2,[32,1,["value"]]],[24,3,"selectSearchTerm"],[24,"spellcheck","false"],[24,"role","combobox"],[16,"placeholder",[32,2]],[16,"disabled",[32,3,["disabled"]]],[16,4,[30,[36,2],[[32,1,["inputType"]],"text"],null]],[4,[38,3],[[32,0,["registerInput"]]],null],[4,[38,4],[[32,0,["closeWhenEmpty"]],[32,3,["results"]]],null],[4,[38,5],["input",[32,0,["handleInput"]]],null],[4,[38,5],["keydown",[32,0,["handleKeydown"]]],null],[4,[38,5],["keyup",[32,0,["handleKeyup"]]],null],[4,[38,5],["focus",[32,0,["handleFocus"]]],null],[4,[38,5],["blur",[32,0,["handleBlur"]]],null],[12],[13]],"hasEval":false,"upvars":["svg-jar","if","or","did-insert","did-update","on"]}',moduleName:"ghost-admin/components/gh-input-with-select/trigger.hbs"})
let h=(n=Ember.inject.service,i=Ember._action,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,d=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="dropdown",i=this,(n=c)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"inputElem",null),this.dropdown.on("close",this,this.closeFromDropdown)}willDestroy(){super.willDestroy(...arguments),this.dropdown.off("close",this,this.closeFromDropdown)}closeFromDropdown(){this.args.select.actions.close()}registerInput(e){this.inputElem=e,this.args.extra?.autofocus&&this.inputElem.focus()}handleInput(e){let t=e.target.value
Ember.isBlank(t)===this.args.select.isOpen&&(Ember.isBlank(t)?this.close():this.open()),this.args.onInput?.(e)}handleKeydown(e){("Escape"===e.key&&e.target.value||"Enter"===e.key)&&(this._previousKeyScope=key.getScope(),key.setScope("ignore"))}handleKeyup(){"ignore"===key.getScope()&&key.setScope(this._previousKeyScope)}handleFocus(){this.args.extra?.openOnFocus&&this.args.select.results.length>0&&this.open(),this.args.onFocus?.(...arguments),!1===this.args.extra.showSearchMessage&&0===this.args.select.results.length&&this.close()}handleBlur(e){if(e?.relatedTarget){const t=this.inputElem.closest(".ember-basic-dropdown-trigger")
e.relatedTarget.closest(".ember-basic-dropdown-trigger")!==t&&(this.args.select.actions.search(""),this.close())}this.args.extra?.value&&this.args.select.searchText===this.args.extra.value&&(this.args.select.actions.search(""),this.close()),this.args.onBlur?.(...arguments)}closeWhenEmpty(){document.activeElement===this.inputElem&&this.args.extra?.closeWhenEmpty&&(this.args.select.results.length>0&&this.open(),0===this.args.select.results.length&&this.close())}open(){this.args.select.isOpen||this.args.select.actions.open(null,!0)}close(){this.args.select.isOpen&&this.args.select.actions.close(null,!0)}},c=p(d.prototype,"dropdown",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(d.prototype,"registerInput",[i],Object.getOwnPropertyDescriptor(d.prototype,"registerInput"),d.prototype),p(d.prototype,"handleInput",[r],Object.getOwnPropertyDescriptor(d.prototype,"handleInput"),d.prototype),p(d.prototype,"handleKeydown",[a],Object.getOwnPropertyDescriptor(d.prototype,"handleKeydown"),d.prototype),p(d.prototype,"handleKeyup",[s],Object.getOwnPropertyDescriptor(d.prototype,"handleKeyup"),d.prototype),p(d.prototype,"handleFocus",[o],Object.getOwnPropertyDescriptor(d.prototype,"handleFocus"),d.prototype),p(d.prototype,"handleBlur",[l],Object.getOwnPropertyDescriptor(d.prototype,"handleBlur"),d.prototype),p(d.prototype,"closeWhenEmpty",[u],Object.getOwnPropertyDescriptor(d.prototype,"closeWhenEmpty"),d.prototype),d)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/gh-koenig-editor",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h
function g(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"SnENNyM5",block:'{"symbols":["&attrs","@featureImage","@setFeatureImage","@clearFeatureImage","@featureImageAlt","@setFeatureImageAlt","@featureImageCaption","@setFeatureImageCaption","@title","@titlePlaceholder","@titleAutofocus","@onTitleBlur","@body","@bodyPlaceholder","@onBodyChange","@headerOffset","@scrollContainerSelector","@scrollOffsetTopSelector","@scrollOffsetBottomSelector","@onWordCountChange","@snippets","@saveSnippet","@updateSnippet","@deleteSnippet","@cardOptions","@postType"],"statements":[[11,"div"],[24,0,"gh-koenig-editor relative w-100 vh-100 overflow-x-hidden overflow-y-auto z-0"],[17,1],[4,[38,0],[[32,0,["registerElement"]]],null],[12],[2,"\\n"],[2,"    "],[11,"div"],[24,0,"gh-koenig-editor-pane flex flex-column mih-100"],[4,[38,1],["mousedown",[32,0,["trackMousedown"]]],null],[4,[38,1],["mouseup",[32,0,["focusEditor"]]],null],[12],[2,"\\n        "],[8,"gh-editor-feature-image",[],[["@image","@updateImage","@clearImage","@alt","@updateAlt","@caption","@updateCaption","@forceButtonDisplay"],[[32,2],[32,3],[32,4],[32,5],[32,6],[32,7],[32,8],[30,[36,4],[[30,[36,3],[[32,9]],null],[30,[36,2],[[32,9],"(Untitled)"],null],[32,0,["titleIsHovered"]],[32,0,["titleIsFocused"]]],null]]],null],[2,"\\n\\n        "],[8,"gh-textarea",[[4,[38,1],["focus",[30,[36,8],[[30,[36,7],[[32,0,["titleIsFocused"]]],null],true],null]],null],[4,[38,1],["blur",[30,[36,8],[[30,[36,7],[[32,0,["titleIsFocused"]]],null],false],null]],null],[4,[38,1],["mouseover",[30,[36,8],[[30,[36,7],[[32,0,["titleIsHovered"]]],null],true],null]],null],[4,[38,1],["mouseleave",[30,[36,8],[[30,[36,7],[[32,0,["titleIsHovered"]]],null],false],null]],null]],[["@class","@placeholder","@shouldFocus","@tabindex","@autoExpand","@value","@input","@focus-out","@keyDown","@didCreateTextarea"],["gh-editor-title",[32,10],[30,[36,4],[[32,11],false],null],"1",".gh-koenig-editor",[30,[36,5],[[32,0,["title"]]],null],[32,0,["updateTitle"]],[30,[36,6],[[32,12]],null],[32,0,["onTitleKeydown"]],[32,0,["registerTitleElement"]]]],null],[2,"\\n\\n        "],[8,"koenig-editor",[],[["@mobiledoc","@placeholder","@spellcheck","@onChange","@didCreateEditor","@cursorDidExitAtTop","@headerOffset","@dropTargetSelector","@scrollContainerSelector","@scrollOffsetTopSelector","@scrollOffsetBottomSelector","@wordCountDidChange","@snippets","@saveSnippet","@updateSnippet","@deleteSnippet","@cardOptions","@postType"],[[32,13],[32,14],true,[32,15],[32,0,["onEditorCreated"]],[32,0,["focusTitle"]],[32,16],".gh-koenig-editor-pane",[32,17],[32,18],[32,19],[32,20],[32,21],[32,22],[32,23],[32,24],[32,25],[32,26]]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["did-insert","on","eq","not","or","readonly","optional","mut","fn"]}',moduleName:"ghost-admin/components/gh-koenig-editor.hbs"})
let y=(n=Ember._tracked,i=Ember._tracked,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,d=Ember._action,c=Ember._action,p=class extends t.default{constructor(){super(...arguments),b(this,"containerElement",null),b(this,"titleElement",null),b(this,"koenigEditor",null),b(this,"mousedownY",0),g(this,"titleIsHovered",m,this),g(this,"titleIsFocused",h,this)}get title(){return"(Untitled)"===this.args.title?"":this.args.title}registerElement(e){this.containerElement=e}trackMousedown(e){this.mousedownY=e.clientY}registerTitleElement(e){this.titleElement=e,this.titleElement===document.activeElement&&(this.titleIsFocused=!0)}updateTitle(e){this.args.onTitleChange?.(e.target.value)}focusTitle(){this.titleElement.focus()}onTitleKeydown(e){let t=e.target.value,n=e.target.selectionStart
"Enter"!==e.key&&"Tab"!==e.key&&("ArrowDown"!==e.key&&"ArrowRight"!==e.key||t&&n!==t.length)||(e.preventDefault(),"Enter"===e.key&&this._addParaAtTop(),this.koenigEditor.focus())}onEditorCreated(e){this._setupEditor(e),this.args.onEditorCreated?.(e)}focusEditor(e){if(e.target.classList.contains("gh-koenig-editor-pane")){let t=this.koenigEditor.element,{bottom:n}=t.getBoundingClientRect()
if(this.mousedownY>n&&e.clientY>n){let{post:t}=this.koenigEditor,n=t.toRange(),{tailSection:i}=n
e.preventDefault(),this.koenigEditor.focus(),i.isCardSection&&this.koenigEditor.run((e=>{let t=e.builder.createMarkupSection("p")
e.insertSectionAtEnd(t),i=t})),this.koenigEditor.selectRange(i.tailPosition()),this.containerElement.scrollTop=this.containerElement.scrollHeight}}}_setupEditor(e){let t=this
this.koenigEditor=e.editor,this.koenigEditor.registerKeyCommand({str:"SHIFT+TAB",run:()=>(t.focusTitle(),!0)})}_addParaAtTop(){if(!this.koenigEditor)return
let e=this.koenigEditor,t=e.post.toRange().head.section
!t.isListItem&&t.isBlank&&""===t.text||e.run((e=>{let{builder:n}=e,i=n.createMarkupSection("p"),r=t.isListItem?t.parent.parent.sections:t.parent.sections
e.insertSectionBefore(r,i,t)}))}},m=f(p.prototype,"titleIsHovered",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=f(p.prototype,"titleIsFocused",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f(p.prototype,"registerElement",[r],Object.getOwnPropertyDescriptor(p.prototype,"registerElement"),p.prototype),f(p.prototype,"trackMousedown",[a],Object.getOwnPropertyDescriptor(p.prototype,"trackMousedown"),p.prototype),f(p.prototype,"registerTitleElement",[s],Object.getOwnPropertyDescriptor(p.prototype,"registerTitleElement"),p.prototype),f(p.prototype,"updateTitle",[o],Object.getOwnPropertyDescriptor(p.prototype,"updateTitle"),p.prototype),f(p.prototype,"focusTitle",[l],Object.getOwnPropertyDescriptor(p.prototype,"focusTitle"),p.prototype),f(p.prototype,"onTitleKeydown",[u],Object.getOwnPropertyDescriptor(p.prototype,"onTitleKeydown"),p.prototype),f(p.prototype,"onEditorCreated",[d],Object.getOwnPropertyDescriptor(p.prototype,"onEditorCreated"),p.prototype),f(p.prototype,"focusEditor",[c],Object.getOwnPropertyDescriptor(p.prototype,"focusEditor"),p.prototype),p)
e.default=y,Ember._setComponentTemplate(v,y)})),define("ghost-admin/components/gh-launch-wizard/connect-stripe",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C
function D(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function A(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const I=Ember.HTMLBars.template({id:"5wZOk48s",block:'{"symbols":["@skipStep","@backStep"],"statements":[[10,"div"],[14,0,"gh-launch-wizard-settings-container"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-stack overflow-y-auto flex-grow-1"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-stack-item gh-setting-first"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-members-stripe-info gh-launch-wizard-stripe-info"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-members-stripe-info-header"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Getting paid"],[13],[2,"\\n                    "],[1,[30,[36,3],["stripe-verified-partner-badge"],[["class"],["gh-members-stripe-badge"]]]],[2,"\\n                "],[13],[2,"\\n                "],[10,"p"],[14,0,"f8 mt2 mb0"],[12],[2,"\\n                    Stripe is our exclusive direct payments partner. Ghost collects "],[10,"strong"],[12],[2,"no fees"],[13],[2," on any payments! If you don’t have a Stripe account yet, you can "],[10,"a"],[14,6,"https://stripe.com"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-members-stripe-link"],[12],[2,"sign up here"],[13],[2,".\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"],[6,[37,2],[[32,0,["config","stripeDirect"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-stack-item gh-setting flex-column"],[12],[2,"\\n                "],[10,"div"],[14,0,"mb4"],[12],[2,"\\n                    "],[10,"label"],[14,"for","stripe-publishable-key"],[14,0,"gh-setting-title"],[12],[2,"Stripe Publishable key"],[13],[2,"\\n                    "],[8,"gh-text-input",[[24,0,"mt1 password"],[4,[38,4],["input",[32,0,["setStripeDirectPublicKey"]]],null]],[["@id","@type","@value"],["stripe-publishable-key","password",[30,[36,6],[[32,0,["settings","stripePublishableKey"]]],null]]],null],[2,"\\n                    "],[6,[37,2],[[32,0,["stripePublishableKeyError"]]],null,[["default"],[{"statements":[[10,"p"],[14,0,"mb0 mt2 f8 red"],[12],[1,[32,0,["stripePublishableKeyError"]]],[13]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"label"],[14,"for","stripe-secret-key"],[14,0,"gh-setting-title"],[12],[2,"Stripe Secret key"],[13],[2,"\\n                    "],[8,"gh-text-input",[[24,0,"mt1 password"],[4,[38,4],["input",[32,0,["setStripeDirectSecretKey"]]],null]],[["@id","@type","@value"],["stripe-secret-key","password",[30,[36,6],[[32,0,["settings","stripeSecretKey"]]],null]]],null],[2,"\\n                    "],[6,[37,2],[[32,0,["stripeSecretKeyError"]]],null,[["default"],[{"statements":[[10,"p"],[14,0,"mb0 mt2 f8 red"],[12],[1,[32,0,["stripeSecretKeyError"]]],[13]],"parameters":[]}]]],[2,"\\n                    "],[10,"a"],[14,6,"https://dashboard.stripe.com/account/apikeys"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"mt1 fw4 f8"],[12],[2,"\\n                        Find your Stripe API keys here »\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-desc"],[12],[11,"a"],[24,6,"javascript:void(0)"],[4,[38,4],["click",[32,1]],null],[12],[2,"Skip"],[13],[2," if you don\'t want to offer paid subscriptions."],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[14,0,"gh-stack-item gh-setting flex-wrap"],[12],[2,"\\n"],[6,[37,2],[[32,0,["settings","stripeConnectAccountId"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-setting-title"],[12],[2,"Already connected to Stripe"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-setting-desc mt2"],[12],[2,"\\n                            Connected to "],[10,"a"],[15,6,[31,["https://dashboard.stripe.com/",[32,0,["settings","stripeConnectAccountId"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[32,0,["settings","stripeConnectDisplayName"]]],[13],[2,"\\n\\n"],[6,[37,5],[[32,0,["settings","stripeConnectLivemode"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-members-connect-testmodelabel"],[12],[2,"Test mode"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,2],[[32,0,["hasActiveStripeSubscriptions"]]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"p"],[14,0,"red ma0 pa0 f8 nudge-bottom--2"],[12],[2,"\\n                            Cannot disconnect while there are members with active Stripe subscriptions.\\n                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n                            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,4],["click",[30,[36,1],[[32,0,["openDisconnectStripeConnectModalTask"]]],null]],null],[12],[10,"span"],[12],[2,"Disconnect"],[13],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                    "],[10,"div"],[14,0,"w-100"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Generate secure key"],[13],[2,"\\n                        "],[10,"div"],[14,0,"flex items-center mb4 gh-members-connectbutton-container justify-between mt2"],[12],[2,"\\n                            "],[10,"a"],[15,6,[31,[[32,0,["stripeConnectAuthUrl"]]]]],[14,0,"stripe-connect"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[2,"Connect with Stripe"],[13],[13],[2,"\\n                            "],[10,"div"],[14,0,"ml2 flex items-center flex-nowrap"],[12],[2,"\\n                                "],[10,"span"],[15,0,[31,["mr2 f8 midgrey nowrap ",[30,[36,2],[[32,0,["stripeConnectTestMode"]],"gh-members-connect-testmodeon"],null]]]],[12],[2,"Test mode"],[13],[2,"\\n                                "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                    "],[11,"label"],[24,0,"switch"],[24,"for","stripe-connect-test-mode"],[4,[38,4],["click",[32,0,["toggleStripeConnectTestMode"]]],null],[12],[2,"\\n                                        "],[11,"input"],[24,0,"gh-input"],[16,"checked",[32,0,["stripeConnectTestMode"]]],[24,4,"checkbox"],[4,[38,4],["click",[32,0,["toggleStripeConnectTestMode"]]],null],[12],[13],[2,"\\n                                        "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n                            "],[8,"gh-textarea",[[24,0,"gh-launch-wizard-stripe-connect-token"],[24,"placeholder","Paste your secure key here"],[4,[38,4],["input",[32,0,["setStripeConnectIntegrationToken"]]],null]],[[],[]],null],[2,"\\n                            "],[6,[37,2],[[32,0,["stripeConnectError"]]],null,[["default"],[{"statements":[[10,"p"],[14,0,"mb0 mt2 f8 red"],[12],[1,[32,0,["stripeConnectError"]]],[13]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-desc skip-step"],[12],[11,"a"],[24,6,"javascript:void(0)"],[4,[38,4],["click",[32,1]],null],[12],[2,"Skip"],[13],[2," if you don\'t want to offer paid subscriptions."],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-launch-wizard-nav-buttons"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-outline gh-btn-icon-dark gh-btn-large w-30"],[24,4,"button"],[4,[38,4],["click",[32,2]],null],[12],[10,"span"],[12],[1,[30,[36,3],["arrow-left-tail"],null]],[13],[13],[2,"\\n\\n        "],[8,"gh-task-button",[],[["@task","@runningText","@class"],[[32,0,["saveAndContinueTask"]],"Saving","w-70 ml4 right gh-btn gh-btn-black gh-btn-large gh-btn-icon-right"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,0,["saveAndContinueTask","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"span"],[12],[2,"Saving..."],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"span"],[12],[1,[30,[36,2],[[32,0,["settings","stripeConnectAccountId"]],"Continue","Save and continue"],null]],[1,[30,[36,3],["arrow-right-tail"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["showDisconnectStripeConnectModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["disconnect-stripe",[30,[36,0],null,[["stripeConnectAccountName"],[[32,0,["settings","stripeConnectDisplayName"]]]]],[30,[36,1],[[32,0,["disconnectStripeConnectIntegrationTask"]]],null],[32,0,["closeDisconnectStripeModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["hash","perform","if","svg-jar","on","unless","readonly"]}',moduleName:"ghost-admin/components/gh-launch-wizard/connect-stripe.hbs"}),L=1e3
let R=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,v=(0,n.task)({drop:!0}),y=(0,n.task)({drop:!0}),w=Ember._action,E=class extends t.default{get stripeConnectAuthUrl(){const e=this.stripeConnectTestMode?"test":"live"
return`${this.ghostPaths.url.api("members/stripe_connect")}?mode=${e}`}constructor(){super(...arguments),D(this,"ajax",k,this),D(this,"config",P,this),D(this,"ghostPaths",O,this),D(this,"settings",j,this),D(this,"store",_,this),D(this,"hasActiveStripeSubscriptions",z,this),D(this,"showDisconnectStripeConnectModal",x,this),D(this,"stripeConnectTestMode",T,this),D(this,"stripeConnectError",S,this),D(this,"stripePublishableKeyError",M,this),D(this,"stripeSecretKeyError",C,this),this.args.updatePreview("")}willDestroy(){super.willDestroy?.(...arguments),this.settings.rollbackAttributes()}setStripeDirectPublicKey(e){this.settings.set("stripeProductName",this.settings.get("title")),this.settings.set("stripePublishableKey",e.target.value),this.stripePublishableKeyError=null}setStripeDirectSecretKey(e){this.settings.set("stripeProductName",this.settings.get("title")),this.settings.set("stripeSecretKey",e.target.value),this.stripeSecretKeyError=null}toggleStripeConnectTestMode(){this.stripeConnectTestMode=!this.stripeConnectTestMode}setStripeConnectIntegrationToken(e){this.settings.set("stripeProductName",this.settings.get("title")),this.settings.set("stripeConnectIntegrationToken",e.target.value),this.stripeConnectError=null}calculateDiscount(e,t){return isNaN(e)||isNaN(t)?0:e?100-Math.floor(t/12*100/e):0}getActivePrice(e,t,n,i){return e.find((e=>e.active&&e.amount===n&&"recurring"===e.type&&e.interval===t&&e.currency.toLowerCase()===i.toLowerCase()))}*saveProduct(){let e=0
for(;e<15e3;){yield(0,n.timeout)(L)
try{const e=yield this.product.save()
return yield this.settings.save(),e}catch(t){if(t.payload?.errors&&"STRIPE_NOT_CONFIGURED"===t.payload.errors[0].code){e+=L
continue}throw t}}return this.product}*openDisconnectStripeConnectModalTask(){this.hasActiveStripeSubscriptions=!1
const e=this.ghostPaths.url.api("/members/hasActiveStripeSubscriptions");(yield this.ajax.request(e)).hasActiveStripeSubscriptions?this.hasActiveStripeSubscriptions=!0:this.showDisconnectStripeConnectModal=!0}closeDisconnectStripeModal(){this.showDisconnectStripeConnectModal=!1}*disconnectStripeConnectIntegrationTask(){this.disconnectStripeError=!1
const e=this.ghostPaths.url.api("/settings/stripe/connect")
yield this.ajax.delete(e),yield this.settings.reload()}*saveAndContinueTask(){if(this.config.get("stripeDirect")){if(this.settings.get("stripePublishableKey")||(this.stripePublishableKeyError="Enter your publishable key to continue"),this.settings.get("stripeSecretKey")||(this.stripeSecretKeyError="Enter your secret key to continue"),this.stripePublishableKeyError||this.stripeSecretKeyError)return!1}else if(!this.settings.get("stripeConnectAccountId")&&!this.settings.get("stripeConnectIntegrationToken"))return this.stripeConnectError="Paste your secure key to continue",!1
if(!this.config.get("stripeDirect")&&this.settings.get("stripeConnectAccountId"))return this.args.nextStep(),!0
try{yield this.settings.save()
const e=yield this.store.query("product",{filter:"type:paid",include:"monthly_price,yearly_price"})
if(this.product=e.firstObject,this.product){const e=this.calculateDiscount(5,50)
this.product.set("monthlyPrice",{nickname:"Monthly",amount:500,active:1,description:"Full access",currency:"usd",interval:"month",type:"recurring"}),this.product.set("yearlyPrice",{nickname:"Yearly",amount:5e3,active:1,currency:"usd",description:e>0?`${e}% discount`:"Full access",interval:"year",type:"recurring"}),yield this.saveProduct.perform(),this.settings.set("portalPlans",["free","monthly","yearly"]),yield this.settings.save()}return this.pauseAndContinueTask.perform(),!0}catch(e){if(e.payload?.errors&&"ValidationError"===e.payload.errors[0].type){const[t]=e.payload.errors
this.config.get("stripeDirect")?t.context.match(/stripe_publishable_key/)?this.stripePublishableKeyError="Invalid publishable key":this.stripeSecretKeyError="Invalid secret key":this.stripeConnectError="Invalid secure key"}throw e}}*pauseAndContinueTask(){this.args.refreshPreview(),yield(0,n.timeout)(500),this.args.nextStep()}},k=A(E.prototype,"ajax",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=A(E.prototype,"config",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=A(E.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=A(E.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=A(E.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A(E.prototype,"hasActiveStripeSubscriptions",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=A(E.prototype,"showDisconnectStripeConnectModal",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=A(E.prototype,"stripeConnectTestMode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=A(E.prototype,"stripeConnectError",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=A(E.prototype,"stripePublishableKeyError",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=A(E.prototype,"stripeSecretKeyError",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A(E.prototype,"setStripeDirectPublicKey",[h],Object.getOwnPropertyDescriptor(E.prototype,"setStripeDirectPublicKey"),E.prototype),A(E.prototype,"setStripeDirectSecretKey",[g],Object.getOwnPropertyDescriptor(E.prototype,"setStripeDirectSecretKey"),E.prototype),A(E.prototype,"toggleStripeConnectTestMode",[b],Object.getOwnPropertyDescriptor(E.prototype,"toggleStripeConnectTestMode"),E.prototype),A(E.prototype,"setStripeConnectIntegrationToken",[f],Object.getOwnPropertyDescriptor(E.prototype,"setStripeConnectIntegrationToken"),E.prototype),A(E.prototype,"saveProduct",[v],Object.getOwnPropertyDescriptor(E.prototype,"saveProduct"),E.prototype),A(E.prototype,"openDisconnectStripeConnectModalTask",[y],Object.getOwnPropertyDescriptor(E.prototype,"openDisconnectStripeConnectModalTask"),E.prototype),A(E.prototype,"closeDisconnectStripeModal",[w],Object.getOwnPropertyDescriptor(E.prototype,"closeDisconnectStripeModal"),E.prototype),A(E.prototype,"disconnectStripeConnectIntegrationTask",[n.task],Object.getOwnPropertyDescriptor(E.prototype,"disconnectStripeConnectIntegrationTask"),E.prototype),A(E.prototype,"saveAndContinueTask",[n.task],Object.getOwnPropertyDescriptor(E.prototype,"saveAndContinueTask"),E.prototype),A(E.prototype,"pauseAndContinueTask",[n.task],Object.getOwnPropertyDescriptor(E.prototype,"pauseAndContinueTask"),E.prototype),E)
e.default=R,Ember._setComponentTemplate(I,R)})),define("ghost-admin/components/gh-launch-wizard/customise-design",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o
function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"hxYD8Kh0",block:'{"symbols":["@replacePreviewContents"],"statements":[[2,"    "],[10,"div"],[14,0,"gh-branding-settings"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-launch-wizard-settings-container"],[12],[2,"\\n            "],[8,"gh-brand-settings-form",[[24,0,"overflow-y-auto flex-grow-1"]],[["@replacePreviewContents"],[[32,1]]],null],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-launch-wizard-nav-buttons"],[12],[2,"\\n                "],[8,"gh-task-button",[[24,0,"gh-btn gh-btn-black gh-btn-icon-right gh-btn-large gh-launch-wizard-btn w-100"],[24,4,"button"]],[["@task","@buttonText"],[[32,0,["saveAndContinueTask"]],[30,[36,2],[[30,[36,1],["Save and continue ",[30,[36,0],["arrow-right-tail"],null]],null]],null]]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13]],"hasEval":false,"upvars":["svg-jar","concat","html-safe"]}',moduleName:"ghost-admin/components/gh-launch-wizard/customise-design.hbs"})
let c=(i=Ember.inject.service,r=Ember.inject.service,a=class extends t.default{constructor(){super(...arguments),l(this,"notifications",s,this),l(this,"settings",o,this)}willDestroy(){super.willDestroy?.(...arguments),this.settings.rollbackAttributes(),this.settings.errors.remove("accentColor")}*saveAndContinueTask(){try{if(this.settings.errors&&0!==this.settings.errors.length)return
yield this.settings.save(),this.args.nextStep()}catch(e){if(e)throw this.notifications.showAPIError(e),e}}},s=u(a.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"saveAndContinueTask",[n.task],Object.getOwnPropertyDescriptor(a.prototype,"saveAndContinueTask"),a.prototype),a)
e.default=c,Ember._setComponentTemplate(d,c)})),define("ghost-admin/components/gh-launch-wizard/finalise",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c
function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"h/WkyZ2v",block:'{"symbols":["@backStep"],"statements":[[10,"div"],[14,0,"gh-launch-wizard-settings-container"],[12],[2,"\\n    "],[10,"div"],[14,0,"overflow-auto flex-grow-1"],[12],[2,"\\n        "],[10,"h4"],[12],[2,"All looks good?"],[13],[2,"\\n        "],[10,"p"],[12],[2,"You are all set up to start creating content, grow an audience and make your first sale!"],[13],[2,"\\n        "],[10,"p"],[12],[2,"You can further customize your site in Settings."],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-launch-wizard-nav-buttons"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-outline gh-btn-icon-dark gh-btn-large w-30"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[10,"span"],[12],[1,[30,[36,1],["arrow-left-tail"],null]],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@task","@buttonText","@runningText","@class"],[[32,0,["finaliseTask"]],"Launch your site!","Launching...","w-70 ml4 gh-btn gh-btn-black gh-btn-large gh-btn-icon gh-launch-wizard-btn"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar"]}',moduleName:"ghost-admin/components/gh-launch-wizard/finalise.hbs"})
let g=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=class extends t.default{constructor(){super(...arguments),p(this,"feature",l,this),p(this,"notifications",u,this),p(this,"router",d,this),p(this,"settings",c,this)}willDestroy(){super.willDestroy?.(...arguments),this.settings.rollbackAttributes()}async saveProduct(){const e=this.args.getData()
if(this.product=e?.product,this.product){const t=Math.round(100*e.monthlyAmount),n=Math.round(100*e.yearlyAmount),i=e.currency,r={nickname:"Monthly",amount:t,active:1,currency:i,interval:"month",type:"recurring"},a={nickname:"Yearly",amount:n,active:1,currency:i,interval:"year",type:"recurring"}
this.product.set("monthlyPrice",r),this.product.set("yearlyPrice",a)
return await this.product.save()}}*finaliseTask(){this.args.getData()?.product&&(yield this.saveProduct(),this.settings.set("editorIsLaunchComplete",!0),yield this.settings.save()),this.router.transitionTo("dashboard"),this.notifications.showNotification("Launch complete!",{type:"success",actions:Ember.String.htmlSafe('<a href="#/posts">Start creating content</a>')})}},l=m(o.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(o.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(o.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(o.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(o.prototype,"finaliseTask",[n.task],Object.getOwnPropertyDescriptor(o.prototype,"finaliseTask"),o.prototype),o)
e.default=g,Ember._setComponentTemplate(h,g)})),define("ghost-admin/components/gh-launch-wizard/set-pricing",["exports","@glimmer/component","ghost-admin/config/environment","ghost-admin/utils/currency","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L,R,U,N
function F(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function B(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const V=Ember.HTMLBars.template({id:"T9skBcua",block:'{"symbols":[],"statements":[[11,"div"],[24,0,"gh-launch-wizard-settings-container"],[4,[38,6],[[32,0,["setup"]]],null],[12],[2,"\\n"],[6,[37,5],[[32,0,["isConnectDisallowed"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-stack overflow-y-auto flex-grow-1"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-nossl-container"],[12],[2,"\\n                "],[10,"span"],[14,0,"red"],[12],[1,[30,[36,1],["shield-lock"],null]],[13],[2,"\\n                "],[10,"h4"],[12],[2,"Your site is not secured"],[13],[2,"\\n                "],[10,"p"],[12],[2,"Paid memberships through Ghost can only be run on sites secured by SSL (HTTPS vs. HTTP). More information on adding a free SSL Certificate to your Ghost site can be "],[10,"a"],[14,6,"https://ghost.org/integrations/lets-encrypt/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"found here"],[13],[2,"."],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"w-100 mt6"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Generate secure key"],[13],[2,"\\n                "],[10,"div"],[14,0,"flex items-center mb4 gh-members-connectbutton-container justify-between mt2"],[12],[2,"\\n                    "],[10,"div"],[14,0,"stripe-connect disabled"],[12],[10,"span"],[12],[2,"Connect with Stripe"],[13],[13],[2,"\\n                    "],[10,"div"],[14,0,"ml2 flex items-center flex-nowrap"],[12],[2,"\\n                        "],[10,"span"],[14,0,"mr2 f8 midgrey nowrap"],[12],[2,"Test mode"],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch small disabled"],[12],[2,"\\n                            "],[10,"label"],[14,0,"switch"],[14,"for","stripe-connect-test-mode"],[12],[2,"\\n                                "],[10,"input"],[14,0,"gh-input"],[14,"disabled","disabled"],[14,4,"checkbox"],[12],[13],[2,"\\n                                "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n                    "],[8,"gh-textarea",[[24,0,"gh-launch-wizard-stripe-connect-token"],[24,"placeholder","Paste your secure key here"],[24,"disabled","disabled"]],[[],[]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"gh-stack overflow-y-auto flex-grow-1"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-stack-item flex-column"],[12],[2,"\\n                "],[10,"div"],[14,0,"w-100"],[12],[2,"\\n                    "],[8,"gh-form-group",[],[["@class"],["for-select"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-title"],[14,"for","currency"],[12],[2,"Plan currency"],[13],[2,"\\n                        "],[10,"span"],[14,0,"gh-select mt2"],[12],[2,"\\n                            "],[8,"one-way-select",[[24,1,"currency"],[24,3,"currency"]],[["@disabled","@value","@options","@optionValuePath","@optionLabelPath","@update"],[[32,0,["disabled"]],[32,0,["selectedCurrency"]],[30,[36,0],[[32,0,["allCurrencies"]]],null],"value","label",[32,0,["setStripePlansCurrency"]]]],null],[2,"\\n                            "],[1,[30,[36,1],["arrow-down-small"],null]],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"w-100 flex flex-column flex-row-ns"],[12],[2,"\\n                    "],[10,"div"],[14,0,"w-100 w-50-ns mr3-ns"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Monthly price"],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"flex items-center justify-center mt2 gh-input-group gh-labs-price-label"],[12],[2,"\\n                            "],[8,"gh-text-input",[[4,[38,4],["blur",[32,0,["validateStripePlans"]]],null]],[["@disabled","@value","@type","@input"],[[32,0,["disabled"]],[30,[36,0],[[32,0,["stripeMonthlyAmount"]]],null],"number",[30,[36,3],[[32,0],[30,[36,2],[[32,0,["stripeMonthlyAmount"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                            "],[10,"span"],[14,0,"gh-input-append"],[12],[10,"span"],[14,0,"ttu"],[12],[1,[32,0,["currency"]]],[13],[2,"/month"],[13],[2,"\\n                        "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"w-100 w-50-ns ml2-ns"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Yearly price"],[13],[2,"\\n                        "],[10,"div"],[14,0,"flex items-center justify-center mt2 gh-input-group gh-labs-price-label"],[12],[2,"\\n                            "],[8,"gh-text-input",[[4,[38,4],["blur",[32,0,["validateStripePlans"]]],null]],[["@disabled","@value","@type","@input"],[[32,0,["disabled"]],[30,[36,0],[[32,0,["stripeYearlyAmount"]]],null],"number",[30,[36,3],[[32,0],[30,[36,2],[[32,0,["stripeYearlyAmount"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                            "],[10,"span"],[14,0,"gh-input-append"],[12],[10,"span"],[14,0,"ttu"],[12],[1,[32,0,["currency"]]],[13],[2,"/year"],[13],[2,"\\n                        "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"w-100 w-50-l flex flex-column flex-row-ns"],[12],[2,"\\n"],[6,[37,5],[[32,0,["stripePlanError"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"p"],[14,0,"response w-100 red"],[12],[2," "],[1,[32,0,["stripePlanError"]]],[2," "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-stack-item gh-setting flex-column"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Plans available at signup"],[13],[2,"\\n                "],[10,"div"],[14,0,"form-group mt2 mb0 for-checkbox"],[12],[2,"\\n                    "],[10,"label"],[14,0,"checkbox"],[14,"for","free-plan"],[12],[2,"\\n                        "],[11,"input"],[16,"checked",[32,0,["isFreeChecked"]]],[24,1,"free-plan"],[24,3,"free-plan"],[16,"disabled",[32,0,["isFreeDisabled"]]],[24,0,"gh-input post-settings-featured"],[24,4,"checkbox"],[4,[38,4],["click",[32,0,["toggleFreePlan"]]],null],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Free"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"form-group mb0 for-checkbox"],[12],[2,"\\n                    "],[10,"label"],[14,0,"checkbox"],[14,"for","monthly-plan"],[12],[2,"\\n                        "],[11,"input"],[24,1,"monthly-plan"],[24,3,"monthly-plan"],[16,"checked",[32,0,["isMonthlyChecked"]]],[16,"disabled",[32,0,["isPaidPriceDisabled"]]],[24,0,"gh-input post-settings-featured"],[24,4,"checkbox"],[4,[38,4],["click",[32,0,["toggleMonthlyPlan"]]],null],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Monthly"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"form-group mb0 for-checkbox"],[12],[2,"\\n                    "],[10,"label"],[14,0,"checkbox"],[14,"for","yearly-plan"],[12],[2,"\\n                        "],[11,"input"],[24,1,"yearly-plan"],[24,3,"yearly-plan"],[16,"checked",[32,0,["isYearlyChecked"]]],[16,"disabled",[32,0,["isPaidPriceDisabled"]]],[24,0,"gh-input post-settings-featured"],[24,4,"checkbox"],[4,[38,4],["click",[32,0,["toggleYearlyPlan"]]],null],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Yearly"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"gh-launch-wizard-nav-buttons"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-outline gh-btn-icon-dark gh-btn-large w-30"],[24,4,"button"],[4,[38,4],["click",[32,0,["backStep"]]],null],[12],[10,"span"],[12],[1,[30,[36,1],["arrow-left-tail"],null]],[13],[13],[2,"\\n\\n"],[2,"        "],[8,"gh-task-button",[],[["@task","@runningText","@class"],[[32,0,["saveAndContinue"]],"Saving","w-70 ml4 right gh-btn gh-btn-black gh-btn-large gh-btn-icon-right"]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[12],[1,[30,[36,5],[[32,0,["isHidden"]],"Continue","Save and continue"],null]],[1,[30,[36,1],["arrow-right-tail"],null]],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["readonly","svg-jar","mut","action","on","if","did-insert"]}',moduleName:"ghost-admin/components/gh-launch-wizard/set-pricing.hbs"}),H=i.currencies.map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode})))
let q=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,g=Ember._tracked,b=Ember._tracked,f=Ember._tracked,v=Ember._action,y=Ember._action,w=Ember._action,E=Ember._action,k=Ember._action,P=Ember._action,O=Ember._action,j=(0,r.task)({drop:!0}),_=class extends t.default{constructor(){super(...arguments),F(this,"config",z,this),F(this,"membersUtils",x,this),F(this,"settings",T,this),F(this,"store",S,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"currencies",H),F(this,"stripeMonthlyAmount",M,this),F(this,"stripeYearlyAmount",C,this),F(this,"currency",D,this),F(this,"isFreeChecked",A,this),F(this,"isMonthlyChecked",I,this),F(this,"isYearlyChecked",L,this),F(this,"stripePlanError",R,this),F(this,"product",U,this),F(this,"loadingProduct",N,this)}get selectedCurrency(){return this.currencies.findBy("value",this.currency)}get allCurrencies(){return(0,i.getCurrencyOptions)()}get isConnectDisallowed(){const e=this.config.get("blogUrl")
return"development"!==n.default.environment&&!/^https:/.test(e)}get isPaidPriceDisabled(){return!this.membersUtils.isStripeEnabled}get isFreeDisabled(){return"all"!==this.settings.get("membersSignupAccess")}willDestroy(){super.willDestroy?.(...arguments),this.args.updatePreview("")}setup(){this.fetchDefaultProduct.perform(),this.updatePreviewUrl()}backStep(){const e=this.product,t=this.args.getData()||{}
this.args.storeData({...t,product:e,isFreeChecked:this.isFreeChecked,isMonthlyChecked:this.isMonthlyChecked,isYearlyChecked:this.isYearlyChecked,monthlyAmount:this.stripeMonthlyAmount,yearlyAmount:this.stripeYearlyAmount,currency:this.currency}),this.args.backStep()}setStripePlansCurrency(e){const t=e.value
this.currency=t,this.updatePreviewUrl()}toggleFreePlan(e){this.isFreeChecked=e.target.checked,this.updatePreviewUrl()}toggleMonthlyPlan(e){this.isMonthlyChecked=e.target.checked,this.updatePreviewUrl()}toggleYearlyPlan(e){this.isYearlyChecked=e.target.checked,this.updatePreviewUrl()}validateStripePlans(){this.stripePlanError=void 0
try{const e=this.stripeYearlyAmount,t=this.stripeMonthlyAmount,n=(0,i.getSymbol)(this.currency)
if(!e||e<1||!t||t<1)throw new TypeError(`Subscription amount must be at least ${n}1.00`)
this.updatePreviewUrl()}catch(e){this.stripePlanError=e.message}}*saveAndContinue(){if(this.isConnectDisallowed)this.args.nextStep()
else{if(yield this.validateStripePlans(),this.stripePlanError)return!1
const e=this.product,t=this.args.getData()||{}
this.args.storeData({...t,product:e,isFreeChecked:this.isFreeChecked,isMonthlyChecked:this.isMonthlyChecked,isYearlyChecked:this.isYearlyChecked,monthlyAmount:this.stripeMonthlyAmount,yearlyAmount:this.stripeYearlyAmount,currency:this.currency}),this.args.nextStep()}}*fetchDefaultProduct(){const e=this.args.getData()
if(e?.product)this.product=e.product,void 0!==e.isMonthlyChecked&&(this.isMonthlyChecked=e.isMonthlyChecked),void 0!==e.isYearlyChecked&&(this.isYearlyChecked=e.isYearlyChecked),void 0!==e.isFreeChecked&&(this.isFreeChecked=e.isFreeChecked),void 0!==e.currency&&(this.currency=e.currency),this.stripeMonthlyAmount=e.monthlyAmount,this.stripeYearlyAmount=e.yearlyAmount
else{const e=yield this.store.query("product",{filter:"type:paid",include:"monthly_price,yearly_price"})
this.product=e.firstObject
let t=this.settings.get("portalPlans")||[]
this.isMonthlyChecked=t.includes("monthly"),this.isYearlyChecked=t.includes("yearly"),this.isFreeChecked=t.includes("free")
const n=this.product.get("monthlyPrice"),i=this.product.get("yearlyPrice")
n&&n.amount&&(this.stripeMonthlyAmount=n.amount/100,this.currency=n.currency),i&&i.amount&&(this.stripeYearlyAmount=i.amount/100)}this.updatePreviewUrl()}updatePreviewUrl(){const e={disableBackground:!0,currency:this.selectedCurrency.value,monthlyPrice:Math.round(100*this.stripeMonthlyAmount),yearlyPrice:Math.round(100*this.stripeYearlyAmount),isMonthlyChecked:this.isMonthlyChecked,isYearlyChecked:this.isYearlyChecked,isFreeChecked:this.isFreeChecked,portalPlans:null},t=this.membersUtils.getPortalPreviewUrl(e)
this.args.updatePreview(t)}},z=B(_.prototype,"config",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=B(_.prototype,"membersUtils",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=B(_.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=B(_.prototype,"store",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=B(_.prototype,"stripeMonthlyAmount",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),C=B(_.prototype,"stripeYearlyAmount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),D=B(_.prototype,"currency",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"usd"}}),A=B(_.prototype,"isFreeChecked",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=B(_.prototype,"isMonthlyChecked",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),L=B(_.prototype,"isYearlyChecked",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),R=B(_.prototype,"stripePlanError",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U=B(_.prototype,"product",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=B(_.prototype,"loadingProduct",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B(_.prototype,"setup",[v],Object.getOwnPropertyDescriptor(_.prototype,"setup"),_.prototype),B(_.prototype,"backStep",[y],Object.getOwnPropertyDescriptor(_.prototype,"backStep"),_.prototype),B(_.prototype,"setStripePlansCurrency",[w],Object.getOwnPropertyDescriptor(_.prototype,"setStripePlansCurrency"),_.prototype),B(_.prototype,"toggleFreePlan",[E],Object.getOwnPropertyDescriptor(_.prototype,"toggleFreePlan"),_.prototype),B(_.prototype,"toggleMonthlyPlan",[k],Object.getOwnPropertyDescriptor(_.prototype,"toggleMonthlyPlan"),_.prototype),B(_.prototype,"toggleYearlyPlan",[P],Object.getOwnPropertyDescriptor(_.prototype,"toggleYearlyPlan"),_.prototype),B(_.prototype,"validateStripePlans",[O],Object.getOwnPropertyDescriptor(_.prototype,"validateStripePlans"),_.prototype),B(_.prototype,"saveAndContinue",[r.task],Object.getOwnPropertyDescriptor(_.prototype,"saveAndContinue"),_.prototype),B(_.prototype,"fetchDefaultProduct",[j],Object.getOwnPropertyDescriptor(_.prototype,"fetchDefaultProduct"),_.prototype),_)
e.default=q,Ember._setComponentTemplate(V,q)})),define("ghost-admin/components/gh-link-to-custom-views-index",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u
function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"bLZZVvSZ",block:'{"symbols":["@route","&attrs","&default"],"statements":[[8,"link-to",[[17,2],[4,[38,0],[[32,0,["watchRouterEvents"]]],null],[4,[38,1],[[32,0,["unwatchRouterEvents"]]],null]],[["@route","@query","@current-when"],[[32,1],[32,0,["resetQuery"]],[32,0,["isActive"]]]],[["default"],[{"statements":[[2,"\\n    "],[18,3,null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["did-insert","will-destroy"]}',moduleName:"ghost-admin/components/gh-link-to-custom-views-index.hbs"})
let h=(n=Ember.inject.service,i=Ember.inject.service,r=Ember._action,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(){super(...arguments),d(this,"customViews",l,this),d(this,"router",u,this),c(this,"_forceReset",!1),c(this,"_lastIsActive",!1)}watchRouterEvents(){this.router.on("routeWillChange",this.handleRouteWillChange)}unwatchRouterEvents(){this.router.off("routeWillChange",this.handleRouteWillChange)}handleRouteWillChange(e){let{from:t,to:n}=e,i=n&&n.name.replace(/_loading$/,"")
t&&t.name===this.args.route&&i!==this.args.route&&this.customViews.activeView&&this.customViews.activeView.route===this.args.route&&(this._forceReset=!0),i===this.args.route&&(this._forceReset=!1)}get isActive(){if(this.router.currentRouteName.match(/_loading$/))return this._lastIsActive
let e=this.router.currentRouteName.replace(/_loading$/,"")
return this._lastIsActive=e===this.args.route&&!this.customViews.activeView,this._lastIsActive}get resetQuery(){if(this._forceReset||this.router.currentRouteName===this.args.route)return this.args.query}},l=p(o.prototype,"customViews",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(o.prototype,"watchRouterEvents",[r],Object.getOwnPropertyDescriptor(o.prototype,"watchRouterEvents"),o.prototype),p(o.prototype,"unwatchRouterEvents",[a],Object.getOwnPropertyDescriptor(o.prototype,"unwatchRouterEvents"),o.prototype),p(o.prototype,"handleRouteWillChange",[s],Object.getOwnPropertyDescriptor(o.prototype,"handleRouteWillChange"),o.prototype),o)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/gh-loading-list",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"f5hW8lhN",block:'{"symbols":[],"statements":[[10,"ol"],[14,0,"gh-list loading"],[12],[2,"\\n    "],[10,"li"],[14,0,"gh-list-row header"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-list-header"],[12],[2,"\\n            "],[10,"div"],[14,0,"bg-lightgrey w20 h3"],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"li"],[14,0,"gh-list-row loading"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-list-data gh-list-loadingcell"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-title"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-detail"],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"li"],[14,0,"gh-list-row loading"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-list-data gh-list-loadingcell"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-title"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-detail"],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"li"],[14,0,"gh-list-row loading"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-list-data gh-list-loadingcell"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-title"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-detail"],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-loading-list.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/gh-loading-spinner",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"sA5WIfTx",block:'{"symbols":["&attrs"],"statements":[[6,[37,0],[[32,0,["showSpinner"]]],null,[["default"],[{"statements":[[2,"    "],[11,"div"],[24,0,"gh-loading-content"],[17,1],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["if"]}',moduleName:"ghost-admin/components/gh-loading-spinner.hbs"})
let l=(i=Ember._tracked,r=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="showSpinner",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"slowLoadTimeout",200),this.startSpinnerTimeout.perform()}*startSpinnerTimeout(){yield(0,n.timeout)(this.slowLoadTimeout),this.showSpinner=!0}},a=s(r.prototype,"showSpinner",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s(r.prototype,"startSpinnerTimeout",[n.task],Object.getOwnPropertyDescriptor(r.prototype,"startSpinnerTimeout"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/gh-markdown-editor",["exports","ghost-admin/mixins/shortcuts","ghost-admin/utils/ctrl-or-cmd","ghost-admin/utils/format-markdown","@ember-decorators/component"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x
function T(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const C=Ember.HTMLBars.template({id:"qSNz7GWJ",block:'{"symbols":["&default"],"statements":[[18,1,[[30,[36,2],null,[["editor","isFullScreen","isSplitScreen","focus"],[[30,[36,1],["gh-simplemde"],[["value","placeholder","autofocus","onChange","onFocus","onBlur","onEditorInit","options"],[[32,0,["markdown"]],[32,0,["placeholder"]],[32,0,["autofocus"]],[30,[36,0],[[32,0],"updateMarkdown"],null],[30,[36,0],[[32,0],"updateFocusState",true],null],[30,[36,0],[[32,0],"updateFocusState",false],null],[30,[36,0],[[32,0],"setEditor"],null],[32,0,["simpleMDEOptions"]]]]],[32,0,["_isFullScreen"]],[32,0,["_isSplitScreen"]],[30,[36,0],[[32,0],"focusEditor"],null]]]]]],[2,"\\n\\n"],[10,"div"],[14,5,"display:none"],[12],[2,"\\n    "],[8,"gh-file-input",[],[["@multiple","@action","@accept"],[true,[30,[36,0],[[32,0],[32,0,["onImageFilesSelected"]]],null],[32,0,["imageMimeTypes"]]]],null],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["_showUnsplash"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-unsplash",[],[["@select","@close"],[[30,[36,0],[[32,0],"insertUnsplashPhoto"],null],[30,[36,0],[[32,0],"toggleUnsplash"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["showMarkdownHelp"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@close","@modifier"],["markdown-help",[30,[36,0],[[32,0],"toggleMarkdownHelp"],null],"wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","component","hash","if"]}',moduleName:"ghost-admin/components/gh-markdown-editor.hbs"})
let D=(a=(0,r.classNames)("gh-markdown-editor"),s=(0,r.classNameBindings)("_isFullScreen:gh-markdown-editor-full-screen","_isSplitScreen:gh-markdown-editor-side-by-side"),o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember.computed("options"),c=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,E=Ember._action,k=Ember._action,P=Ember._action,a(O=s((j=class extends(Ember.Component.extend(t.default)){constructor(){super(...arguments),T(this,"config",_,this),T(this,"notifications",z,this),T(this,"settings",x,this),S(this,"autofocus",!1),S(this,"imageMimeTypes",null),S(this,"isFullScreen",!1),S(this,"markdown",null),S(this,"options",null),S(this,"placeholder",""),S(this,"showMarkdownHelp",!1),S(this,"uploadedImageUrls",null),S(this,"enableSideBySide",!0),S(this,"enablePreview",!0),S(this,"enableHemingway",!0),S(this,"shortcuts",null),S(this,"_editor",null),S(this,"_editorFocused",!1),S(this,"_isFullScreen",!1),S(this,"_isSplitScreen",!1),S(this,"_isHemingwayMode",!1),S(this,"_isUploading",!1),S(this,"_showUnsplash",!1),S(this,"_uploadedImageUrls",null)}onChange(){}onFullScreenToggle(){}onImageFilesSelected(){}onPreviewToggle(){}onSplitScreenToggle(){}get simpleMDEOptions(){let e=this.options||{},t={previewRender:e=>(0,i.default)(e),toolbar:["bold","italic","heading","|","quote","unordered-list","ordered-list","|","link",{name:"image",action:()=>{this._openImageFileDialog()},className:"fa fa-picture-o",title:"Upload Image(s)"},"|",{name:"preview",action:()=>{this._togglePreview()},className:"fa fa-eye no-disable",title:"Render Preview (Ctrl-Alt-R)",useCtrlOnMac:!0},{name:"side-by-side",action:()=>{this.send("toggleSplitScreen")},className:"fa fa-columns no-disable no-mobile",title:"Side-by-side Preview (Ctrl-Alt-P)",useCtrlOnMac:!0},"|",{name:"spellcheck",action:()=>{this._toggleSpellcheck()},className:"fa fa-check",title:"Spellcheck (Ctrl-Alt-S)",useCtrlOnMac:!0},{name:"hemingway",action:()=>{this._toggleHemingway()},className:"fa fa-h-square",title:"Hemingway Mode (Ctrl-Alt-H)",useCtrlOnMac:!0},{name:"guide",action:()=>{this.send("toggleMarkdownHelp")},className:"fa fa-question-circle",title:"Markdown Guide"}],shortcuts:{toggleFullScreen:null,togglePreview:null,toggleSideBySide:null,drawImage:null},status:["words"]},n=t.toolbar
if(!this.enableSideBySide){let e=n.findBy("name","side-by-side"),t=n.indexOf(e)
n.splice(t,1)}if(!this.enablePreview){let e=n.findBy("name","preview"),t=n.indexOf(e)
n.splice(t,1)}if(!this.enableHemingway){let e=n.findBy("name","hemingway"),t=n.indexOf(e)
n.splice(t,1)}if(this.get("settings.unsplash")){let e=n.findBy("name","image"),t=n.indexOf(e)+1
n.splice(t,0,{name:"unsplash",action:()=>{this.send("toggleUnsplash")},className:"fa fa-camera",title:"Add Image from Unsplash"})}let r=null
return n.forEach(((e,t)=>{"|"===e&&e===r&&(n[t]=null),r=e})),t.toolbar=n.filter(Boolean),Ember.assign(t,e)}init(){super.init(...arguments)
let e={}
e[`${n.default}+shift+i`]={action:"openImageFileDialog"},e["ctrl+alt+s"]={action:"toggleSpellcheck"},this.enablePreview&&(e["ctrl+alt+r"]={action:"togglePreview"}),this.enableSideBySide&&(e["ctrl+alt+p"]={action:"toggleSplitScreen"}),this.enableHemingway&&(e["ctrl+alt+h"]={action:"toggleHemingway"}),this.shortcuts=e}didReceiveAttrs(){super.didReceiveAttrs(...arguments)
let e=this.uploadedImageUrls
Ember.isEmpty(e)||e===this._uploadedImageUrls||(this._uploadedImageUrls=e,Ember.run.scheduleOnce("afterRender",this,this._insertImages,e)),this.autofocus&&this._editor&&this.markdown!==this._editor.value()&&this.send("focusEditor"),Ember.isEmpty(this.isFullScreen)||this.set("_isFullScreen",this.isFullScreen),Ember.isEmpty(this.isSplitScreen)||this.set("_isSplitScreen",this.isSplitScreen),this._updateButtonState()}didInsertElement(){super.didInsertElement(...arguments),this.registerShortcuts(),!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&this._preventBodyScroll()}willDestroyElement(){this._isSplitScreen&&this._disconnectSplitPreview(),this.removeShortcuts(),super.willDestroyElement(...arguments),this._preventBodyScrollId&&window.cancelAnimationFrame(this._preventBodyScrollId)}updateMarkdown(e){this.onChange(e)}setEditor(e){this._editor=e,this._editor.codemirror.setOption("dragDrop",!1),this._editor.codemirror.setOption("mode","gfm"),this._editor.codemirror.setOption("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\xa0]/g),this._updateButtonState()}focusEditor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottom"
return this._editor.codemirror.focus(),"bottom"===e?this._editor.codemirror.execCommand("goDocEnd"):"top"===e&&this._editor.codemirror.execCommand("goDocStart"),!1}updateFocusState(e){e?this._editorFocused=!0:Ember.run.later(this,(function(){this._editorFocused=!1}),100)}openImageFileDialog(){let e=this._editor.codemirror.hasFocus()
this._openImageFileDialog({captureSelection:e})}toggleUnsplash(){if(this._showUnsplash)return this.toggleProperty("_showUnsplash")
this._editorFocused&&(this._imageInsertSelection={anchor:this._editor.codemirror.getCursor("anchor"),head:this._editor.codemirror.getCursor("head")}),this.toggleProperty("_showUnsplash")}insertUnsplashPhoto(e){let{src:t,alt:n,caption:i}=e,r={alt:n,url:t,credit:`<small>${i}</small>`}
this._insertImages([r])}togglePreview(){this._togglePreview()}toggleFullScreen(){let e=!this._isFullScreen
this.set("_isFullScreen",e),this._updateButtonState(),this.onFullScreenToggle(e),!e&&this._isSplitScreen&&this.send("toggleSplitScreen")}toggleSplitScreen(){let e=!this._isSplitScreen,t=this._editor.toolbarElements.preview
if(this.set("_isSplitScreen",e),this._updateButtonState(),e){if(this._editor.isPreviewActive()){this._editor.toolbar.find((e=>"preview"===e.name)).action(this._editor)}t&&t.classList.add("disabled"),Ember.run.scheduleOnce("afterRender",this,this._connectSplitPreview)}else t&&t.classList.remove("disabled"),Ember.run.scheduleOnce("afterRender",this,this._disconnectSplitPreview)
this.onSplitScreenToggle(e),this.send("toggleFullScreen")}toggleSpellcheck(){this._toggleSpellcheck()}toggleHemingway(){this._toggleHemingway()}toggleMarkdownHelp(){this.toggleProperty("showMarkdownHelp")}_preventBodyScroll(){this._preventBodyScrollId=window.requestAnimationFrame((()=>{let e=document.querySelector("body")
if(document.activeElement.closest(".CodeMirror")&&0!==e.scrollTop){document.querySelector(".gh-markdown-editor").scrollTop+=e.scrollTop,e.scrollTop=0}this._preventBodyScroll()}))}_insertImages(e){let t=this._editor.codemirror,n=e.map((e=>{if("string"===Ember.typeOf(e)){let t=e.split("/").pop(),n=t
return t.lastIndexOf(".")>0&&(n=t.slice(0,t.lastIndexOf("."))),`![${n}](${e})`}{let t=`![${e.alt}](${e.url})`
return e.credit&&(t+=`\n${e.credit}`),t}})).join("\n\n")
this._imageInsertSelection&&(this.send("focusEditor",null),t.setSelection(this._imageInsertSelection.anchor,this._imageInsertSelection.head),this._imageInsertSelection=null),t.hasFocus()||(this.send("focusEditor"),n=`\n\n${n}\n\n`),t.replaceSelection(n,"end")}_updateButtonState(){if(this._editor){let e=this._editor.toolbarElements["side-by-side"],t=this._editor.toolbarElements.spellcheck,n=this._editor.toolbarElements.hemingway
e&&(this._isSplitScreen?e.classList.add("active"):e.classList.remove("active")),t&&("spell-checker"===this._editor.codemirror.getOption("mode")?t.classList.add("active"):t.classList.remove("active")),n&&(this._isHemingwayMode?n.classList.add("active"):n.classList.remove("active"))}}_connectSplitPreview(){let e=this._editor.codemirror,t=this._editor,n=this.element.querySelector(".gh-markdown-editor-pane"),i=this.element.querySelector(".gh-markdown-editor-preview"),r=this.element.querySelector(".gh-markdown-editor-preview-content")
this._editorPane=n,this._previewPane=i,this._previewContent=r
let a=function(){r.innerHTML=t.options.previewRender(t.value(),r)}
e.sideBySideRenderingFunction=a,a(),e.on("update",e.sideBySideRenderingFunction),e.refresh(),this._onEditorPaneScroll=this._scrollHandler.bind(this),n.addEventListener("scroll",this._onEditorPaneScroll,!1),this._scrollSync()}_scrollHandler(){this._scrollSyncTicking||requestAnimationFrame(this._scrollSync.bind(this)),this._scrollSyncTicking=!0}_scrollSync(){let e=this._editorPane,t=this._previewPane,n=e.scrollHeight-e.clientHeight,i=parseFloat(e.scrollTop)/n,r=(t.scrollHeight-t.clientHeight)*i
t.scrollTop=r,this._scrollSyncTicking=!1}_disconnectSplitPreview(){let e=this._editor.codemirror
e.off("update",e.sideBySideRenderingFunction),e.refresh(),this._editorPane.removeEventListener("scroll",this._onEditorPaneScroll,!1),delete this._previewPane,delete this._previewPaneContent,delete this._onEditorPaneScroll}_openImageFileDialog(){let{captureSelection:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
e&&(this._imageInsertSelection={anchor:this._editor.codemirror.getCursor("anchor"),head:this._editor.codemirror.getCursor("head")}),this.element.querySelector('input[type="file"]').click()}_togglePreview(){this.onPreviewToggle(!this._editor.isPreviewActive()),this._editor.togglePreview()}_toggleSpellcheck(){let e=this._editor.codemirror
"spell-checker"===e.getOption("mode")?e.setOption("mode","gfm"):e.setOption("mode","spell-checker"),this._updateButtonState()}_toggleHemingway(){let e=this._editor.codemirror,t=e.getOption("extraKeys"),n=""
this._isHemingwayMode=!this._isHemingwayMode,this._isHemingwayMode?(n='<span class="gh-notification-title">Hemingway Mode On:</span> Write now; edit later. Backspace disabled.',t.Backspace=function(){}):(n='<span class="gh-notification-title">Hemingway Mode Off:</span> Normal editing restored.',delete t.Backspace),e.setOption("extraKeys",t),this._updateButtonState(),e.focus(),this.notifications.showNotification(Ember.String.htmlSafe(n),{key:"editor.hemingwaymode"})}},_=M(j.prototype,"config",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=M(j.prototype,"notifications",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=M(j.prototype,"settings",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M(j.prototype,"simpleMDEOptions",[d],Object.getOwnPropertyDescriptor(j.prototype,"simpleMDEOptions"),j.prototype),M(j.prototype,"updateMarkdown",[c],Object.getOwnPropertyDescriptor(j.prototype,"updateMarkdown"),j.prototype),M(j.prototype,"setEditor",[p],Object.getOwnPropertyDescriptor(j.prototype,"setEditor"),j.prototype),M(j.prototype,"focusEditor",[m],Object.getOwnPropertyDescriptor(j.prototype,"focusEditor"),j.prototype),M(j.prototype,"updateFocusState",[h],Object.getOwnPropertyDescriptor(j.prototype,"updateFocusState"),j.prototype),M(j.prototype,"openImageFileDialog",[g],Object.getOwnPropertyDescriptor(j.prototype,"openImageFileDialog"),j.prototype),M(j.prototype,"toggleUnsplash",[b],Object.getOwnPropertyDescriptor(j.prototype,"toggleUnsplash"),j.prototype),M(j.prototype,"insertUnsplashPhoto",[f],Object.getOwnPropertyDescriptor(j.prototype,"insertUnsplashPhoto"),j.prototype),M(j.prototype,"togglePreview",[v],Object.getOwnPropertyDescriptor(j.prototype,"togglePreview"),j.prototype),M(j.prototype,"toggleFullScreen",[y],Object.getOwnPropertyDescriptor(j.prototype,"toggleFullScreen"),j.prototype),M(j.prototype,"toggleSplitScreen",[w],Object.getOwnPropertyDescriptor(j.prototype,"toggleSplitScreen"),j.prototype),M(j.prototype,"toggleSpellcheck",[E],Object.getOwnPropertyDescriptor(j.prototype,"toggleSpellcheck"),j.prototype),M(j.prototype,"toggleHemingway",[k],Object.getOwnPropertyDescriptor(j.prototype,"toggleHemingway"),j.prototype),M(j.prototype,"toggleMarkdownHelp",[P],Object.getOwnPropertyDescriptor(j.prototype,"toggleMarkdownHelp"),j.prototype),O=j))||O)||O)
e.default=D,Ember._setComponentTemplate(C,D)})),define("ghost-admin/components/gh-member-activity-feed-item",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"6ElAaDwn",block:'{"symbols":["@activity","&attrs"],"statements":[[11,"div"],[24,0,"gh-member-feed-row"],[17,2],[12],[2,"\\n    "],[10,"span"],[14,0,"gh-member-feed-activity midgrey"],[15,"data-tooltip",[32,1,["tooltip"]]],[12],[1,[30,[36,0],[[32,1,["icon"]]],[["class"],[[32,1,["iconClass"]]]]]],[13],[2,"\\n"],[6,[37,1],[[32,1,["email"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"gh-email-preview-link",[[24,0,"gh-member-feed-title"]],[["@data"],[[32,1,["email"]]]],[["default"],[{"statements":[[1,[32,1,["message"]]]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"span"],[14,0,"gh-member-feed-title"],[12],[1,[32,1,["message"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[10,"span"],[14,0,"gh-member-feed-date"],[12],[1,[30,[36,2],[[32,1,["timestamp"]],"D MMM YYYY"],null]],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","if","moment-format"]}',moduleName:"ghost-admin/components/gh-member-activity-feed-item.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/gh-member-activity-feed",["exports","@glimmer/component"],(function(e,t){var n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"lxNlZGP8",block:'{"symbols":["activity","activity","@member","&attrs"],"statements":[[6,[37,4],[[32,0,["activities"]]],null,[["default"],[{"statements":[[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Activity"],[13]],"parameters":[]}]]],[2,"\\n"],[10,"div"],[15,0,[31,["gh-main-section-content grey ",[30,[36,4],[[32,0,["activities"]],"","mt8"],null]]]],[12],[2,"\\n    "],[11,"div"],[16,0,[31,["gh-member-feed ",[30,[36,4],[[32,0,["activities"]],"","gh-member-feed-no-data"],null]]]],[17,4],[12],[2,"\\n        "],[10,"div"],[15,0,[31,["flex-auto flex flex-column items-stretch ",[30,[36,4],[[32,0,["activities"]],"justify-between","h-100 justify-center"],null]]]],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n"],[6,[37,4],[[32,0,["activities"]]],null,[["default","else"],[{"statements":[[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["firstActivities"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[8,"gh-member-activity-feed-item",[],[["@activity"],[[32,2]]],null],[2,"\\n"]],"parameters":[2]}]]],[2,"\\n"],[6,[37,8],[[32,0,["isShowingAll"]]],[["class"],["show-overflow"]],[["default"],[{"statements":[[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["remainingActivities"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-member-activity-feed-item",[],[["@activity"],[[32,1]]],null],[2,"\\n"]],"parameters":[1]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[30,[36,9],["membersActivityFeed"],null]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"link-to",[[24,0,"gh-btn gh-member-btn-expandfeed"]],[["@route","@query"],["members-activity",[30,[36,5],null,[["excludedEvents","member"],[null,[32,3,["id"]]]]]]],[["default"],[{"statements":[[10,"span"],[12],[2,"View all activity"],[13]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[30,[36,3],[[32,0,["remainingActivities"]],[30,[36,2],[[32,0,["isShowingAll"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[11,"button"],[24,0,"gh-btn gh-member-btn-expandfeed"],[24,4,"button"],[4,[38,1],["click",[32,0,["showAll"]]],null],[12],[2,"\\n                                "],[10,"span"],[12],[2,"View all activity"],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-members-no-data gh-members-no-list"],[12],[2,"\\n                        "],[10,"div"],[14,0,"lightgrey"],[12],[1,[30,[36,0],["no-data-list"],null]],[13],[2,"\\n                        "],[10,"h4"],[12],[2,"Activity"],[13],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            All events related to this member will be shown here.\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","on","not","and","if","hash","-track-array","each","liquid-if","feature"]}',moduleName:"ghost-admin/components/gh-member-activity-feed.hbs"})
class l{constructor(e){(function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})(this,"eventProperties",{sent:{icon:"send-email",iconClass:"midgrey",tooltip:"Received email"},opened:{icon:"eye",iconClass:"green-d2",tooltip:"Opened email"},failed:{icon:"cross-circle",iconClass:"red-d2",tooltip:"Email delivery failed"}}),Object.assign(this,e)}get icon(){return this.eventProperties[this.event].icon}get iconClass(){return this.eventProperties[this.event].iconClass}get tooltip(){return this.eventProperties[this.event].tooltip}get message(){return this.email?this.email.subject:this.eventProperties[this.event].message}}let u=(n=Ember._tracked,i=Ember._action,r=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="isShowingAll",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get activities(){const e=[]
return(this.args.emailRecipients||[]).forEach((t=>{t.openedAtUTC?e.push(new l({event:"opened",email:t.email,timestamp:t.openedAtUTC})):t.failedAtUTC?e.push(new l({event:"failed",email:t.email,timestamp:t.failedAtUTC})):t.processedAtUTC&&e.push(new l({event:"sent",email:t.email,timestamp:t.processedAtUTC}))})),e.sort(((e,t)=>t.timestamp.valueOf()-e.timestamp.valueOf()))}get firstActivities(){return this.activities.slice(0,5)}get remainingActivities(){return this.activities.slice(5,this.activities.length)}showAll(){this.isShowingAll=!0}},a=s(r.prototype,"isShowingAll",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s(r.prototype,"showAll",[i],Object.getOwnPropertyDescriptor(r.prototype,"showAll"),r.prototype),r)
e.default=u,Ember._setComponentTemplate(o,u)})),define("ghost-admin/components/gh-member-avatar",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"Jf6f34sh",block:'{"symbols":["@containerClass","@sizeClass","@member"],"statements":[[10,"figure"],[15,0,[31,["gh-member-gravatar ",[32,1]]]],[12],[2,"\\n    "],[10,"div"],[15,0,[31,["gh-member-initials flex items-center justify-center br-100 ",[32,1]]]],[15,5,[32,0,["backgroundStyle"]]],[12],[2,"\\n        "],[10,"span"],[15,0,[31,["gh-member-avatar-label ",[30,[36,0],[[32,2],"gh-member-list-avatar"],null]]]],[12],[1,[32,0,["initials"]]],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"img"],[14,0,"gh-member-avatar-image"],[15,"src",[30,[36,1],[[32,3,["email"]]],[["size"],[180]]]],[12],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["or","gravatar"]}',moduleName:"ghost-admin/components/gh-member-avatar.hbs"})
class i extends t.default{get memberName(){let{member:e}=this.args
return Ember.get(e,"name")||Ember.get(e,"email")||"NM"}get backgroundStyle(){let e=function(e,t,n){for(var i=0,r=0;r<e.length;r++)i=e.charCodeAt(r)+((i<<5)-i)
return"hsl("+i%360+", "+t+"%, "+n+"%)"}(this.memberName,75,55)
return Ember.String.htmlSafe(`background-color: ${e}`)}get initials(){if("NM"===this.memberName)return"NM"
let e=this.memberName.split(" ")
return(e.length>1?[e[0][0],e[e.length-1][0]]:[e[0][0]]).join("").toUpperCase()}}e.default=i,Ember._setComponentTemplate(n,i)})),define("ghost-admin/components/gh-member-details-activity",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"1ihF4l5J",block:'{"symbols":["@member","&attrs"],"statements":[[11,"section"],[24,0,"gh-member-details-activity"],[17,2],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-content"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n"],[6,[37,0],[[30,[36,1],[[32,1,["name"]],[32,1,["email"]]],null]],null,[["default","else"],[{"statements":[[2,"                    "],[8,"gh-member-avatar",[],[["@member","@sizeClass","@containerClass"],[[32,1],[30,[36,0],[[32,1,["name"]],"f-subheadline fw4 lh-zero tracked-1","f-subheadline fw4 lh-zero tracked-1"],null],"w20 h20 mr4 gh-member-detail-avatar"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"div"],[14,0,"flex items-center justify-center br-100 mr4 gh-new-member-avatar"],[12],[2,"\\n                        "],[10,"span"],[14,0,"gh-member-avatar-label f-subheadline lh-zero tracked-1"],[12],[2,"N"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"\\n                        "],[1,[30,[36,1],[[32,1,["name"]],[32,1,["email"]]],null]],[2,"\\n"],[6,[37,2],[[30,[36,1],[[32,1,["name"]],[32,1,["email"]]],null]],null,[["default"],[{"statements":[[6,[37,0],[[32,1,["isNew"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"span"],[14,0,"midgrey"],[12],[2,"New member"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"p"],[12],[2,"\\n"],[6,[37,0],[[30,[36,3],[[32,1,["name"]],[32,1,["email"]]],null]],null,[["default"],[{"statements":[[2,"                            "],[1,[32,1,["email"]]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"p"],[12],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-member-details-activity-link"]],[["@route","@model"],["member",[32,1]]],[["default"],[{"statements":[[2,"See all details →"]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","or","unless","and"]}',moduleName:"ghost-admin/components/gh-member-details-activity.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/gh-member-details",["exports","@glimmer/component"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"JDFEcC7z",block:'{"symbols":["@member","&attrs"],"statements":[[11,"section"],[24,0,"gh-member-details"],[17,2],[12],[2,"\\n    "],[10,"div"],[14,0,"flex flex-column mt4"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-member-details-identity"],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,1,["name"]],[32,1,["email"]]],null]],null,[["default","else"],[{"statements":[[2,"                "],[8,"gh-member-avatar",[],[["@member","@sizeClass","@containerClass"],[[32,1],[30,[36,1],[[32,1,["name"]],"f-subheadline fw4 lh-zero tracked-1","f-subheadline fw4 lh-zero tracked-1"],null],"w20 h20 mr4 gh-member-detail-avatar"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center justify-center br-100 mr4 gh-new-member-avatar"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-member-avatar-label f-subheadline fw5 lh-zero tracked-1"],[12],[2,"N"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"div"],[12],[2,"\\n                "],[10,"h3"],[12],[2,"\\n                    "],[1,[30,[36,6],[[32,1,["name"]],[32,1,["email"]]],null]],[2,"\\n"],[6,[37,11],[[30,[36,6],[[32,1,["name"]],[32,1,["email"]]],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,1,["isNew"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[14,0,"midgrey"],[12],[2,"New member"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"p"],[12],[2,"\\n"],[6,[37,1],[[30,[36,7],[[32,1,["name"]],[32,1,["email"]]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"a"],[15,6,[31,["mailto:",[32,1,["email"]]]]],[12],[1,[32,1,["email"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"],[6,[37,11],[[32,1,["isNew"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-member-details-meta"],[12],[2,"\\n                "],[10,"p"],[12],[2,"\\n                    "],[1,[30,[36,8],["pin"],null]],[2,"\\n"],[6,[37,1],[[32,1,["geolocation"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[30,[36,7],[[30,[36,3],[[32,1,["geolocation","country_code"]],"US"],null],[32,1,["geolocation","region"]]],null]],null,[["default","else"],[{"statements":[[2,"                            "],[1,[32,1,["geolocation","region"]]],[2,", US\\n"]],"parameters":[]},{"statements":[[2,"                            "],[1,[30,[36,6],[[32,1,["geolocation","country"]],"Unknown location"],null]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                        Unknown location\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"p"],[12],[2,"\\n                    "],[1,[30,[36,8],["member-add"],null]],[2,"\\n                    Created on "],[1,[30,[36,5],[[30,[36,4],[[32,1,["createdAtUTC"]]],null],"D MMM YYYY"],null]],[2,"\\n                "],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-member-last-seen"],[12],[2,"\\n                    "],[1,[30,[36,8],["eye"],null]],[2,"\\n"],[6,[37,1],[[30,[36,9],[[30,[36,0],[[32,1,["lastSeenAtUTC"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                        Last seen on "],[1,[30,[36,5],[[30,[36,4],[[32,1,["lastSeenAtUTC"]]],null],"D MMM YYYY"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"span"],[12],[2,"Not seen yet"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,1],[[30,[36,7],[[30,[36,10],[[32,0,["settings","membersSignupAccess"]],"none"],null],[30,[36,10],[[32,0,["settings","editorDefaultEmailRecipients"]],"disabled"],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-member-details-stats-container"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Engagement"],[13],[2,"\\n"],[6,[37,1],[[30,[36,3],[[32,1,["emailCount"]],0],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-members-no-stats"],[12],[2,"\\n                            "],[10,"p"],[12],[2,"\\n"],[6,[37,1],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[2,"                                    We\'ll show "],[1,[30,[36,2],[[32,1,["name"]]],null]],[2,"\'s email stats here once they receive their first newsletter.\\n"]],"parameters":[]},{"statements":[[2,"                                    We\'ll show this member\'s email stats here once they receive their first newsletter.\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-member-details-stats"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-member-details-stat"],[12],[2,"\\n                                "],[10,"p"],[12],[2,"Emails received"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-data-summary gh-cp-data-summary"],[12],[1,[32,1,["emailCount"]]],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-member-details-stat"],[12],[2,"\\n                                "],[10,"p"],[12],[2,"Emails opened"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-data-summary gh-cp-data-summary"],[12],[1,[32,1,["emailOpenedCount"]]],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-member-details-stat open-rate"],[12],[2,"\\n                                "],[10,"p"],[12],[2,"Average open rate"],[13],[2,"\\n                                "],[10,"div"],[15,0,[31,["gh-data-summary gh-cp-data-summary ",[30,[36,1],[[30,[36,0],[[32,1,["emailOpenRate"]]],null],"gh-data-unavailable-label"],null]]]],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[32,1,["emailOpenRate"]]],null]],null,[["default","else"],[{"statements":[[2,"                                        This metric is calculated once a member has received 5 newsletters.\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[1,[32,1,["emailOpenRate"]]],[10,"span"],[12],[2,"%"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["is-empty","if","first-name","eq","moment-site-tz","moment-format","or","and","svg-jar","not","not-eq","unless"]}',moduleName:"ghost-admin/components/gh-member-details.hbs"})
var s,o,l,u,d,c,p=Ember._setComponentTemplate(a,(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="settings",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}},s=i.prototype,o="settings",l=[n],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),r=c,i))
e.default=p})),define("ghost-admin/components/gh-member-label-input",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l
function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"ZjKmyon7",block:'{"symbols":["label","@disabled","@allowCreation","@allowEdit"],"statements":[[8,"gh-token-input",[],[["@extra","@class","@onChange","@onCreate","@options","@renderInPlace","@selected","@showCreateWhen","@triggerId","@selectedItemComponent","@disabled","@allowCreation"],[[30,[36,3],null,[["tokenComponent"],["gh-token-input/label-token"]]],"gh-member-label-input",[32,0,["updateLabels"]],[32,0,["createLabel"]],[32,0,["availableLabels"]],true,[32,0,["selectedLabels"]],[32,0,["hideCreateOptionOnMatchingLabel"]],[32,0,["triggerId"]],"gh-token-input/label-selected-item",[32,2],[32,3]]],[["default"],[{"statements":[[2,"\\n    "],[10,"div"],[14,5,"display: flex"],[12],[2,"\\n        "],[10,"span"],[14,0,"dropdown-label"],[14,5,"flex-grow: 1"],[15,"title",[31,[[32,1,["name"]]]]],[12],[2,"\\n            "],[1,[32,1,["name"]]],[2,"\\n        "],[13],[2,"\\n"],[6,[37,5],[[30,[36,4],[[32,4],[32,1,["slug"]]],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"dropdown-action-icon"],[16,"aria-label",[31,["Edit label ",[32,1,["name"]]]]],[24,4,"button"],[4,[38,1],["mouseup",[30,[36,0],[[32,0,["editLabel"]],[32,1]],null]],null],[12],[2,"\\n                "],[1,[30,[36,2],["pen"],null]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","svg-jar","hash","and","if"]}',moduleName:"ghost-admin/components/gh-member-label-input.hbs"})
let c=(n=Ember.inject.service,i=Ember._action,r=Ember._action,a=Ember._action,s=Ember._action,o=class extends t.default{get availableLabels(){return this._availableLabels.toArray().sort(((e,t)=>(e.name||"").localeCompare(t.name||"",void 0,{ignorePunctuation:!0})))}get availableLabelNames(){return this.availableLabels.map((e=>e.name.toLowerCase()))}constructor(){var e,t,n,i
super(...arguments),e=this,t="store",i=this,(n=l)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),this.store.query("label",{limit:"all"}),this._availableLabels=this.store.peekAll("label")}get selectedLabels(){return"object"==typeof this.args.labels?this.args.labels?.length&&"string"==typeof this.args.labels[0]?this.args.labels.map((e=>this.availableLabels.find((t=>t.slug===e))))||[]:this.args.labels||[]:[]}willDestroy(){super.willDestroy?.(...arguments),this._availableLabels.forEach((e=>{e.get("isNew")&&this.store.deleteRecord(e)}))}hideCreateOptionOnMatchingLabel(e){return!this.availableLabelNames.includes(e.toLowerCase())}updateLabels(e){this.selectedLabels.forEach((function(t){!e.includes(t)&&t.get("isNew")&&t.destroyRecord()})),this.args.onChange(e)}editLabel(e,t){t.stopPropagation(),this.args.onLabelEdit?.(e.slug)}createLabel(e){let t,n=this.selectedLabels,i=n.map((e=>e.get("name").toLowerCase()))
e=e.trim(),i.includes(e.toLowerCase())||(t=this._findLabelByName(e),t||(t=this.store.createRecord("label",{name:e})),n.pushObject(t),this.args.onChange(n))}_findLabelByName(e){return this.availableLabels.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}},l=u(o.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(o.prototype,"hideCreateOptionOnMatchingLabel",[i],Object.getOwnPropertyDescriptor(o.prototype,"hideCreateOptionOnMatchingLabel"),o.prototype),u(o.prototype,"updateLabels",[r],Object.getOwnPropertyDescriptor(o.prototype,"updateLabels"),o.prototype),u(o.prototype,"editLabel",[a],Object.getOwnPropertyDescriptor(o.prototype,"editLabel"),o.prototype),u(o.prototype,"createLabel",[s],Object.getOwnPropertyDescriptor(o.prototype,"createLabel"),o.prototype),o)
e.default=c,Ember._setComponentTemplate(d,c)})),define("ghost-admin/components/gh-member-settings-form",["exports","@glimmer/component","moment","ghost-admin/utils/currency","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C
function D(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function A(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const I=Ember.HTMLBars.template({id:"OyuNmZb9",block:'{"symbols":["product","sub","index","&attrs","@member","@onLabelEdit"],"statements":[[11,"div"],[24,0,"gh-member-settings"],[17,4],[4,[38,15],[[32,0,["setup"]]],null],[12],[2,"\\n    "],[10,"section"],[14,0,"gh-main-section columns-3"],[12],[2,"\\n        "],[8,"gh-member-details",[],[["@member"],[[32,5]]],null],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section-block span-2 mt6"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-cp-member-email-name"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property","@classNames"],[[32,0,["member","errors"]],[32,0,["member","hasValidated"]],"name","max-width"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","member-name"],[12],[2,"Name"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@id","@name","@value","@tabindex","@shouldFocus","@focus-out"],["member-name","name",[32,0,["scratchMember","name"]],"1",[31,[[30,[36,3],[[32,0,["member","isNew"]],true],null]]],[30,[36,4],[[32,0,["setProperty"]],"name",[32,0,["scratchMember","name"]]],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["member","errors"]],"name"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property","@classNames"],[[32,0,["member","errors"]],[32,0,["member","hasValidated"]],"email","max-width"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","member-email"],[12],[2,"Email"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@value","@id","@name","@tabindex","@autocapitalize","@autocorrect","@autocomplete","@focus-out"],[[32,0,["scratchMember","email"]],"member-email","email","2","off","off","off",[30,[36,4],[[32,0,["setProperty"]],"email",[32,0,["scratchMember","email"]]],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["member","errors"]],"email"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[8,"gh-form-group",[],[["@classNames"],["gh-member-labels"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","label-input"],[12],[2,"Labels"],[13],[2,"\\n                        "],[8,"gh-member-label-input",[],[["@onChange","@allowEdit","@onLabelEdit","@labels","@triggerId"],[[32,0,["setLabels"]],true,[32,6],[32,0,["member","labels"]],"label-input"]],null],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n\\n                    "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property","@classNames"],[[32,0,["member","errors"]],[32,0,["member","hasValidated"]],"note","mb0 gh-member-note"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","member-note"],[12],[2,"Note "],[10,"span"],[14,0,"midgrey-d1 fw4"],[12],[2,"(not visible to member)"],[13],[13],[2,"\\n                        "],[8,"gh-textarea",[],[["@id","@name","@class","@tabindex","@value","@focus-out"],["member-note","note","gh-member-details-textarea","3",[32,0,["scratchMember","note"]],[30,[36,4],[[32,0,["setProperty"]],"note",[32,0,["scratchMember","note"]]],null]]],null],[2,"\\n                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["member","errors"]],"note"]],null],[2,"\\n                        "],[10,"p"],[12],[2," Maximum: "],[10,"b"],[12],[2,"500"],[13],[2," characters. You’ve used\\n                            "],[1,[30,[36,16],[[32,0,["scratchMember","note"]],500],null]],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[30,[36,5],[[32,0,["settings","editorDefaultEmailRecipients"]],"disabled"],null]],null,[["default"],[{"statements":[[2,"                        "],[8,"gh-form-group",[],[["@classNames"],["gh-members-subscribed-checkbox mb0"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"div"],[14,0,"flex justify-between items-center"],[12],[2,"\\n                                "],[10,"div"],[12],[2,"\\n                                    "],[10,"h4"],[14,0,"gh-setting-title m"],[12],[2,"Subscribed to newsletter"],[13],[2,"\\n                                    "],[10,"p"],[14,0,"gh-setting-desc"],[12],[2,"If disabled, member will "],[10,"em"],[12],[2,"not"],[13],[2," receive newsletter emails"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                                    "],[10,"label"],[14,0,"switch"],[14,"for","subscribed-checkbox"],[12],[2,"\\n                                        "],[8,"input",[[24,1,"subscribed-checkbox"],[24,3,"subscribed"]],[["@checked","@type"],[[32,0,["member","subscribed"]],"checkbox"]],null],[2,"\\n                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["isStripeConnected"]]],null,[["default"],[{"statements":[[2,"                "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Subscriptions"],[13],[2,"\\n\\n"],[6,[37,13],[[32,0,["products"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-cp-memberproduct-noproduct"],[12],[2,"\\n"],[6,[37,13],[[32,0,["isCreatingComplimentary"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-members-no-data gh-members-no-subs"],[12],[2,"\\n                                    "],[10,"span"],[14,0,"lightgrey"],[12],[1,[30,[36,2],["no-data-subscription"],null]],[13],[2,"\\n                                    "],[10,"h4"],[12],[2,"No subscriptions"],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["isAddComplimentaryAllowed"]]],null,[["default"],[{"statements":[[6,[37,3],[[32,0,["isCreatingComplimentary"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[11,"button"],[24,0,"gh-btn gh-btn-text green gh-btn-icon gh-btn-addproduct"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],["showMemberProductModal",[32,0]],null]],null],[12],[2,"\\n                                        "],[10,"span"],[12],[1,[30,[36,2],["add"],null]],[2," Add complimentary subscription"],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,12],[[30,[36,11],[[30,[36,11],[[32,0,["products"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-main-section-content grey gh-member-product-container"],[12],[2,"\\n                        "],[10,"div"],[15,0,[31,["gh-main-content-card gh-cp-memberproduct ",[30,[36,3],[[30,[36,10],[[32,1,["subscriptions","length"]],1],null],"multiple-subs",""],null]]]],[12],[2,"\\n                            "],[10,"h3"],[14,0,"gh-memberproduct-name"],[12],[2,"\\n                                "],[1,[32,1,["name"]]],[2,"\\n"],[6,[37,3],[[30,[36,10],[[32,1,["subscriptions","length"]],1],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"gh-memberproduct-subcount"],[12],[1,[32,1,["subscriptions","length"]]],[2," subscriptions"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n\\n"],[6,[37,12],[[30,[36,11],[[30,[36,11],[[32,1,["subscriptions"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-memberproduct-subscription"],[12],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"div"],[12],[2,"\\n                                            "],[10,"span"],[14,0,"gh-cp-memberproduct-pricelabel"],[12],[1,[32,2,["price","nickname"]]],[13],[2,"\\n                                            –\\n"],[6,[37,3],[[30,[36,9],[[32,2,["status"]],"canceled"],null]],null,[["default","else"],[{"statements":[[2,"                                                "],[10,"span"],[14,0,"gh-cp-memberproduct-renewal"],[12],[2,"Ended "],[1,[32,2,["validUntil"]]],[13],[2,"\\n                                                "],[10,"span"],[14,0,"gh-badge archived"],[12],[2,"Cancelled"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,2,["cancel_at_period_end"]]],null,[["default","else"],[{"statements":[[2,"                                                "],[10,"span"],[14,0,"gh-cp-memberproduct-renewal"],[12],[2,"Has access until "],[1,[32,2,["validUntil"]]],[13],[2,"\\n                                                "],[10,"span"],[14,0,"gh-badge archived"],[12],[2,"Cancelled"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                "],[10,"span"],[14,0,"gh-cp-memberproduct-renewal"],[12],[2,"Renews "],[1,[32,2,["validUntil"]]],[13],[2,"\\n                                                "],[10,"span"],[14,0,"gh-badge active"],[12],[2,"Active"],[13],[2,"\\n                                            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n"],[6,[37,3],[[32,2,["cancellationReason"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[14,0,"gh-memberproduct-cancelreason"],[12],[10,"span"],[14,0,"fw6"],[12],[2,"Cancellation reason:"],[13],[2," "],[1,[32,2,["cancellationReason"]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[32,2,["offer"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[12],[2,"\\n                                                "],[10,"span"],[14,0,"gh-cp-memberproduct-pricelabel"],[12],[2," "],[1,[32,2,["offer","name"]]],[2," "],[13],[2,"\\n                                                offer\\n"],[6,[37,3],[[30,[36,9],[[32,2,["offer","type"]],"fixed"],null]],null,[["default","else"],[{"statements":[[2,"                                                    ("],[1,[30,[36,7],[[32,2,["offer","currency"]]],null]],[1,[30,[36,8],[[32,2,["offer","amount"]]],null]],[2," off)\\n"]],"parameters":[]},{"statements":[[2,"                                                    ("],[1,[32,2,["offer","amount"]]],[2,"% off)\\n"]],"parameters":[]}]]],[2,"                                                applied to subscription\\n                                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[10,"div"],[14,0,"gh-memberproduct-created"],[12],[2,"\\n                                            Created on "],[1,[32,2,["startDate"]]],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n\\n                                    "],[10,"div"],[14,0,"gh-memberproduct-price-container"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-product-card-price"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"flex items-start"],[12],[2,"\\n                                                "],[10,"span"],[14,0,"currency-symbol"],[12],[1,[32,2,["price","currencySymbol"]]],[13],[2,"\\n                                                "],[10,"span"],[14,0,"amount"],[12],[1,[32,2,["price","nonDecimalAmount"]]],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"period"],[12],[1,[30,[36,3],[[30,[36,9],[[32,2,["price","interval"]],"year"],null],"yearly","monthly"],null]],[13],[2,"\\n                                        "],[13],[2,"\\n\\n"],[6,[37,3],[[32,2,["isComplimentary"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"action-menu"],[12],[2,"\\n                                                "],[8,"gh-dropdown-button",[],[["@dropdownName","@classNames","@title"],["subscription-menu-complimentary","gh-btn gh-btn-outline gh-btn-icon gh-btn-subscription-action icon-only","Actions"]],[["default"],[{"statements":[[2,"\\n                                                    "],[10,"span"],[12],[2,"\\n                                                        "],[1,[30,[36,2],["dotdotdot"],null]],[2,"\\n                                                        "],[10,"span"],[14,0,"hidden"],[12],[2,"Subscription menu"],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "]],"parameters":[]}]]],[2,"\\n                                                "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],["subscription-menu-complimentary","ul","product-actions-menu dropdown-menu dropdown-align-right"]],[["default"],[{"statements":[[2,"\\n                                                    "],[10,"li"],[12],[2,"\\n                                                        "],[11,"button"],[24,4,"button"],[4,[38,1],["click",[30,[36,4],[[32,0,["removeComplimentary"]],[30,[36,6],[[32,1,["id"]],[32,1,["product_id"]]],null]],null]],null],[12],[2,"\\n                                                            "],[10,"span"],[14,0,"red"],[12],[2,"Remove complimentary subscription"],[13],[2,"\\n                                                        "],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "]],"parameters":[]}]]],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[10,"span"],[14,0,"action-menu"],[12],[2,"\\n                                                "],[8,"gh-dropdown-button",[],[["@dropdownName","@classNames","@title"],[[31,["subscription-menu-",[32,2,["id"]]]],"gh-btn gh-btn-outline gh-btn-icon gh-btn-subscription-action icon-only","Actions"]],[["default"],[{"statements":[[2,"\\n                                                    "],[10,"span"],[12],[2,"\\n                                                        "],[1,[30,[36,2],["dotdotdot"],null]],[2,"\\n                                                        "],[10,"span"],[14,0,"hidden"],[12],[2,"Subscription menu"],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "]],"parameters":[]}]]],[2,"\\n                                                "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],[[31,["subscription-menu-",[32,2,["id"]]]],"ul","product-actions-menu dropdown-menu dropdown-align-right"]],[["default"],[{"statements":[[2,"\\n                                                    "],[10,"li"],[12],[2,"\\n                                                        "],[10,"a"],[15,6,[31,["https://dashboard.stripe.com/customers/",[32,2,["customer","id"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                                            View Stripe customer\\n                                                        "],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                    "],[10,"li"],[14,0,"divider"],[12],[13],[2,"\\n                                                    "],[10,"li"],[12],[2,"\\n                                                        "],[10,"a"],[15,6,[31,["https://dashboard.stripe.com/subscriptions/",[32,2,["id"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                                            View Stripe subscription\\n                                                        "],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                    "],[10,"li"],[12],[2,"\\n"],[6,[37,3],[[30,[36,5],[[32,2,["status"]],"canceled"],null]],null,[["default"],[{"statements":[[6,[37,3],[[32,2,["cancel_at_period_end"]]],null,[["default","else"],[{"statements":[[2,"                                                            "],[11,"button"],[24,4,"button"],[4,[38,1],["click",[30,[36,4],[[32,0,["continueSubscription"]],[32,2,["id"]]],null]],null],[12],[2,"\\n                                                                "],[10,"span"],[12],[2,"Continue subscription"],[13],[2,"\\n                                                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                            "],[11,"button"],[24,4,"button"],[4,[38,1],["click",[30,[36,4],[[32,0,["cancelSubscription"]],[32,2,["id"]]],null]],null],[12],[2,"\\n                                                                "],[10,"span"],[14,0,"red"],[12],[2,"Cancel subscription"],[13],[2,"\\n                                                            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "]],"parameters":[]}]]],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[2,3]}]]],[2,"\\n"],[6,[37,3],[[30,[36,9],[[32,1,["subscriptions","length"]],0],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-memberproduct-subscription"],[12],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"div"],[12],[2,"\\n                                            "],[10,"span"],[14,0,"gh-cp-memberproduct-pricelabel"],[12],[2,"Complimentary"],[13],[2,"\\n                                            "],[10,"span"],[14,0,"gh-badge active"],[12],[2,"Active"],[13],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-memberproduct-created"],[12],[2,"Created on"],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-product-card-price"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"flex items-start"],[12],[2,"\\n                                                "],[10,"span"],[14,0,"currency-symbol"],[12],[2,"$"],[13],[2,"\\n                                                "],[10,"span"],[14,0,"amount"],[12],[2,"0"],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"period"],[12],[2,"yearly"],[13],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"span"],[14,0,"action-menu"],[12],[2,"\\n                                            "],[8,"gh-dropdown-button",[],[["@dropdownName","@classNames","@title"],["subscription-menu-complimentary","gh-btn gh-btn-outline gh-btn-icon gh-btn-subscription-action icon-only","Actions"]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"span"],[12],[2,"\\n                                                    "],[1,[30,[36,2],["dotdotdot"],null]],[2,"\\n                                                    "],[10,"span"],[14,0,"hidden"],[12],[2,"Subscription menu"],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                            "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],["subscription-menu-complimentary","ul","product-actions-menu dropdown-menu dropdown-align-right"]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"li"],[12],[2,"\\n                                                    "],[11,"button"],[24,4,"button"],[4,[38,1],["click",[30,[36,4],[[32,0,["removeComplimentary"]],[32,1,["id"]]],null]],null],[12],[2,"\\n                                                        "],[10,"span"],[14,0,"red"],[12],[2,"Remove complimentary subscription"],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"],[6,[37,3],[[30,[36,14],[[32,0,["products"]],[32,0,["isAddComplimentaryAllowed"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[15,0,[31,["gh-memberproduct-list-footer ",[30,[36,3],[[32,0,["isCreatingComplimentary"]],"min-height",""],null]]]],[12],[2,"\\n"],[6,[37,3],[[32,0,["isCreatingComplimentary"]]],null,[["default","else"],[{"statements":[[2,"                            "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[11,"button"],[24,0,"gh-btn gh-btn-text green gh-btn-icon gh-btn-addproduct"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],["showMemberProductModal",[32,0]],null]],null],[12],[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,2],["add"],null]],[2," Add complimentary subscription"],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[30,[36,17],["membersActivityFeed"],null]],null,[["default","else"],[{"statements":[[2,"                "],[8,"member/activity-feed",[],[["@member"],[[32,0,["member"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[8,"gh-member-activity-feed",[],[["@member","@emailRecipients"],[[32,0,["member"]],[32,0,["member","emailRecipients"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n    "],[13],[2,"\\n\\n"],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["showMemberProductModal"]]],null,[["default"],[{"statements":[[8,"gh-fullscreen-modal",[],[["@modifier"],["action wide member-product"]],[["default"],[{"statements":[[2,"\\n    "],[8,"modal-member-product",[],[["@model","@confirm","@closeModal"],[[32,0,["member"]],[32,0,["addProduct"]],[32,0,["closeMemberProductModal"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["toggle-action","on","svg-jar","if","fn","not-eq","or","currency-symbol","gh-price-amount","eq","gt","-track-array","each","unless","and","did-insert","gh-count-down-characters","feature"]}',moduleName:"ghost-admin/components/gh-member-settings-form.hbs"})
var L=Ember._setComponentTemplate(I,(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember.inject.service,c=Ember._tracked,p=Ember._tracked,m=Ember._action,h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=(0,r.task)({drop:!0}),E=(0,r.task)({drop:!0}),k=(0,r.task)({drop:!0}),P=(0,r.task)({drop:!0}),O=class extends t.default{constructor(){super(...arguments),D(this,"membersUtils",j,this),D(this,"ghostPaths",_,this),D(this,"ajax",z,this),D(this,"store",x,this),D(this,"feature",T,this),D(this,"settings",S,this),D(this,"showMemberProductModal",M,this),D(this,"productsList",C,this),this.member=this.args.member,this.scratchMember=this.args.scratchMember}get canShowStripeInfo(){return!this.member.get("isNew")&&this.membersUtils.isStripeEnabled}get isAddComplimentaryAllowed(){if(!this.membersUtils.isStripeEnabled)return!1
if(this.member.get("isNew"))return!1
if(this.member.get("products")?.length>0)return!1
return!!this.productsList?.length}get isCreatingComplimentary(){return this.args.isSaveRunning}get products(){let e=this.member.get("subscriptions")||[],t=e.map((e=>e.tier||e.price.product)).filter(((e,t,n)=>void 0!==e.id&&n.findIndex((t=>(t.product_id||t.id)===(e.product_id||e.id)))===t)),r=e.filter((e=>!!e.price)).map((e=>({...e,startDate:e.start_date?(0,n.default)(e.start_date).format("D MMM YYYY"):"-",validUntil:e.current_period_end?(0,n.default)(e.current_period_end).format("D MMM YYYY"):"-",cancellationReason:e.cancellation_reason,price:{...e.price,currencySymbol:(0,i.getSymbol)(e.price.currency),nonDecimalAmount:(0,i.getNonDecimal)(e.price.amount)},isComplimentary:!e.id})))
return t.map((e=>{let t=r.filter((t=>t?.price?.product?.product_id===(e.product_id||e.id)))
return{...e,subscriptions:t}}))}get customer(){let e=this.member.get("subscriptions").firstObject,t=e?.customer
return t?{...t,startDate:e?.startDate}:null}get isStripeConnected(){return this.settings.get("stripeConnectAccountId")}setup(){this.fetchProducts.perform()}setProperty(e,t){this.args.setProperty(e,t)}setLabels(e){this.member.set("labels",e)}closeMemberProductModal(){this.showMemberProductModal=!1}cancelSubscription(e){this.cancelSubscriptionTask.perform(e)}removeComplimentary(e){this.removeComplimentaryTask.perform(e)}continueSubscription(e){this.continueSubscriptionTask.perform(e)}*cancelSubscriptionTask(e){let t=this.ghostPaths.url.api("members",this.member.get("id"),"subscriptions",e),n=yield this.ajax.put(t,{data:{cancel_at_period_end:!0}})
return this.store.pushPayload("member",n),n}*removeComplimentaryTask(e){let t=this.ghostPaths.url.api(`members/${this.member.get("id")}`)
const n=(this.member.get("products")||[]).filter((t=>t.id!==e)).map((e=>({id:e.id})))
let i=yield this.ajax.put(t,{data:{members:[{id:this.member.get("id"),email:this.member.get("email"),products:n}]}})
return this.store.pushPayload("member",i),i}*continueSubscriptionTask(e){let t=this.ghostPaths.url.api("members",this.member.get("id"),"subscriptions",e),n=yield this.ajax.put(t,{data:{cancel_at_period_end:!1}})
return this.store.pushPayload("member",n),n}*fetchProducts(){this.productsList=yield this.store.query("product",{filter:"type:paid+active:true",include:"monthly_price,yearly_price"})}},j=A(O.prototype,"membersUtils",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=A(O.prototype,"ghostPaths",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A(O.prototype,"ajax",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=A(O.prototype,"store",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=A(O.prototype,"feature",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=A(O.prototype,"settings",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=A(O.prototype,"showMemberProductModal",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=A(O.prototype,"productsList",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A(O.prototype,"setup",[m],Object.getOwnPropertyDescriptor(O.prototype,"setup"),O.prototype),A(O.prototype,"setProperty",[h],Object.getOwnPropertyDescriptor(O.prototype,"setProperty"),O.prototype),A(O.prototype,"setLabels",[g],Object.getOwnPropertyDescriptor(O.prototype,"setLabels"),O.prototype),A(O.prototype,"closeMemberProductModal",[b],Object.getOwnPropertyDescriptor(O.prototype,"closeMemberProductModal"),O.prototype),A(O.prototype,"cancelSubscription",[f],Object.getOwnPropertyDescriptor(O.prototype,"cancelSubscription"),O.prototype),A(O.prototype,"removeComplimentary",[v],Object.getOwnPropertyDescriptor(O.prototype,"removeComplimentary"),O.prototype),A(O.prototype,"continueSubscription",[y],Object.getOwnPropertyDescriptor(O.prototype,"continueSubscription"),O.prototype),A(O.prototype,"cancelSubscriptionTask",[w],Object.getOwnPropertyDescriptor(O.prototype,"cancelSubscriptionTask"),O.prototype),A(O.prototype,"removeComplimentaryTask",[E],Object.getOwnPropertyDescriptor(O.prototype,"removeComplimentaryTask"),O.prototype),A(O.prototype,"continueSubscriptionTask",[k],Object.getOwnPropertyDescriptor(O.prototype,"continueSubscriptionTask"),O.prototype),A(O.prototype,"fetchProducts",[P],Object.getOwnPropertyDescriptor(O.prototype,"fetchProducts"),O.prototype),O))
e.default=L})),define("ghost-admin/components/gh-member-single-label-input",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o
function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"/iEvzAf+",block:'{"symbols":[],"statements":[[10,"span"],[14,0,"gh-select"],[12],[2,"\\n    "],[8,"one-way-select",[],[["@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update"],[[32,0,["availableLabels"]],"id","name","id",[32,0,["updateLabel"]]]],null],[2,"\\n    "],[1,[30,[36,0],["arrow-down-small"],null]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/components/gh-member-single-label-input.hbs"})
let c=(n=Ember.inject.service,i=Ember._tracked,r=Ember._action,a=class extends t.default{get availableLabels(){return this._availableLabels.toArray().sort(((e,t)=>e.name.localeCompare(t.name,void 0,{ignorePunctuation:!0})))}get availableLabelNames(){return this.availableLabels.map((e=>e.name.toLowerCase()))}constructor(){super(...arguments),l(this,"store",s,this),l(this,"selectedLabel",o,this),this.store.query("label",{limit:"all"}),this._availableLabels=this.store.peekAll("label"),this.selectedLabel=this.args.label||this.availableLabels[0]?.get("id"),this.args.onChange(this.selectedLabel)}updateLabel(e){this.selectedLabel=e,this.args.onChange(e)}},s=u(a.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"selectedLabel",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"updateLabel",[r],Object.getOwnPropertyDescriptor(a.prototype,"updateLabel"),a.prototype),a)
e.default=c,Ember._setComponentTemplate(d,c)})),define("ghost-admin/components/gh-members-chart",["exports","moment","ghost-admin/utils/currency","ember-concurrency"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"yBsFQrcw",block:'{"symbols":[],"statements":[[11,"div"],[16,0,[31,["gh-dashboard-chart-box ",[30,[36,0],[[32,0,["isSmall"]],"small"],null]]]],[4,[38,2],[[30,[36,1],[[32,0,["fetchStatsTask"]]],null]],null],[12],[2,"    \\n"],[6,[37,0],[[32,0,["stats"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"ember-chart",[],[["@type","@options","@data","@height"],[[32,0,["type"]],[32,0,["chartOptions"]],[32,0,["chartData"]],300]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["if","perform","did-insert"]}',moduleName:"ghost-admin/components/gh-members-chart.hbs"}),a="D MMM YYYY"
var s=Ember._setComponentTemplate(r,Ember.Component.extend({ajax:Ember.inject.service(),membersStats:Ember.inject.service(),nightShift:!1,lineColor:"#14b8ff",stats:null,tagName:"",chartStats:null,chartData:null,chartOptions:null,showSummary:!0,showRange:!0,chartType:"",chartSize:"",chartHeading:"Total members",isSmall:Ember.computed("chartSize",(function(){return"small"===this.chartSize})),startDateLabel:Ember.computed("membersStats.stats",(function(){if(!this.membersStats?.stats?.total_on_date)return""
let e=Object.keys(this.membersStats.stats.total_on_date)[0]
return(0,t.default)(e).format(a)})),selectedRange:Ember.computed("membersStats.days",(function(){return this.availableRanges.findBy("days",this.membersStats.days)})),availableRanges:Ember.computed((function(){return[{name:"30 days",days:"30"},{name:"90 days",days:"90"},{name:"365 days",days:"365"},{name:"All time",days:"all-time"}]})),init(){this._super(...arguments),this.setChartJSDefaults()},didReceiveAttrs(){if(this._super(...arguments),this.chartStats){const{options:e,data:t,title:n,stats:i}=this.chartStats
this.set("stats",i),this.set("chartHeading",n),this.setChartData(t),this.setChartOptions(e)}if(void 0!==this._lastNightShift&&this.nightShift!==this._lastNightShift){const{options:e={}}=this.chartStats
this.setChartOptions(e)}this._lastNightShift=this.nightShift},changeDateRange:Ember._action((function(e){this.membersStats.days=Ember.get(e,"days"),this.fetchStatsTask.perform()})),fetchStatsTask:(0,i.task)((function*(){let e
this.chartType||(this.set("stats",null),e=yield this.membersStats.fetch(),this.setOriginalChartData(e))})),setOriginalChartData(e){e&&(this.set("stats",e),this.setChartOptions({rangeInDays:Object.keys(e.total_on_date).length}),this.setChartData({dateLabels:Object.keys(e.total_on_date),dateValues:Object.values(e.total_on_date)}))},setChartData(e){let{dateLabels:t,dateValues:n,label:i="Total Members"}=e,r=this.lineColor
"open-rate"===this.chartType&&(r=t.map((e=>e?this.lineColor:this.nightShift?"#7C8B9A":"#CED4D9"))),this.set("chartData",{labels:t,datasets:[{label:i,cubicInterpolationMode:"monotone",data:n,fill:!1,backgroundColor:r,pointRadius:0,pointHitRadius:10,borderColor:this.lineColor,borderJoinStyle:"miter",maxBarThickness:20,minBarLength:2}]})},setChartOptions(e){let{rangeInDays:i}=e,r=this.isSmall?3:this.getTicksForRange(i)
"open-rate"===this.chartType&&(r=0),this.setChartJSDefaults()
let s={responsive:!0,responsiveAnimationDuration:5,maintainAspectRatio:!1,layout:{padding:{top:this.isSmall?20:5,right:10,bottom:this.isSmall?20:5,left:10}},title:{display:!1},tooltips:{intersect:!1,mode:"index",displayColors:!1,backgroundColor:"#15171A",xPadding:7,yPadding:7,cornerRadius:5,caretSize:7,caretPadding:5,bodyFontSize:12.5,titleFontSize:12,titleFontStyle:"normal",titleFontColor:"rgba(255, 255, 255, 0.7)",titleMarginBottom:3,filter:(e,t)=>{if("open-rate"===this.chartType){if(""===t.labels[e.index])return!1}return!0},callbacks:{label:(e,t)=>{const i=t.datasets[e.datasetIndex].label
let r=t.datasets[e.datasetIndex].data[e.index].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")
if("mrr"===this.chartType){r=`${(0,n.getSymbol)(this.stats.currency)}${r}`}return"open-rate"===this.chartType&&(r=`${r}%`),`${i}: ${r}`},title:e=>"open-rate"===this.chartType?e.length?e[0].xLabel:"":(0,t.default)(e[0].xLabel).format(a)}},hover:{mode:"index",intersect:!1,animationDuration:120},legend:{display:!1},scales:{xAxes:[{labelString:"Date",gridLines:{drawTicks:!1,color:this.nightShift?"#333F44":"#DDE1E5",zeroLineColor:this.nightShift?"#333F44":"#DDE1E5"},ticks:{display:!1,maxRotation:0,minRotation:0,padding:6,autoSkip:!1,fontColor:"#626D79",maxTicksLimit:10,callback:(e,t,n)=>{let i=(n.length-1)/r,a=[]
for(let s=0;s<r;s++)a.push(Math.ceil(s*i))
return 0===t?e:t===n.length-1&&"open-rate"!==this.chartType?"Today":a.includes(t)?"":void 0}}}],yAxes:[{gridLines:{drawTicks:!1,display:!1,drawBorder:!1},ticks:{maxTicksLimit:5,fontColor:"#7C8B9A",padding:8,precision:0,callback:e=>{const t="mrr"===this.chartType?(0,n.getSymbol)(this.stats.currency):""
return parseInt(e)>=1e3?t+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t+e}}}]}}
if("mrr"===this.chartType||"all-members"===this.chartType){const e=this.chartData.datasets[0].data
let t=!0
for(let n=0;n<e.length;n++){if(0!==e[n]){t=!1
break}}t&&(s.scales.yAxes[0].ticks.suggestedMin=0,s.scales.yAxes[0].ticks.suggestedMax=100)}"open-rate"===this.chartType&&(s.scales.yAxes[0].ticks.suggestedMin=0),this.isSmall&&(s.scales.yAxes[0].ticks.display=!1,s.scales.xAxes[0].gridLines.display=!0),this.set("chartOptions",s)},getTicksForRange:e=>e<=30?5:e<=90?10:15,setChartJSDefaults(){Chart.defaults.LineWithLine=Chart.defaults.line,Chart.controllers.LineWithLine=Chart.controllers.line.extend({draw:function(e){if(Chart.controllers.line.prototype.draw.call(this,e),this.chart.tooltip._active&&this.chart.tooltip._active.length){let e=this.chart.tooltip._active[0],t=this.chart.ctx,n=e.tooltipPosition().x,i=this.chart.scales["y-axis-0"].top,r=this.chart.scales["y-axis-0"].bottom
t.save(),t.beginPath(),t.moveTo(n,i),t.lineTo(n,r),t.lineWidth=1,t.strokeStyle=this.nightShift?"rgba(62, 176, 239, 0.65)":"rgba(62, 176, 239, 0.1)",t.stroke(),t.restore()}}})}}))
e.default=s})),define("ghost-admin/components/gh-members-filter-count",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o
function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"0/PvpuSl",block:'{"symbols":[],"statements":[[1,[32,0,["memberCount"]]]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-members-filter-count.hbs"})
let c=(i=Ember.inject.service,r=Ember._tracked,a=class extends t.default{constructor(){super(...arguments),l(this,"membersCountCache",s,this),l(this,"memberCount",o,this),this.getMembersCountTask.perform()}*getMembersCountTask(){this.memberCount=yield this.membersCountCache.countString(this.args.filter,{knownCount:this.args.knownCount})}},s=u(a.prototype,"membersCountCache",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"memberCount",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"getMembersCountTask",[n.task],Object.getOwnPropertyDescriptor(a.prototype,"getMembersCountTask"),a.prototype),a)
e.default=c,Ember._setComponentTemplate(d,c)})),define("ghost-admin/components/gh-members-import-mapping-input",["exports","@glimmer/component"],(function(e,t){var n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"C0tv2tZe",block:'{"symbols":["@disabled"],"statements":[[10,"span"],[15,0,[31,["gh-select gh-import-member-select ",[30,[36,1],[[32,1],"disabled"],null]," ",[30,[36,0],[[32,0,["mapTo"]],"unmapped"],null]]]],[12],[2,"\\n    "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@includeBlank","@promptIsSelectable","@prompt","@update","@disabled"],[[32,0,["mapTo"]],[32,0,["availableFields"]],"value","label","value",true,true,"Not imported",[30,[36,2],[[32,0],"updateMapping"],null],[32,1]]],null],[2,"\\n    "],[1,[30,[36,3],["arrow-down-small"],null]],[2,"\\n"],[13]],"hasEval":false,"upvars":["unless","if","action","svg-jar"]}',moduleName:"ghost-admin/components/gh-members-import-mapping-input.hbs"}),l=[{label:"Email",value:"email"},{label:"Name",value:"name"},{label:"Note",value:"note"},{label:"Subscribed to emails",value:"subscribed_to_emails"},{label:"Stripe Customer ID",value:"stripe_customer_id"},{label:"Complimentary plan",value:"complimentary_plan"},{label:"Labels",value:"labels"},{label:"Created at",value:"created_at"}]
var u=Ember._setComponentTemplate(o,(n=Ember._tracked,i=Ember._action,r=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="availableFields",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get mapTo(){return this.args.mapTo}updateMapping(e){this.args.updateMapping&&this.args.updateMapping(this.args.mapFrom,e)}},a=s(r.prototype,"availableFields",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l}}),s(r.prototype,"updateMapping",[i],Object.getOwnPropertyDescriptor(r.prototype,"updateMapping"),r.prototype),r))
e.default=u})),define("ghost-admin/components/gh-members-import-table",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p
function m(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"EKviIQzJ",block:'{"symbols":["row","@disabled"],"statements":[[10,"table"],[14,0,"f8 gh-members-import-table ma0"],[12],[2,"\\n    "],[10,"thead"],[12],[2,"\\n        "],[10,"tr"],[12],[2,"\\n            "],[10,"th"],[14,0,"table-cell-field"],[12],[10,"span"],[14,0,"f-small midgrey ttu fw5"],[12],[2,"Field"],[13],[13],[2,"\\n            "],[10,"th"],[14,0,"table-cell-data"],[12],[2,"\\n                "],[10,"div"],[14,0,"flex items-center justify-between"],[12],[2,"\\n                    "],[10,"span"],[14,0,"f-small midgrey ttu fw5 nudge-top--1"],[12],[2,"Sample data "],[10,"span"],[14,0,"midlightgrey fw4"],[12],[2,"(#"],[1,[30,[36,1],[[32,0,["currentRecord"]]],null]],[2,")"],[13],[13],[2,"\\n                    "],[10,"div"],[14,0,"flex items-center bg-white br2 ml1 nr1 gh-members-import-datanav"],[12],[2,"\\n                        "],[11,"a"],[24,6,"#"],[16,0,[31,["pa1 flex items-center justify-center br b--whitegrey ",[30,[36,0],[[32,0,["hasPrevRecord"]],"o-30"],null]]]],[4,[38,2],[[32,0],"prev"],null],[12],[1,[30,[36,3],["arrow-left"],[["class"],["w3 h3 fill-middarkgrey"]]]],[13],[2,"\\n                        "],[11,"a"],[24,6,"#"],[16,0,[31,["pa1 flex items-center justify-center ",[30,[36,0],[[32,0,["hasNextRecord"]],"o-30"],null]]]],[4,[38,2],[[32,0],"next"],null],[12],[1,[30,[36,3],["arrow-right"],[["class"],["w3 h3 fill-middarkgrey"]]]],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"th"],[12],[10,"span"],[14,0,"f-small midgrey ttu fw5"],[12],[2,"Import as"],[13],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"tbody"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["currentlyDisplayedData"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[14,0,"middarkgrey table-cell-field"],[12],[10,"span"],[12],[1,[32,1,["key"]]],[13],[13],[2,"\\n                "],[10,"td"],[15,0,[31,["middarkgrey table-cell-data ",[30,[36,0],[[32,1,["value"]],"empty-cell"],null]]]],[12],[10,"span"],[12],[1,[32,1,["value"]]],[13],[13],[2,"\\n                "],[10,"td"],[12],[10,"span"],[12],[8,"gh-members-import-mapping-input",[],[["@updateMapping","@mapFrom","@mapTo","@disabled"],[[32,0,["updateMapping"]],[32,1,["key"]],[32,1,["mapTo"]],[32,2]]],null],[13],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[14,"colspan","3"],[14,0,"gh-member-import-nodata"],[12],[10,"span"],[12],[2,"No data found in the uploaded CSV."],[13],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["unless","format-number","action","svg-jar","-track-array","each"]}',moduleName:"ghost-admin/components/gh-members-import-table.hbs"})
let b=(n=Ember._tracked,r=h((i=class{constructor(e){if(m(this,"_mapping",r,this),e)for(const[t,n]of Object.entries(e))this._mapping[n]=t}get(e){return this._mapping[e]}toJSON(){return this._mapping}getKeyByValue(e){for(const[t,n]of Object.entries(this._mapping))if(n===e)return t
return null}updateMapping(e,t){for(const n in this._mapping)this.get(n)===t&&(this._mapping[n]=null)
this._mapping[e]=t,this._mapping=this._mapping}}).prototype,"_mapping",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i),f=(a=Ember._tracked,s=Ember.inject.service,o=Ember._action,l=Ember._action,u=Ember._action,d=class extends t.default{constructor(){super(...arguments),m(this,"dataPreviewIndex",c,this),m(this,"memberImportValidator",p,this)
const e=this.memberImportValidator.check(this.args.data)
this.data=this.args.data,this.mapping=new b(e),Ember.run.schedule("afterRender",(()=>this.args.setMapping(this.mapping)))}get currentlyDisplayedData(){let e=[]
if(this.data&&this.data.length&&this.mapping){let t=this.data[this.dataPreviewIndex]
for(const[n,i]of Object.entries(t))e.push({key:n,value:i,mapTo:this.mapping.get(n)})}return e}get hasNextRecord(){return this.data&&!!this.data[this.dataPreviewIndex+1]}get hasPrevRecord(){return this.data&&!!this.data[this.dataPreviewIndex-1]}get currentRecord(){return this.dataPreviewIndex+1}get allRecords(){return this.data?this.data:0}updateMapping(e,t){this.mapping.updateMapping(e,t),this.args.setMapping(this.mapping)}next(){this.hasNextRecord&&(this.dataPreviewIndex+=1)}prev(){this.hasPrevRecord&&(this.dataPreviewIndex-=1)}},c=h(d.prototype,"dataPreviewIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=h(d.prototype,"memberImportValidator",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(d.prototype,"updateMapping",[o],Object.getOwnPropertyDescriptor(d.prototype,"updateMapping"),d.prototype),h(d.prototype,"next",[l],Object.getOwnPropertyDescriptor(d.prototype,"next"),d.prototype),h(d.prototype,"prev",[u],Object.getOwnPropertyDescriptor(d.prototype,"prev"),d.prototype),d)
e.default=f,Ember._setComponentTemplate(g,f)})),define("ghost-admin/components/gh-members-list-item-column",["exports","@glimmer/component","ghost-admin/helpers/most-recently-updated"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"yKDhwh3P",block:'{"symbols":["@member","@filterColumn"],"statements":[[6,[37,5],[[30,[36,6],[[32,2],"label"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"link-to",[[24,0,"gh-list-data wrap middarkgrey f8"]],[["@route","@model"],["member",[32,1]]],[["default"],[{"statements":[[2,"\\n        "],[10,"span"],[14,0,"gh-members-list-labels"],[12],[1,[32,0,["labels"]]],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[30,[36,6],[[32,2],"product"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"link-to",[[24,0,"gh-list-data wrap middarkgrey f8"]],[["@route","@model"],["member",[32,1]]],[["default"],[{"statements":[[2,"\\n        "],[10,"span"],[14,0,"gh-members-list-labels"],[12],[1,[32,0,["products"]]],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[30,[36,6],[[32,2],"status"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8"]],[["@route","@model"],["member",[32,1]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,3],[[32,1,["status"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"span"],[12],[1,[30,[36,7],[[32,1,["status"]]],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[30,[36,6],[[32,2],"last_seen_at"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8"]],[["@route","@model"],["member",[32,1]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,3],[[32,1,["lastSeenAtUTC"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,1],[[30,[36,0],[[32,1,["lastSeenAtUTC"]]],null],"D MMM YYYY"],null]],[2,"\\n            "],[10,"div"],[14,0,"midlightgrey gh-members-list-subscribed-moment"],[12],[1,[30,[36,2],[[32,1,["lastSeenAtUTC"]]],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[30,[36,6],[[32,2],"email_count"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8"]],[["@route","@model"],["member",[32,1]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,3],[[32,1,["emailCount"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"span"],[12],[1,[32,1,["emailCount"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[30,[36,6],[[32,2],"email_opened_count"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8"]],[["@route","@model"],["member",[32,1]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,3],[[32,1,["emailOpenedCount"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"span"],[12],[1,[32,1,["emailOpenedCount"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[30,[36,6],[[32,2],"subscribed"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8"]],[["@route","@model"],["member",[32,1]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,3],[[32,1,["subscribed"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"span"],[12],[1,[30,[36,5],[[32,1,["subscribed"]],"Yes","No"],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[30,[36,6],[[32,2],"subscriptions.status"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8"]],[["@route","@model"],["member",[32,1]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,3],[[32,0,["mostRecentSubscription","status"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"span"],[12],[1,[30,[36,7],[[32,0,["mostRecentSubscription","status"]]],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[30,[36,6],[[32,2],"subscriptions.plan_interval"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8"]],[["@route","@model"],["member",[32,1]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,3],[[32,0,["mostRecentSubscription","price","interval"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"span"],[12],[1,[30,[36,7],[[32,0,["mostRecentSubscription","price","interval"]]],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[30,[36,6],[[32,2],"subscriptions.start_date"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8"]],[["@route","@model"],["member",[32,1]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,3],[[32,0,["mostRecentSubscription","start_date"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,1],[[30,[36,0],[[32,0,["mostRecentSubscription","start_date"]]],null],"D MMM YYYY"],null]],[2,"\\n            "],[10,"div"],[14,0,"midlightgrey gh-members-list-subscribed-moment"],[12],[1,[30,[36,2],[[32,0,["mostRecentSubscription","start_date"]]],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[30,[36,6],[[32,2],"subscriptions.current_period_end"],null]],null,[["default"],[{"statements":[[2,"    "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8"]],[["@route","@model"],["member",[32,1]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,3],[[32,0,["mostRecentSubscription","current_period_end"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,1],[[30,[36,0],[[32,0,["mostRecentSubscription","current_period_end"]]],null],"D MMM YYYY"],null]],[2,"\\n            "],[10,"div"],[14,0,"midlightgrey gh-members-list-subscribed-moment"],[12],[1,[30,[36,2],[[32,0,["mostRecentSubscription","current_period_end"]]],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["moment-site-tz","moment-format","moment-from-now","is-empty","not","if","eq","capitalize"]}',moduleName:"ghost-admin/components/gh-members-list-item-column.hbs"})
class r extends t.default{constructor(){super(...arguments)}get labels(){return(Ember.get(this.args.member,"labels")||[]).map((e=>e.name)).join(", ")}get products(){return(Ember.get(this.args.member,"products")||[]).map((e=>e.name)).join(", ")}get mostRecentSubscription(){return(0,n.mostRecentlyUpdated)(Ember.get(this.args.member,"subscriptions"))}}e.default=r,Ember._setComponentTemplate(i,r)})),define("ghost-admin/components/gh-members-list-item",["exports","@glimmer/component"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"/Xc9wnqx",block:'{"symbols":["filterColumn","@member","@newsletterEnabled","@filterColumns"],"statements":[[10,"tr"],[12],[2,"\\n"],[6,[37,3],[[32,2,["is_loading"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-list-data gh-members-list-basic gh-list-loadingcell"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-title"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-detail"],[12],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-list-data"],[12],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-list-data"],[12],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-list-data"],[12],[13],[2,"\\n"],[6,[37,13],[[30,[36,12],[[30,[36,12],[[32,4]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-list-data"],[12],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"        "],[8,"link-to",[[24,0,"gh-list-data"]],[["@route","@model"],["member",[32,2]]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                "],[8,"gh-member-avatar",[],[["@member","@containerClass"],[[32,2],"w9 h9 mr3 flex-shrink-0"]],null],[2,"\\n                "],[10,"div"],[14,0,"w-80"],[12],[2,"\\n                    "],[10,"h3"],[15,0,[31,["ma0 pa0 gh-members-list-name ",[30,[36,6],[[32,2,["name"]],"gh-members-name-noname"],null]]]],[12],[1,[30,[36,11],[[32,2,["name"]],[32,2,["email"]]],null]],[13],[2,"\\n"],[6,[37,3],[[32,2,["name"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"p"],[14,0,"ma0 pa0 middarkgrey f8 gh-members-list-email"],[12],[1,[32,2,["email"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[30,[36,9],["membersTableStatus"],null]],null,[["default"],[{"statements":[[6,[37,3],[[32,0,["hasMultipleProducts"]]],null,[["default","else"],[{"statements":[[2,"                "],[8,"link-to",[[24,0,"gh-list-data"]],[["@route","@model"],["member",[32,2]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,8],[[30,[36,7],[[32,2,["status"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"span"],[12],[1,[30,[36,10],[[32,2,["status"]]],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"div"],[14,0,"midgrey"],[12],[1,[32,0,["products"]]],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[8,"link-to",[[24,0,"gh-list-data"]],[["@route","@model"],["member",[32,2]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,8],[[30,[36,7],[[32,2,["status"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"span"],[12],[1,[30,[36,10],[[32,2,["status"]]],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[6,[37,3],[[32,3]],null,[["default"],[{"statements":[[6,[37,3],[[30,[36,9],["emailAnalytics"],null]],null,[["default"],[{"statements":[[2,"                "],[8,"link-to",[[16,0,[31,["gh-list-data middarkgrey f8 ",[30,[36,6],[[32,2,["name"]],"gh-members-list-open-rate-noname"],null]]]]],[["@route","@model"],["member",[32,2]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,8],[[30,[36,7],[[32,2,["emailOpenRate"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"span"],[12],[1,[32,2,["emailOpenRate"]]],[2,"%"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"N/A"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n        "],[8,"link-to",[[16,0,[31,["gh-list-data middarkgrey f8 ",[30,[36,6],[[32,2,["name"]],"gh-members-geolocation-noname"],null]]]]],[["@route","@model"],["member",[32,2]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,5],[[32,2,["geolocation"]],[32,2,["geolocation","country"]]],null]],null,[["default","else"],[{"statements":[[6,[37,3],[[30,[36,5],[[30,[36,4],[[32,2,["geolocation","country_code"]],"US"],null],[32,2,["geolocation","region"]]],null]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[32,2,["geolocation","region"]]],[2,", US\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,2,["geolocation","country"]]],null,[["default","else"],[{"statements":[[2,"                        "],[1,[32,2,["geolocation","country"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"Unknown"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"Unknown"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]],[2,"\\n\\n        "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8"]],[["@route","@model"],["member",[32,2]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[32,2,["createdAtUTC"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[1,[30,[36,1],[[30,[36,0],[[32,2,["createdAtUTC"]]],null],"D MMM YYYY"],null]],[13],[2,"\\n                "],[10,"div"],[14,0,"midlightgrey gh-members-list-subscribed-moment"],[12],[1,[30,[36,2],[[32,2,["createdAtUTC"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,13],[[30,[36,12],[[30,[36,12],[[32,4]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[8,"gh-members-list-item-column",[],[["@member","@filterColumn"],[[32,2],[32,1]]],null],[2,"\\n"]],"parameters":[1]}]]]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["moment-site-tz","moment-format","moment-from-now","if","eq","and","unless","is-empty","not","feature","capitalize","or","-track-array","each"]}',moduleName:"ghost-admin/components/gh-members-list-item.hbs"})
let s=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="store",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get hasMultipleProducts(){return this.store.peekAll("product")?.length>1}get products(){return(Ember.get(this.args.member,"products")||[]).map((e=>e.name)).join(", ")}},o=i.prototype,l="store",u=[n],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,i)
var o,l,u,d,c,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/gh-members-no-members",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m
function h(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"y4zSIslF",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-members-empty"],[12],[2,"\\n    "],[1,[30,[36,1],["members-placeholder"],[["class"],["gh-members-placeholder"]]]],[2,"\\n    "],[10,"h4"],[12],[2,"Start building your audience"],[13],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,0,["settings","membersSignupAccess"]],"none"],null]],null,[["default","else"],[{"statements":[[2,"        "],[10,"p"],[12],[2,"Use memberships to allow your readers to sign up and subscribe to your content."],[13],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,4,"button"],[4,[38,0],["click",[32,0,["addYourself"]]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Add yourself as a member to test"],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"p"],[14,0,"gh-members-empty-secondary-cta"],[12],[2,"Have members already? "],[8,"link-to",[],[["@route"],["member.new"]],[["default"],[{"statements":[[2,"Add them manually"]],"parameters":[]}]]],[2," or "],[8,"link-to",[],[["@route"],["members.import"]],[["default"],[{"statements":[[2,"import from CSV"]],"parameters":[]}]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"p"],[12],[2,"Memberships have been disabled. Adjust your Subscription Access settings to start adding members."],[13],[2,"\\n        "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"],[24,4,"button"]],[["@route"],["settings.membership"]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[12],[2,"Membership settings"],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["on","svg-jar","not-eq","if"]}',moduleName:"ghost-admin/components/gh-members-no-members.hbs"})
let f=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._action,l=(0,n.task)({drop:!0}),u=class extends t.default{constructor(){super(...arguments),h(this,"session",d,this),h(this,"store",c,this),h(this,"notifications",p,this),h(this,"settings",m,this)}addYourself(){return this.addTask.perform()}*addTask(){const e=yield this.session.user,t=this.store.createRecord("member",{email:e.get("email"),name:e.get("name")})
try{return yield t.save(),this.args.afterCreate&&this.args.afterCreate(),this.notifications.showNotification("Member added",{description:"You've successfully added yourself as a member."}),t}catch(n){n&&this.notifications.showAPIError(n,{key:"member.save"})}}},d=g(u.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=g(u.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(u.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(u.prototype,"addYourself",[o],Object.getOwnPropertyDescriptor(u.prototype,"addYourself"),u.prototype),g(u.prototype,"addTask",[l],Object.getOwnPropertyDescriptor(u.prototype,"addTask"),u.prototype),u)
e.default=f,Ember._setComponentTemplate(b,f)})),define("ghost-admin/components/gh-members-payments-setting",["exports","ghost-admin/utils/currency","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"FlG4u7BX",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n"],[6,[37,2],[[32,0,["stripeDirect"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"section"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex flex-column flex-row-l items-start justify-between"],[12],[2,"\\n                "],[10,"div"],[14,0,"w-100 w-50-l"],[12],[2,"\\n                    "],[10,"div"],[14,0,"mb4"],[12],[2,"\\n                        "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Stripe Publishable key"],[13],[2,"\\n                        "],[8,"gh-text-input",[],[["@type","@value","@input","@class"],["password",[30,[36,9],[[32,0,["stripeDirectPublicKey"]]],null],[30,[36,1],[[32,0],"setStripeDirectPublicKey"],null],"mt1 password"]],null],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"nudge-top--3"],[12],[2,"\\n                        "],[10,"label"],[14,0,"fw6 f8 mt4"],[12],[2,"Stripe Secret key"],[13],[2,"\\n                        "],[8,"gh-text-input",[],[["@type","@value","@input","@class"],["password",[30,[36,9],[[32,0,["stripeDirectSecretKey"]]],null],[30,[36,1],[[32,0],"setStripeDirectSecretKey"],null],"mt1 password"]],null],[2,"\\n                        "],[10,"a"],[14,6,"https://dashboard.stripe.com/account/apikeys"],[14,"target","_blank"],[14,0,"mt1 fw4 f8"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            Find your Stripe API keys here »\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"ml0 ml5-l mt6"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-members-stripe-info"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-members-stripe-info-header"],[12],[2,"\\n                            "],[10,"h4"],[12],[2,"How you get paid"],[13],[2,"\\n                            "],[1,[30,[36,4],["stripe-verified-partner-badge"],[["class"],["gh-members-stripe-badge"]]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"p"],[14,0,"f8 mt2 mb0"],[12],[2,"\\n                            Stripe is our exclusive direct payments partner."],[10,"br"],[12],[13],[2,"\\n                            Ghost collects "],[10,"strong"],[12],[2,"no fees"],[13],[2," on any payments! If you don’t have a Stripe account yet, you can "],[10,"a"],[14,6,"https://stripe.com"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-members-stripe-link"],[12],[2,"sign up here"],[13],[2,".\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"mb4 mt4 flex justify-end"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@buttonText","@task","@successText","@runningText","@class"],["Save settings",[32,0,["saveSettings"]],"Saved","Saving","gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[2,"\\n"],[6,[37,2],[[30,[36,8],[[32,0,["stripeConnectAccountId"]],[30,[36,7],[[32,0,["saveStripeSettings","isRunning"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-stripe-connected-container"],[12],[2,"\\n                "],[1,[30,[36,4],["check-circle-stroke"],[["class"],["check-circle"]]]],[2,"\\n                "],[10,"h1"],[12],[2,"You are connected to Stripe"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-stripe-connected-info"],[12],[2,"\\n                    "],[10,"p"],[12],[2,"Connected to "],[10,"a"],[15,6,[31,["https://dashboard.stripe.com/",[32,0,["stripeConnectAccountId"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[32,0,["stripeConnectAccountName"]]],[13],[13],[2,"\\n"],[6,[37,6],[[32,0,["stripeConnectLivemode"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-members-connect-testmodelabel"],[12],[2,"Test mode"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["hasActiveStripeSubscriptions"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-stripe-error-hasactivesub"],[12],[2,"\\n                        Cannot disconnect while there are members with active Stripe subscriptions.\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[11,"button"],[24,0,"gh-btn gh-btn-stripe-disconnect"],[24,4,"button"],[4,[38,1],[[32,0],"openDisconnectStripeModal"],null],[12],[10,"span"],[12],[2,"Disconnect"],[13],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[14,0,"flex flex-column flex-row-l items-start justify-between"],[12],[2,"\\n                "],[10,"div"],[14,0,"w-100 w-50-l"],[12],[2,"\\n                    "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Generate secure key"],[13],[2,"\\n                    "],[10,"div"],[14,0,"flex items-center mb4 justify-between gh-members-connectbutton-container mt2"],[12],[2,"\\n                        "],[10,"a"],[15,6,[31,[[30,[36,2],[[32,0,["stripeConnectTestMode"]],[32,0,["testStripeConnectAuthUrl"]],[32,0,["liveStripeConnectAuthUrl"]]],null]]]],[14,0,"stripe-connect"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[2,"Connect with Stripe"],[13],[13],[2,"\\n                        "],[10,"div"],[14,0,"ml2 flex items-center flex-nowrap"],[12],[2,"\\n                            "],[10,"span"],[15,0,[31,["mr2 f8 midgrey nowrap ",[30,[36,2],[[32,0,["stripeConnectTestMode"]],"gh-members-connect-testmodeon"],null]]]],[12],[1,[30,[36,2],[[32,0,["stripeConnectTestMode"]],"Using","Use"],null]],[2," test mode"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                "],[11,"label"],[24,0,"switch"],[24,"for","stripe-connect-test-mode"],[4,[38,1],[[32,0],[30,[36,3],["stripeConnectTestMode",[32,0]],null]],[["bubbles"],["false"]]],[12],[2,"\\n                                    "],[10,"input"],[14,0,"gh-input"],[15,"checked",[32,0,["stripeConnectTestMode"]]],[15,"onclick",[30,[36,1],[[32,0],[30,[36,3],["stripeConnectTestMode",[32,0]],null]],null]],[14,4,"checkbox"],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"nudge-top--3"],[12],[2,"\\n                        "],[8,"gh-textarea",[],[["@class","@placeholder","@input"],["gh-members-stripe-connect-token","Paste your secure key here",[30,[36,1],[[32,0],"setStripeConnectIntegrationToken"],null]]],null],[2,"\\n                        "],[6,[37,2],[[32,0,["stripeConnectError"]]],null,[["default"],[{"statements":[[10,"p"],[14,0,"mb0 mt2 f8 red"],[12],[1,[32,0,["stripeConnectError"]]],[13]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"mt5 mt5-m mt8-l ml0 ml5-l"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-members-stripe-info"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-members-stripe-info-header"],[12],[2,"\\n                            "],[10,"h4"],[12],[2,"Getting paid"],[13],[2,"\\n                            "],[1,[30,[36,4],["stripe-verified-partner-badge"],[["class"],["gh-members-stripe-badge"]]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"p"],[14,0,"f8 mt2 mb0"],[12],[2,"\\n                            Stripe is our exclusive direct payments partner."],[10,"br"],[12],[13],[2,"\\n                            Ghost collects "],[10,"strong"],[12],[2,"no fees"],[13],[2," on any payments! If you don’t have a Stripe account yet, you can "],[10,"a"],[14,6,"https://stripe.com"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-members-stripe-link"],[12],[2,"sign up here"],[13],[2,".\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[15,0,[31,["gh-members-connect-savecontainer ",[30,[36,2],[[32,0,["settings","stripeConnectIntegrationToken"]],"expanded"],null]]]],[12],[2,"\\n                "],[8,"gh-task-button",[],[["@buttonText","@task","@unlinkedTask","@successText","@disabled","@runningText","@class"],["Save Stripe settings",[32,0,["saveStripeSettings"]],true,"Saved",[30,[36,5],[[32,0,["settings","stripeConnectIntegrationToken"]]],null],"Saving","gh-btn gh-btn-green gh-btn-icon"]],null],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["showDisconnectStripeConnectModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["disconnect-stripe",[30,[36,0],null,[["stripeConnectAccountName"],[[32,0,["stripeConnectAccountName"]]]]],[30,[36,1],[[32,0],"disconnectStripeConnectIntegration"],null],[30,[36,1],[[32,0],"closeDisconnectStripeModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["hash","action","if","toggle","svg-jar","is-empty","unless","not","and","readonly"]}',moduleName:"ghost-admin/components/gh-members-payments-setting.hbs"}),r=1e3
var a=Ember._setComponentTemplate(i,Ember.Component.extend({config:Ember.inject.service(),ghostPaths:Ember.inject.service(),ajax:Ember.inject.service(),settings:Ember.inject.service(),store:Ember.inject.service(),topCurrencies:null,currencies:null,allCurrencies:null,stripePlanInvalidAmount:!1,_scratchStripeYearlyAmount:null,_scratchStripeMonthlyAmount:null,setStripeConnectIntegrationTokenSetting(){},stripeDirect:Ember.computed.reads("config.stripeDirect"),stripeDirectPublicKey:Ember.computed.reads("settings.stripePublishableKey"),stripeDirectSecretKey:Ember.computed.reads("settings.stripeSecretKey"),stripeConnectAccountId:Ember.computed.reads("settings.stripeConnectAccountId"),stripeConnectAccountName:Ember.computed.reads("settings.stripeConnectDisplayName"),stripeConnectLivemode:Ember.computed.reads("settings.stripeConnectLivemode"),selectedCurrency:Ember.computed("stripePlans.monthly.currency",(function(){return this.currencies.findBy("value",this.get("stripePlans.monthly.currency"))||this.topCurrencies.findBy("value",this.get("stripePlans.monthly.currency"))})),stripePlans:Ember.computed("settings.stripePlans",(function(){const e=this.settings.get("stripePlans"),t=e.find((e=>"month"===e.interval)),n=e.find((e=>"year"===e.interval&&"Complimentary"!==e.name))
return{monthly:{amount:parseInt(t.amount)/100||5,currency:t.currency},yearly:{amount:parseInt(n.amount)/100||50,currency:n.currency}}})),init(){this._super(...arguments)
this.set("topCurrencies",t.currencies.slice(0,5).map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode})))),this.set("currencies",t.currencies.slice(5,t.currencies.length).map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode})))),this.set("allCurrencies",[{groupName:"—",options:this.topCurrencies},{groupName:"—",options:this.currencies}]),this.stripeConnectAccountId?this.set("membersStripeOpen",!1):this.set("membersStripeOpen",!0)},actions:{setStripeDirectPublicKey(e){this.set("settings.stripeProductName",this.get("settings.title")),this.set("settings.stripePublishableKey",e.target.value)},setStripeDirectSecretKey(e){this.set("settings.stripeProductName",this.get("settings.title")),this.set("settings.stripeSecretKey",e.target.value)},validateStripePlans(){this.validateStripePlans()},setStripePlansCurrency(e){const t=e.value,n=this.get("settings.stripePlans").map((e=>"Complimentary"!==e.name?Object.assign({},e,{currency:t}):e))
n.find((t=>"Complimentary"===t.name&&t.currency===e.value))||n.push({name:"Complimentary",currency:e.value,interval:"year",amount:0}),this.set("settings.stripePlans",n),this.set("_scratchStripeYearlyAmount",null),this.set("_scratchStripeMonthlyAmount",null),this.validateStripePlans()},setStripeConnectIntegrationToken(e){this.set("settings.stripeProductName",this.get("settings.title")),this.setStripeConnectIntegrationTokenSetting(e.target.value)},openDisconnectStripeModal(){this.openDisconnectStripeConnectModal.perform()},closeDisconnectStripeModal(){this.set("showDisconnectStripeConnectModal",!1)},disconnectStripeConnectIntegration(){this.disconnectStripeConnectIntegration.perform()},openStripeSettings(){this.set("membersStripeOpen",!0)}},validateStripePlans(){this.get("settings.errors").remove("stripePlans"),this.get("settings.hasValidated").removeObject("stripePlans"),null===this._scratchStripeYearlyAmount&&(this._scratchStripeYearlyAmount=this.stripePlans.yearly.amount),null===this._scratchStripeMonthlyAmount&&(this._scratchStripeMonthlyAmount=this.stripePlans.monthly.amount)
try{const e=this.selectedCurrency,t=parseInt(this._scratchStripeYearlyAmount),n=parseInt(this._scratchStripeMonthlyAmount)
if(!t||t<1||!n||n<1){const t=Intl.NumberFormat(this.settings.get("lang"),{currency:e.isoCode,style:"currency"}).format(1)
throw new TypeError(`Subscription amount must be at least ${t}`)}const i=this.get("settings.stripePlans").map((e=>{if("Complimentary"!==e.name){let i
return"year"===e.interval?i=Math.round(100*t):"month"===e.interval&&(i=Math.round(100*n)),Object.assign({},e,{amount:i})}return e}))
this.set("settings.stripePlans",i)}catch(e){this.get("settings.errors").add("stripePlans",e.message)}finally{this.get("settings.hasValidated").pushObject("stripePlans")}},openDisconnectStripeConnectModal:(0,n.task)((function*(){if(this.set("hasActiveStripeSubscriptions",!1),!this.stripeConnectAccountId)return
const e=this.get("ghostPaths.url").api("/members/hasActiveStripeSubscriptions");(yield this.ajax.request(e)).hasActiveStripeSubscriptions?this.set("hasActiveStripeSubscriptions",!0):this.set("showDisconnectStripeConnectModal",!0)})).drop(),disconnectStripeConnectIntegration:(0,n.task)((function*(){this.set("disconnectStripeError",!1)
const e=this.get("ghostPaths.url").api("/settings/stripe/connect")
yield this.ajax.delete(e),yield this.settings.reload(),this.onDisconnected?.()})),calculateDiscount:(e,t)=>isNaN(e)||isNaN(t)?0:e?100-Math.floor(t/12*100/e):0,getActivePrice:(e,t,n,i)=>e.find((e=>e.active&&e.amount===n&&"recurring"===e.type&&e.interval===t&&e.currency.toLowerCase()===i.toLowerCase())),saveProduct:(0,n.task)((function*(){const e=yield this.store.query("product",{filter:"type:paid",include:"monthly_price, yearly_price"})
if(this.product=e.firstObject,this.product){const e=this.calculateDiscount(5,50)
this.product.set("monthlyPrice",{nickname:"Monthly",amount:500,active:1,description:"Full access",currency:"usd",interval:"month",type:"recurring"}),this.product.set("yearlyPrice",{nickname:"Yearly",amount:5e3,active:1,currency:"usd",description:e>0?`${e}% discount`:"Full access",interval:"year",type:"recurring"})
let i=0
for(;i<15e3;){yield(0,n.timeout)(r)
try{return yield this.product.save()}catch(t){if(t.payload?.errors&&"STRIPE_NOT_CONFIGURED"===t.payload.errors[0].code){i+=r
continue}throw t}}}return this.product})),saveStripeSettings:(0,n.task)((function*(){if(this.set("stripeConnectError",null),this.set("stripeConnectSuccess",null),this.get("settings.stripeConnectIntegrationToken"))try{let e=yield this.settings.save()
return yield this.saveProduct.perform(),this.settings.set("portalPlans",["free","monthly","yearly"]),e=yield this.settings.save(),this.set("membersStripeOpen",!1),this.set("stripeConnectSuccess",!0),this.onConnected?.(),e}catch(e){if(e.payload&&e.payload.errors)return this.set("stripeConnectError","Invalid secure key"),!1
throw e}else this.set("stripeConnectError","Please enter a secure key")})).drop(),saveSettings:(0,n.task)((function*(){return yield this.settings.save()})).drop(),get liveStripeConnectAuthUrl(){return this.ghostPaths.url.api("members/stripe_connect")+"?mode=live"},get testStripeConnectAuthUrl(){return this.ghostPaths.url.api("members/stripe_connect")+"?mode=test"}}))
e.default=a})),define("ghost-admin/components/gh-members-recipient-select",["exports","@glimmer/component","ghost-admin/utils/flatten-grouped-options","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P
function O(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function j(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const _=Ember.HTMLBars.template({id:"DCutliDk",block:'{"symbols":["option","@disabled"],"statements":[[10,"div"],[14,0,"gh-publishmenu-send-to-option"],[12],[2,"\\n    "],[10,"p"],[12],[2,"Free members "],[10,"span"],[14,0,"gh-publishmenu-emailcount"],[12],[1,[32,0,["freeMemberCountLabel"]]],[13],[13],[2,"\\n    "],[10,"div"],[15,0,[31,["for-switch x-small ",[30,[36,0],[[32,2],"disabled"],null]]]],[12],[2,"\\n        "],[10,"label"],[14,0,"switch"],[14,"for","send-email-to-free"],[12],[2,"\\n            "],[11,"input"],[24,1,"send-email-to-free"],[24,0,"gh-input post-settings-featured"],[16,"checked",[32,0,["isFreeChecked"]]],[16,"disabled",[32,2]],[24,"aria-label","Free members toggle"],[24,4,"checkbox"],[4,[38,1],["change",[30,[36,2],[[32,0,["toggleFilter"]],"status:free"],null]],null],[12],[13],[2,"\\n            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[6,[37,0],[[32,0,["isPaidAvailable"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-publishmenu-send-to-option"],[12],[2,"\\n        "],[10,"p"],[12],[2,"Paid members "],[10,"span"],[14,0,"gh-publishmenu-emailcount"],[12],[1,[32,0,["paidMemberCountLabel"]]],[13],[13],[2,"\\n        "],[10,"div"],[15,0,[31,["for-switch x-small ",[30,[36,0],[[32,2],"disabled"],null]]]],[12],[2,"\\n            "],[10,"label"],[14,0,"switch"],[14,"for","send-email-to-paid"],[12],[2,"\\n                "],[11,"input"],[24,1,"send-email-to-paid"],[24,0,"gh-input post-settings-featured"],[16,"checked",[32,0,["isPaidChecked"]]],[16,"disabled",[32,2]],[24,"aria-label","Paid members toggle"],[24,4,"checkbox"],[4,[38,1],["change",[30,[36,2],[[32,0,["toggleFilter"]],"status:-free"],null]],null],[12],[13],[2,"\\n                "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,0],[[32,0,["specificOptions"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-publishmenu-send-to-option"],[12],[2,"\\n        "],[10,"p"],[12],[2,"Specific people"],[13],[2,"\\n        "],[10,"div"],[15,0,[31,["for-switch x-small ",[30,[36,0],[[32,2],"disabled"],null]]]],[12],[2,"\\n            "],[10,"label"],[14,0,"switch"],[14,"for","send-email-to-specific"],[12],[2,"\\n                "],[11,"input"],[24,1,"send-email-to-specific"],[24,0,"gh-input post-settings-featured"],[16,"checked",[32,0,["isSpecificChecked"]]],[16,"disabled",[32,2]],[24,"aria-label","Specific people toggle"],[24,4,"checkbox"],[4,[38,1],["change",[32,0,["toggleSpecificFilter"]]],null],[12],[13],[2,"\\n                "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[6,[37,0],[[32,0,["isSpecificChecked"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-token-input",[],[["@class","@options","@selected","@disabled","@searchMessage","@optionsComponent","@allowCreation","@renderInPlace","@onChange"],["select-members select-members-recipient",[32,0,["specificOptions"]],[32,0,["selectedSpecificOptions"]],[32,2],"All labels selected","power-select/options",false,true,[32,0,["selectSpecificOptions"]]]],[["default"],[{"statements":[[2,"\\n            "],[1,[32,1,["name"]]],[2,"\\n        "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["if","on","fn"]}',moduleName:"ghost-admin/components/gh-members-recipient-select.hbs"}),z=["status:free","status:-free"]
let x=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._action,m=Ember._action,h=Ember._action,g=class extends t.default{constructor(){super(...arguments),O(this,"membersUtils",b,this),O(this,"session",f,this),O(this,"store",v,this),O(this,"feature",y,this),O(this,"forceSpecificChecked",w,this),O(this,"specificOptions",E,this),O(this,"freeMemberCount",k,this),O(this,"paidMemberCount",P,this),this.fetchSpecificOptionsTask.perform(),this.fetchMemberCountsTask.perform()}get baseFilters(){const e=(this.args.filter||"").split(",").filter((e=>z.includes(e?.trim())))
return new Set(e)}get isFreeChecked(){return this.baseFilters.has("status:free")}get isPaidChecked(){return this.baseFilters.has("status:-free")}get isPaidAvailable(){return this.membersUtils.isStripeEnabled}get specificFilters(){const e=(this.args.filter||"").split(",").reject((e=>Ember.isBlank(e)||z.includes(e?.trim())))
return new Set(e)}get isSpecificChecked(){return this.forceSpecificChecked||this.specificFilters.size>0}get selectedSpecificOptions(){return(0,n.default)(this.specificOptions).filter((e=>this.specificFilters.has(e.segment)))}get freeMemberCountLabel(){return void 0!==this.freeMemberCount?`(${this.freeMemberCount})`:""}get paidMemberCountLabel(){return void 0!==this.paidMemberCount?`(${this.paidMemberCount})`:""}toggleFilter(e){if(this.args.disabled)return
const t=this.baseFilters
t.has(e)?t.delete(e):t.add(e),this.updateFilter({newBaseFilters:t})}toggleSpecificFilter(){if(!this.args.disabled)if(this.forceSpecificChecked&&0===this.specificFilters.size)this.forceSpecificChecked=!1
else{if(this.forceSpecificChecked=!1,this.isSpecificChecked)return this._previousSpecificFilters=this.specificFilters,void this.updateFilter({newSpecificFilters:new Set})
this._previousSpecificFilters?this.updateFilter({newSpecificFilters:this._previousSpecificFilters}):this.forceSpecificChecked=!0}}selectSpecificOptions(e){if(this.args.disabled)return
const t=new Set(e.map((e=>e.segment)))
this.updateFilter({newSpecificFilters:t})}updateFilter(e){let{newBaseFilters:t,newSpecificFilters:n}=e
const i=new Set([...t||this.baseFilters,...n||this.specificFilters])
this.isPaidAvailable||i.delete("status:-free")
const r=Array.from(i).join(",")||null
this.args.onChange?.(r)}*fetchSpecificOptionsTask(){const e=[],t=yield this.store.query("label",{limit:"all"})
if(t.length>0){const n={groupName:"Labels",options:[]}
t.forEach((e=>{n.options.push({name:e.name,segment:`label:${e.slug}`,count:e.count?.members,class:"segment-label"})})),e.push(n)}if(this.feature.get("multipleProducts")){const t=yield this.store.query("product",{filter:"type:paid",limit:"all"})
if(t.length>1){const n={groupName:"Tiers",options:[]}
t.forEach((e=>{n.options.push({name:e.name,segment:`product:${e.slug}`,count:e.count?.members,class:"segment-product"})})),e.push(n)}}this.specificOptions=e}*fetchMemberCountsTask(){(yield this.session.user).isAdmin&&(yield Ember.RSVP.Promise.all([this.store.query("member",{filter:"subscribed:true+status:free",limit:1}).then((e=>{this.freeMemberCount=e.meta.pagination.total})),this.store.query("member",{filter:"subscribed:true+status:-free",limit:1}).then((e=>{this.paidMemberCount=e.meta.pagination.total}))]))}},b=j(g.prototype,"membersUtils",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=j(g.prototype,"session",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=j(g.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=j(g.prototype,"feature",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=j(g.prototype,"forceSpecificChecked",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=j(g.prototype,"specificOptions",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=j(g.prototype,"freeMemberCount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=j(g.prototype,"paidMemberCount",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j(g.prototype,"toggleFilter",[p],Object.getOwnPropertyDescriptor(g.prototype,"toggleFilter"),g.prototype),j(g.prototype,"toggleSpecificFilter",[m],Object.getOwnPropertyDescriptor(g.prototype,"toggleSpecificFilter"),g.prototype),j(g.prototype,"selectSpecificOptions",[h],Object.getOwnPropertyDescriptor(g.prototype,"selectSpecificOptions"),g.prototype),j(g.prototype,"fetchSpecificOptionsTask",[i.task],Object.getOwnPropertyDescriptor(g.prototype,"fetchSpecificOptionsTask"),g.prototype),j(g.prototype,"fetchMemberCountsTask",[i.task],Object.getOwnPropertyDescriptor(g.prototype,"fetchMemberCountsTask"),g.prototype),g)
e.default=x,Ember._setComponentTemplate(_,x)})),define("ghost-admin/components/gh-members-segment-count",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h
function g(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function b(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"/enyiVhR",block:'{"symbols":["@segment"],"statements":[[6,[37,5],[[32,0,["session","user","isAdmin"]]],null,[["default"],[{"statements":[[11,"span"],[24,0,"segment-totals"],[4,[38,1],[[30,[36,0],[[32,0,["fetchTotalsTask"]]],null]],null],[4,[38,2],[[30,[36,0],[[32,0,["fetchSegmentTotalTask"]]],null],[32,1]],null],[12],[2,"\\n    "],[10,"strong"],[12],[1,[30,[36,3],[[32,0,["segmentTotal"]]],null]],[13],[2," "],[1,[30,[36,4],[[32,0,["segmentTotal"]],"member"],[["without-count"],[true]]]],[2,"\\n"],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["perform","did-insert","did-update","format-number","gh-pluralize","if"]}',moduleName:"ghost-admin/components/gh-members-segment-count.hbs"})
let v=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=(0,n.task)({group:"fetchTasks"}),l=(0,n.task)({group:"fetchTasks"}),u=class extends t.default{constructor(){super(...arguments),g(this,"store",d,this),g(this,"session",c,this),g(this,"total",p,this),g(this,"segmentTotal",m,this),g(this,"fetchTasks",h,this)}*fetchTotalsTask(){this.fetchSegmentTotalTask.perform()
const e=this.args.enforcedFilter||void 0,t=yield this.store.query("member",{limit:1,filter:e})
this.total=t.meta.pagination.total}*fetchSegmentTotalTask(){if(!this.args.segment)return this.segmentTotal=0
let e
e=this.args.enforcedFilter?`${this.args.enforcedFilter}+(${this.args.segment})`:this.args.segment
const t=yield this.store.query("member",{limit:1,filter:e})
this.segmentTotal=t.meta.pagination.total,this.args.onSegmentCountChange?.(this.segmentTotal)}},d=b(u.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(u.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"total",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=b(u.prototype,"segmentTotal",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=b(u.prototype,"fetchTasks",[n.taskGroup],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(u.prototype,"fetchTotalsTask",[o],Object.getOwnPropertyDescriptor(u.prototype,"fetchTotalsTask"),u.prototype),b(u.prototype,"fetchSegmentTotalTask",[l],Object.getOwnPropertyDescriptor(u.prototype,"fetchSegmentTotalTask"),u.prototype),u)
e.default=v,Ember._setComponentTemplate(f,v)}))
define("ghost-admin/components/gh-members-segment-select",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d
function c(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function p(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"uIVre91w",block:'{"symbols":["option","@disabled","@segment","@enforcedCountFilter","@onSegmentCountChange"],"statements":[[8,"gh-token-input",[],[["@options","@selected","@disabled","@optionsComponent","@allowCreation","@renderInPlace","@onChange","@disabled","@class","@placeholder"],[[32,0,["options"]],[32,0,["selectedOptions"]],[30,[36,0],[[32,2],[32,0,["fetchOptionsTask","isRunning"]]],null],"power-select/options",false,[32,0,["renderInPlace"]],[32,0,["setSegment"]],[32,2],"select-members","Select a tier"]],[["default"],[{"statements":[[2,"\\n    "],[1,[32,1,["name"]]],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n\\n"],[8,"gh-members-segment-count",[],[["@segment","@enforcedFilter","@onSegmentCountChange"],[[32,3],[32,4],[32,5]]],null]],"hasEval":false,"upvars":["or"]}',moduleName:"ghost-admin/components/gh-members-segment-select.hbs"})
let h=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=class extends t.default{get renderInPlace(){return void 0!==this.args.renderInPlace&&this.args.renderInPlace}constructor(){super(...arguments),c(this,"store",l,this),c(this,"feature",u,this),c(this,"_options",d,this),this.fetchOptionsTask.perform()}get options(){if(this.args.hideOptionsWhenAllSelected){const e=this.selectedOptions.mapBy("segment")
if(e.includes("status:free")&&e.includes("status:-free"))return this._options.filter((e=>!e.groupName))}return this._options}get flatOptions(){const e=[]
return this._options.forEach((function t(n){if(n.options)return n.options.forEach(t)
e.push(n)})),e}get selectedOptions(){const e=(this.args.segment||"").split(",")
return this.flatOptions.filter((t=>e.includes(t.segment)))}setSegment(e){const t=e.mapBy("segment").join(",")||null
this.args.onChange?.(t)}*fetchOptionsTask(){const e=yield[]
if(this.args.hideDefaultSegments||e.push({name:"Free members",segment:"status:free",class:"segment-status-free"},{name:"Paid members",segment:"status:-free",class:"segment-status-paid"}),this.feature.get("multipleProducts")){const t=yield this.store.query("product",{filter:"type:paid",limit:"all",include:"monthly_price,yearly_price,benefits"})
if(t.length>0){const n={groupName:"Tiers",options:[]}
t.forEach((e=>{n.options.push({name:e.name,segment:`product:${e.slug}`,count:e.count?.members,class:"segment-product"})})),e.push(n),this.args.selectDefaultProduct&&!this.args.segment&&this.args.onChange?.(n.options[0].segment)}}const t=yield this.store.query("label",{limit:"all"})
if(t.length>0&&!this.args.hideLabels){const n={groupName:"Labels",options:[]}
t.forEach((e=>{n.options.push({name:e.name,segment:`label:${e.slug}`,count:e.count?.members,class:"segment-label"})})),e.push(n)}this._options=e}},l=p(o.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=p(o.prototype,"_options",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p(o.prototype,"setSegment",[s],Object.getOwnPropertyDescriptor(o.prototype,"setSegment"),o.prototype),p(o.prototype,"fetchOptionsTask",[n.task],Object.getOwnPropertyDescriptor(o.prototype,"fetchOptionsTask"),o.prototype),o)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/gh-membership-products-alpha",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j
function _(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function z(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const x=Ember.HTMLBars.template({id:"hBmo0wC7",block:'{"symbols":["product","type"],"statements":[[10,"div"],[14,0,"flex justify-between items-center"],[12],[2,"\\n    "],[10,"label"],[12],[2,"Tiers"],[13],[2,"\\n    "],[10,"div"],[12],[2,"\\n        "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-type ",[30,[36,5],[[30,[36,4],[[30,[36,3],[[32,0,["selectedType","value"]],"active"],null]],null],"gh-contentfilter-selected"],null]]]],[12],[2,"\\n            "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,0,["selectedType"]],[32,0,["availableTypes"]],false,[32,0,["onTypeChange"]],"gh-power-select/trigger","gh-contentfilter-menu-trigger gh-contentfilter-menu-trigger-tiers","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n                "],[6,[37,5],[[32,2,["name"]]],null,[["default","else"],[{"statements":[[1,[32,2,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown type"],[13]],"parameters":[]}]]],[2,"\\n            "]],"parameters":[2]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"div"],[14,0,"gh-product-cards"],[12],[2,"\\n"],[6,[37,5],[[32,0,["isEmptyList"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-main-content-card gh-product-card-empty-state"],[12],[2,"\\n        "],[10,"p"],[12],[2,"You have no "],[1,[32,0,["selectedType","value"]]],[2," tiers."],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["products"]]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-product-card",[],[["@product","@openEditProduct","@onUnarchive","@onArchive"],[[32,1],[32,0,["openEditProduct"]],[32,0,["onUnarchive"]],[32,0,["onArchive"]]]],null],[2,"\\n"]],"parameters":[1]}]]],[6,[37,5],[[30,[36,3],[[32,0,["type"]],"active"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-product-cards-footer"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-link gh-btn-text gh-btn-icon gh-btn-add-product green"],[24,4,"button"],[4,[38,1],[[32,0],"openNewProduct",[32,0,["product"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,2],["add-stroke"],[["class"],["stroke-green"]]]],[2,"Add tier"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[6,[37,5],[[32,0,["showProductModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["product",[30,[36,0],null,[["product"],[[32,0,["productModel"]]]]],[32,0,["confirmProductSave"]],[32,0,["closeProductModal"]],"edit-product action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["hash","action","svg-jar","eq","not","if","-track-array","each"]}',moduleName:"ghost-admin/components/gh-membership-products-alpha.hbs"}),T=[{name:"Active",value:"active"},{name:"Archived",value:"archived"}]
var S=Ember._setComponentTemplate(x,(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._action,c=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,g=Ember._action,b=Ember._action,f=class extends t.default{constructor(){super(...arguments),_(this,"membersUtils",v,this),_(this,"ghostPaths",y,this),_(this,"ajax",w,this),_(this,"store",E,this),_(this,"config",k,this),_(this,"showProductModal",P,this),_(this,"productModel",O,this),_(this,"type",j,this)}get products(){return this.args.products.filter((e=>"active"===this.type?!!e.active:"archived"===this.type?!e.active:void 0))}get availableTypes(){return T}get selectedType(){return this.type?T.find((e=>this.type===e.value)):T[0]}get isEmptyList(){return 0===this.products.length}onTypeChange(e){this.type=e.value}async openEditProduct(e){this.productModel=e,this.showProductModal=!0}async onUnarchive(){this.type="active",this.args.updatePortalPreview()}async onArchive(){this.args.updatePortalPreview()}async openNewProduct(){this.productModel=this.store.createRecord("product"),this.showProductModal=!0}closeProductModal(){this.showProductModal=!1}confirmProductSave(){this.args.confirmProductSave()}},v=z(f.prototype,"membersUtils",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=z(f.prototype,"ghostPaths",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z(f.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=z(f.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=z(f.prototype,"config",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=z(f.prototype,"showProductModal",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=z(f.prototype,"productModel",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=z(f.prototype,"type",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"active"}}),z(f.prototype,"onTypeChange",[d],Object.getOwnPropertyDescriptor(f.prototype,"onTypeChange"),f.prototype),z(f.prototype,"openEditProduct",[c],Object.getOwnPropertyDescriptor(f.prototype,"openEditProduct"),f.prototype),z(f.prototype,"onUnarchive",[p],Object.getOwnPropertyDescriptor(f.prototype,"onUnarchive"),f.prototype),z(f.prototype,"onArchive",[m],Object.getOwnPropertyDescriptor(f.prototype,"onArchive"),f.prototype),z(f.prototype,"openNewProduct",[h],Object.getOwnPropertyDescriptor(f.prototype,"openNewProduct"),f.prototype),z(f.prototype,"closeProductModal",[g],Object.getOwnPropertyDescriptor(f.prototype,"closeProductModal"),f.prototype),z(f.prototype,"confirmProductSave",[b],Object.getOwnPropertyDescriptor(f.prototype,"confirmProductSave"),f.prototype),f))
e.default=S})),define("ghost-admin/components/gh-mobile-nav-bar",["exports","@ember-decorators/component"],(function(e,t){var n,i,r,a,s,o
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"msxxss1s",block:'{"symbols":["&default"],"statements":[[8,"link-to",[],[["@route"],["dashboard"]],[["default"],[{"statements":[[1,[30,[36,0],["house"],null]],[2,"Dashboard"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,0,["router","currentRouteName"]],"posts"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"link-to",[[24,0,"active"]],[["@route","@query"],["posts",[30,[36,1],null,[["type"],[null]]]]],[["default"],[{"statements":[[1,[30,[36,0],["posts"],null]],[2,"Posts"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"link-to",[],[["@route"],["posts"]],[["default"],[{"statements":[[1,[30,[36,0],["content"],null]],[2,"Posts"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[8,"link-to",[[24,0,"gh-nav-main-users"]],[["@route"],["members"]],[["default"],[{"statements":[[1,[30,[36,0],["members"],null]],[2,"Members"]],"parameters":[]}]]],[2,"\\n"],[11,"div"],[24,"role","button"],[24,0,"gh-mobile-nav-bar-more"],[4,[38,4],[[32,0],"openMobileMenu"],[["target","data-test-mobile-nav"],[[32,0,["ui"]],"more"]]],[12],[1,[30,[36,0],["icon"],[["class"],["icon-gh"]]]],[2,"More"],[13],[2,"\\n"],[18,1,null],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","hash","eq","if","action"]}',moduleName:"ghost-admin/components/gh-mobile-nav-bar.hbs"})
let u=(n=(0,t.tagName)("nav"),i=(0,t.classNames)("gh-mobile-nav-bar"),r=Ember.inject.service,n(a=i((s=class extends Ember.Component{constructor(){var e,t,n,i
super(...arguments),e=this,t="ui",i=this,(n=o)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}},d=s.prototype,c="ui",p=[r],m={configurable:!0,enumerable:!0,writable:!0,initializer:null},g={},Object.keys(m).forEach((function(e){g[e]=m[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),g=p.slice().reverse().reduce((function(e,t){return t(d,c,e)||e}),g),h&&void 0!==g.initializer&&(g.value=g.initializer?g.initializer.call(h):void 0,g.initializer=void 0),void 0===g.initializer&&(Object.defineProperty(d,c,g),g=null),o=g,a=s))||a)||a)
var d,c,p,m,h,g
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/gh-nav-menu",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u,d,c
function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"tF2+7KMv",block:'{"symbols":["&attrs"],"statements":[[11,"nav"],[16,0,[31,["gh-nav ",[30,[36,2],[[32,0,["ui","contextualNavMenu"]],"gh-nav-contextual"],null]," ",[30,[36,2],[[32,0,["session","user","isContributor"]],"gh-nav-contributor"],null]]]],[17,1],[4,[38,3],[[32,0,["updateFirstRender"]]],null],[12],[2,"\\n"],[6,[37,2],[[32,0,["ui","contextualNavMenu"]]],null,[["default","else"],[{"statements":[[2,"        "],[1,[30,[36,1],[[30,[36,0],["gh-nav-menu/",[32,0,["ui","contextualNavMenu"]]],null]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"gh-nav-menu/main",[],[["@icon","@firstRender"],[[32,0,["settings","settledIcon"]],[32,0,["firstRender"]]]],null],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["concat","component","if","did-insert"]}',moduleName:"ghost-admin/components/gh-nav-menu.hbs"})
let g=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=class extends t.default{constructor(){super(...arguments),p(this,"settings",l,this),p(this,"ui",u,this),p(this,"session",d,this),p(this,"firstRender",c,this)}updateFirstRender(){Ember.run.schedule("afterRender",this,(()=>{this.firstRender=!1}))}},l=m(o.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(o.prototype,"ui",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(o.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(o.prototype,"firstRender",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m(o.prototype,"updateFirstRender",[s],Object.getOwnPropertyDescriptor(o.prototype,"updateFirstRender"),o.prototype),o)
e.default=g,Ember._setComponentTemplate(h,g)})),define("ghost-admin/components/gh-nav-menu/design",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y
function w(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function E(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const k=Ember.HTMLBars.template({id:"OuV7x0pO",block:'{"symbols":["group","isOpen","isOpen","&attrs"],"statements":[[11,"div"],[24,0,"flex flex-column h-100"],[17,4],[4,[38,8],["gh-nav-contextual"],null],[12],[2,"\\n    "],[10,"header"],[14,0,"gh-nav-header"],[12],[2,"\\n        "],[8,"link-to",[[24,0,"gh-nav-menu-back-button"]],[["@route"],["settings"]],[["default"],[{"statements":[[1,[30,[36,4],["arrow-left-small"],null]],[2," Settings"]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-nav-body gh-nav-design"],[12],[2,"\\n        "],[11,"div"],[24,0,"gh-nav-top"],[4,[38,3],["click",[32,0,["transitionBackToIndex"]]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-nav-list gh-nav-main"],[12],[2,"\\n                "],[8,"link-to",[[24,0,"gh-nav-menu-title"],[4,[38,3],["click",[32,0,["closeAllSections"]]],null]],[["@route","@current-when"],["settings.design","settings.design.index"]],[["default"],[{"statements":[[2,"Site design"]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,7],[[30,[36,6],[[32,0,["openSection"]],"brand"],null]],null,[["default"],[{"statements":[[2,"                    "],[11,"button"],[16,0,[31,["gh-nav-design-tab ",[30,[36,1],[[32,3],"active"],null]]]],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,0,["toggleSection"]],"brand"],null]],null],[12],[2,"\\n                        "],[1,[30,[36,4],["paintbrush"],null]],[2," Brand\\n                        "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,4],[[30,[36,1],[[32,3],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,5],[[32,3]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-nav-design-settings"],[12],[2,"\\n                            "],[8,"settings/design/general-settings-form",[],[["@didUpdate"],[[30,[36,0],[[32,0,["themeManagement","updatePreviewHtmlTask"]]],null]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[3]}]]],[2,"\\n"],[6,[37,10],[[30,[36,9],[[30,[36,9],[[32,0,["customThemeSettings","settingGroups"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,7],[[30,[36,6],[[32,0,["openSection"]],[32,1,["key"]]],null]],null,[["default"],[{"statements":[[2,"                        "],[11,"button"],[16,0,[31,["gh-nav-design-tab ",[30,[36,1],[[32,2],"active"],null]]]],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,0,["toggleSection"]],[32,1,["key"]]],null]],null],[12],[2,"\\n                            "],[1,[30,[36,4],[[32,1,["icon"]]],null]],[2," "],[1,[32,1,["name"]]],[2,"\\n                            "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,4],[[30,[36,1],[[32,2],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n                        "],[13],[2,"\\n\\n"],[6,[37,5],[[32,2]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-nav-design-settings"],[12],[2,"\\n                                "],[8,"settings/design/theme-settings-form",[],[["@themeSettings","@updatePreview"],[[32,1,["settings"]],[30,[36,0],[[32,0,["themeManagement","updatePreviewHtmlTask"]]],null]]],null],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[2]}]]]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-nav-bottom"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-change-theme"],[12],[2,"\\n                "],[8,"link-to",[[24,0,"gh-nav-design-tab"],[4,[38,3],["click",[32,0,["closeAllSections"]]],null]],[["@route"],["settings.design.change-theme"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Change theme"],[13],[2,"\\n                        "],[10,"span"],[14,0,"active-theme"],[12],[2,"Current: "],[1,[32,0,["activeTheme","name"]]],[6,[37,1],[[32,0,["activeTheme","package","version"]]],null,[["default"],[{"statements":[[2," - v"],[1,[32,0,["activeTheme","package","version"]]]],"parameters":[]}]]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-nav-design-tabicon"],[12],[1,[30,[36,4],["sync"],null]],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","if","fn","on","svg-jar","liquid-if","eq","let","css-transition","-track-array","each"]}',moduleName:"ghost-admin/components/gh-nav-menu/design.hbs"})
let P=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._action,d=Ember._action,c=Ember._action,p=class extends t.default{constructor(){super(...arguments),w(this,"config",m,this),w(this,"customThemeSettings",h,this),w(this,"router",g,this),w(this,"settings",b,this),w(this,"store",f,this),w(this,"themeManagement",v,this),w(this,"openSection",y,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"themes",this.store.peekAll("theme")),this.store.findAll("theme"),"settings.design.index"===this.router.currentRouteName&&this.openDefaultSection(),this.routeDidChangeHandler=Ember.run.bind(this,this.handleRouteDidChange),this.router.on("routeDidChange",this.routeDidChangeHandler)}willDestroy(){super.willDestroy(...arguments),this.router.off("routeDidChange",this.routeDidChangeHandler)}get activeTheme(){return this.themes.findBy("active",!0)}toggleSection(e){if(this.openSection===e)this.openSection=null
else{this.openSection=e
const t=this.customThemeSettings.KNOWN_GROUPS.findBy("key",e)
t&&t.previewType?this.themeManagement.setPreviewType(t.previewType):this.themeManagement.setPreviewType("homepage")}}transitionBackToIndex(){"settings.design.index"!==this.router.currentRouteName&&this.router.transitionTo("settings.design.index")}closeAllSections(){this.openSection=null}openDefaultSection(){Ember.isEmpty(this.customThemeSettings.settings)&&(this.openSection="brand")}handleRouteDidChange(e){e.isAborted||"settings.design.index"!==e.to?.name||this.openDefaultSection()}},m=E(p.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=E(p.prototype,"customThemeSettings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E(p.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=E(p.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=E(p.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=E(p.prototype,"themeManagement",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E(p.prototype,"openSection",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E(p.prototype,"toggleSection",[u],Object.getOwnPropertyDescriptor(p.prototype,"toggleSection"),p.prototype),E(p.prototype,"transitionBackToIndex",[d],Object.getOwnPropertyDescriptor(p.prototype,"transitionBackToIndex"),p.prototype),E(p.prototype,"closeAllSections",[c],Object.getOwnPropertyDescriptor(p.prototype,"closeAllSections"),p.prototype),p)
e.default=P,Ember._setComponentTemplate(k,P)})),define("ghost-admin/components/gh-nav-menu/footer",["exports","ember-basic-dropdown/utils/calculate-position"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b
function f(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function v(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"XJNebHKX",block:'{"symbols":["dropdown","menuItem"],"statements":[[10,"div"],[14,0,"gh-nav-bottom"],[12],[2,"\\n    "],[10,"div"],[14,0,"flex items-center justify-between"],[12],[2,"\\n        "],[10,"div"],[14,0,"pe-all"],[12],[2,"\\n            "],[8,"gh-basic-dropdown",[],[["@horizontalPosition","@verticalPosition","@calculatePosition"],["left","above",[32,0,["userDropdownPosition"]]]],[["default"],[{"statements":[[2,"\\n                "],[8,[32,1,["Trigger"]],[[24,0,"outline-0 pointer"]],[[],[]],[["default"],[{"statements":[[2,"\\n                    "],[10,"div"],[14,0,"flex-auto flex items-center"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-user-avatar relative"],[15,5,[30,[36,5],[[32,0,["session","user","profileImageUrl"]]],null]],[12],[2,"\\n                            "],[6,[37,1],[[32,0,["whatsNew","hasNew"]]],null,[["default"],[{"statements":[[10,"span"],[14,0,"absolute dib ba b--white br-100 gh-whats-new-badge-account"],[12],[13]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                        "],[1,[30,[36,0],["arrow-down"],[["class"],["w3 mr1 fill-darkgrey"]]]],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,[32,1,["Content"]],[[16,0,[31,["gh-nav-menu-dropdown ",[30,[36,1],[[32,0,["session","user","isContributor"]],"gh-nav-menu-dropdown-contributor"],null]]]]],[[],[]],[["default"],[{"statements":[[2,"\\n                    "],[10,"ul"],[14,0,"dropdown-menu dropdown-triangle-top"],[14,"role","menu"],[12],[2,"\\n                        "],[10,"li"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-account-menu-header"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-user-avatar relative"],[15,5,[30,[36,5],[[32,0,["session","user","profileImageUrl"]]],null]],[12],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-user-info"],[12],[2,"\\n                                    "],[10,"h4"],[14,0,"gh-user-name"],[12],[1,[32,0,["session","user","name"]]],[13],[2,"\\n                                    "],[10,"span"],[14,0,"gh-user-email"],[12],[1,[32,0,["session","user","email"]]],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"li"],[14,0,"divider"],[14,"role","separator"],[12],[13],[2,"\\n                        \\n"],[6,[37,1],[[32,0,["session","user","isContributor"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"li"],[12],[2,"\\n                                "],[8,"link-to",[[24,0,"dropdown-item"],[24,"tabindex","-1"]],[["@route","@query","@role"],["posts",[30,[36,4],null,[["entry"],[null]]],"menuitem"]],[["default"],[{"statements":[[2,"\\n                                    Posts\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"li"],[12],[2,"\\n                                "],[10,"a"],[15,6,[31,[[32,0,["config","blogUrl"]],"/"]]],[14,0,"dropdown-item"],[14,"role","menuitem"],[14,"tabindex","-1"],[14,"title","Open site in new tab"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"View site"],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"li"],[14,0,"divider"],[14,"role","separator"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[10,"li"],[12],[2,"\\n                                "],[8,"link-to",[[24,0,"dropdown-item"],[24,"tabindex","-1"]],[["@route","@query","@role"],["whatsnew",[30,[36,4],null,[["entry"],[null]]],"menuitem"]],[["default"],[{"statements":[[2,"\\n                                    What\'s new?\\n"],[6,[37,1],[[32,0,["whatsNew","hasNew"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"flex-grow-1 flex justify-end"],[12],[10,"span"],[14,0,"dib w2 h2 top-0 right-0 bg-green br-100"],[12],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        "],[10,"li"],[12],[2,"\\n                            "],[8,"link-to",[[24,0,"dropdown-item"],[24,"tabindex","-1"]],[["@route","@model","@role"],["settings.staff.user",[32,0,["session","user","slug"]],"menuitem"]],[["default"],[{"statements":[[2,"\\n                                Your profile\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                        \\n"],[6,[37,6],[[32,0,["session","user","isContributor"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[14,0,"divider"],[14,"role","separator"],[12],[13],[2,"\\n                            "],[10,"li"],[12],[2,"\\n                                "],[10,"a"],[14,0,"dropdown-item"],[14,"role","menuitem"],[14,"tabindex","-1"],[14,6,"https://ghost.org/help?utm_source=admin&utm_campaign=help"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                    Help center\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"li"],[12],[2,"\\n                                "],[10,"a"],[14,0,"dropdown-item"],[14,"role","menuitem"],[14,"tabindex","-1"],[14,6,"https://ghost.org/resources?utm_source=admin&utm_campaign=resources"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                    Resources & guides\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["showDropdownExtension"]]],null,[["default"],[{"statements":[[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["config","clientExtensions","dropdown","items"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,2,["divider"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"li"],[14,0,"divider"],[14,"role","separator"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"li"],[12],[2,"\\n                                            "],[10,"a"],[15,6,[31,[[32,2,["href"]]]]],[14,"target","_blank"],[15,0,[31,["dropdown-item ",[32,2,["classes"]]]]],[14,"role","menuitem"],[14,"tabindex","-1"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                                "],[1,[32,2,["text"]]],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[2]}]]]],"parameters":[]}]]],[2,"                        "],[10,"li"],[14,0,"divider"],[14,"role","separator"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        "],[10,"li"],[12],[2,"\\n                            "],[8,"link-to",[[24,0,"dropdown-item user-menu-signout"],[24,"tabindex","-1"]],[["@route","@role"],["signout","menuitem"]],[["default"],[{"statements":[[2,"\\n                                Sign out\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "]],"parameters":[1]}]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"flex items-center pe-all"],[12],[2,"\\n"],[6,[37,1],[[30,[36,7],[[32,0,["session","user"]]],null]],null,[["default"],[{"statements":[[2,"                "],[8,"link-to",[[24,0,"gh-nav-bottom-tabicon"]],[["@route","@current-when"],["settings",[32,0,["isSettingsRoute"]]]],[["default"],[{"statements":[[1,[30,[36,0],["settings"],null]]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"div"],[14,0,"nightshift-toggle-container"],[12],[2,"\\n                "],[11,"div"],[16,0,[31,["nightshift-toggle ",[30,[36,1],[[32,0,["feature","nightShift"]],"on"],null]]]],[4,[38,9],[[32,0],[30,[36,8],["nightShift",[32,0,["feature"]]],null]],null],[12],[2,"\\n                    "],[10,"div"],[14,0,"sun"],[12],[1,[30,[36,0],["sun"],null]],[13],[2,"\\n                    "],[10,"div"],[14,0,"moon"],[12],[1,[30,[36,0],["moon"],null]],[13],[2,"\\n                    "],[10,"div"],[14,0,"thumb"],[12],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","if","-track-array","each","hash","background-image-style","unless","gh-user-can-admin","toggle","action"]}',moduleName:"ghost-admin/components/gh-nav-menu/footer.hbs"})
let w=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.computed.and("config.clientExtensions.dropdown","session.user.isOwnerOnly"),l=Ember.computed.match("router.currentRouteName",/^settings/),u=class extends Ember.Component{constructor(){super(...arguments),f(this,"config",d,this),f(this,"session",c,this),f(this,"router",p,this),f(this,"whatsNew",m,this),f(this,"feature",h,this),f(this,"showDropdownExtension",g,this),f(this,"isSettingsRoute",b,this)}userDropdownPosition(e,n){let{horizontalPosition:i,verticalPosition:r,style:a}=(0,t.default)(...arguments),{width:s}=n.firstElementChild.getBoundingClientRect()
return a.right+=s-20,a["z-index"]="1100",{horizontalPosition:i,verticalPosition:r,style:a}}},d=v(u.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=v(u.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=v(u.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(u.prototype,"whatsNew",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(u.prototype,"feature",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(u.prototype,"showDropdownExtension",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(u.prototype,"isSettingsRoute",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=w,Ember._setComponentTemplate(y,w)})),define("ghost-admin/components/gh-nav-menu/main",["exports","ghost-admin/components/modals/search","ghost-admin/mixins/shortcuts","ghost-admin/utils/ctrl-or-cmd","@ember-decorators/component","ember-concurrency"],(function(e,t,n,i,r,a){var s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L,R,U,N,F,B,V,H,q,$,Y,W,K,G,Z,J,X,Q
function ee(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const ie=Ember.HTMLBars.template({id:"wI2B1SLC",block:'{"symbols":["menuItem","view","view","&attrs","@firstRender"],"statements":[[11,"div"],[24,0,"flex flex-column h-100"],[17,4],[4,[38,15],[[30,[36,6],[[32,5],"gh-nav-main"],null]],null],[12],[2,"\\n    \\n"],[6,[37,6],[[32,0,["session","user","isContributor"]]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"gh-nav-menu"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-nav-menu-details"],[12],[2,"\\n                "],[10,"div"],[15,0,[31,["gh-nav-menu-icon ",[32,0,["iconClass"]]]]],[15,5,[32,0,["iconStyle"]]],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-nav-menu-details-sitetitle"],[12],[1,[32,0,["config","blogTitle"]]],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-nav-menu-search"],[12],[2,"\\n                "],[11,"button"],[24,0,"gh-nav-btn-search"],[24,"title","Search site (Ctrl/⌘ + K)"],[24,4,"button"],[4,[38,12],["click",[30,[36,4],[[32,0],"openSearchModal"],null]],null],[12],[10,"span"],[12],[1,[30,[36,0],["search"],null]],[13],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[14,0,"gh-nav-body"],[12],[2,"\\n\\n"],[6,[37,6],[[32,0,["session","user","isContributor"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-nav-top"],[12],[2,"\\n                "],[10,"ul"],[14,0,"gh-nav-list gh-nav-main"],[12],[2,"\\n"],[6,[37,1],[[30,[36,14],[[32,0,["session","user"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[14,0,"relative"],[12],[2,"\\n                        "],[8,"link-to",[[24,"title","Dashboard"]],[["@route","@alt"],["dashboard","Dashboard"]],[["default"],[{"statements":[[1,[30,[36,0],["house"],null]],[2," Dashboard"]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"li"],[14,0,"relative"],[12],[2,"\\n                        "],[11,"span"],[4,[38,4],[[32,0],"transitionToOrRefreshSite"],[["on"],["click"]]],[12],[2,"\\n                            "],[8,"link-to",[],[["@route","@current-when","@preventDefault"],["site",[32,0,["isOnSite"]],false]],[["default"],[{"statements":[[2,"\\n                                "],[1,[30,[36,0],["view-site"],null]],[2," View site\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"a"],[15,6,[31,[[32,0,["config","blogUrl"]],"/"]]],[14,0,"gh-secondary-action"],[14,"title","Open site in new tab"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"span"],[12],[1,[30,[36,0],["external"],null]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"ul"],[14,0,"gh-nav-list gh-nav-manage"],[12],[2,"\\n                    "],[10,"li"],[14,0,"gh-nav-list-new relative"],[12],[2,"\\n                        "],[8,"gh-link-to-custom-views-index",[],[["@route","@query"],["posts",[30,[36,7],["posts"],null]]],[["default"],[{"statements":[[1,[30,[36,0],["posts"],null]],[2,"Posts"]],"parameters":[]}]]],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-secondary-action gh-nav-new-post"],[24,"title","New post"]],[["@route","@model","@alt"],["editor.new","post","New post"]],[["default"],[{"statements":[[10,"span"],[12],[1,[30,[36,0],["add-stroke"],null]],[13]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["session","user","isAuthorOrContributor"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["customViews","forPosts"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"ul"],[14,0,"gh-nav-view-list"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["customViews","forPosts"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                        "],[10,"li"],[12],[2,"\\n                                            "],[8,"link-to",[[16,"title",[31,[[32,3,["name"]]]]]],[["@route","@query"],["posts",[30,[36,7],["posts",[32,3,["filter"]]],null]]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"span"],[14,0,"gh-nav-viewname"],[12],[1,[32,3,["name"]]],[13],[2,"\\n                                                "],[10,"span"],[15,0,[31,["flex items-center svg-",[32,3,["color"]]]]],[12],[2,"\\n"],[6,[37,6],[[32,3,["icon"]]],null,[["default"],[{"statements":[[2,"                                                        "],[10,"span"],[14,0,"absolute circle"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[3]}]]],[2,"                                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["customViews","forPosts"]]],null,[["default"],[{"statements":[[2,"                                "],[11,"button"],[16,0,[31,["gh-nav-button-expand ",[30,[36,1],[[32,0,["navigation","settings","expanded","posts"]],"expanded"],null]]]],[16,"aria-label",[31,[[30,[36,1],[[32,0,["navigation","settings","expanded","posts"]],"Collapse custom post types","Expand custom post types"],null]]]],[24,4,"button"],[4,[38,12],["click",[30,[36,11],[[32,0,["navigation","toggleExpansion"]],"posts"],null]],null],[12],[2,"\\n                                    "],[1,[30,[36,0],[[30,[36,1],[[32,0,["navigation","settings","expanded","posts"]],"arrow-down-stroke","arrow-right-stroke"],null]],null]],[2,"\\n                                "],[13],[2,"\\n"],[6,[37,13],[[32,0,["navigation","settings","expanded","posts"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"ul"],[14,0,"gh-nav-view-list"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["customViews","forPosts"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                            "],[10,"li"],[12],[2,"\\n                                                "],[8,"link-to",[[16,"title",[31,[[32,2,["name"]]]]]],[["@route","@query"],["posts",[30,[36,7],["posts",[32,2,["filter"]]],null]]],[["default"],[{"statements":[[2,"\\n                                                    "],[10,"span"],[14,0,"gh-nav-viewname"],[12],[1,[32,2,["name"]]],[13],[2,"\\n                                                    "],[10,"span"],[15,0,[31,["flex items-center svg-",[32,2,["color"]]]]],[12],[2,"\\n"],[6,[37,6],[[32,2,["icon"]]],null,[["default"],[{"statements":[[2,"                                                            "],[10,"span"],[14,0,"absolute circle"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "]],"parameters":[]}]]],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"                                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"li"],[12],[2,"\\n"],[6,[37,1],[[30,[36,8],[[32,0,["router","currentRouteName"]],"pages"],null]],null,[["default","else"],[{"statements":[[2,"                            "],[8,"link-to",[[24,0,"active"]],[["@route","@query"],["pages",[30,[36,7],["pages"],null]]],[["default"],[{"statements":[[1,[30,[36,0],["page"],null]],[2,"Pages"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[8,"link-to",[],[["@route"],["pages"]],[["default"],[{"statements":[[1,[30,[36,0],["page"],null]],[2,"Pages"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"],[6,[37,1],[[32,0,["showTagsNavigation"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[12],[8,"link-to",[],[["@route"],["tags"]],[["default"],[{"statements":[[1,[30,[36,0],["tag"],null]],[2,"Tags"]],"parameters":[]}]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,14],[[32,0,["session","user"]]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"relative"],[12],[2,"\\n"],[6,[37,1],[[30,[36,8],[[32,0,["router","currentRouteName"]],"members.index"],null]],null,[["default","else"],[{"statements":[[2,"                                "],[8,"link-to",[],[["@route","@current-when","@query"],["members","members member",[30,[36,7],["members.index"],null]]],[["default"],[{"statements":[[1,[30,[36,0],["members"],null]],[2,"Members\\n"],[6,[37,6],[[32,0,["memberCountLoading"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"span"],[14,0,"gh-nav-member-count"],[12],[1,[30,[36,5],[[32,0,["memberCount"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[8,"link-to",[],[["@route","@current-when"],["members","members member"]],[["default"],[{"statements":[[1,[30,[36,0],["members"],null]],[2,"Members\\n"],[6,[37,6],[[32,0,["memberCountLoading"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"span"],[14,0,"gh-nav-member-count"],[12],[1,[30,[36,5],[[32,0,["memberCount"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n\\n"],[6,[37,1],[[30,[36,10],[[32,0,["isStripeConnected"]],[30,[36,9],[[32,0,["settings","membersSignupAccess"]],"none"],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[12],[2,"\\n                                "],[8,"link-to",[],[["@route","@alt"],["offers","Offers"]],[["default"],[{"statements":[[1,[30,[36,0],["percentage"],null]],[2,"Offers"]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["session","user","isOwnerOnly"]]],null,[["default"],[{"statements":[[2,"                "],[10,"ul"],[14,0,"gh-nav-list"],[12],[2,"\\n"],[6,[37,1],[[32,0,["showBilling"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"relative"],[12],[2,"\\n                            "],[11,"a"],[24,6,"javascript:void(0)"],[16,0,[30,[36,1],[[32,0,["billing","billingWindowOpen"]],"active"],null]],[4,[38,4],[[32,0],"toggleBillingModal"],null],[12],[2,"\\n                                "],[1,[30,[36,0],["credit-card"],null]],[2," Ghost(Pro)\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"li"],[14,0,"relative gh-nav-pro"],[12],[2,"\\n                            "],[8,"gh-billing-update-button",[],[[],[]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["showMenuExtension"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"ul"],[14,0,"gh-nav-list gh-nav-settings"],[12],[2,"\\n"],[6,[37,1],[[32,0,["config","clientExtensions","menu","title"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[14,0,"gh-nav-list-h"],[12],[1,[32,0,["config","clientExtensions","menu","title"]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["config","clientExtensions","menu","items"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[12],[2,"\\n                                "],[10,"a"],[15,6,[31,[[32,1,["href"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[30,[36,0],[[32,1,["icon"]]],null]],[1,[32,1,["text"]]],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["showScriptExtension"]]],null,[["default"],[{"statements":[[2,"                    "],[2,[32,0,["config","clientExtensions","script","container"]]],[2,"\\n                    "],[10,"script"],[15,"src",[31,[[32,0,["config","clientExtensions","script","src"]]]]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[8,"gh-nav-menu/footer",[],[[],[]],null],[2,"\\n\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","if","-track-array","each","action","format-number","unless","reset-query-params","eq","not-eq","and","fn","on","liquid-if","gh-user-can-admin","css-transition"]}',moduleName:"ghost-admin/components/gh-nav-menu/main.hbs"})
let re=(s=(0,r.tagName)(""),o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember.inject.service,c=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,v=Ember.inject.service,y=Ember.inject.service,w=Ember.computed.match("router.currentRouteName",/^settings\.integration/),E=Ember.computed.equal("router.currentRouteName","site"),k=Ember.computed.or("session.user.isAdmin","session.user.isEditor"),P=Ember.computed.and("config.clientExtensions.menu","session.user.isOwnerOnly"),O=Ember.computed.and("config.clientExtensions.script","session.user.isOwnerOnly"),j=Ember.computed.reads("config.hostSettings.billing.enabled"),_=Ember.computed.reads("settings.stripeConnectAccountId"),z=Ember._action,x=Ember._action,T=Ember._action,S=(0,a.task)((function*(){try{this.set("memberCountLoading",!0)
const e=yield this.membersStats.fetchCounts()
if(this.set("memberCountLoading",!1),e){const t=this.membersStats.fillCountDates(e.data)||{},n=Object.values(t)
this.set("memberCount",n.length?n[n.length-1].total:0)}}catch(e){return!1}})),s((C=class extends(Ember.Component.extend(n.default)){constructor(){super(...arguments),ee(this,"billing",D,this),ee(this,"config",A,this),ee(this,"customViews",I,this),ee(this,"feature",L,this),ee(this,"ghostPaths",R,this),ee(this,"modals",U,this),ee(this,"navigation",N,this),ee(this,"router",F,this),ee(this,"session",B,this),ee(this,"ui",V,this),ee(this,"whatsNew",H,this),ee(this,"membersStats",q,this),ee(this,"settings",$,this),te(this,"iconStyle",""),te(this,"iconClass",""),te(this,"memberCountLoading",!0),te(this,"memberCount",0),te(this,"shortcuts",null),ee(this,"isIntegrationRoute",Y,this),ee(this,"isOnSite",W,this),ee(this,"showTagsNavigation",K,this),ee(this,"showMenuExtension",G,this),ee(this,"showScriptExtension",Z,this),ee(this,"showBilling",J,this),ee(this,"isStripeConnected",X,this),ee(this,"_loadMemberCountsTask",Q,this)}init(){super.init(...arguments)
let e={}
e[`${i.default}+k`]={action:"openSearchModal"},this.shortcuts=e}didReceiveAttrs(){super.didReceiveAttrs(...arguments),this._setIconStyle(),this._loadMemberCountsTask.perform()}didInsertElement(){super.didInsertElement(...arguments),this.registerShortcuts()}willDestroyElement(){this.removeShortcuts(),super.willDestroyElement(...arguments)}transitionToOrRefreshSite(){let{currentRouteName:e}=this.router
"site"===e?Ember.getOwner(this).lookup(`route:${e}`).refresh():this.session.user.isContributor?this.router.transitionTo("posts"):this.router.transitionTo("site")}openSearchModal(){return this.modals.open(t.default)}toggleBillingModal(){this.billing.openBillingWindow(this.router.currentURL)}_setIconStyle(){let e=this.icon
if(e===this._icon)return
if(this._icon=e,e&&e.match(/^https?:\/\//i))return this.set("iconClass",""),void this.set("iconStyle",Ember.String.htmlSafe(`background-image: url(${e})`))
this.set("iconStyle",Ember.String.htmlSafe("background-image: url(https://static.ghost.org/v4.0.0/images/ghost-orb-1.png)")),this.set("iconClass","gh-nav-logo-default")}},D=ne(C.prototype,"billing",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=ne(C.prototype,"config",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=ne(C.prototype,"customViews",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=ne(C.prototype,"feature",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=ne(C.prototype,"ghostPaths",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=ne(C.prototype,"modals",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=ne(C.prototype,"navigation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=ne(C.prototype,"router",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=ne(C.prototype,"session",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=ne(C.prototype,"ui",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=ne(C.prototype,"whatsNew",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=ne(C.prototype,"membersStats",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=ne(C.prototype,"settings",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=ne(C.prototype,"isIntegrationRoute",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=ne(C.prototype,"isOnSite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=ne(C.prototype,"showTagsNavigation",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=ne(C.prototype,"showMenuExtension",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=ne(C.prototype,"showScriptExtension",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=ne(C.prototype,"showBilling",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=ne(C.prototype,"isStripeConnected",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne(C.prototype,"transitionToOrRefreshSite",[z],Object.getOwnPropertyDescriptor(C.prototype,"transitionToOrRefreshSite"),C.prototype),ne(C.prototype,"openSearchModal",[x],Object.getOwnPropertyDescriptor(C.prototype,"openSearchModal"),C.prototype),ne(C.prototype,"toggleBillingModal",[T],Object.getOwnPropertyDescriptor(C.prototype,"toggleBillingModal"),C.prototype),Q=ne(C.prototype,"_loadMemberCountsTask",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=C))||M)
e.default=re,Ember._setComponentTemplate(ie,re)})),define("ghost-admin/components/gh-navitem-url-input",["exports","validator","@ember-decorators/component"],(function(e,t,n){var i,r,a,s
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{URI:o}=window
let l=(i=(0,n.classNames)("gh-input"),r=Ember.computed("baseUrl","value"),i((s=class extends Ember.TextField{update(){}clearErrors(){}get isBaseUrl(){return this.baseUrl===this.value}didReceiveAttrs(){super.didReceiveAttrs(...arguments),this.set("value",this._makeAbsoluteUrl(this.url))}focusIn(e){this.set("hasFocus",!0),this.isBaseUrl&&Ember.run.next((function(e){let{length:t}=e.value
e.setSelectionRange(t,t)}),e.target)}keyDown(e){!this.isBaseUrl||8!==e.keyCode&&46!==e.keyCode||(this.set("value",""),e.preventDefault()),83===e.keyCode&&e.metaKey&&this.notifyUrlChanged()}keyPress(e){return this.clearErrors(),13===e.keyCode&&this.notifyUrlChanged(),!0}focusOut(){this.set("hasFocus",!1),this.notifyUrlChanged()}notifyUrlChanged(){let e=this.value.trim(),n=o.parse(e),i=this.baseUrl,r=o.parse(i)
function a(e){let t=e.getDomain()
return e.getPort()&&(t=`${t}:${e.getPort()}`),t}let s=a(n),l=a(r)
if(this.set("value",e),t.default.isEmail(e))return e=this.update(`mailto:${e}`),void this.set("value",e)
let u=e.match(/^#/),d=n.getPath()&&0===n.getPath().indexOf(r.getPath());`${n.getPath()}/`===r.getPath()&&(d=!0),!u&&(s===l||!s&&d)&&d&&(e=e.replace(/^[a-zA-Z0-9-]+:/,""),e=e.replace(/^\/\//,""),e=e.replace(l,""),e=e.replace(r.getPath(),""),"/"!==n.getPath().slice(-1)&&(e=e.replace(r.getPath().slice(0,-1),"")),""===e&&this.isNew||(e.match(/^\//)||(e=`/${e}`),e.match(/\/$/)||e.match(/[.#?]/)||(e=`${e}/`))),(e.match(/^(\/\/|#|[a-zA-Z0-9-]+:)/)||t.default.isURL(e)||t.default.isURL(`${l}${e}`))&&(e=this.update(e),this.set("value",this._makeAbsoluteUrl(e)))}_makeAbsoluteUrl(e){return function(e){return!e.match(/\s/)&&!t.default.isURL(e)&&!e.match(/^(\/\/|#|[a-zA-Z0-9-]+:)/)}(e)&&(e=function(e,t){return"/"!==t[0]&&"/"!==e.slice(-1)?t=`/${t}`:"/"===t[0]&&"/"===e.slice(-1)&&(t=t.slice(1)),e+t}(this.baseUrl,e)),e}},u=s.prototype,d="isBaseUrl",c=[r],p=Object.getOwnPropertyDescriptor(s.prototype,"isBaseUrl"),m=s.prototype,h={},Object.keys(p).forEach((function(e){h[e]=p[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=c.slice().reverse().reduce((function(e,t){return t(u,d,e)||e}),h),m&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(m):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(u,d,h),h=null),a=s))||a)
var u,d,c,p,m,h
e.default=l})),define("ghost-admin/components/gh-navitem",["exports","ghost-admin/mixins/validation-state","ghost-admin/utils/bound-one-way"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"4SfV4G94",block:'{"symbols":[],"statements":[[6,[37,2],[[32,0,["navItem","isNew"]]],null,[["default"],[{"statements":[[2,"    "],[10,"span"],[14,0,"gh-blognav-grab"],[12],[2,"\\n        "],[1,[30,[36,1],["grab"],null]],[2,"\\n        "],[10,"span"],[14,0,"sr-only"],[12],[2,"Reorder"],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[10,"div"],[14,0,"gh-blognav-line"],[12],[2,"\\n    "],[8,"gh-validation-status-container",[],[["@tagName","@class","@errors","@property","@hasValidated"],["span","gh-blognav-label",[32,0,["navItem","errors"]],"label",[32,0,["navItem","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n        "],[8,"gh-trim-focus-input",[],[["@shouldFocus","@placeholder","@value","@input","@keyPress","@focus-out"],[[32,0,["navItem","last"]],"Label",[30,[36,3],[[32,0,["label"]]],null],[30,[36,0],[[32,0],"updateLabel"],[["value"],["target.value"]]],[30,[36,0],[[32,0],"clearLabelErrors"],null],[30,[36,0],[[32,0],"updateLabel",[32,0,["label"]]],null]]],null],[2,"\\n        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["navItem","errors"]],"label"]],null],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n    "],[8,"gh-validation-status-container",[],[["@tagName","@class","@errors","@property","@hasValidated"],["span","gh-blognav-url",[32,0,["navItem","errors"]],"url",[32,0,["navItem","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n        "],[8,"gh-navitem-url-input",[],[["@baseUrl","@isNew","@url","@update","@clearErrors"],[[32,0,["baseUrl"]],[32,0,["navItem","isNew"]],[30,[36,3],[[32,0,["url"]]],null],[30,[36,0],[[32,0],"updateUrl"],null],[30,[36,0],[[32,0],"clearUrlErrors"],null]]],null],[2,"\\n        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["navItem","errors"]],"url"]],null],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["navItem","isNew"]]],null,[["default","else"],[{"statements":[[2,"    "],[11,"button"],[24,0,"gh-blognav-add"],[24,4,"button"],[4,[38,0],[[32,0],"addItem",[32,0,["navItem"]]],null],[12],[2,"\\n        "],[1,[30,[36,1],["add"],null]],[10,"span"],[14,0,"sr-only"],[12],[2,"Add"],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[11,"button"],[24,0,"gh-blognav-delete"],[24,4,"button"],[4,[38,0],[[32,0],"deleteItem",[32,0,["navItem"]]],null],[12],[2,"\\n        "],[1,[30,[36,1],["trash"],null]],[10,"span"],[14,0,"sr-only"],[12],[2,"Delete"],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","svg-jar","unless","readonly","if"]}',moduleName:"ghost-admin/components/gh-navitem.hbs"})
var r=Ember._setComponentTemplate(i,Ember.Component.extend(t.default,{classNames:"gh-blognav-item",classNameBindings:["errorClass","navItem.isNew::gh-blognav-item--sortable"],new:!1,addItem(){},deleteItem(){},updateUrl(){},updateLabel(){},label:(0,n.default)("navItem.label"),url:(0,n.default)("navItem.url"),errors:Ember.computed.readOnly("navItem.errors"),errorClass:Ember.computed("hasError",(function(){return this.hasError?"gh-blognav-item--error":""})),actions:{addItem(e){this.addItem(e)},deleteItem(e){this.deleteItem(e)},updateUrl(e){return this.updateUrl(e,this.navItem)},updateLabel(e){return this.set("label",e),this.updateLabel(e,this.navItem)},clearLabelErrors(){this.get("navItem.errors").remove("label")},clearUrlErrors(){this.get("navItem.errors").remove("url")}},keyPress(e){13===e.keyCode&&this.get("navItem.isNew")&&(e.preventDefault(),Ember.run.scheduleOnce("actions",this,this.send,"addItem",this.navItem))}}))
e.default=r})),define("ghost-admin/components/gh-notification",["exports","@ember-decorators/component"],(function(e,t){var n,i,r,a,s,o,l,u,d
function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"+faMQQw3",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-notification-icon"],[12],[2,"\\n"],[6,[37,2],[[32,0,["message","icon"]]],null,[["default","else"],[{"statements":[[2,"        "],[1,[30,[36,0],[[32,0,["message","icon"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[30,[36,1],[[32,0,["message","type"]],"success"],null]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,0],["check-circle"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[30,[36,1],[[32,0,["message","type"]],"error"],null]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,0],["warning-stroke"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[30,[36,1],[[32,0,["message","type"]],"warn"],null]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,0],["warning-stroke"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[1,[30,[36,0],["check-circle"],null]],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[13],[2,"\\n"],[10,"div"],[14,0,"gh-notification-content"],[12],[2,"\\n    "],[10,"span"],[14,0,"gh-notification-title"],[12],[1,[32,0,["message","message"]]],[13],[2,"\\n    \\n"],[6,[37,2],[[32,0,["message","description"]]],null,[["default"],[{"statements":[[2,"        "],[10,"p"],[12],[1,[32,0,["message","description"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["message","actions"]]],null,[["default"],[{"statements":[[2,"        "],[10,"span"],[14,0,"gh-notification-actions"],[12],[1,[32,0,["message","actions"]]],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"],[11,"button"],[24,0,"gh-notification-close"],[24,4,"button"],[4,[38,3],[[32,0],"closeNotification"],null],[12],[2,"\\n    "],[1,[30,[36,0],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","eq","if","action"]}',moduleName:"ghost-admin/components/gh-notification.hbs"})
let m=(n=(0,t.tagName)("article"),i=(0,t.classNames)("gh-notification","gh-notification-passive"),r=(0,t.classNameBindings)("typeClass"),a=Ember.inject.service,s=Ember.computed("message.type"),o=Ember._action,n(l=i(l=r((u=class extends Ember.Component{constructor(){var e,t,n,i
super(...arguments),e=this,t="notifications",i=this,(n=d)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"message",null)}get typeClass(){let e,t=this.get("message.type"),n=""
return e={error:"red",warn:"yellow"},void 0!==e[t]&&(n+=`gh-notification-${e[t]}`),n}didInsertElement(){super.didInsertElement(...arguments),this._animationEndHandler=Ember.run.bind(this,(function(){"fade-out"===event.animationName&&this.notifications.closeNotification(this.message)})),this.element.addEventListener("animationend",this._animationEndHandler)}willDestroyElement(){super.willDestroyElement(...arguments),this.element.removeEventListener("animationend",this._animationEndHandler)}closeNotification(){this.notifications.closeNotification(this.message)}},d=c(u.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(u.prototype,"typeClass",[s],Object.getOwnPropertyDescriptor(u.prototype,"typeClass"),u.prototype),c(u.prototype,"closeNotification",[o],Object.getOwnPropertyDescriptor(u.prototype,"closeNotification"),u.prototype),l=u))||l)||l)||l)
e.default=m,Ember._setComponentTemplate(p,m)})),define("ghost-admin/components/gh-notifications",["exports","@ember-decorators/component"],(function(e,t){var n,i,r,a,s,o,l,u
function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"+/C8LDFN",block:'{"symbols":["message"],"statements":[[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,["messages"]]],null]],null]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-notification",[],[["@message"],[[32,1]]],null],[2,"\\n"]],"parameters":[1]}]]]],"hasEval":false,"upvars":["-track-array","each"]}',moduleName:"ghost-admin/components/gh-notifications.hbs"})
let m=(n=(0,t.tagName)("aside"),i=(0,t.classNames)("gh-notifications"),r=Ember.inject.service,a=Ember.computed.alias("notifications.notifications"),n(s=i((o=class extends Ember.Component{constructor(){super(...arguments),d(this,"notifications",l,this),d(this,"messages",u,this)}},l=c(o.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c(o.prototype,"messages",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=o))||s)||s)
e.default=m,Ember._setComponentTemplate(p,m)})),define("ghost-admin/components/gh-portal-links",["exports","ghost-admin/utils/copy-text-to-clipboard","@ember-decorators/component","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O
function j(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const x=Ember.HTMLBars.template({id:"kWo7CRDN",block:'{"symbols":[],"statements":[[11,"div"],[24,0,"gh-portal-links-container"],[4,[38,6],[[30,[36,2],[[32,0,["fetchProducts"]]],null]],null],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-portal-links-main"],[12],[2,"\\n        "],[10,"h2"],[12],[2,"Links"],[13],[2,"\\n        "],[10,"p"],[12],[2,"Use these "],[1,[30,[36,1],[[32,0,["isLink"]],"links","data attributes"],null]],[2," in your theme to show pages of Portal."],[13],[2,"\\n        "],[10,"table"],[14,0,"gh-portal-links-table"],[12],[2,"\\n            "],[10,"thead"],[12],[2,"\\n                "],[10,"tr"],[14,0,"header"],[12],[2,"\\n                    "],[10,"td"],[12],[10,"h4"],[12],[2,"Page"],[13],[13],[2,"\\n                    "],[10,"td"],[12],[2,"\\n                        "],[10,"div"],[14,0,"toggle-header"],[12],[2,"\\n                            "],[10,"h4"],[12],[1,[32,0,["sectionHeaderLabel"]]],[13],[2,"\\n                            "],[11,"h4"],[24,"role","button"],[24,0,"gh-portal-links-cell toggle"],[4,[38,7],["click",[32,0,["toggleShowLinks"]]],null],[12],[1,[32,0,["toggleValue"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[14,0,"gh-portal-links-group-divider first"],[12],[13],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tbody"],[12],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Default"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal"]]],[14,"disabled","true"],[14,"aria-label","Default Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,2,"data-portal"],[14,"disabled","true"],[14,"aria-label","Default Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,4,"button"],[4,[38,3],[[32,0],[30,[36,2],[[32,0,["copyStaticLink"]],""],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,0,["copyStaticLink","isRunning"]],[30,[36,4],[[32,0,["copiedPrice"]],""],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[14,0,"gh-portal-links-group-divider"],[12],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign in"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signin"]]],[14,"disabled","true"],[14,"aria-label","Sign in Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,2,"data-portal=\\"signin\\""],[14,"disabled","true"],[14,"aria-label","Sign in Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,4,"button"],[4,[38,3],[[32,0],[30,[36,2],[[32,0,["copyStaticLink"]],"signin"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,0,["copyStaticLink","isRunning"]],[30,[36,4],[[32,0,["copiedPrice"]],"signin"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup"]]],[14,"disabled","true"],[14,"aria-label","Sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,2,"data-portal=\\"signup\\""],[14,"disabled","true"],[14,"aria-label","Sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,4,"button"],[4,[38,3],[[32,0],[30,[36,2],[[32,0,["copyStaticLink"]],"signup"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,0,["copyStaticLink","isRunning"]],[30,[36,4],[[32,0,["copiedPrice"]],"signup"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,1],[[30,[36,5],[[30,[36,9],["multipleProducts"],null],[30,[36,8],[[32,0,["products","length"]],1],null]],null]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[14,0,"gh-portal-links-group-divider"],[12],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename strong"],[12],[2,"Tier"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"span"],[14,0,"gh-select"],[14,"data-select-text","test"],[14,"tabindex","0"],[12],[2,"\\n                                    "],[8,"one-way-select",[],[["@id","@name","@options","@optionValuePath","@optionLabelPath","@value","@update"],["portal-product-link","portal[product-link]",[32,0,["productOptions"]],"name","label",[32,0,["selectedProduct"]],[30,[36,3],[[32,0],"setSelectedProduct"],null]]],null],[2,"\\n                                    "],[1,[30,[36,0],["arrow-down-small"],null]],[2,"\\n                                "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up/Monthly"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup",[32,0,["selectedProductIdPath"]],"/monthly"]]],[14,"disabled","true"],[14,"aria-label","Monthly sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,["data-portal=\\"signup",[32,0,["selectedProductIdPath"]],"/monthly\\""]]],[14,"disabled","true"],[14,"aria-label","Monthly sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,4,"button"],[4,[38,3],[[32,0],[30,[36,2],[[32,0,["copyProductSignupLink"]],"monthly"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,0,["copyProductSignupLink","isRunning"]],[30,[36,4],[[32,0,["copiedSignupInterval"]],"monthly"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up/Yearly"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup",[32,0,["selectedProductIdPath"]],"/yearly"]]],[14,"disabled","true"],[14,"aria-label","Yearly sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,["data-portal=\\"signup",[32,0,["selectedProductIdPath"]],"/yearly\\""]]],[14,"disabled","true"],[14,"aria-label","Yearly sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,4,"button"],[4,[38,3],[[32,0],[30,[36,2],[[32,0,["copyProductSignupLink"]],"yearly"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,0,["copyProductSignupLink","isRunning"]],[30,[36,4],[[32,0,["copiedSignupInterval"]],"yearly"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up/Free"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup/free"]]],[14,"disabled","true"],[14,"aria-label","Free sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"input"],[14,0,"gh-input page-url-field"],[14,2,"data-portal=\\"signup/free\\""],[14,"disabled","true"],[14,"aria-label","Free sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,4,"button"],[4,[38,3],[[32,0],[30,[36,2],[[32,0,["copyStaticLink"]],"signup/free"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,0,["copyStaticLink","isRunning"]],[30,[36,4],[[32,0,["copiedPrice"]],"signup/free"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up/Monthly"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup/monthly"]]],[14,"disabled","true"],[14,"aria-label","Monthly sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"input"],[14,0,"gh-input page-url-field"],[14,2,"data-portal=\\"signup/monthly\\""],[14,"disabled","true"],[14,"aria-label","Monthly sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,4,"button"],[4,[38,3],[[32,0],[30,[36,2],[[32,0,["copyStaticLink"]],"signup/monthly"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,0,["copyStaticLink","isRunning"]],[30,[36,4],[[32,0,["copiedPrice"]],"signup/monthly"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up/Yearly"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup/yearly"]]],[14,"disabled","true"],[14,"aria-label","Yearly sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"input"],[14,0,"gh-input page-url-field"],[14,2,"data-portal=\\"signup/yearly\\""],[14,"disabled","true"],[14,"aria-label","Yearly sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,4,"button"],[4,[38,3],[[32,0],[30,[36,2],[[32,0,["copyStaticLink"]],"signup/yearly"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,0,["copyStaticLink","isRunning"]],[30,[36,4],[[32,0,["copiedPrice"]],"signup/yearly"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up/Free"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup/free"]]],[14,"disabled","true"],[14,"aria-label","Free sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"input"],[14,0,"gh-input page-url-field"],[14,2,"data-portal=\\"signup/free\\""],[14,"disabled","true"],[14,"aria-label","Free sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,4,"button"],[4,[38,3],[[32,0],[30,[36,2],[[32,0,["copyStaticLink"]],"signup/free"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,0,["copyStaticLink","isRunning"]],[30,[36,4],[[32,0,["copiedPrice"]],"signup/free"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[14,0,"gh-portal-links-group-divider"],[12],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Account"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/account"]]],[14,"disabled","true"],[14,"aria-label","Account Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,2,"data-portal=\\"account\\""],[14,"disabled","true"],[14,"aria-label","Account Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,4,"button"],[4,[38,3],[[32,0],[30,[36,2],[[32,0,["copyStaticLink"]],"account"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,0,["copyStaticLink","isRunning"]],[30,[36,4],[[32,0,["copiedPrice"]],"account"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Account/Plans"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/account/plans"]]],[14,"disabled","true"],[14,"aria-label","Account/Plans Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,2,"data-portal=\\"account/plans\\""],[14,"disabled","true"],[14,"aria-label","Account/Plans Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,4,"button"],[4,[38,3],[[32,0],[30,[36,2],[[32,0,["copyStaticLink"]],"account/plans"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,0,["copyStaticLink","isRunning"]],[30,[36,4],[[32,0,["copiedPrice"]],"account/plans"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Account/Profile"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"input"],[14,0,"gh-input page-url-field"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/account/profile"]]],[14,"disabled","true"],[14,"aria-label","Account/Profile Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,2,"data-portal=\\"account/profile\\""],[14,"disabled","true"],[14,"aria-label","Account/Profile Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,4,"button"],[4,[38,3],[[32,0],[30,[36,2],[[32,0,["copyStaticLink"]],"account/profile"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,0,["copyStaticLink","isRunning"]],[30,[36,4],[[32,0,["copiedPrice"]],"account/profile"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","if","perform","action","eq","and","did-insert","on","gt","feature"]}',moduleName:"ghost-admin/components/gh-portal-links.hbs"})
let T=(r=(0,n.tagName)(""),a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.computed("isLink"),u=Ember.computed("isLink"),d=Ember.computed("selectedProduct"),c=Ember.computed("products.[]"),p=Ember._action,m=Ember._action,h=(0,i.task)((function*(){const e=yield this.store.query("product",{filter:"type:paid",include:"monthly_price,yearly_price"})||[]
this.set("products",e),e.length>0&&this.set("selectedProduct",{name:e.firstObject.id,label:e.firstObject.name})})),g=(0,i.task)((function*(e){this.set("copiedPrice",e)
let n=""
this.isLink?(n=e?`#/portal/${e}`:"#/portal/",n=this.siteUrl+"/"+n):n=e?`data-portal="${e}"`:"data-portal",(0,t.default)(n),yield(0,i.timeout)(this.isTesting?50:3e3)})),b=(0,i.task)((function*(e){this.set("copiedSignupInterval",e)
let n=""
this.isLink?(n=`#/portal/signup${this.selectedProductIdPath}/${e}`,n=this.siteUrl+"/"+n):n=`data-portal="signup${this.selectedProductIdPath}/${e}"`,(0,t.default)(n),yield(0,i.timeout)(this.isTesting?50:3e3)})),r((v=class extends Ember.Component{constructor(){super(...arguments),j(this,"config",y,this),j(this,"store",w,this),j(this,"settings",E,this),_(this,"isLink",!0),_(this,"prices",null),_(this,"copiedPrice",null),_(this,"copiedSignupInterval",null),_(this,"selectedProduct",null),_(this,"products",null),j(this,"fetchProducts",k,this),j(this,"copyStaticLink",P,this),j(this,"copyProductSignupLink",O,this)}get toggleValue(){return this.isLink?"Data attributes":"Links"}get sectionHeaderLabel(){return this.isLink?"Link":"Data attribute"}get selectedProductIdPath(){const e=this.selectedProduct
return e?`/${e.name}`:""}get productOptions(){return this.products?this.products.map((e=>({label:e.name,name:e.id}))):[]}init(){super.init(...arguments),this.siteUrl=this.config.get("blogUrl")}toggleShowLinks(){this.toggleProperty("isLink")}setSelectedProduct(e){this.set("selectedProduct",e)}},y=z(v.prototype,"config",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z(v.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=z(v.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z(v.prototype,"toggleValue",[l],Object.getOwnPropertyDescriptor(v.prototype,"toggleValue"),v.prototype),z(v.prototype,"sectionHeaderLabel",[u],Object.getOwnPropertyDescriptor(v.prototype,"sectionHeaderLabel"),v.prototype),z(v.prototype,"selectedProductIdPath",[d],Object.getOwnPropertyDescriptor(v.prototype,"selectedProductIdPath"),v.prototype),z(v.prototype,"productOptions",[c],Object.getOwnPropertyDescriptor(v.prototype,"productOptions"),v.prototype),z(v.prototype,"toggleShowLinks",[p],Object.getOwnPropertyDescriptor(v.prototype,"toggleShowLinks"),v.prototype),z(v.prototype,"setSelectedProduct",[m],Object.getOwnPropertyDescriptor(v.prototype,"setSelectedProduct"),v.prototype),k=z(v.prototype,"fetchProducts",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=z(v.prototype,"copyStaticLink",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=z(v.prototype,"copyProductSignupLink",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v))||f)
e.default=T,Ember._setComponentTemplate(x,T)})),define("ghost-admin/components/gh-post-settings-menu",["exports","ghost-admin/utils/bound-one-way","moment","@ember-decorators/component"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L,R,U,N,F,B,V,H,q,$,Y,W,K,G,Z,J,X,Q,ee,te,ne,ie,re,ae,se,oe,le,ue,de,ce,pe,me,he,ge,be,fe,ve,ye,we,Ee,ke,Pe,Oe,je,_e,ze,xe,Te,Se,Me,Ce,De,Ae,Ie,Le,Re,Ue,Ne,Fe,Be,Ve,He
function qe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const We=Ember.HTMLBars.template({id:"RGaW0ofV",block:'{"symbols":["@post"],"statements":[[11,"div"],[16,0,[31,["settings-menu-container ",[30,[36,7],[[30,[36,16],[[32,0,["isViewingSubview"]],[30,[36,15],[[30,[36,11],[[32,0,["subview"]],"email-settings"],null]],null]],null],"settings-menu-container-wide"],null]]]],[4,[38,17],[[32,0,["setSidebarWidthFromElement"]]],null],[4,[38,18],[[32,0,["setSidebarWidthFromElement"]],[32,0,["isViewingSubview"]]],null],[12],[2,"\\n    "],[10,"div"],[14,1,"entry-controls"],[12],[2,"\\n        "],[10,"div"],[14,0,"settings-menu settings-menu-pane settings-menu-pane-main"],[12],[2,"\\n            "],[10,"div"],[14,0,"settings-menu-header"],[12],[2,"\\n                "],[10,"h4"],[12],[1,[30,[36,2],[[32,0,["post","displayName"]]],null]],[2," settings"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"settings-menu-content"],[12],[2,"\\n                "],[10,"form"],[12],[2,"\\n                "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                    "],[10,"label"],[14,"for","url"],[12],[1,[30,[36,2],[[32,0,["post","displayName"]]],null]],[2," URL"],[13],[2,"\\n"],[6,[37,12],[[32,0,["post","isNew"]]],null,[["default"],[{"statements":[[6,[37,7],[[30,[36,14],[[32,0,["post","isPublished"]],[32,0,["post","isSent"]]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"a"],[14,0,"post-view-link"],[14,"target","_blank"],[15,6,[31,[[32,0,["post","url"]]]]],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            View "],[1,[32,0,["post","displayName"]]],[2," "],[1,[30,[36,1],["external"],null]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,7],[[32,0,["post","isScheduled"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"a"],[14,0,"post-view-link"],[14,"target","_blank"],[15,6,[31,[[32,0,["post","previewUrl"]]]]],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            Preview "],[1,[30,[36,1],["external"],null]],[2,"\\n                        "],[13],[2,"\\n                        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n                    "],[10,"div"],[14,0,"gh-input-icon gh-icon-link"],[12],[2,"\\n                        "],[1,[30,[36,1],["link"],null]],[2,"\\n                        "],[8,"gh-text-input",[],[["@class","@id","@name","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-slug","url","post-setting-slug",[30,[36,6],[[32,0,["slugValue"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["slugValue"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"updateSlug",[32,0,["slugValue"]]],null],true]],null],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,7],[[32,0,["post","isSent"]]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"gh-url-preview",[],[["@prefix","@slug","@tagName","@classNames"],["email",[32,0,["uuidValue"]],"p","description"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[8,"gh-url-preview",[],[["@slug","@tagName","@classNames"],[[32,0,["slugValue"]],"p","description"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n"],[6,[37,7],[[30,[36,14],[[32,0,["post","isDraft"]],[32,0,["post","isPublished"]],[32,0,["post","pastScheduledTime"]],[32,0,["post","isSent"]]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"label"],[12],[2,"Publish date"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"label"],[12],[2,"Scheduled date"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[8,"gh-date-time-picker",[],[["@date","@time","@setDate","@setTime","@errors","@dateErrorProperty","@timeErrorProperty","@maxDate","@disabled","@isActive"],[[32,0,["post","publishedAtBlogDate"]],[32,0,["post","publishedAtBlogTime"]],[30,[36,0],[[32,0],"setPublishedAtBlogDate"],null],[30,[36,0],[[32,0],"setPublishedAtBlogTime"],null],[32,0,["post","errors"]],"publishedAtBlogDate","publishedAtBlogTime","now",[32,0,["post","isScheduled"]],[30,[36,15],[[32,0,["isViewingSubview"]]],null]]],null],[2,"\\n"],[6,[37,12],[[30,[36,14],[[32,0,["post","isDraft"]],[32,0,["post","isPublished"]],[32,0,["post","pastScheduledTime"]],[32,0,["post","isSent"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"p"],[12],[2,"Use the publish menu to re-schedule"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n\\n"],[6,[37,12],[[32,0,["session","user","isContributor"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                    "],[10,"label"],[14,"for","tag-input"],[12],[2,"Tags"],[13],[2,"\\n                    "],[8,"gh-psm-tags-input",[],[["@post","@triggerId"],[[32,0,["post"]],"tag-input"]],null],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[32,0,["showVisibilityInput"]]],null,[["default"],[{"statements":[[6,[37,7],[[30,[36,13],["multipleProducts"],null]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"visibility"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","visibility-input"],[12],[1,[30,[36,2],[[32,1,["displayName"]]],null]],[2," access"],[13],[2,"\\n                            "],[8,"gh-psm-visibility-input",[],[["@post","@triggerId"],[[32,0,["post"]],"visibility-input"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,7],[[30,[36,11],[[32,0,["post","visibility"]],"tiers"],null]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property","@class"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"tiers","nt3"]],[["default"],[{"statements":[[2,"\\n                                "],[8,"gh-post-settings-menu/visibility-segment-select",[],[["@tiers","@onChange","@renderInPlace","@hideOptionsWhenAllSelected"],[[32,0,["post","tiers"]],[30,[36,0],[[32,0],"setVisibility"],null],true,true]],null],[2,"\\n                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"tiers"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                        "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                            "],[10,"label"],[14,"for","visibility-input"],[12],[2,"Post access"],[13],[2,"\\n                            "],[8,"gh-psm-visibility-input",[],[["@post","@triggerId"],[[32,0,["post"]],"visibility-input"]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"customExcerpt"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","custom-excerpt"],[12],[2,"Excerpt"],[13],[2,"\\n                    "],[8,"gh-textarea",[],[["@class","@id","@name","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-custom-excerpt","custom-excerpt","post-setting-custom-excerpt",[30,[36,6],[[32,0,["customExcerptScratch"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["customExcerptScratch"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"setCustomExcerpt",[32,0,["customExcerptScratch"]]],null],"true"]],null],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"customExcerpt"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,12],[[32,0,["session","user","isAuthorOrContributor"]]],null,[["default"],[{"statements":[[2,"                    "],[8,"gh-form-group",[],[["@class","@errors","@hasValidated","@property"],["for-select",[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"authors"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","author-list"],[12],[2,"Authors"],[13],[2,"\\n                        "],[8,"gh-psm-authors-input",[],[["@selectedAuthors","@updateAuthors","@triggerId"],[[32,0,["post","authors"]],[30,[36,0],[[32,0],"changeAuthors"],null],"author-list"]],null],[2,"\\n                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"authors"]],null],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                "],[10,"ul"],[14,0,"nav-list nav-list-block"],[12],[2,"\\n                    "],[10,"li"],[14,0,"nav-list-item"],[12],[2,"\\n                        "],[11,"button"],[24,4,"button"],[4,[38,0],[[32,0],"showSubview","meta-data"],null],[12],[2,"\\n                            "],[10,"b"],[12],[2,"Meta data"],[13],[2,"\\n                            "],[10,"span"],[12],[2,"Extra content for search engines"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[1,[30,[36,1],["arrow-right"],null]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"li"],[14,0,"nav-list-item"],[12],[2,"\\n                        "],[11,"button"],[24,4,"button"],[4,[38,0],[[32,0],"showSubview","twitter-data"],null],[12],[2,"\\n                            "],[10,"b"],[12],[2,"Twitter card"],[13],[2,"\\n                            "],[10,"span"],[12],[2,"Customize structured data for Twitter"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[1,[30,[36,1],["arrow-right"],null]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"li"],[14,0,"nav-list-item"],[12],[2,"\\n                        "],[11,"button"],[24,4,"button"],[4,[38,0],[[32,0],"showSubview","facebook-data"],null],[12],[2,"\\n                            "],[10,"b"],[12],[2,"Facebook card"],[13],[2,"\\n                            "],[10,"span"],[12],[2,"Customize Open Graph data"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[1,[30,[36,1],["arrow-right"],null]],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,7],[[30,[36,16],[[32,0,["post","isPost"]],[32,0,["showEmailNewsletter"]],[30,[36,19],[[32,0,["settings","membersSignupAccess"]],"none"],null],[30,[36,19],[[32,0,["settings","editorDefaultEmailRecipients"]],"disabled"],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"nav-list-item"],[12],[2,"\\n                            "],[11,"button"],[24,4,"button"],[4,[38,0],[[32,0],"showSubview","email-settings"],null],[12],[2,"\\n                                "],[10,"b"],[12],[2,"Email newsletter"],[13],[2,"\\n                                "],[10,"span"],[12],[2,"Customize email settings"],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[1,[30,[36,1],["arrow-right"],null]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"li"],[14,0,"nav-list-item"],[12],[2,"\\n                        "],[11,"button"],[24,4,"button"],[4,[38,0],[[32,0],"showSubview","codeinjection"],null],[12],[2,"\\n                            "],[10,"b"],[12],[2,"Code injection"],[13],[2,"\\n                            "],[10,"span"],[12],[2,"Add styles/scripts to the header & footer"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[1,[30,[36,1],["arrow-right"],null]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n"],[6,[37,12],[[32,0,["session","user","isAuthorOrContributor"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"form-group for-checkbox"],[12],[2,"\\n                    "],[11,"label"],[24,0,"checkbox"],[24,"for","featured"],[4,[38,0],[[32,0],"toggleFeatured"],[["bubbles"],["false"]]],[12],[2,"\\n                        "],[10,"input"],[15,"checked",[32,0,["post","featured"]]],[14,0,"gh-input post-settings-featured"],[15,"onclick",[30,[36,0],[[32,0],[30,[36,3],[[32,0,["post","featured"]]],null]],[["value"],["target.checked"]]]],[14,4,"checkbox"],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Feature this "],[1,[32,0,["post","displayName"]]],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                "],[8,"gh-psm-template-select",[],[["@post","@onTemplateSelect"],[[32,0,["post"]],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["post","customTemplate"]]],null]],null]]],null],[2,"\\n\\n"],[6,[37,12],[[32,0,["post","isNew"]]],null,[["default"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-hover-red gh-btn-icon settings-menu-delete-button"],[24,4,"button"],[4,[38,0],[[32,0],"deletePostInternal"],null],[12],[10,"span"],[12],[1,[30,[36,1],["trash"],null]],[2," Delete "],[1,[32,0,["post","displayName"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n"],[6,[37,7],[[32,0,["isViewingSubview"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[15,0,[31,["settings-menu settings-menu-pane ",[30,[36,12],[[30,[36,11],[[32,0,["subview"]],"email-settings"],null],"settings-menu-pane-wide"],null]]]],[12],[2,"\\n            "],[10,"div"],[14,0,"active"],[12],[2,"\\n"],[6,[37,7],[[30,[36,11],[[32,0,["subview"]],"meta-data"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"settings-menu-header subview"],[12],[2,"\\n                            "],[11,"button"],[24,"aria-label","Back"],[24,0,"back settings-menu-header-action"],[24,4,"button"],[4,[38,0],[[32,0],"closeSubview"],null],[12],[1,[30,[36,1],["arrow-left"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Back"],[13],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"Meta data"],[13],[2,"\\n                            "],[10,"div"],[14,5,"width:23px;"],[12],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"settings-menu-content"],[12],[2,"\\n                            "],[11,"form"],[4,[38,0],[[32,0],"discardEnter"],[["on"],["submit"]]],[12],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"metaTitle"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","meta-title"],[12],[2,"Meta title"],[13],[2,"\\n                                    "],[8,"gh-text-input",[],[["@class","@id","@name","@placeholder","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-meta-title","meta-title","post-setting-meta-title",[32,0,["seoTitle"]],[30,[36,6],[[32,0,["metaTitleScratch"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["metaTitleScratch"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"setMetaTitle",[32,0,["metaTitleScratch"]]],null],true]],null],[2,"\\n                                    "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"60"],[13],[2," characters. You’ve used "],[1,[30,[36,8],[[32,0,["metaTitleScratch"]],60],null]],[13],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"meta-title"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"metaDescription"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","meta-description"],[12],[2,"Meta description"],[13],[2,"\\n                                    "],[8,"gh-textarea",[],[["@class","@id","@name","@placeholder","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-meta-description","meta-description","post-setting-meta-description",[30,[36,5],[[32,0,["seoDescription"]],150],null],[30,[36,6],[[32,0,["metaDescriptionScratch"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["metaDescriptionScratch"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"setMetaDescription",[32,0,["metaDescriptionScratch"]]],null],"true"]],null],[2,"\\n                                    "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"145"],[13],[2," characters. You’ve used "],[1,[30,[36,8],[[32,0,["metaDescriptionScratch"]],145],null]],[13],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"meta-description"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"canonicalUrl"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","canonicalUrl"],[12],[2,"Canonical URL"],[13],[2,"\\n                                    "],[8,"gh-text-input",[],[["@class","@name","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-canonicalUrl","post-setting-canonicalUrl",[30,[36,6],[[32,0,["canonicalUrlScratch"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["canonicalUrlScratch"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"setCanonicalUrl",[32,0,["canonicalUrlScratch"]]],null],"true"]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"canonicalUrl"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                    "],[10,"label"],[12],[2,"Search Engine Result Preview"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-seo-container"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-seo-preview"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"flex mb7"],[12],[2,"\\n                                                "],[1,[30,[36,1],["google"],null]],[2,"\\n                                                "],[10,"div"],[14,0,"gh-seo-search-bar"],[12],[1,[30,[36,1],["google-search"],null]],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-seo-preview-link"],[12],[1,[32,0,["seoURL"]]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-seo-preview-title"],[12],[1,[30,[36,5],[[32,0,["seoTitle"]],60],null]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-seo-preview-desc"],[12],[1,[30,[36,10],[[30,[36,9],null,null],"DD MMM YYYY"],null]],[2," — "],[1,[30,[36,5],[[32,0,["seoDescription"]],149],null]],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[30,[36,11],[[32,0,["subview"]],"twitter-data"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"settings-menu-header subview"],[12],[2,"\\n                            "],[11,"button"],[24,"aria-label","Back"],[24,0,"back settings-menu-header-action"],[24,4,"button"],[4,[38,0],[[32,0],"closeSubview"],null],[12],[1,[30,[36,1],["arrow-left"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Back"],[13],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"Twitter card"],[13],[2,"\\n                            "],[10,"div"],[14,5,"width:23px;"],[12],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"settings-menu-content"],[12],[2,"\\n\\n                            "],[11,"form"],[4,[38,0],[[32,0],"discardEnter"],[["on"],["submit"]]],[12],[2,"\\n                                "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,0,["post","twitterImage"]],"Add Twitter image",true,[30,[36,0],[[32,0],"setTwitterImage"],null],[30,[36,0],[[32,0],"clearTwitterImage"],null]]],null],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"twitterTitle"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","twitter-title"],[12],[2,"Twitter title"],[13],[2,"\\n                                    "],[8,"gh-text-input",[],[["@class","@id","@name","@placeholder","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-twitter-title","twitter-title","post-setting-twitter-title",[30,[36,5],[[32,0,["twitterTitle"]],40],null],[30,[36,6],[[32,0,["twitterTitleScratch"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["twitterTitleScratch"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"setTwitterTitle",[32,0,["twitterTitleScratch"]]],null],true]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"twitterTitle"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"twitterDescription"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","twitter-description"],[12],[2,"Twitter description"],[13],[2,"\\n                                    "],[8,"gh-textarea",[],[["@class","@id","@name","@placeholder","@stopEnterKeyDownPropagation","@value","@input","@focus-out"],["post-setting-twitter-description","twitter-description","post-setting-twitter-description",[30,[36,5],[[32,0,["twitterDescription"]],150],null],"true",[30,[36,6],[[32,0,["twitterDescriptionScratch"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["twitterDescriptionScratch"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"setTwitterDescription",[32,0,["twitterDescriptionScratch"]]],null]]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"twitterDescription"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                    "],[10,"label"],[12],[2,"Twitter preview"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-social-twitter-post-preview"],[12],[2,"\\n"],[6,[37,7],[[32,0,["twitterImage"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-image"],[15,5,[30,[36,4],[[32,0,["twitterImage"]]],null]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[10,"div"],[14,0,"gh-social-twitter-preview-content"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-title"],[12],[1,[32,0,["twitterTitle"]]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-desc"],[12],[1,[30,[36,5],[[32,0,["twitterDescription"]]],null]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-meta"],[12],[2,"\\n                                                "],[1,[30,[36,1],["twitter-link"],null]],[2,"\\n                                                "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[30,[36,11],[[32,0,["subview"]],"email-settings"],null]],null,[["default"],[{"statements":[[2,"                        "],[8,"gh-post-settings-menu/email",[],[["@post","@savePostTask","@close"],[[32,0,["post"]],[32,0,["savePostTask"]],[30,[36,0],[[32,0],"closeSubview"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[30,[36,11],[[32,0,["subview"]],"facebook-data"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"settings-menu-header subview"],[12],[2,"\\n                            "],[11,"button"],[24,"aria-label","Back"],[24,0,"back settings-menu-header-action"],[24,4,"button"],[4,[38,0],[[32,0],"closeSubview"],null],[12],[1,[30,[36,1],["arrow-left"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Back"],[13],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"Facebook card"],[13],[2,"\\n                            "],[10,"div"],[14,5,"width:23px;"],[12],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"settings-menu-content"],[12],[2,"\\n                            "],[11,"form"],[4,[38,0],[[32,0],"discardEnter"],[["on"],["submit"]]],[12],[2,"\\n                                "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,0,["post","ogImage"]],"Add Facebook image",true,[30,[36,0],[[32,0],"setOgImage"],null],[30,[36,0],[[32,0],"clearOgImage"],null]]],null],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"ogTitle"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","og-title"],[12],[2,"Facebook title"],[13],[2,"\\n                                    "],[8,"gh-text-input",[],[["@class","@id","@name","@placeholder","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-og-title","og-title","post-setting-og-title",[30,[36,5],[[32,0,["facebookTitle"]],40],null],[30,[36,6],[[32,0,["ogTitleScratch"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["ogTitleScratch"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"setOgTitle",[32,0,["ogTitleScratch"]]],null],true]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"ogTitle"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"ogDescription"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","og-description"],[12],[2,"Facebook description"],[13],[2,"\\n                                    "],[8,"gh-textarea",[],[["@class","@id","@name","@placeholder","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-og-description","og-description","post-setting-og-description",[30,[36,5],[[32,0,["facebookDescription"]],150],null],[30,[36,6],[[32,0,["ogDescriptionScratch"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["ogDescriptionScratch"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"setOgDescription",[32,0,["ogDescriptionScratch"]]],null],"true"]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"ogDescription"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                    "],[10,"label"],[12],[2,"Facebook preview"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-social-og-preview no-container"],[12],[2,"\\n"],[6,[37,7],[[32,0,["facebookImage"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[14,0,"gh-social-og-preview-image"],[15,5,[30,[36,4],[[32,0,["facebookImage"]]],null]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[10,"div"],[14,0,"gh-social-og-preview-bookmark"],[12],[2,"\\n"],[2,"                                            "],[10,"div"],[14,0,"gh-social-og-preview-content"],[12],[2,"\\n                                                "],[10,"div"],[14,0,"gh-social-og-preview-meta"],[12],[2,"\\n                                                    "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-social-og-preview-title"],[12],[1,[30,[36,5],[[32,0,["facebookTitle"]]],null]],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-social-og-preview-desc"],[12],[1,[30,[36,5],[[32,0,["facebookDescription"]]],null]],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[30,[36,11],[[32,0,["subview"]],"codeinjection"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"settings-menu-header subview"],[12],[2,"\\n                            "],[11,"button"],[24,"aria-label","Back"],[24,0,"back settings-menu-header-action"],[24,4,"button"],[4,[38,0],[[32,0],"closeSubview"],null],[12],[1,[30,[36,1],["arrow-left"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Back"],[13],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"Code injection"],[13],[2,"\\n                            "],[10,"div"],[14,5,"width:23px;"],[12],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"settings-menu-content settings-menu-content-codeinjection"],[12],[2,"\\n                            "],[11,"form"],[4,[38,0],[[32,0],"discardEnter"],[["on"],["submit"]]],[12],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"codeinjectionHead"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","codeinjection-head"],[12],[1,[30,[36,2],[[32,0,["post","displayName"]]],null]],[2," header "],[10,"code"],[12],[2,"{{ghost_head}}"],[13],[13],[2,"\\n                                    "],[8,"gh-cm-editor",[],[["@value","@id","@class","@name","@focusOut","@stopEnterKeyDownPropagation","@update"],[[32,0,["codeinjectionHeadScratch"]],"post-setting-codeinjection-head","post-setting-codeinjection","post-setting-codeinjection-head",[30,[36,0],[[32,0],"setHeaderInjection",[32,0,["codeinjectionHeadScratch"]]],null],"true",[30,[36,0],[[32,0],[30,[36,3],[[32,0,["codeinjectionHeadScratch"]]],null]],null]]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"codeinjectionHead"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"codeinjectionFoot"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","codeinjection-foot"],[12],[1,[30,[36,2],[[32,0,["post","displayName"]]],null]],[2," footer "],[10,"code"],[12],[2,"{{ghost_foot}}"],[13],[13],[2,"\\n                                    "],[8,"gh-cm-editor",[],[["@value","@id","@class","@name","@focusOut","@stopEnterKeyDownPropagation","@update"],[[32,0,["codeinjectionFootScratch"]],"post-setting-codeinjection-foot","post-setting-codeinjection","post-setting-codeinjection-foot",[30,[36,0],[[32,0],"setFooterInjection",[32,0,["codeinjectionFootScratch"]]],null],"true",[30,[36,0],[[32,0],[30,[36,3],[[32,0,["codeinjectionFootScratch"]]],null]],null]]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"codeinjectionFoot"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","capitalize","mut","background-image-style","truncate","readonly","if","gh-count-down-characters","now","moment-format","eq","unless","feature","or","not","and","did-insert","did-update","not-eq"]}',moduleName:"ghost-admin/components/gh-post-settings-menu.hbs"})
let Ke=(r=(0,i.tagName)(""),a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember.inject.service,c=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember.inject.service,g=Ember.computed.alias("post.canonicalUrlScratch"),b=Ember.computed.alias("post.customExcerptScratch"),f=Ember.computed.alias("post.codeinjectionFootScratch"),v=Ember.computed.alias("post.codeinjectionHeadScratch"),y=Ember.computed.alias("post.metaDescriptionScratch"),w=Ember.computed.alias("post.metaTitleScratch"),E=Ember.computed.alias("post.ogDescriptionScratch"),k=Ember.computed.alias("post.ogTitleScratch"),P=Ember.computed.alias("post.twitterDescriptionScratch"),O=Ember.computed.alias("post.twitterTitleScratch"),j=(0,t.default)("post.slug"),_=(0,t.default)("post.uuid"),z=Ember.computed.or("metaDescriptionScratch","customExcerptScratch","post.excerpt"),x=Ember.computed.or("ogDescriptionScratch","customExcerptScratch","seoDescription","post.excerpt","settings.description",""),T=Ember.computed.or("post.ogImage","post.featureImage","settings.ogImage","settings.coverImage"),S=Ember.computed.or("ogTitleScratch","seoTitle"),M=Ember.computed.or("twitterDescriptionScratch","customExcerptScratch","seoDescription","post.excerpt","settings.description",""),C=Ember.computed.or("post.twitterImage","post.featureImage","settings.twitterImage","settings.coverImage"),D=Ember.computed.or("twitterTitleScratch","seoTitle"),A=Ember.computed.or("session.user.isOwnerOnly","session.user.isAdminOnly","session.user.isEditor"),I=Ember.computed.or("session.user.isOwnerOnly","session.user.isAdminOnly","session.user.isEditor"),L=Ember.computed("metaTitleScratch","post.titleScratch"),R=Ember.computed("post.{slug,canonicalUrl}","config.blogUrl"),U=Ember._action,N=Ember._action,F=Ember._action,B=Ember._action,V=Ember._action,H=Ember._action,q=Ember._action,$=Ember._action,Y=Ember._action,W=Ember._action,K=Ember._action,G=Ember._action,Z=Ember._action,J=Ember._action,X=Ember._action,Q=Ember._action,ee=Ember._action,te=Ember._action,ne=Ember._action,ie=Ember._action,re=Ember._action,ae=Ember._action,se=Ember._action,oe=Ember._action,le=Ember._action,ue=Ember._action,de=Ember._action,r((pe=class extends Ember.Component{constructor(){super(...arguments),qe(this,"feature",me,this),qe(this,"store",he,this),qe(this,"config",ge,this),qe(this,"ajax",be,this),qe(this,"ghostPaths",fe,this),qe(this,"notifications",ve,this),qe(this,"slugGenerator",ye,this),qe(this,"session",we,this),qe(this,"settings",Ee,this),qe(this,"ui",ke,this),$e(this,"post",null),$e(this,"isViewingSubview",!1),qe(this,"canonicalUrlScratch",Pe,this),qe(this,"customExcerptScratch",Oe,this),qe(this,"codeinjectionFootScratch",je,this),qe(this,"codeinjectionHeadScratch",_e,this),qe(this,"metaDescriptionScratch",ze,this),qe(this,"metaTitleScratch",xe,this),qe(this,"ogDescriptionScratch",Te,this),qe(this,"ogTitleScratch",Se,this),qe(this,"twitterDescriptionScratch",Me,this),qe(this,"twitterTitleScratch",Ce,this),qe(this,"slugValue",De,this),qe(this,"uuidValue",Ae,this),qe(this,"seoDescription",Ie,this),qe(this,"facebookDescription",Le,this),qe(this,"facebookImage",Re,this),qe(this,"facebookTitle",Ue,this),qe(this,"twitterDescription",Ne,this)
qe(this,"twitterImage",Fe,this),qe(this,"twitterTitle",Be,this),qe(this,"showVisibilityInput",Ve,this),qe(this,"showEmailNewsletter",He,this)}get seoTitle(){return this.metaTitleScratch||this.post.titleScratch||"(Untitled)"}get seoURL(){const e=[]
if(this.post.canonicalUrl)try{const t=new URL(this.post.canonicalUrl)
e.push(t.host),e.push(...t.pathname.split("/").reject((e=>!e)))}catch(t){}else{const t=new URL(this.config.get("blogUrl"))
e.push(t.host),e.push(...t.pathname.split("/").reject((e=>!e))),e.push(this.post.slug)}return e.join(" › ")}willDestroyElement(){super.willDestroyElement(...arguments)
let e=this.post,t=e.get("errors");(t.has("publishedAtBlogDate")||t.has("publishedAtBlogTime"))&&(e.set("publishedAtBlogTZ",e.get("publishedAtUTC")),e.validate({attribute:"publishedAtBlog"})),this.setSidebarWidthVariable(0)}showSubview(e){this.set("isViewingSubview",!0),this.set("subview",e)}closeSubview(){this.set("isViewingSubview",!1),this.set("subview",null)}discardEnter(){return!1}toggleFeatured(){this.toggleProperty("post.featured"),this.get("post.isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}updateSlug(e){return this.updateSlugTask.perform(e).catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}setPublishedAtBlogDate(e){let t=this.post,i=(0,n.default)(e).format("YYYY-MM-DD")
if(t.get("errors").remove("publishedAtBlogDate"),!t.get("isNew")&&e!==t.get("publishedAtBlogDate"))return t.set("publishedAtBlogDate",i),this.savePostTask.perform()
t.validate({property:"publishedAtBlog"})}async setVisibility(e){this.post.set("tiers",e)
try{await this.post.validate({property:"visibility"}),await this.post.validate({property:"tiers"}),this.post.get("isDraft")&&this.post.changedAttributes().tiers&&await this.savePostTask.perform()}catch(t){if(!t)return
throw t}}setPublishedAtBlogTime(e){let t=this.post
if(t.get("errors").remove("publishedAtBlogDate"),!t.get("isNew")&&e!==t.get("publishedAtBlogTime"))return t.set("publishedAtBlogTime",e),this.savePostTask.perform()
t.validate({property:"publishedAtBlog"})}setCustomExcerpt(e){let t=this.post
if(e!==t.get("customExcerpt"))return t.set("customExcerpt",e),t.validate({property:"customExcerpt"}).then((()=>this.savePostTask.perform()))}setHeaderInjection(e){let t=this.post
if(e!==t.get("codeinjectionHead"))return t.set("codeinjectionHead",e),t.validate({property:"codeinjectionHead"}).then((()=>this.savePostTask.perform()))}setFooterInjection(e){let t=this.post
if(e!==t.get("codeinjectionFoot"))return t.set("codeinjectionFoot",e),t.validate({property:"codeinjectionFoot"}).then((()=>this.savePostTask.perform()))}setMetaTitle(e){let t=this.post
if(t.get("metaTitle")!==e)return t.set("metaTitle",e),t.validate({property:"metaTitle"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setMetaDescription(e){let t=this.post
if(t.get("metaDescription")!==e)return t.set("metaDescription",e),t.validate({property:"metaDescription"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setCanonicalUrl(e){let t=this.post
if(t.canonicalUrl!==e)return t.set("canonicalUrl",e),t.validate({property:"canonicalUrl"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setOgTitle(e){let t=this.post
if(t.get("ogTitle")!==e)return t.set("ogTitle",e),t.validate({property:"ogTitle"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setOgDescription(e){let t=this.post
if(t.get("ogDescription")!==e)return t.set("ogDescription",e),t.validate({property:"ogDescription"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setTwitterTitle(e){let t=this.post
if(t.get("twitterTitle")!==e)return t.set("twitterTitle",e),t.validate({property:"twitterTitle"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setTwitterDescription(e){let t=this.post
if(t.get("twitterDescription")!==e)return t.set("twitterDescription",e),t.validate({property:"twitterDescription"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setCoverImage(e){this.set("post.featureImage",e),this.get("post.isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}clearCoverImage(){this.set("post.featureImage",""),this.get("post.isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}setOgImage(e){this.set("post.ogImage",e),this.get("post.isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}clearOgImage(){this.set("post.ogImage",""),this.get("post.isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}setTwitterImage(e){this.set("post.twitterImage",e),this.get("post.isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}clearTwitterImage(){this.set("post.twitterImage",""),this.get("post.isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}changeAuthors(e){let t=this.post
e.mapBy("id").join()!==t.get("authors").mapBy("id").join()&&(t.set("authors",e),t.validate({property:"authors"}),t.get("isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),t.rollbackAttributes()})))}deletePostInternal(){this.deletePost&&this.deletePost()}setSidebarWidthFromElement(e){const t=e.getBoundingClientRect().width
this.setSidebarWidthVariable(t)}showError(e){e&&this.notifications.showAPIError(e)}setSidebarWidthVariable(e){document.documentElement.style.setProperty("--editor-sidebar-width",`${e}px`)}},me=Ye(pe.prototype,"feature",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=Ye(pe.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=Ye(pe.prototype,"config",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=Ye(pe.prototype,"ajax",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=Ye(pe.prototype,"ghostPaths",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=Ye(pe.prototype,"notifications",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Ye(pe.prototype,"slugGenerator",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=Ye(pe.prototype,"session",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=Ye(pe.prototype,"settings",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=Ye(pe.prototype,"ui",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=Ye(pe.prototype,"canonicalUrlScratch",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=Ye(pe.prototype,"customExcerptScratch",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=Ye(pe.prototype,"codeinjectionFootScratch",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=Ye(pe.prototype,"codeinjectionHeadScratch",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=Ye(pe.prototype,"metaDescriptionScratch",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=Ye(pe.prototype,"metaTitleScratch",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=Ye(pe.prototype,"ogDescriptionScratch",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=Ye(pe.prototype,"ogTitleScratch",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=Ye(pe.prototype,"twitterDescriptionScratch",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=Ye(pe.prototype,"twitterTitleScratch",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=Ye(pe.prototype,"slugValue",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=Ye(pe.prototype,"uuidValue",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=Ye(pe.prototype,"seoDescription",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=Ye(pe.prototype,"facebookDescription",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=Ye(pe.prototype,"facebookImage",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=Ye(pe.prototype,"facebookTitle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=Ye(pe.prototype,"twitterDescription",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=Ye(pe.prototype,"twitterImage",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=Ye(pe.prototype,"twitterTitle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=Ye(pe.prototype,"showVisibilityInput",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=Ye(pe.prototype,"showEmailNewsletter",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye(pe.prototype,"seoTitle",[L],Object.getOwnPropertyDescriptor(pe.prototype,"seoTitle"),pe.prototype),Ye(pe.prototype,"seoURL",[R],Object.getOwnPropertyDescriptor(pe.prototype,"seoURL"),pe.prototype),Ye(pe.prototype,"showSubview",[U],Object.getOwnPropertyDescriptor(pe.prototype,"showSubview"),pe.prototype),Ye(pe.prototype,"closeSubview",[N],Object.getOwnPropertyDescriptor(pe.prototype,"closeSubview"),pe.prototype),Ye(pe.prototype,"discardEnter",[F],Object.getOwnPropertyDescriptor(pe.prototype,"discardEnter"),pe.prototype),Ye(pe.prototype,"toggleFeatured",[B],Object.getOwnPropertyDescriptor(pe.prototype,"toggleFeatured"),pe.prototype),Ye(pe.prototype,"updateSlug",[V],Object.getOwnPropertyDescriptor(pe.prototype,"updateSlug"),pe.prototype),Ye(pe.prototype,"setPublishedAtBlogDate",[H],Object.getOwnPropertyDescriptor(pe.prototype,"setPublishedAtBlogDate"),pe.prototype),Ye(pe.prototype,"setVisibility",[q],Object.getOwnPropertyDescriptor(pe.prototype,"setVisibility"),pe.prototype),Ye(pe.prototype,"setPublishedAtBlogTime",[$],Object.getOwnPropertyDescriptor(pe.prototype,"setPublishedAtBlogTime"),pe.prototype),Ye(pe.prototype,"setCustomExcerpt",[Y],Object.getOwnPropertyDescriptor(pe.prototype,"setCustomExcerpt"),pe.prototype),Ye(pe.prototype,"setHeaderInjection",[W],Object.getOwnPropertyDescriptor(pe.prototype,"setHeaderInjection"),pe.prototype),Ye(pe.prototype,"setFooterInjection",[K],Object.getOwnPropertyDescriptor(pe.prototype,"setFooterInjection"),pe.prototype),Ye(pe.prototype,"setMetaTitle",[G],Object.getOwnPropertyDescriptor(pe.prototype,"setMetaTitle"),pe.prototype),Ye(pe.prototype,"setMetaDescription",[Z],Object.getOwnPropertyDescriptor(pe.prototype,"setMetaDescription"),pe.prototype),Ye(pe.prototype,"setCanonicalUrl",[J],Object.getOwnPropertyDescriptor(pe.prototype,"setCanonicalUrl"),pe.prototype),Ye(pe.prototype,"setOgTitle",[X],Object.getOwnPropertyDescriptor(pe.prototype,"setOgTitle"),pe.prototype),Ye(pe.prototype,"setOgDescription",[Q],Object.getOwnPropertyDescriptor(pe.prototype,"setOgDescription"),pe.prototype),Ye(pe.prototype,"setTwitterTitle",[ee],Object.getOwnPropertyDescriptor(pe.prototype,"setTwitterTitle"),pe.prototype),Ye(pe.prototype,"setTwitterDescription",[te],Object.getOwnPropertyDescriptor(pe.prototype,"setTwitterDescription"),pe.prototype),Ye(pe.prototype,"setCoverImage",[ne],Object.getOwnPropertyDescriptor(pe.prototype,"setCoverImage"),pe.prototype),Ye(pe.prototype,"clearCoverImage",[ie],Object.getOwnPropertyDescriptor(pe.prototype,"clearCoverImage"),pe.prototype),Ye(pe.prototype,"setOgImage",[re],Object.getOwnPropertyDescriptor(pe.prototype,"setOgImage"),pe.prototype),Ye(pe.prototype,"clearOgImage",[ae],Object.getOwnPropertyDescriptor(pe.prototype,"clearOgImage"),pe.prototype),Ye(pe.prototype,"setTwitterImage",[se],Object.getOwnPropertyDescriptor(pe.prototype,"setTwitterImage"),pe.prototype),Ye(pe.prototype,"clearTwitterImage",[oe],Object.getOwnPropertyDescriptor(pe.prototype,"clearTwitterImage"),pe.prototype),Ye(pe.prototype,"changeAuthors",[le],Object.getOwnPropertyDescriptor(pe.prototype,"changeAuthors"),pe.prototype),Ye(pe.prototype,"deletePostInternal",[ue],Object.getOwnPropertyDescriptor(pe.prototype,"deletePostInternal"),pe.prototype),Ye(pe.prototype,"setSidebarWidthFromElement",[de],Object.getOwnPropertyDescriptor(pe.prototype,"setSidebarWidthFromElement"),pe.prototype),ce=pe))||ce)
e.default=Ke,Ember._setComponentTemplate(We,Ke)})),define("ghost-admin/components/gh-post-settings-menu/email",["exports","ghost-admin/errors/email-failed-error","validator","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M
function C(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const I=Ember.HTMLBars.template({id:"RYCMECBC",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"settings-menu-header subview"],[12],[2,"\\n    "],[11,"button"],[24,0,"back settings-menu-header-action"],[24,4,"button"],[4,[38,9],["click",[32,0,["close"]]],null],[12],[1,[30,[36,0],["arrow-left"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Back"],[13],[13],[2,"\\n    "],[10,"h4"],[12],[2,"Email newsletter"],[13],[2,"\\n    "],[10,"div"],[14,5,"width:23px;"],[12],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"settings-menu-content settings-menu-email"],[12],[2,"\\n"],[6,[37,1],[[32,0,["post","email","isSuccess"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"ba b--whitegrey bg-white br3"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex pa5 pt4 pb4 items-center bb b--whitegrey"],[12],[2,"\\n                "],[10,"div"],[14,0,"w16 flex flex-column items-center"],[12],[2,"\\n                    "],[10,"span"],[14,0,"db mr4 mt2"],[12],[1,[30,[36,0],["send-email"],[["class"],["w6 h6 stroke-midlightgrey"]]]],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"flex flex-column justify-center"],[12],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0 midgrey"],[12],[2,"Post was sent by email to"],[13],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0 f5 lh-solid"],[12],[1,[30,[36,6],[[32,0,["post","email","emailCount"]],"member"],null]],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"pa5 pt3 pb3 f7 bb b--whitegrey"],[12],[2,"\\n                "],[10,"table"],[14,0,"ma0"],[14,5,"table-layout: fixed"],[12],[2,"\\n                    "],[10,"tbody"],[12],[2,"\\n                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pl0 fw7 f8 w16 v-top lh-copy"],[12],[2,"Subject:"],[13],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pa0 midgrey v-top lh-copy"],[12],[1,[32,0,["post","email","subject"]]],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pl0 fw7 f8 w16 nowrap v-top lh-copy"],[12],[2,"Sent:"],[13],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pa0 midgrey v-top lh-copy"],[12],[1,[30,[36,7],[[32,0,["post","email","createdAtUTC"]]],null]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"pa5 pt3 pb3"],[12],[2,"\\n                "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                    "],[8,"gh-email-preview-link",[[24,0,"green"]],[["@data"],[[32,0,["post"]]]],[["default"],[{"statements":[[2,"View sent email"]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,8],[[32,0,["retryEmail","isRunning"]],[32,0,["post","email","isFailure"]]],null]],null,[["default","else"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"gh-box-error"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex pa5 pt4 pb4 items-center bb b--whitegrey"],[12],[2,"\\n                "],[10,"div"],[14,0,"w16 flex flex-column items-center"],[12],[2,"\\n                    "],[10,"span"],[14,0,"db mr4 mt3"],[12],[1,[30,[36,0],["warning"],[["class"],["w7 h7 fill-red"]]]],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"flex flex-column justify-center"],[12],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0 midgrey"],[12],[2,"Post failed to send to"],[13],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0 f5 lh-solid"],[12],[1,[30,[36,6],[[32,0,["post","email","emailCount"]],"member"],null]],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"pa5 pt3 pb3 f7 bb b--whitegrey"],[12],[2,"\\n                "],[10,"p"],[14,0,"mb2 lh-copy"],[12],[2,"\\n                    Email failed to send when publishing this post. Please verify your email settings if the error persists.\\n                "],[13],[2,"\\n                "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                    "],[10,"table"],[14,0,"ma0"],[14,5,"table-layout: fixed"],[12],[2,"\\n                        "],[10,"tbody"],[12],[2,"\\n                            "],[10,"tr"],[12],[2,"\\n                                "],[10,"td"],[14,0,"pa1 pl0 fw7 f8 w16 v-top lh-copy"],[12],[2,"Error:"],[13],[2,"\\n                                "],[10,"td"],[14,0,"pa1 pl0 midgrey v-top lh-copy"],[12],[1,[32,0,["post","email","error"]]],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"pa5 pt3 pb3 f7 bb b--whitegrey"],[12],[2,"\\n                "],[10,"table"],[14,0,"ma0"],[14,5,"table-layout: fixed"],[12],[2,"\\n                    "],[10,"tbody"],[12],[2,"\\n                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pl0 fw7 f8 w16 v-top lh-copy"],[12],[2,"Subject:"],[13],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pl0 truncate midgrey v-top lh-copy"],[12],[1,[32,0,["post","email","subject"]]],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pl0 fw7 f8 w16 nowrap v-top lh-copy"],[12],[2,"Tried:"],[13],[2,"\\n                            "],[10,"td"],[14,0,"pa1 pl0 truncate midgrey v-top lh-copy"],[12],[1,[30,[36,7],[[32,0,["post","email","createdAtUTC"]]],null]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"pa5 pt3 pb3 flex justify-between items center"],[12],[2,"\\n                "],[8,"gh-email-preview-link",[[24,0,"blue"]],[["@data"],[[32,0,["post"]]]],[["default"],[{"statements":[[2,"View email"]],"parameters":[]}]]],[2,"\\n                "],[8,"gh-task-button",[],[["@buttonText","@runningText","@task","@class"],["Retry send","Sending...",[32,0,["retryEmail"]],"gh-btn gh-btn-icon"]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["mailgunError"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"gh-box gh-box-alert settings-menu-mailgun-alert"],[12],[2,"\\n                "],[1,[30,[36,0],["info"],[["class"],["w5 h5 fill-yellow nl1"]]]],[2,"\\n                You need to configure Mailgun in "],[8,"link-to",[],[["@route"],["settings.members-email"]],[["default"],[{"statements":[[2,"Settings → Email newsletter"]],"parameters":[]}]]],[2," to enable email newsletters.\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[11,"form"],[4,[38,2],[[32,0],"discardEnter"],[["on"],["submit"]]],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"emailSubject"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","og-title"],[12],[2,"Subject"],[13],[2,"\\n                "],[8,"gh-text-input",[],[["@class","@id","@name","@placeholder","@value","@input","@focus-out","@stopEnterKeyDownPropagation","@disabled"],["post-setting-email-subject","email-subject","post-setting-email-subject",[30,[36,3],[[32,0,["emailSubject"]],40],null],[30,[36,4],[[32,0,["emailSubjectScratch"]]],null],[30,[36,2],[[32,0],[30,[36,5],[[32,0,["emailSubjectScratch"]]],null]],[["value"],["target.value"]]],[30,[36,2],[[32,0],"setEmailSubject",[32,0,["emailSubjectScratch"]]],null],true,[32,0,["mailgunError"]]]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"emailSubject"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                "],[10,"div"],[14,0,"flex"],[12],[2,"\\n                    "],[10,"label"],[14,0,"nowrap flex-auto"],[12],[2,"Test email"],[13],[2,"\\n                    "],[8,"gh-email-preview-link",[[24,0,"gh-btn gh-btn-link settings-menu-email-button"]],[["@data"],[[32,0,["post"]]]],[["default"],[{"statements":[[2,"\\n                        "],[10,"span"],[14,0,"green"],[12],[2,"\\n                            Preview in browser\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[15,0,[31,[[30,[36,1],[[32,0,["mailgunError"]],"disabled"],null]]]],[12],[2,"\\n                    "],[8,"gh-text-input",[],[["@class","@id","@name","@placeholder","@value","@stopEnterKeyDownPropagation","@disabled"],["post-setting-email-test","email-test","post-setting-email-test","noreply@example.com",[32,0,["testEmailAddress"]],true,[32,0,["mailgunError"]]]],null],[2,"\\n\\n"],[6,[37,1],[[32,0,["sendTestEmailError"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"error"],[12],[10,"p"],[14,0,"response"],[12],[1,[32,0,["sendTestEmailError"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                    "],[8,"gh-task-button",[],[["@buttonText","@task","@successText","@runningText","@class","@disabled"],["Send test email",[32,0,["sendTestEmail"]],"Email sent","Sending...","gh-btn w-100 mt2 gh-btn-icon",[32,0,["mailgunError"]]]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["svg-jar","if","action","truncate","readonly","mut","gh-pluralize","gh-format-post-time","or","on"]}',moduleName:"ghost-admin/components/gh-post-settings-menu/email.hbs"})
let L=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember.computed.or("emailSubjectScratch","post.title"),c=Ember.computed.alias("post.emailSubjectScratch"),p=Ember.computed.oneWay("session.user.email"),m=Ember.computed.not("mailgunIsEnabled"),h=Ember.computed("settings.{mailgunApiKey,mailgunDomain,mailgunBaseUrl}","config.mailgunIsConfigured"),g=Ember._action,b=Ember._action,f=(0,i.task)((function*(){try{const e=this.post.id,t=this.testEmailAddress.trim()
if(!n.default.isEmail(t))return this.set("sendTestEmailError","Please enter a valid email"),!1
if(!this.mailgunIsEnabled)return this.set("sendTestEmailError","Please verify your email settings"),!1
this.set("sendTestEmailError","")
const i=this.ghostPaths.url.api("/email_preview/posts",e),r={data:{emails:[t]},dataType:"json"}
return yield this.ajax.post(i,r)}catch(e){if(e){let t="Email could not be sent, verify mail settings"
e.payload&&e.payload.errors&&e.payload.errors[0]&&e.payload.errors[0].message&&(t=Ember.String.htmlSafe(e.payload.errors[0].message)),this.set("sendTestEmailError",t)}}})).drop(),v=(0,i.task)((function*(){let{email:e}=this.post
if(e&&"failed"===e.status){yield e.retry()
let n=0
for(;n<15e3&&(yield(0,i.timeout)(1e3),yield e.reload(),"submitted"!==e.status);){if("failed"===e.status)throw new t.default(e.error)
n+=1e3}}return!0})),y=class extends Ember.Component{constructor(){super(...arguments),C(this,"ajax",w,this),C(this,"ghostPaths",E,this),C(this,"notifications",k,this),C(this,"session",P,this),C(this,"settings",O,this),C(this,"config",j,this),D(this,"post",null),D(this,"sendTestEmailError",""),D(this,"savePostTask",null),C(this,"emailSubject",_,this),C(this,"emailSubjectScratch",z,this),C(this,"testEmailAddress",x,this),C(this,"mailgunError",T,this),C(this,"sendTestEmail",S,this),C(this,"retryEmail",M,this)}close(){}get mailgunIsEnabled(){return this.get("settings.mailgunApiKey")&&this.get("settings.mailgunDomain")&&this.get("settings.mailgunBaseUrl")||this.get("config.mailgunIsConfigured")}setEmailSubject(e){let t=this.post
if(t.get("emailSubject")!==e)return t.set("emailSubject",e),t.validate({property:"emailSubject"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}discardEnter(){return!1}},w=A(y.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=A(y.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=A(y.prototype,"notifications",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=A(y.prototype,"session",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=A(y.prototype,"settings",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=A(y.prototype,"config",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=A(y.prototype,"emailSubject",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A(y.prototype,"emailSubjectScratch",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=A(y.prototype,"testEmailAddress",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=A(y.prototype,"mailgunError",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A(y.prototype,"mailgunIsEnabled",[h],Object.getOwnPropertyDescriptor(y.prototype,"mailgunIsEnabled"),y.prototype),A(y.prototype,"setEmailSubject",[g],Object.getOwnPropertyDescriptor(y.prototype,"setEmailSubject"),y.prototype),A(y.prototype,"discardEnter",[b],Object.getOwnPropertyDescriptor(y.prototype,"discardEnter"),y.prototype),S=A(y.prototype,"sendTestEmail",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=A(y.prototype,"retryEmail",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y)
e.default=L,Ember._setComponentTemplate(I,L)})),define("ghost-admin/components/gh-post-settings-menu/visibility-segment-select",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p
function m(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"TrkIXcA0",block:'{"symbols":["option","@disabled"],"statements":[[8,"gh-token-input",[],[["@options","@selected","@disabled","@optionsComponent","@allowCreation","@renderInPlace","@onChange","@class","@placeholder"],[[32,0,["options"]],[32,0,["selectedOptions"]],[30,[36,0],[[32,2],[32,0,["fetchOptionsTask","isRunning"]]],null],"power-select/options",false,[32,0,["renderInPlace"]],[32,0,["setSegment"]],"select-members","Select a tier"]],[["default"],[{"statements":[[2,"\\n    "],[10,"span"],[12],[1,[32,1,["name"]]],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"]],"hasEval":false,"upvars":["or"]}',moduleName:"ghost-admin/components/gh-post-settings-menu/visibility-segment-select.hbs"})
let b=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=class extends t.default{get renderInPlace(){return void 0!==this.args.renderInPlace&&this.args.renderInPlace}constructor(){super(...arguments),m(this,"store",u,this),m(this,"feature",d,this),m(this,"_options",c,this),m(this,"products",p,this),this.fetchOptionsTask.perform()}get options(){return this._options}get flatOptions(){const e=[]
return this._options.forEach((function t(n){if(n.options)return n.options.forEach(t)
e.push(n)})),e}get selectedOptions(){const e=this.args.tiers.map((e=>this.products.find((t=>t.id===e.id)))).filter((e=>!!e)).map((e=>e.id))
return this.flatOptions.filter((t=>e.includes(t.id)))}setSegment(e){let t=e.mapBy("id").map((e=>{let t=this.products.find((t=>t.id===e))
return{id:t.id,slug:t.slug,name:t.name}}))||[]
this.args.onChange?.(t)}*fetchOptionsTask(){const e=yield[]
if(this.feature.get("multipleProducts")){const t=yield this.store.query("product",{filter:"type:paid",limit:"all",include:"monthly_price,yearly_price,benefits"})
if(this.products=t,t.length>0){const n={groupName:"Tiers",options:[]}
t.forEach((e=>{n.options.push({name:e.name,id:e.id,count:e.count?.members,class:"segment-product"})})),e.push(n),this.args.selectDefaultProduct&&!this.args.tiers&&this.setSegment([n.options[0]])}}this._options=e}},u=h(l.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"_options",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=h(l.prototype,"products",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h(l.prototype,"setSegment",[o],Object.getOwnPropertyDescriptor(l.prototype,"setSegment"),l.prototype),h(l.prototype,"fetchOptionsTask",[n.task],Object.getOwnPropertyDescriptor(l.prototype,"fetchOptionsTask"),l.prototype),l)
e.default=b,Ember._setComponentTemplate(g,b)})),define("ghost-admin/components/gh-posts-list-item",["exports","@glimmer/component","ghost-admin/helpers/gh-format-post-time"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m
function h(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"Zkq59Vw5",block:'{"symbols":["@post","@hideAuthor","&attrs","@hideStatusColumn"],"statements":[[11,"li"],[24,0,"gh-list-row gh-posts-list-item"],[17,3],[4,[38,11],["mouseover",[32,0,["mouseOver"]]],null],[4,[38,11],["mouseleave",[32,0,["mouseLeave"]]],null],[12],[2,"\\n\\n"],[6,[37,1],[[30,[36,4],[[32,0,["session","user","isContributor"]],[32,1,["isPublished"]]],null]],null,[["default","else"],[{"statements":[[2,"        "],[10,"a"],[15,6,[32,1,["url"]]],[14,0,"permalink gh-list-data gh-post-list-title"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n            "],[10,"h3"],[14,0,"gh-content-entry-title"],[12],[2,"\\n                "],[1,[32,1,["title"]]],[2," "],[1,[30,[36,0],["external"],[["class"],["gh-post-list-external"]]]],[2,"\\n            "],[13],[2,"\\n"],[6,[37,10],[[32,2]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-content-entry-meta"],[12],[2,"\\n                        By "],[10,"span"],[14,0,"midgrey-l2 fw5"],[12],[1,[32,0,["authorNames"]]],[13],[2,"\\n\\n"],[6,[37,1],[[32,1,["primaryTag"]]],null,[["default"],[{"statements":[[2,"                            in "],[10,"span"],[14,0,"midgrey-l2 fw5"],[12],[1,[32,1,["primaryTag","name"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        • "],[10,"span"],[15,"data-tooltip",[31,[[30,[36,9],[[32,1,["updatedAtUTC"]],"D MMM YYYY"],null]]]],[12],[1,[30,[36,9],[[32,1,["updatedAtUTC"]]],[["draft"],[true]]]],[13],[2,"\\n\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-title"]],[["@route","@models"],["editor.edit",[30,[36,3],[[32,1,["displayName"]],[32,1,["id"]]],null]]],[["default"],[{"statements":[[2,"\\n            "],[10,"h3"],[14,0,"gh-content-entry-title"],[12],[2,"\\n                "],[1,[32,1,["title"]]],[2,"\\n            "],[13],[2,"\\n"],[6,[37,10],[[32,2]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-content-entry-meta"],[12],[2,"\\n                        By "],[10,"span"],[14,0,"midgrey-l2 fw5"],[12],[1,[32,0,["authorNames"]]],[13],[2,"\\n\\n"],[6,[37,1],[[32,1,["primaryTag"]]],null,[["default"],[{"statements":[[2,"                            in "],[10,"span"],[14,0,"midgrey-l2 fw5"],[12],[1,[32,1,["primaryTag","name"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        • "],[10,"span"],[15,"data-tooltip",[31,[[30,[36,9],[[32,1,["updatedAtUTC"]],"D MMM YYYY"],null]]]],[12],[1,[30,[36,9],[[32,1,["updatedAtUTC"]]],[["draft"],[true]]]],[13],[2,"\\n\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,4],[[30,[36,13],[[32,0,["settings","membersSignupAccess"]],"none"],null],[30,[36,13],[[32,0,["settings","editorDefaultEmailRecipients"]],"disabled"],null],[30,[36,12],[[32,0,["session","user","isContributor"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,4],[[32,0,["feature","emailAnalytics"]],[30,[36,7],[[32,1,["displayName"]],"post"],null]],null]],null,[["default"],[{"statements":[[2,"            "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-recipients"]],[["@route","@models"],["editor.edit",[30,[36,3],[[32,1,["displayName"]],[32,1,["id"]]],null]]],[["default"],[{"statements":[[2,"\\n                "],[10,"div"],[14,0,"flex fw4"],[12],[2,"\\n"],[6,[37,1],[[30,[36,8],[[32,1,["email"]],[32,1,["willEmail"]]],null]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,7],[[32,1,["email","status"]],"submitted"],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"span"],[14,0,"flex"],[15,"data-tooltip",[31,[[30,[36,2],[[32,1,["email","recipientFilter"]]],null]," members"]]],[12],[2,"\\n                                "],[10,"span"],[14,0,"darkgrey fw5 gh-content-email-stats"],[12],[1,[30,[36,5],[[32,1,["email","emailCount"]]],null]],[13],[2,"\\n                                "],[10,"span"],[14,0,"midgrey-l2 fw4 gh-content-email-stats-mobile"],[12],[1,[30,[36,6],[[32,1,["email","emailCount"]],"send"],null]],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-opens"]],[["@route","@models"],["editor.edit",[30,[36,3],[[32,1,["displayName"]],[32,1,["id"]]],null]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,1,["email","trackOpens"]],[30,[36,7],[[32,1,["email","status"]],"submitted"],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"flex"],[12],[2,"\\n                        "],[10,"span"],[14,0,"darkgrey fw5 gh-content-email-stats"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default","else"],[{"statements":[[2,"                                "],[1,[30,[36,5],[[32,1,["email","openedCount"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[1,[32,1,["email","openRate"]]],[2,"% \\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                        "],[10,"span"],[14,0,"midgrey-l2 fw4 gh-content-email-stats-mobile"],[12],[1,[32,1,["email","openRate"]]],[2,"% opens"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[32,4]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,4],[[32,0,["session","user","isContributor"]],[32,1,["isPublished"]]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"a"],[15,6,[32,1,["url"]]],[14,0,"permalink gh-list-data gh-post-list-status"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n"],[6,[37,1],[[32,1,["isScheduled"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-content-status-scheduled gh-badge nowrap"],[14,"title","Scheduled"],[15,"data-tooltip",[31,[[30,[36,2],[[32,0,["scheduledText"]]],null]," to ",[32,1,["emailRecipientFilter"]]," members"]]],[12],[2,"\\n                        Scheduled\\n"],[6,[37,1],[[32,1,["emailRecipientFilter"]]],null,[["default"],[{"statements":[[2,"                        "],[1,[30,[36,0],["email-stroke"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isDraft"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-content-status-draft gh-badge gh-badge-pink nowrap"],[12],[2,"\\n                        Draft\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isPublished"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-content-status-published nowrap"],[12],[2,"\\n                        Published\\n"],[6,[37,1],[[32,1,["hasEmail"]]],null,[["default"],[{"statements":[[2,"                        "],[1,[30,[36,0],["email-stroke"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isSent"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-content-status-emailed nowrap"],[12],[2,"\\n                        "],[1,[30,[36,0],["email-stroke"],null]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-status"]],[["@route","@models"],["editor.edit",[30,[36,3],[[32,1,["displayName"]],[32,1,["id"]]],null]]],[["default"],[{"statements":[[2,"\\n                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n"],[6,[37,1],[[32,1,["isScheduled"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-content-status-scheduled gh-badge nowrap"],[14,"title","Scheduled"],[15,"data-tooltip",[31,[[30,[36,2],[[32,0,["scheduledText"]]],null]," to ",[32,1,["emailRecipientFilter"]]," members"]]],[12],[2,"\\n                        Scheduled\\n"],[6,[37,1],[[32,1,["emailRecipientFilter"]]],null,[["default"],[{"statements":[[2,"                        "],[1,[30,[36,0],["email-stroke"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isDraft"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-content-status-draft gh-badge gh-badge-pink nowrap"],[12],[2,"\\n                        Draft\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isPublished"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-content-status-published nowrap"],[12],[2,"\\n                        Published\\n"],[6,[37,1],[[32,1,["hasEmail"]]],null,[["default"],[{"statements":[[2,"                        "],[1,[30,[36,0],["email-stroke"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isSent"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-content-status-emailed nowrap"],[12],[2,"\\n                        "],[1,[30,[36,0],["email-stroke"],null]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["svg-jar","if","capitalize","array","and","format-number","gh-pluralize","eq","or","gh-format-post-time","unless","on","not","not-eq"]}',moduleName:"ghost-admin/components/gh-posts-list-item.hbs"})
let f=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._action,l=Ember._action,u=class extends t.default{constructor(){super(...arguments),h(this,"feature",d,this),h(this,"session",c,this),h(this,"settings",p,this),h(this,"isHovered",m,this)}get authorNames(){return this.args.post.authors.map((e=>e.name||e.email)).join(", ")}get sendEmailWhenPublished(){let{post:e}=this.args
return e.emailRecipientFilter&&"none"!==e.emailRecipientFilter}get scheduledText(){let{post:e}=this.args,t=[],i=(0,n.formatPostTime)(e.publishedAtUTC,{timezone:this.settings.get("timezone"),scheduled:!0})
return t.push(i),t.join(" ")}mouseOver(){this.isHovered=!0}mouseLeave(){this.isHovered=!1}},d=g(u.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=g(u.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(u.prototype,"isHovered",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g(u.prototype,"mouseOver",[o],Object.getOwnPropertyDescriptor(u.prototype,"mouseOver"),u.prototype),g(u.prototype,"mouseLeave",[l],Object.getOwnPropertyDescriptor(u.prototype,"mouseLeave"),u.prototype),u)
e.default=f,Ember._setComponentTemplate(b,f)})),define("ghost-admin/components/gh-power-select/trigger",["exports","ember-power-select/components/power-select/trigger"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"TqC27RoR",block:'{"symbols":["@placeholder","@placeholderComponent","@select","&default","@option","@extra","@selectedItemComponent","@allowClear"],"statements":[[6,[37,3],[[32,3,["selected"]]],null,[["default","else"],[{"statements":[[6,[37,3],[[32,7]],null,[["default","else"],[{"statements":[[2,"        "],[1,[30,[36,0],[[32,7]],[["extra","option","select"],[[30,[36,2],[[32,6]],null],[30,[36,2],[[32,5,["selected"]]],null],[30,[36,2],[[32,3]],null]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"span"],[14,0,"ember-power-select-selected-item"],[12],[18,4,[[32,3,["selected"]],[32,0,["select"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,5],[[32,8],[30,[36,4],[[32,3,["disabled"]]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[11,"span"],[24,0,"ember-power-select-clear-btn"],[4,[38,1],["mousedown",[32,0,["clear"]]],null],[4,[38,1],["touchstart",[32,0,["clear"]]],null],[12],[2,"×"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"    "],[1,[30,[36,0],[[32,2]],[["placeholder"],[[32,1]]]]],[2,"\\n"]],"parameters":[]}]]],[1,[30,[36,6],["arrow-down-small"],null]],[2,"\\n"]],"hasEval":false,"upvars":["component","on","readonly","if","not","and","svg-jar"]}',moduleName:"ghost-admin/components/gh-power-select/trigger.hbs"})
let s=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="dropdown",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),this.dropdown.on("close",this,this.closeFromDropdown)}willDestroy(){super.willDestroy(...arguments),this.dropdown.off("close",this,this.closeFromDropdown)}closeFromDropdown(){this.args.select.actions.close()}},o=i.prototype,l="dropdown",u=[n],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,i)
var o,l,u,d,c,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/gh-product-card",["exports","@glimmer/component","ghost-admin/utils/currency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g,b
function f(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function v(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"/Qusf8No",block:'{"symbols":["benefit","@product","@onUnarchive","@onArchive"],"statements":[[10,"div"],[14,0,"gh-main-content-card gh-product-card"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-product-card-block title-block"],[12],[2,"\\n        "],[10,"h3"],[14,0,"gh-product-card-name"],[12],[2,"\\n            "],[1,[32,2,["name"]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"p"],[14,0,"gh-product-card-description"],[12],[2,"\\n"],[6,[37,3],[[32,2,["description","length"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[32,2,["description"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            No description added for this tier.\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-product-card-block benefits-block"],[12],[2,"\\n        "],[10,"h4"],[12],[2,"Benefits "],[10,"span"],[14,0,"counter"],[12],[2,"("],[1,[30,[36,8],[[32,2,["benefits","length"]],"0"],null]],[2,")"],[13],[13],[2,"\\n"],[6,[37,3],[[32,2,["benefits","length"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"ul"],[14,0,"benefits"],[12],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,2,["benefits"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[12],[1,[30,[36,2],["check"],null]],[2," "],[1,[32,1,["name"]]],[2," "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"p"],[14,0,"gh-product-card-description"],[12],[2,"No benefits added for this tier."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[6,[37,3],[[30,[36,9],[[32,2,["type"]],"free"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-product-card-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-product-price-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-product-card-price"],[12],[2,"\\n                    "],[10,"div"],[14,0,"flex items-start"],[12],[2,"\\n                        "],[10,"span"],[14,0,"currency"],[12],[1,[30,[36,4],[[32,0,["productCurrency"]]],null]],[13],[2,"\\n                        "],[10,"span"],[14,0,"amount"],[12],[2,"0"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,9],[[32,2,["type"]],"paid"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-product-card-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-product-price-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-product-card-price"],[12],[2,"\\n                    "],[10,"div"],[14,0,"flex items-start"],[12],[2,"\\n                        "],[10,"span"],[14,0,"currency"],[12],[1,[30,[36,4],[[32,0,["productCurrency"]]],null]],[13],[2,"\\n                        "],[10,"span"],[14,0,"amount"],[12],[1,[30,[36,5],[[32,2,["monthlyPrice","amount"]]],null]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"period"],[12],[2,"Monthly"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-product-card-price"],[12],[2,"\\n                    "],[10,"div"],[14,0,"flex items-start"],[12],[2,"\\n                        "],[10,"span"],[14,0,"currency"],[12],[1,[30,[36,4],[[32,0,["productCurrency"]]],null]],[13],[2,"\\n                        "],[10,"span"],[14,0,"amount"],[12],[1,[30,[36,5],[[32,2,["yearlyPrice","amount"]]],null]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"period"],[12],[2,"Yearly"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,9],[[32,2,["type"]],"paid"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-product-card-button-container"],[12],[2,"\\n        "],[10,"span"],[14,0,"dropdown"],[12],[2,"\\n            "],[8,"gh-dropdown-button",[],[["@dropdownName","@classNames","@title"],[[31,["tiers-actions-menu-",[32,2,["name"]]]],"gh-btn gh-btn-action-icon gh-btn-icon gh-btn-outline gh-product-card-actions-button icon-only","Tiers Actions"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[12],[2,"\\n                    "],[1,[30,[36,2],["dotdotdot"],null]],[2,"\\n                    "],[10,"span"],[14,0,"hidden"],[12],[2,"Actions"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n                "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],[[31,["tiers-actions-menu-",[32,2,["name"]]]],"ul","gh-tier-actions-menu dropdown-menu dropdown-triangle-top-right"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"li"],[12],[2,"\\n                        "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["openEditProduct"]],[32,2]],null]],null],[12],[2,"\\n                            "],[10,"span"],[12],[2,"Edit"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,3],[[32,0,["showArchiveOption"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[12],[2,"\\n                            "],[8,"settings/members/archive-tier",[],[["@product","@onUnarchive","@onArchive"],[[32,2],[32,3],[32,4]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"gh-product-card-button-container"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-action-icon gh-btn-icon gh-btn-outline gh-product-card-edit-button icon-only"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["openEditProduct"]],[32,2]],null]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"\\n                "],[1,[30,[36,2],["pen"],null]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","svg-jar","if","currency-symbol","gh-price-amount","-track-array","each","or","eq"]}',moduleName:"ghost-admin/components/gh-product-card.hbs"})
var w=Ember._setComponentTemplate(y,(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._action,d=class extends t.default{constructor(){super(...arguments),f(this,"membersUtils",c,this),f(this,"ghostPaths",p,this),f(this,"ajax",m,this),f(this,"store",h,this),f(this,"config",g,this),f(this,"showProductModal",b,this)}get product(){return this.args.product}get showArchiveOption(){return"paid"===this.product.type&&!!this.product.monthlyPrice}get productCurrency(){if(this.isFreeProduct){return this.args.products.find((e=>"paid"===e.type))?.monthlyPrice?.currency||"usd"}return this.product?.monthlyPrice?.currency}get isPaidProduct(){return"paid"===this.product.type}get hasCurrencySymbol(){return 3!==(0,n.getSymbol)(this.product?.monthlyPrice?.currency)?.length}get isFreeProduct(){return"free"===this.product.type}async openEditProduct(e){this.args.openEditProduct(e)}},c=v(d.prototype,"membersUtils",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=v(d.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(d.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(d.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(d.prototype,"config",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(d.prototype,"showProductModal",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v(d.prototype,"openEditProduct",[u],Object.getOwnPropertyDescriptor(d.prototype,"openEditProduct"),d.prototype),d))
e.default=w})),define("ghost-admin/components/gh-products-price-billingperiod",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u
function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"h/V99HxD",block:'{"symbols":[],"statements":[[10,"span"],[14,0,"gh-select"],[12],[2,"\\n    "],[8,"one-way-select",[],[["@value","@disabled","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@includeBlank","@promptIsSelectable","@prompt","@update"],[[32,0,["value"]],[32,0,["disabled"]],[32,0,["availablePeriods"]],"period","label","period",false,false,"Select a billing period",[30,[36,0],[[32,0],"updatePeriod"],null]]],null],[2,"\\n    "],[1,[30,[36,1],["arrow-down-small"],null]],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/gh-products-price-billingperiod.hbs"}),m=[{label:"Monthly",period:"month"},{label:"Yearly",period:"year"}]
let h=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=class extends t.default{constructor(){super(...arguments),d(this,"feature",o,this),d(this,"session",l,this),d(this,"settings",u,this),this.availablePeriods=m}get value(){const{value:e}=this.args
return e}get disabled(){const{disabled:e}=this.args
return e||!1}updatePeriod(e){this.args.updatePeriod&&this.args.updatePeriod(this.args.value,e)}},o=c(s.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c(s.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"updatePeriod",[a],Object.getOwnPropertyDescriptor(s.prototype,"updatePeriod"),s.prototype),s)
e.default=h,Ember._setComponentTemplate(p,h)})),define("ghost-admin/components/gh-profile-image",["exports","jquery","blueimp-md5","ember-ajax/request","validator","ember-concurrency"],(function(e,t,n,i,r,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"h2g2M0Dn",block:'{"symbols":[],"statements":[[10,"figure"],[14,0,"account-image"],[12],[2,"\\n\\n"],[6,[37,0],[[32,0,["previewDataURL"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"placeholder-img"],[15,5,[32,0,["placeholderStyle"]]],[12],[13],[2,"\\n        "],[10,"div"],[14,1,"account-image"],[14,0,"gravatar-img"],[15,5,[32,0,["avatarStyle"]]],[12],[2,"\\n            "],[10,"span"],[14,0,"sr-only"],[12],[2,"User image"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["previewDataURL"]]],null,[["default"],[{"statements":[[2,"        "],[10,"img"],[15,"src",[32,0,["previewDataURL"]]],[14,0,"gravatar-img"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"span"],[14,0,"edit-account-image"],[15,"onclick",[30,[36,2],[[32,0],"openFileDialog"],null]],[14,"role","button"],[12],[2,"\\n        "],[1,[30,[36,3],["photos"],null]],[2,"\\n        "],[10,"span"],[14,0,"sr-only"],[12],[2,"Upload an image"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[8,"gh-file-input",[],[["@alt","@name","@multiple","@action","@accept"],[null,"uploadimage",false,[30,[36,2],[[32,0],"imageSelected"],null],[32,0,["imageMimeTypes"]]]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["unless","if","action","svg-jar"]}',moduleName:"ghost-admin/components/gh-profile-image.hbs"})
var o=Ember._setComponentTemplate(s,Ember.Component.extend({config:Ember.inject.service(),ghostPaths:Ember.inject.service(),email:"",size:180,debounce:300,imageFile:null,hasUploadedImage:!1,_defaultImageUrl:"",setImage(){},placeholderStyle:Ember.String.htmlSafe("background-image: url()"),avatarStyle:Ember.String.htmlSafe("display: none"),init(){this._super(...arguments)
this._defaultImageUrl=this.get("ghostPaths.assetRoot").replace(/\/$/,"")+"/img/user-image-639a88b784fb5f10964be8b975ca9fdf.png",this._setPlaceholderImage(this._defaultImageUrl)},didReceiveAttrs(){this._super(...arguments),this.get("config.useGravatar")&&this.setGravatar.perform()},actions:{imageSelected(e,t){let n=e[0]
if(n){let e=new FileReader
this.set("imageFile",n),this.setImage(n),e.addEventListener("load",(()=>{let t=e.result
this.set("previewDataURL",t)}),!1),e.readAsDataURL(n)}t()},openFileDialog(e){(0,t.default)(e.target).closest("figure").find('input[type="file"]').click()}},dragOver(e){if(e.dataTransfer){if(navigator.userAgent.indexOf("Chrome")>-1){let t=e.dataTransfer.effectAllowed
e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy"}e.stopPropagation(),e.preventDefault()}},dragLeave(e){e.preventDefault()},drop(e){e.preventDefault(),e.dataTransfer.files&&this.send("imageSelected",e.dataTransfer.files)},setGravatar:(0,a.task)((function*(){yield(0,a.timeout)(this.debounce)
let e=this.email
if(r.default.isEmail(e||"")){let r=this.size,s=`//www.gravatar.com/avatar/${(0,n.default)(e)}?s=${r}&d=404`
try{yield(0,i.default)(s,{type:"HEAD"}),this._setAvatarImage(s),yield(0,a.timeout)(1e3),this._setPlaceholderImage("")}catch(t){this._setPlaceholderImage(this._defaultImageUrl),this._setAvatarImage("")}}})).restartable(),_setPlaceholderImage(e){this.set("placeholderStyle",Ember.String.htmlSafe(`background-image: url(${e});`))},_setAvatarImage(e){let t=e?"block":"none"
this.set("avatarStyle",Ember.String.htmlSafe(`background-image: url(${e}); display: ${t}`))},queueFile(e,t){let n=t.files[0].name
if(/\.(gif|jpe?g|png|svg?z)$/i.test(n)){let e=this.setImage
e&&e(t)}}}))
e.default=o})),define("ghost-admin/components/gh-progress-bar",["exports","@ember-decorators/component"],(function(e,t){var n
function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"IUmZXu3S",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-progress-container"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-progress-container-progress"],[12],[2,"\\n        "],[10,"div"],[15,0,[31,["gh-progress-bar ",[30,[36,0],[[32,0,["isError"]],"-error"],null]]]],[15,5,[32,0,["progressStyle"]]],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if"]}',moduleName:"ghost-admin/components/gh-progress-bar.hbs"})
let a=(0,t.tagName)("")(n=class extends Ember.Component{constructor(){super(...arguments),i(this,"percentage",0),i(this,"isError",!1),i(this,"progressStyle","")}didReceiveAttrs(){super.didReceiveAttrs(...arguments)
let e=this.percentage,t=e>0?`${e}%`:"0"
this.set("progressStyle",Ember.String.htmlSafe(`width: ${t}`))}})||n
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/gh-psm-authors-input",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"ljUtZm6S",block:'{"symbols":[],"statements":[[8,"gh-token-input",[],[["@options","@selected","@onChange","@allowCreation","@renderInPlace","@triggerId"],[[32,0,["availableAuthors"]],[32,0,["selectedAuthors"]],[30,[36,0],[[32,0],"updateAuthors"],null],false,true,[32,0,["triggerId"]]]],null]],"hasEval":false,"upvars":["action"]}',moduleName:"ghost-admin/components/gh-psm-authors-input.hbs"})
var n=Ember._setComponentTemplate(t,Ember.Component.extend({store:Ember.inject.service(),selectedAuthors:null,tagName:"",triggerId:"",availableAuthors:null,updateAuthors(){},availableAuthorNames:Ember.computed("availableAuthors.@each.name",(function(){return this.availableAuthors.map((e=>e.get("name").toLowerCase()))})),init(){this._super(...arguments),this.store.query("user",{limit:"all"}),this.set("availableAuthors",this.store.peekAll("user"))},actions:{updateAuthors(e){this.updateAuthors(e)}}}))
e.default=n})),define("ghost-admin/components/gh-psm-tags-input",["exports","@ember-decorators/component"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m
function h(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"rDZ2h8Dn",block:'{"symbols":[],"statements":[[8,"gh-token-input",[],[["@extra","@onChange","@onCreate","@options","@renderInPlace","@selected","@showCreateWhen","@triggerId"],[[30,[36,0],null,[["tokenComponent"],["gh-token-input/tag-token"]]],[30,[36,1],[[32,0],"updateTags"],null],[30,[36,1],[[32,0],"createTag"],null],[32,0,["availableTags"]],true,[32,0,["post","tags"]],[30,[36,1],[[32,0],"hideCreateOptionOnMatchingTag"],null],[32,0,["triggerId"]]]],null],[2,"\\n"]],"hasEval":false,"upvars":["hash","action"]}',moduleName:"ghost-admin/components/gh-psm-tags-input.hbs"})
let v=(n=(0,t.tagName)(""),i=Ember.inject.service,r=Ember.computed.sort("_availableTags.[]",(function(e,t){return e.name.localeCompare(t.name,void 0,{ignorePunctuation:!0})})),a=Ember.computed("availableTags.@each.name"),s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,n((c=class extends Ember.Component{constructor(){super(...arguments),h(this,"store",p,this),g(this,"post",null),g(this,"_availableTags",null),h(this,"availableTags",m,this)}get availableTagNames(){return this.availableTags.map((e=>e.name.toLowerCase()))}init(){super.init(...arguments),this.store.query("tag",{limit:"all"}),this.set("_availableTags",this.store.peekAll("tag"))}matchTags(e,t){return e.toLowerCase()===t.trim().toLowerCase()}hideCreateOptionOnMatchingTag(e){return!this.availableTagNames.includes(e.toLowerCase())}updateTags(e){return this.get("post.tags").forEach((function(t){!e.includes(t)&&t.get("isNew")&&t.destroyRecord()})),this.set("post.tags",e)}createTag(e){let t,n=this.get("post.tags"),i=n.map((e=>e.get("name").toLowerCase()))
if(e=e.trim(),!i.includes(e.toLowerCase()))return t=this._findTagByName(e),t||(t=this.store.createRecord("tag",{name:e}),t.updateVisibility()),n.pushObject(t)}_findTagByName(e){return this.availableTags.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}},p=b(c.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(c.prototype,"availableTags",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(c.prototype,"availableTagNames",[a],Object.getOwnPropertyDescriptor(c.prototype,"availableTagNames"),c.prototype),b(c.prototype,"matchTags",[s],Object.getOwnPropertyDescriptor(c.prototype,"matchTags"),c.prototype),b(c.prototype,"hideCreateOptionOnMatchingTag",[o],Object.getOwnPropertyDescriptor(c.prototype,"hideCreateOptionOnMatchingTag"),c.prototype),b(c.prototype,"updateTags",[l],Object.getOwnPropertyDescriptor(c.prototype,"updateTags"),c.prototype),b(c.prototype,"createTag",[u],Object.getOwnPropertyDescriptor(c.prototype,"createTag"),c.prototype),d=c))||d)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/gh-psm-template-select",["exports","@ember-decorators/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m
function h(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"Ce/jqFIi",block:'{"symbols":[],"statements":[[6,[37,1],[[32,0,["customTemplates"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"form-group for-select"],[12],[2,"\\n        "],[10,"label"],[14,"for","author-list"],[12],[2,"Template"],[13],[2,"\\n        "],[10,"span"],[14,0,"gh-input-icon gh-icon-user"],[12],[2,"\\n            "],[1,[30,[36,0],["file-text-document"],null]],[2,"\\n            "],[10,"span"],[15,0,[31,["gh-select ",[30,[36,1],[[32,0,["matchedSlugTemplate"]],"disabled"],null]]]],[12],[2,"\\n                "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@update","@disabled"],[[32,0,["selectedTemplate"]],[32,0,["customTemplates"]],"filename","name",[30,[36,2],[[32,0],"selectTemplate"],null],[32,0,["matchedSlugTemplate"]]]],null],[2,"\\n                "],[1,[30,[36,0],["arrow-down-small"],null]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"],[6,[37,1],[[32,0,["matchedSlugTemplate"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[12],[2,"Post URL matches "],[1,[32,0,["matchedSlugTemplate","filename"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["svg-jar","if","action"]}',moduleName:"ghost-admin/components/gh-psm-template-select.hbs"})
let v=(i=(0,t.tagName)(""),r=Ember.inject.service,a=Ember.computed("activeTheme.customTemplates.[]"),s=Ember.computed("post.{page,slug}","activeTheme.slugTemplates.[]"),o=Ember.computed("post.customTemplate","customTemplates.[]"),l=Ember._action,u=(0,n.task)((function*(){let e=this.store,t=yield e.peekAll("theme")
Ember.isEmpty(t)&&(t=yield e.findAll("theme"))
let n=t.filterBy("active",!0).get("firstObject")
this.set("activeTheme",n)})),i((c=class extends Ember.Component{constructor(){super(...arguments),h(this,"store",p,this),g(this,"post",null),g(this,"activeTheme",null),h(this,"loadActiveTheme",m,this)}onTemplateSelect(){}get customTemplates(){let e=this.get("activeTheme.customTemplates")||[]
return Ember.isEmpty(e)?e:[{filename:"",name:"Default"},...e.sortBy("name")]}get matchedSlugTemplate(){let e=this.get("post.slug"),t=this.post.constructor.modelName,[n]=this.get("activeTheme.slugTemplates").filter((function(n){return n.for.includes(t)&&n.slug===e}))
return n}get selectedTemplate(){let e=this.customTemplates,t=this.get("post.customTemplate")
return e.findBy("filename",t)}didInsertElement(){super.didInsertElement(...arguments),this.loadActiveTheme.perform()}selectTemplate(e){this.onTemplateSelect(e.filename)}},p=b(c.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(c.prototype,"customTemplates",[a],Object.getOwnPropertyDescriptor(c.prototype,"customTemplates"),c.prototype),b(c.prototype,"matchedSlugTemplate",[s],Object.getOwnPropertyDescriptor(c.prototype,"matchedSlugTemplate"),c.prototype),b(c.prototype,"selectedTemplate",[o],Object.getOwnPropertyDescriptor(c.prototype,"selectedTemplate"),c.prototype),b(c.prototype,"selectTemplate",[l],Object.getOwnPropertyDescriptor(c.prototype,"selectTemplate"),c.prototype),m=b(c.prototype,"loadActiveTheme",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=c))||d)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/gh-psm-visibility-input",["exports"],(function(e){var t,n,i,r,a,s,o
function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"7CYoN9q6",block:'{"symbols":[],"statements":[[10,"span"],[14,0,"gh-select"],[12],[2,"\\n    "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update"],[[32,0,["selectedVisibility"]],[32,0,["availableVisibilities"]],"name","label","name",[30,[36,0],[[32,0],"updateVisibility"],null]]],null],[2,"\\n    "],[1,[30,[36,1],["arrow-down-small"],null]],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/gh-psm-visibility-input.hbs"}),c=[{label:"Public",name:"public"},{label:"Members only",name:"members"},{label:"Paid-members only",name:"paid"}]
let p=(t=Ember.inject.service,n=Ember.inject.service,i=Ember.computed("post.visibility"),r=Ember._action,a=class extends Ember.Component{constructor(){super(...arguments),l(this,"settings",s,this),l(this,"feature",o,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"post",null)}get selectedVisibility(){return this.get("post.visibility")||this.settings.get("defaultContentVisibility")}init(){super.init(...arguments),this.availableVisibilities=[...c],this.feature.get("multipleProducts")&&this.availableVisibilities.push({label:"Specific tier(s)",name:"tiers"})}updateVisibility(e){this.post.set("visibility",e),"tiers"!==e&&this.post.set("tiers",[])}},s=u(a.prototype,"settings",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"selectedVisibility",[i],Object.getOwnPropertyDescriptor(a.prototype,"selectedVisibility"),a.prototype),u(a.prototype,"updateVisibility",[r],Object.getOwnPropertyDescriptor(a.prototype,"updateVisibility"),a.prototype),a)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/gh-publishmenu-draft",["exports","@glimmer/component","moment","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k
function P(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const _=Ember.HTMLBars.template({id:"wb6Fx07Z",block:'{"symbols":["@recipientsFilter","@setSendEmailWhenPublished","@sendingEmailLimitError","@isSendingEmailLimited","@post","@distributionAction","@setDistributionAction","&attrs","@canSendEmail","@saveType","@emailOnly","@setTypedDateError"],"statements":[[11,"div"],[17,8],[12],[2,"\\n    "],[10,"header"],[14,0,"gh-publishmenu-heading"],[12],[2,"Ready to\\n"],[6,[37,0],[[32,9]],null,[["default","else"],[{"statements":[[2,"            "],[8,"gh-distribution-action-select",[],[["@distributionAction","@setDistributionAction"],[[32,6],[32,7]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            publish\\n"]],"parameters":[]}]]],[2,"        this "],[1,[32,5,["displayName"]]],[2,"?\\n    "],[13],[2,"\\n    "],[10,"section"],[15,0,[31,["gh-publishmenu-content ",[30,[36,0],[[32,0,["disableEmailOption"]],"no-border"],null]]]],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-publishmenu-section"],[12],[2,"\\n            "],[11,"div"],[16,0,[31,["gh-publishmenu-radio ",[30,[36,0],[[30,[36,4],[[32,10],"publish"],null],"active"],null]]]],[4,[38,6],["click",[30,[36,5],[[32,0,["setSaveType"]],"publish"],null]],null],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-button"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-content"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-publishmenu-radio-label"],[12],[6,[37,0],[[32,11]],null,[["default","else"],[{"statements":[[2,"Send email now"]],"parameters":[]},{"statements":[[2,"Set it live now"]],"parameters":[]}]]],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-publishmenu-radio-desc"],[12],[6,[37,0],[[32,11]],null,[["default","else"],[{"statements":[[2,"Deliver this immediately"]],"parameters":[]},{"statements":[[2,"Publish this "],[1,[32,5,["displayName"]]],[2," immediately"]],"parameters":[]}]]],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"div"],[16,0,[31,["gh-publishmenu-radio ",[30,[36,0],[[30,[36,4],[[32,10],"schedule"],null],"active"],null]]]],[4,[38,6],["click",[30,[36,5],[[32,0,["setSaveType"]],"schedule"],null]],null],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-button"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-content"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-publishmenu-radio-label"],[12],[2,"Schedule it for later"],[13],[2,"\\n                    "],[8,"gh-date-time-picker",[],[["@date","@time","@setDate","@setTime","@onDateError","@onTimeError","@setTypedDateError","@errors","@dateErrorProperty","@timeErrorProperty","@minDate","@isActive"],[[32,5,["publishedAtBlogDate"]],[32,5,["publishedAtBlogTime"]],[32,0,["setDate"]],[32,0,["setTime"]],[32,0,["dateInputDidError"]],[32,0,["timeInputDidError"]],[32,12],[32,5,["errors"]],"publishedAtBlogDate","publishedAtBlogTime",[32,0,["_minDate"]],[30,[36,4],[[32,10],"schedule"],null]]],null],[2,"\\n                    "],[10,"div"],[14,0,"gh-publishmenu-radio-desc"],[12],[6,[37,0],[[32,11]],null,[["default","else"],[{"statements":[[2,"Send email at a specific time"]],"parameters":[]},{"statements":[[2,"Set automatic future publish date"]],"parameters":[]}]]],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["showEmailSection"]]],null,[["default"],[{"statements":[[2,"            "],[11,"div"],[16,0,[31,["gh-publishmenu-section ",[30,[36,0],[[32,4],"no-border"],null]]]],[4,[38,3],[[30,[36,2],[[32,0,["countTotalMembersTask"]]],null]],null],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-email"],[12],[2,"\\n"],[6,[37,0],[[32,4]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"p"],[14,0,"gh-box gh-box-alert"],[12],[1,[30,[36,1],[[32,3]],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-publishmenu-email-label"],[12],[2,"\\n                            "],[10,"label"],[14,0,"gh-publishmenu-radio-label mb3"],[12],[2,"Send by email to"],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["disableEmailOption"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"p"],[14,0,"gh-box gh-content-box"],[12],[2,"\\n                                    "],[8,"link-to",[],[["@route"],["members"]],[["default"],[{"statements":[[2,"\\n                                        Add members\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    to start sending newsletters!\\n                                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                    "],[8,"gh-members-recipient-select",[],[["@filter","@onChange"],[[32,1],[32,2]]],null],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","html-safe","perform","did-insert","eq","fn","on"]}',moduleName:"ghost-admin/components/gh-publishmenu-draft.hbs"})
let z=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember._tracked,d=Ember._action,c=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,g=Ember._action,b=class extends t.default{get disableEmailOption(){return this.session.user.isAdmin&&0===this.totalMemberCount}get showEmailSection(){return this.args.canSendEmail&&"publish"!==this.args.distributionAction}constructor(){super(...arguments),P(this,"config",f,this),P(this,"feature",v,this),P(this,"session",y,this),P(this,"settings",w,this),P(this,"store",E,this),P(this,"totalMemberCount",k,this),O(this,"_minDate",null),O(this,"_publishedAtBlogTZ",null),this.args.post.set("publishedAtBlogTZ",this.args.post.publishedAtUTC),this._updateDatesForSaveType(this.args.saveType)}setSaveType(e){this.args.saveType!==e&&(this._updateDatesForSaveType(e),this.args.setSaveType(e),this.args.post.validate())}setDistributionAction(e){this.args.setDistributionAction(e)}setDate(e){let t=this.args.post,i=(0,n.default)(e).format("YYYY-MM-DD")
return t.set("publishedAtBlogDate",i),t.validate()}setTime(e){let t=this.args.post
return t.set("publishedAtBlogTime",e),t.validate()}dateInputDidError(e){this.setDate(e)}timeInputDidError(e){this.setTime(e)}*countTotalMembersTask(){if((yield this.session.user).isAdmin){const e=yield this.store.query("member",{limit:1,filter:"subscribed:true"})
this.totalMemberCount=e.meta.pagination.total}}_updateDatesForSaveType(e){let t=!Ember.isEmpty(this.args.post.errors.errorsFor("publishedAtBlogDate")),i=!Ember.isEmpty(this.args.post.errors.errorsFor("publishedAtBlogTime")),r=this._getMinDate()
this._minDate=r,"publish"===e?(this._publishedAtBlogTZ=t||i?this.args.post.publishedAtUTC:this.args.post.publishedAtBlogTZ,this.args.post.set("publishedAtBlogTZ",this.args.post.publishedAtUTC)):!this._publishedAtBlogTZ||(0,n.default)(this._publishedAtBlogTZ).isBefore(r)?this.args.post.set("publishedAtBlogTZ",r):this.args.post.set("publishedAtBlogTZ",this._publishedAtBlogTZ)}_getMinDate(){return n.default.utc().add(5,"minutes")}},f=j(b.prototype,"config",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=j(b.prototype,"feature",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=j(b.prototype,"session",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=j(b.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=j(b.prototype,"store",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=j(b.prototype,"totalMemberCount",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j(b.prototype,"setSaveType",[d],Object.getOwnPropertyDescriptor(b.prototype,"setSaveType"),b.prototype),j(b.prototype,"setDistributionAction",[c],Object.getOwnPropertyDescriptor(b.prototype,"setDistributionAction"),b.prototype),j(b.prototype,"setDate",[p],Object.getOwnPropertyDescriptor(b.prototype,"setDate"),b.prototype),j(b.prototype,"setTime",[m],Object.getOwnPropertyDescriptor(b.prototype,"setTime"),b.prototype),j(b.prototype,"dateInputDidError",[h],Object.getOwnPropertyDescriptor(b.prototype,"dateInputDidError"),b.prototype),j(b.prototype,"timeInputDidError",[g],Object.getOwnPropertyDescriptor(b.prototype,"timeInputDidError"),b.prototype),j(b.prototype,"countTotalMembersTask",[i.task],Object.getOwnPropertyDescriptor(b.prototype,"countTotalMembersTask"),b.prototype),b)
e.default=z,Ember._setComponentTemplate(_,z)})),define("ghost-admin/components/gh-publishmenu-published",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"N/+3Akko",block:'{"symbols":["&attrs","@post","@saveType","@setSaveType"],"statements":[[11,"div"],[17,1],[12],[2,"\\n    "],[10,"header"],[14,0,"gh-publishmenu-heading"],[12],[2,"Update "],[1,[32,2,["displayName"]]],[2," status"],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-publishmenu-content gh-publishmenu-section"],[12],[2,"\\n        "],[11,"div"],[16,0,[31,["gh-publishmenu-radio ",[30,[36,1],[[30,[36,0],[[32,3],"draft"],null],"active"],null]]]],[4,[38,3],["click",[30,[36,2],[[32,4],"draft"],null]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-publishmenu-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-publishmenu-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-label"],[12],[2,"Unpublished"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-desc"],[12],[2,"Revert this "],[1,[32,2,["displayName"]]],[2," to a private draft"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"div"],[16,0,[31,["gh-publishmenu-radio ",[30,[36,1],[[30,[36,0],[[32,3],"publish"],null],"active"],null]]]],[4,[38,3],["click",[30,[36,2],[[32,4],"publish"],null]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-publishmenu-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-publishmenu-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-label"],[12],[2,"Published"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-desc"],[12],[2,"Display this "],[1,[32,2,["displayName"]]],[2," publicly"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["eq","if","fn","on"]}',moduleName:"ghost-admin/components/gh-publishmenu-published.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/gh-publishmenu-scheduled",["exports","@glimmer/component","moment"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v
function y(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function w(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const E=Ember.HTMLBars.template({id:"VU0BPwOA",block:'{"symbols":["@recipientsFilter","@sendingEmailLimitError","@isSendingEmailLimited","&attrs","@saveType","@post","@setTypedDateError","@canSendEmail"],"statements":[[11,"div"],[17,4],[12],[2,"\\n    "],[10,"header"],[14,0,"gh-publishmenu-heading"],[12],[2,"Will be published in "],[1,[32,0,["timeToPublished"]]],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-publishmenu-content"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-publishmenu-section"],[12],[2,"\\n            "],[11,"div"],[16,0,[31,["gh-publishmenu-radio ",[30,[36,1],[[30,[36,2],[[32,5],"draft"],null],"active"],null]]]],[4,[38,4],["click",[30,[36,3],[[32,0,["setSaveType"]],"draft"],null]],null],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-button"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-content"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-publishmenu-radio-label"],[12],[2,"Revert to draft"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-publishmenu-radio-desc"],[12],[2,"Do not publish"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"div"],[16,0,[31,["gh-publishmenu-radio ",[30,[36,1],[[30,[36,2],[[32,5],"schedule"],null],"active"],null]]]],[4,[38,4],["click",[30,[36,3],[[32,0,["setSaveType"]],"schedule"],null]],null],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-button"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-radio-content"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-publishmenu-radio-label"],[12],[2,"Schedule for later"],[13],[2,"\\n                    "],[8,"gh-date-time-picker",[],[["@date","@time","@setDate","@setTime","@setTypedDateError","@errors","@dateErrorProperty","@timeErrorProperty","@minDate","@isActive"],[[32,6,["publishedAtBlogDate"]],[32,6,["publishedAtBlogTime"]],[32,0,["setDate"]],[32,0,["setTime"]],[32,7],[32,6,["errors"]],"publishedAtBlogDate","publishedAtBlogTime",[32,0,["minDate"]],[30,[36,2],[[32,5],"schedule"],null]]],null],[2,"\\n                    "],[10,"div"],[14,0,"gh-publishmenu-radio-desc"],[12],[2,"Set automatic future publish date"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"],[6,[37,1],[[32,8]],null,[["default"],[{"statements":[[2,"            "],[10,"section"],[14,0,"gh-publishmenu-section"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-email"],[12],[2,"\\n"],[6,[37,1],[[32,3]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"p"],[12],[1,[30,[36,0],[[32,2]],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-publishmenu-email-label pe-none"],[12],[2,"\\n                            "],[10,"label"],[14,0,"gh-publishmenu-radio-label mb3 midgrey"],[12],[2,"Send by email to"],[13],[2,"\\n\\n                            "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                "],[8,"gh-members-recipient-select",[],[["@filter","@disabled"],[[32,1],true]],null],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["html-safe","if","eq","fn","on"]}',moduleName:"ghost-admin/components/gh-publishmenu-scheduled.hbs"})
let k=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._action,d=Ember._action,c=Ember._action,p=class extends t.default{get timeToPublished(){let e=this.args.post.publishedAtUTC
return e?(this.clock.get("second"),e.toNow(!0)):null}constructor(){super(...arguments),y(this,"clock",m,this),y(this,"session",h,this),y(this,"feature",g,this),y(this,"settings",b,this),y(this,"config",f,this),y(this,"minDate",v,this),this.minDate=new Date}setSaveType(e){this.args.saveType!==e&&(this.minDate=new Date,this.args.setSaveType(e),"draft"===e?this.args.post.set("publishedAtBlogTZ",new Date):this.args.post.set("publishedAtBlogTZ",this.args.post.publishedAtUTC),this.args.post.validate())}setDate(e){let t=this.args.post,i=(0,n.default)(e).format("YYYY-MM-DD")
return t.set("publishedAtBlogDate",i),t.validate()}setTime(e){let t=this.args.post
if(!this.args.isClosing)return t.set("publishedAtBlogTime",e),t.validate()}},m=w(p.prototype,"clock",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=w(p.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w(p.prototype,"feature",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=w(p.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w(p.prototype,"config",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w(p.prototype,"minDate",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w(p.prototype,"setSaveType",[u],Object.getOwnPropertyDescriptor(p.prototype,"setSaveType"),p.prototype),w(p.prototype,"setDate",[d],Object.getOwnPropertyDescriptor(p.prototype,"setDate"),p.prototype),w(p.prototype,"setTime",[c],Object.getOwnPropertyDescriptor(p.prototype,"setTime"),p.prototype),p)
e.default=k,Ember._setComponentTemplate(E,k)})),define("ghost-admin/components/gh-publishmenu",["exports","ghost-admin/components/modals/editor/confirm-publish","ghost-admin/errors/email-failed-error","ember-concurrency"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"6Sux2x70",block:'{"symbols":["dd"],"statements":[[6,[37,3],[[30,[36,2],[[32,0,["displayState"]],"sent"],null]],null,[["default","else"],[{"statements":[[10,"div"],[14,0,"gh-btn gh-btn-text sent"],[12],[2,"Sent"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[8,"gh-basic-dropdown",[],[["@verticalPosition","@horizontalPosition","@onOpen","@onClose"],["below","right",[30,[36,0],[[32,0],"open"],null],[30,[36,0],[[32,0],"close"],null]]],[["default"],[{"statements":[[2,"\\n    "],[8,[32,1,["Trigger"]],[[16,0,[31,["gh-btn gh-btn-editor ",[30,[36,3],[[30,[36,4],[[30,[36,2],[[32,0,["displayState"]],"published"],null],[30,[36,2],[[32,0,["displayState"]],"scheduled"],null],[30,[36,2],[[32,0,["uiContext"]],"preview"],null]],null],"green"],null]," gh-publishmenu-trigger"]]]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"span"],[12],[1,[32,0,["triggerText"]]],[2," "],[1,[30,[36,5],["arrow-down"],null]],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,[32,1,["Content"]],[[24,0,"gh-publishmenu-dropdown"]],[[],[]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,0,["displayState"]],"published"],null]],null,[["default","else"],[{"statements":[[2,"            "],[8,"gh-publishmenu-published",[],[["@post","@saveType","@setSaveType"],[[32,0,["post"]],[32,0,["saveType"]],[30,[36,0],[[32,0],"setSaveType"],null]]],null],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,0,["displayState"]],"scheduled"],null]],null,[["default","else"],[{"statements":[[2,"            "],[8,"gh-publishmenu-scheduled",[],[["@post","@saveType","@isClosing","@canSendEmail","@recipientsFilter","@setSaveType","@setTypedDateError","@isSendingEmailLimited","@sendingEmailLimitError"],[[32,0,["post"]],[32,0,["saveType"]],[32,0,["isClosing"]],[32,0,["canSendEmail"]],[32,0,["sendEmailWhenPublished"]],[30,[36,0],[[32,0],"setSaveType"],null],[30,[36,0],[[32,0],[30,[36,1],[[32,0,["typedDateError"]]],null]],null],[32,0,["isSendingEmailLimited"]],[32,0,["sendingEmailLimitError"]]]],null],[2,"\\n\\n"]],"parameters":[]},{"statements":[[2,"            "],[8,"gh-publishmenu-draft",[],[["@post","@saveType","@setSaveType","@setTypedDateError","@canSendEmail","@emailOnly","@recipientsFilter","@setSendEmailWhenPublished","@isSendingEmailLimited","@sendingEmailLimitError","@distributionAction","@setDistributionAction"],[[32,0,["post"]],[32,0,["saveType"]],[30,[36,0],[[32,0],"setSaveType"],null],[30,[36,0],[[32,0],[30,[36,1],[[32,0,["typedDateError"]]],null]],null],[32,0,["canSendEmail"]],[32,0,["emailOnly"]],[32,0,["sendEmailWhenPublished"]],[30,[36,0],[[32,0],"setSendEmailWhenPublished"],null],[32,0,["isSendingEmailLimited"]],[32,0,["sendingEmailLimitError"]],[32,0,["distributionAction"]],[30,[36,0],[[32,0],"setDistributionAction"],null]]],null],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[2,"        "],[10,"footer"],[14,0,"gh-publishmenu-footer"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-outline"],[24,4,"button"],[4,[38,6],["click",[30,[36,0],[[32,0],[32,1,["actions","close"]]],null]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n            "],[8,"gh-task-button",[],[["@buttonText","@task","@taskArgs","@successText","@runningText","@class"],[[32,0,["buttonText"]],[32,0,["save"]],[30,[36,7],null,[["dropdown"],[[32,1]]]],[32,0,["successText"]],[32,0,["runningText"]],"gh-btn gh-btn-black gh-publishmenu-button gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[11,"div"],[24,0,"hidden"],[4,[38,8],["cmd+shift+p",[30,[36,0],[[32,0],"publishFromShortcut"],null]],null],[12],[13]],"hasEval":false,"upvars":["action","mut","eq","if","or","svg-jar","on","hash","on-key"]}',moduleName:"ghost-admin/components/gh-publishmenu.hbs"}),a=1e3
var s=Ember._setComponentTemplate(r,Ember.Component.extend({clock:Ember.inject.service(),config:Ember.inject.service(),feature:Ember.inject.service(),limit:Ember.inject.service(),modals:Ember.inject.service(),session:Ember.inject.service(),settings:Ember.inject.service(),store:Ember.inject.service(),classNames:"gh-publishmenu",displayState:"draft",saveType:"publish",post:null,postStatus:"draft",distributionAction:"publish_send",runningText:null,saveTask:null,sendEmailWhenPublished:null,typedDateError:null,isSendingEmailLimited:!1,sendingEmailLimitError:"",_publishedAtBlogTZ:null,_previousStatus:null,isClosing:null,onClose(){},forcePublishedMenu:Ember.computed.reads("post.pastScheduledTime"),hasEmailPermission:Ember.computed.or("session.user.isOwnerOnly","session.user.isAdminOnly","session.user.isEditor"),emailOnly:Ember.computed.equal("distributionAction","send"),canSendEmail:Ember.computed("hasEmailPermission","post.{isPost,email}","settings.{editorDefaultEmailRecipients,membersSignupAccess,mailgunIsConfigured}","config.mailgunIsConfigured",(function(){let e="disabled"===this.settings.get("editorDefaultEmailRecipients")||"none"===this.settings.get("membersSignupAccess"),t=this.settings.get("mailgunIsConfigured")||this.config.get("mailgunIsConfigured"),n=this.post.isPost,i=!!this.post.email
return this.hasEmailPermission&&!e&&t&&n&&!i})),postState:Ember.computed("post.{isPublished,isScheduled}","forcePublishedMenu",(function(){return this.forcePublishedMenu||this.get("post.isPublished")?"published":this.get("post.isScheduled")?"scheduled":"draft"})),triggerText:Ember.computed("postState",(function(){let e=this.postState
return"published"===e?"Update":"scheduled"===e?"Scheduled":"Publish"})),_runningText:Ember.computed("postState","saveType",(function(){let e,t=this.saveType,n=this.postState
return"draft"===n&&(e="publish"===t?"Publishing":"Scheduling"),"published"===n&&(e="publish"===t?"Updating":"Unpublishing"),"scheduled"===n&&(e="schedule"===t?"Rescheduling":"Unscheduling"),e||"Publishing"})),buttonText:Ember.computed("postState","saveType","distributionAction","sendEmailWhenPublished",(function(){let e,t=this.saveType,n=this.postState,i=this.distributionAction
if("draft"===n)switch(i){case"publish_send":"publish"===t?(e="Publish",this.canSendEmail&&this.sendEmailWhenPublished&&"none"!==this.sendEmailWhenPublished&&(e=`${e} & send`)):e="Schedule"
break
case"publish":e="publish"===t?"Publish":"Schedule"
break
case"send":e="publish"===t?"Send":"Schedule"}return"published"===n&&(e="publish"===t?"Update":"Unpublish"),"scheduled"===n&&(e="schedule"===t?"Reschedule":"Unschedule"),e||"Publish"})),successText:Ember.computed("_previousStatus","postState",(function(){let e,t=this.postState,n=this._previousStatus
return"draft"===n&&(e="published"===t?"Published":"Scheduled"),"published"===n&&(e="draft"===t?"Unpublished":"Updated"),"scheduled"===n&&(e="draft"===t?"Unscheduled":"Rescheduled"),e})),defaultEmailRecipients:Ember.computed("settings.{editorDefaultEmailRecipients,editorDefaultEmailRecipientsFilter}","post.visibility",(function(){const e=this.settings.get("editorDefaultEmailRecipients")
return"disabled"===e?null:"visibility"===e?"public"===this.post.visibility||"members"===this.post.visibility?"status:free,status:-free":"paid"===this.post.visibility?"status:-free":"tiers"===this.post.visibility?this.post.visibilitySegment:this.post.visibility:this.settings.get("editorDefaultEmailRecipientsFilter")})),didReceiveAttrs(){this._super(...arguments)
let e=this.postStatus
e!==this._postStatus&&(this.get("saveTask.isRunning")?this.get("saveTask.last").then((()=>{this.set("displayState",e),this.updateSaveTypeForPostStatus(e)})):(this.set("displayState",e),this.updateSaveTypeForPostStatus(e))),this._postStatus=this.postStatus,this.setDefaultSendEmailWhenPublished(),this.checkIsSendingEmailLimitedTask.perform()
const t=this.get("defaultEmailRecipients")
!this.post.isPage&&t||this.set("distributionAction","publish")},actions:{setSaveType(e){let t=this.post
this.set("saveType",e),"draft"===e?t.set("statusScratch","draft"):"schedule"===e?t.set("statusScratch","scheduled"):"publish"===e&&t.set("statusScratch","published")},setSendEmailWhenPublished(e){this.set("sendEmailWhenPublished",e)},setDistributionAction(e){this.set("distributionAction",e),"publish"===e?this.set("sendEmailWhenPublished","none"):this.set("sendEmailWhenPublished",this.defaultEmailRecipients)},open(){this._cachePublishedAtBlogTZ(),this.set("isClosing",!1),this.get("post.errors").clear(),this.setDefaultSendEmailWhenPublished(),this.onOpen&&this.onOpen()},close(e,t){if(t){let e=!!t.target.closest(".ember-power-datepicker-content"),n=!!t.target.closest(".fullscreen-modal-container")
if(e||n)return!1}return this._skipDropdownCloseCleanup||this._cleanup(),this._skipDropdownCloseCleanup=!1,this.onClose(),this.set("isClosing",!0),!0},updateMemberCount(e){this.memberCount=e},publishFromShortcut(){if(document.activeElement?.matches('input[type="text"], textarea')){const e=new Event("focusout")
document.activeElement.dispatchEvent(e),document.activeElement.blur()}Ember.run.schedule("actions",this,(function(){this.send("setSaveType","publish"),this.save.perform()}))}},updateSaveTypeForPostStatus(e){"draft"!==e&&"published"!==e||this.set("saveType","publish"),"scheduled"===e&&this.set("saveType","schedule")},setDefaultSendEmailWhenPublished(){this.isSendingEmailLimited?this.set("sendEmailWhenPublished",!1):"draft"===this.postStatus&&this.canSendEmail?this.set("sendEmailWhenPublished",this.defaultEmailRecipients):this.set("sendEmailWhenPublished",this.post.emailRecipientFilter)},checkIsSendingEmailLimitedTask:(0,i.task)((function*(){try{if(yield this.reloadSettingsTask.perform(),this.limit.limiter&&this.limit.limiter.isLimited("emails"))yield this.limit.limiter.errorIfWouldGoOverLimit("emails")
else if(this.settings.get("emailVerificationRequired"))return this.set("isSendingEmailLimited",!0),this.set("sendingEmailLimitError","Email sending is temporarily disabled because your account is currently in review. You should have an email about this from us already, but you can also reach us any time at support@ghost.org."),void this.set("sendEmailWhenPublished","none")
this.set("isSendingEmailLimited",!1),this.set("sendingEmailLimitError",null)}catch(e){this.set("isSendingEmailLimited",!0),this.set("sendingEmailLimitError",e.message),this.set("sendEmailWhenPublished","none")}})),reloadSettingsTask:(0,i.task)((function*(){yield this.settings.reload()})),save:(0,i.task)((function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const{post:n,saveType:i}=this
if(this.typedDateError)return!1
try{yield n.validate({property:"publishedAtBlog"})}catch(a){if(a)throw a
return!1}const r="publish"===this.distributionAction||"none"===this.sendEmailWhenPublished||"page"===this.post.displayName||this.post.email
return r||"draft"!==n.status||"publish"!==i&&"schedule"!==i?yield this._saveTask.perform(e):(e.dropdown&&(this._skipDropdownCloseCleanup=!0,e.dropdown.actions.close()),yield this.modals.open(t.default,{post:this.post,emailOnly:this.emailOnly,sendEmailWhenPublished:this.sendEmailWhenPublished,isScheduled:"schedule"===i,confirm:this.saveWithConfirmedPublish.perform,retryEmailSend:this.retryEmailSendTask.perform},{beforeClose:Ember.run.bind(this,this._cleanup)}))})),saveWithConfirmedPublish:(0,i.task)((function*(){return yield this._saveTask.perform()})),retryEmailSendTask:(0,i.task)((function*(){if(!this.post.email)return
let e=yield this.post.email.retry(),t=0
if(e&&"submitted"!==e.status)for(;t<15e3&&(yield(0,i.timeout)(a),t+=a,e=yield e.reload(),"submitted"!==e.status);)if("failed"===e.status)throw new n.default(e.error)
return e})),_saveTask:(0,i.task)((function*(){let{post:e,emailOnly:t,sendEmailWhenPublished:r,saveType:s}=this
this.set("runningText",this._runningText),this.set("_previousStatus",this.get("post.status")),this.setSaveType(s)
try{if(e=yield this.saveTask.perform({sendEmailWhenPublished:r,emailOnly:t}),this._cachePublishedAtBlogTZ(),r&&"none"!==r){let t=0
if(e.email&&"submitted"!==e.email.status)for(;t<15e3&&(yield(0,i.timeout)(a),t+=a,e=yield e.reload(),"submitted"!==e.email.status);)if("failed"===e.email.status)throw new n.default(e.email.error)}return this._cleanup(),e}catch(o){if(o)throw o}})),_cachePublishedAtBlogTZ(){this._publishedAtBlogTZ=this.get("post.publishedAtBlogTZ")},_cleanup(){this.post.isPage||!this.defaultEmailRecipients?this.set("distributionAction","publish"):this.set("distributionAction","publish_send"),this.updateSaveTypeForPostStatus(this.post.status),this.post.set("publishedAtBlogTZ",this._publishedAtBlogTZ),this.post.set("statusScratch",null),this.post.validate()}}))
e.default=s})),define("ghost-admin/components/gh-recipient-filter-count",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"ChBD3qgE",block:'{"symbols":["@filter","@knownCount"],"statements":[[6,[37,1],[[32,1]],null,[["default","else"],[{"statements":[[8,"gh-members-filter-count",[],[["@filter","@knownCount"],[[30,[36,0],["subscribed:true+(",[32,1],")"],null],[32,2]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"0 members\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["concat","if"]}',moduleName:"ghost-admin/components/gh-recipient-filter-count.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("ghost-admin/components/gh-role-selection",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h
function g(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function b(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"OnGz0qfY",block:'{"symbols":["@selected"],"statements":[[11,"div"],[24,0,"gh-roles-container"],[4,[38,7],[[30,[36,6],[[32,0,["fetchRolesTask"]]],null]],null],[12],[2,"\\n"],[6,[37,1],[[32,0,["fetchRolesTask","isRunning"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,5,"width: 486px; height: 268px"],[12],[2,"\\n            "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,1],[[30,[36,0],[[32,1,["name"]],"Contributor"],null],"active"],null]]]],[4,[38,3],["click",[30,[36,2],[[32,0,["setRole"]],"Contributor"],null]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"Contributor"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[2,"Can create and edit their own posts, but cannot publish. An Editor needs to approve and publish for them."],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[12],[2,"\\n"],[2,"                "],[10,"div"],[12],[2,"\\n                    "],[1,[30,[36,4],["info"],null]],[2,"\\n                    "],[8,"ember-popover",[],[["@tooltipClass","@arrowClass","@side"],["popover","popover-arrow","left"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"table"],[12],[2,"\\n                            "],[10,"tbody"],[12],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Settings"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"View and edit own profile"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Posts"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Create and edit own draft posts"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,1],[[30,[36,0],[[32,1,["name"]],"Author"],null],"active"],null]]]],[4,[38,3],["click",[30,[36,2],[[32,0,["setRole"]],"Author"],null]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"Author"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[2,"A trusted user who can create, edit and publish their own posts, but can’t modify others."],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[12],[2,"\\n"],[2,"                "],[10,"div"],[12],[2,"\\n                    "],[1,[30,[36,4],["info"],null]],[2,"\\n                    "],[8,"ember-popover",[],[["@tooltipClass","@arrowClass","@side"],["popover","popover-arrow","left"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"table"],[12],[2,"\\n                            "],[10,"tbody"],[12],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Settings"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"View and edit own profile"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Users"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Browse users"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Posts"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"View, edit and publish own posts, generate slugs"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Tags"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Add tags"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,1],[[30,[36,0],[[32,1,["name"]],"Editor"],null],"active"],null]]]],[4,[38,3],["click",[30,[36,2],[[32,0,["setRole"]],"Editor"],null]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"Editor"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[2,"Can invite and manage other Authors and Contributors, as well as edit and publish any posts on the site."],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[12],[2,"\\n"],[2,"                "],[10,"div"],[12],[2,"\\n                    "],[1,[30,[36,4],["info"],null]],[2,"\\n                    "],[8,"ember-popover",[],[["@tooltipClass","@arrowClass","@side"],["popover","popover-arrow","left"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"table"],[12],[2,"\\n                            "],[10,"tbody"],[12],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Settings"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"View and edit own profile"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Users"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Browse users, manage authors and contributors (invite, revoke, delete)"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Posts"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Create, publish, edit and delete all posts, generate slugs"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Tags"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Edit, add and delete tags"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,1],[[30,[36,0],[[32,1,["name"]],"Administrator"],null],"active"],null]]]],[4,[38,3],["click",[30,[36,2],[[32,0,["setRole"]],"Administrator"],null]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"Administrator"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[2,"Trusted staff user who should be able to manage all content and users, as well as site settings and options."],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[12],[2,"\\n"],[2,"                "],[10,"div"],[12],[2,"\\n                    "],[1,[30,[36,4],["info"],null]],[2,"\\n                    "],[8,"ember-popover",[],[["@tooltipClass","@arrowClass","@side"],["popover","popover-arrow","left"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"table"],[12],[2,"\\n                            "],[10,"tbody"],[12],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Settings"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Access all except Stripe settings"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Users"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Manage all users (invite, revoke, delete)"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Posts"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Create, publish, edit and delete all posts, generate slugs"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Tags"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Edit, add and delete tags"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Database"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Import, export and delete all content"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Email"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Send newsletters and test emails"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n\\n        "],[10,"div"],[14,0,"gh-content-box pa"],[15,"hidden",[30,[36,1],[[32,0,["limitErrorMessage"]],false,true],null]],[12],[2,"\\n            "],[1,[30,[36,5],[[32,0,["limitErrorMessage"]]],null]],[2," To use selected user role, upgrade to a different plan.\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["eq","if","fn","on","svg-jar","html-safe","perform","did-insert"]}',moduleName:"ghost-admin/components/gh-role-selection.hbs"})
let v=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._action,u=class extends t.default{constructor(){super(...arguments),g(this,"limit",d,this),g(this,"notifications",c,this),g(this,"store",p,this),g(this,"roles",m,this),g(this,"limitErrorMessage",h,this)}async setRole(e){const t=this.roles.findBy("name",e)
return this.args.setRole(t),this.validateRole(t)}*fetchRolesTask(){const e=yield this.store.query("role",{permissions:"assign"}),t=e.findBy("name","Contributor")
this.roles=e,!this.args.selected&&t&&this.args.setRole(t)}async validateRole(e){if("Contributor"===e.name&&this.args.onValidationSuccess?.(),"Contributor"!==e.name&&this.limit.limiter&&this.limit.limiter.isLimited("staff"))try{await this.limit.limiter.errorIfWouldGoOverLimit("staff"),this.limitErrorMessage=null,this.args.onValidationSuccess?.()}catch(t){"HostLimitError"===t.errorType?(this.limitErrorMessage=t.message,this.args.onValidationFailure?.(this.limitErrorMessage)):this.notifications.showAPIError(t,{key:"staff.limit"})}else this.limitErrorMessage=null}},d=b(u.prototype,"limit",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(u.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(u.prototype,"roles",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=b(u.prototype,"limitErrorMessage",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b(u.prototype,"setRole",[l],Object.getOwnPropertyDescriptor(u.prototype,"setRole"),u.prototype),b(u.prototype,"fetchRolesTask",[n.task],Object.getOwnPropertyDescriptor(u.prototype,"fetchRolesTask"),u.prototype),u)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/gh-scroll-trigger",["exports","@glimmer/component","ghost-admin/utils/get-scroll-parent"],(function(e,t,n){var i,r,a,s,o
function l(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"o3+eYU0s",block:'{"symbols":["&default"],"statements":[[11,"div"],[4,[38,0],[[32,0,["setupInViewport"]]],null],[4,[38,1],[[32,0,["teardownInViewport"]]],null],[12],[2,"\\n  "],[18,1,null],[2,"\\n"],[13]],"hasEval":false,"upvars":["did-insert","will-destroy"]}',moduleName:"ghost-admin/components/gh-scroll-trigger.hbs"})
let d=(i=Ember.inject.service,r=Ember._action,a=Ember._action,s=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="inViewport",i=this,(n=o)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}setupInViewport(e){this.loaderElement=e
let t=this.args.triggerOffset||{}
"number"==typeof t&&(t={top:t,bottom:t,left:t,right:t})
let i={viewportSpy:!0,viewportTolerance:t,scrollableArea:this.args.scrollable||(0,n.default)(e)},{onEnter:r,onExit:a}=this.inViewport.watchElement(e,i)
r(this.didEnterViewport.bind(this)),a(this.didExitViewport.bind(this)),this.args.registerElement?.(e)}didEnterViewport(){this.args.enter?.()}didExitViewport(){this.args.exit?.()}teardownInViewport(e){this.inViewport.stopWatching(e)}},o=l(s.prototype,"inViewport",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l(s.prototype,"setupInViewport",[r],Object.getOwnPropertyDescriptor(s.prototype,"setupInViewport"),s.prototype),l(s.prototype,"teardownInViewport",[a],Object.getOwnPropertyDescriptor(s.prototype,"teardownInViewport"),s.prototype),s)
e.default=d,Ember._setComponentTemplate(u,d)})),define("ghost-admin/components/gh-search-input",["exports","@glimmer/component","ember-inflector","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b
function f(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const w=Ember.HTMLBars.template({id:"KZRlVUN0",block:'{"symbols":["name","select","&attrs"],"statements":[[11,"div"],[17,3],[12],[2,"\\n    "],[8,"power-select",[[24,0,"ember-power-select-search"]],[["@search","@onChange","@onClose","@placeholder","@searchEnabled","@triggerComponent","@renderInPlace","@loadingMessage","@extra"],[[30,[36,0],[[32,0,["searchTask"]]],null],[32,0,["openSelected"]],[32,0,["onClose"]],"Search site",false,"gh-input-with-select/trigger",true,"Loading",[30,[36,1],null,[["autofocus","inputType","inputIcon","inputIconClass"],[true,"search","search","gh-nav-search-icon"]]]]],[["default"],[{"statements":[[2,"\\n        "],[1,[30,[36,2],[[32,1,["title"]],[32,2,["searchText"]]],null]],[2,"\\n    "]],"parameters":[1,2]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","hash","highlighted-text"]}',moduleName:"ghost-admin/components/gh-search-input.hbs"})
let E=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._action,u=Ember._action,d=(0,i.task)({restartable:!0}),c=(0,i.task)({drop:!0}),p=class extends t.default{constructor(){super(...arguments),f(this,"ajax",m,this),f(this,"notifications",h,this),f(this,"router",g,this),f(this,"store",b,this),v(this,"content",[]),v(this,"contentExpiresAt",!1),v(this,"contentExpiry",3e4),v(this,"searchables",[{name:"Posts",model:"post",fields:["id","title"],idField:"id",titleField:"title"},{name:"Pages",model:"page",fields:["id","title"],idField:"id",titleField:"title"},{name:"Users",model:"user",fields:["slug","name"],idField:"slug",titleField:"name"},{name:"Tags",model:"tag",fields:["slug","name"],idField:"slug",titleField:"name"}])}openSelected(e){if(e){if(this.args.onSelected?.(e),"Posts"===e.searchable){let t=e.id.replace("post.","")
this.router.transitionTo("editor.edit","post",t)}if("Pages"===e.searchable){let t=e.id.replace("page.","")
this.router.transitionTo("editor.edit","page",t)}if("Users"===e.searchable){let t=e.id.replace("user.","")
this.router.transitionTo("settings.staff.user",t)}if("Tags"===e.searchable){let t=e.id.replace("tag.","")
this.router.transitionTo("tag",t)}}}onClose(e,t){Ember.run.later((()=>{t?.target.focus()}))}*searchTask(e){if(Ember.isBlank(e))return[]
this.refreshContentTask.perform(),yield(0,i.timeout)(200),this.refreshContentTask.isRunning&&(yield(0,i.waitForProperty)(this,"refreshContentTask.isIdle"))
return this._searchContent(e)}_searchContent(e){const t=e.toString().toLowerCase(),n=[]
return this.searchables.forEach((e=>{const i=this.content.filter((n=>{const i=n.title.toString().toLowerCase()
return n.searchable===e.name&&i.indexOf(t)>=0}))
Ember.isEmpty(i)||n.push({groupName:e.name,options:i})})),n}*refreshContentTask(){let e=new Date
if(this.contentExpiresAt>e)return!0
const t=[],n=this.searchables.map((e=>this._loadSearchable(e,t)))
try{yield Ember.RSVP.all(n),this.content=t}catch(r){console.error(r)}let i=this.contentExpiry
this.contentExpiresAt=new Date(e.getTime()+i)}_loadSearchable(e,t){let i=`${this.store.adapterFor(e.model).urlForQuery({},e.model)}/`,r={fields:e.fields,limit:"all"}
return this.ajax.request(i,{data:r}).then((i=>{const r=i[(0,n.pluralize)(e.model)].map((t=>({id:`${e.model}.${t[e.idField]}`,title:t[e.titleField],searchable:e.name})))
t.push(...r)})).catch((t=>{this.notifications.showAPIError(t,{key:`search.load${e.name}.error`})}))}},m=y(p.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y(p.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y(p.prototype,"router",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(p.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(p.prototype,"openSelected",[l],Object.getOwnPropertyDescriptor(p.prototype,"openSelected"),p.prototype),y(p.prototype,"onClose",[u],Object.getOwnPropertyDescriptor(p.prototype,"onClose"),p.prototype),y(p.prototype,"searchTask",[d],Object.getOwnPropertyDescriptor(p.prototype,"searchTask"),p.prototype),y(p.prototype,"refreshContentTask",[c],Object.getOwnPropertyDescriptor(p.prototype,"refreshContentTask"),p.prototype),p)
e.default=E,Ember._setComponentTemplate(w,E)})),define("ghost-admin/components/gh-simplemde",["exports","ghost-admin/config/environment","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"BhMQLDvB",block:'{"symbols":["&default"],"statements":[[18,1,null],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-simplemde.hbs"})
let m=(i=Ember.inject.service,r=Ember.computed,a=(0,n.task)((function*(){yield this.lazyLoader.loadScript("simplemde","assets/simplemde/simplemde-3ffc0ec9e9fecf29b9a499db678c9e65.js")
let e=Ember.assign({element:document.getElementById(this.elementId)},this.defaultOptions,this.options)
"test"===t.default.environment&&(e.spellChecker=!1),this._editor=new SimpleMDE(e),this._editor.value(this.value||""),this._editor.codemirror.on("change",((e,t)=>{"setValue"!==t.origin&&this.onChange(this._editor.value())})),this._editor.codemirror.on("focus",(()=>{this.onFocus()})),this._editor.codemirror.on("blur",(()=>{this.onBlur()})),this.autofocus&&this._editor.codemirror.execCommand("goDocEnd"),this.onEditorInit(this._editor)})),s=class extends Ember.TextArea{constructor(){super(...arguments),u(this,"lazyLoader",o,this),d(this,"autofocus",!1),d(this,"options",null),d(this,"value",null),d(this,"placeholder",""),d(this,"_editor",null),u(this,"initSimpleMDE",l,this)}onChange(){}onEditorInit(){}onEditorDestroy(){}get defaultOptions(){return{autofocus:this.autofocus,indentWithTabs:!1,placeholder:this.placeholder,tabSize:4}}init(){super.init(...arguments),Ember.isEmpty(this.options)&&this.set("options",{})}didReceiveAttrs(){if(super.didReceiveAttrs(...arguments),!Ember.isEmpty(this._editor)&&this.value!==this._editor.value()){let e=this._editor.codemirror.getDoc().getCursor()
this._editor.value(this.value),this._editor.codemirror.getDoc().setCursor(e)}}didInsertElement(){super.didInsertElement(...arguments),this.initSimpleMDE.perform()}willDestroyElement(){this._editor.toTextArea(),delete this._editor,super.willDestroyElement(...arguments)}},o=c(s.prototype,"lazyLoader",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"defaultOptions",[r],Object.getOwnPropertyDescriptor(s.prototype,"defaultOptions"),s.prototype),l=c(s.prototype,"initSimpleMDE",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=m,Ember._setComponentTemplate(p,m)})),define("ghost-admin/components/gh-site-iframe",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d
function c(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function p(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"McfjA10F",block:'{"symbols":["&attrs","@onInserted","@guid"],"statements":[[11,"iframe"],[16,0,[31,["site-frame ",[30,[36,0],[[32,0,["isInvisible"]],"invisible"],null]]]],[16,"src",[32,0,["srcUrl"]]],[24,"frameborder","0"],[24,"allowtransparency","true"],[17,1],[4,[38,2],[[30,[36,1],[[32,2]],null]],null],[4,[38,2],[[32,0,["attachMessageListener"]]],null],[4,[38,3],[[32,0,["resetSrcAttribute"]],[32,3]],null],[4,[38,4],["load",[32,0,["onLoad"]]],null],[12],[13]],"hasEval":false,"upvars":["if","optional","did-insert","did-update","on"]}',moduleName:"ghost-admin/components/gh-site-iframe.hbs"})
let h=(i=Ember.inject.service,r=Ember._tracked,a=Ember._action,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(){super(...arguments),c(this,"config",u,this),c(this,"isInvisible",d,this)}willDestroy(){super.willDestroy?.(...arguments),this.messageListener&&window.removeEventListener("message",this.messageListener),this.args.onDestroyed?.()}get srcUrl(){const e=new URL(this.args.src||`${this.config.get("blogUrl")}/`)
return this.args.guid&&e.searchParams.set("v",this.args.guid),e.href}resetSrcAttribute(e){if(this.args.guid!==this._lastGuid&&e){this.args.invisibleUntilLoaded&&(this.isInvisible=!0)
try{e.contentWindow.location.href!==this.srcUrl?e.contentWindow.location=this.srcUrl:e.contentWindow.location.reload()}catch(t){"SecurityError"===t.name&&(e.src=this.srcUrl)}}this._lastGuid=this.args.guid}onLoad(e){this.iframe=e.target,this.args.invisibleUntilLoaded&&"boolean"==typeof this.args.invisibleUntilLoaded?this.makeVisible.perform():this.args.onLoad?.(this.iframe)}attachMessageListener(){"string"==typeof this.args.invisibleUntilLoaded&&(this.messageListener=e=>{if(this.isDestroying||this.isDestroyed)return
const t=new URL(this.srcUrl)
new URL(e.origin).origin===t.origin&&(e.data!==this.args.invisibleUntilLoaded&&e.data.type!==this.args.invisibleUntilLoaded||this.makeVisible.perform())},window.addEventListener("message",this.messageListener,!0))}*makeVisible(){yield(0,n.timeout)(100),this.isInvisible=!1,this.args.onLoad?.(this.iframe)}},u=p(l.prototype,"config",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=p(l.prototype,"isInvisible",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.invisibleUntilLoaded}}),p(l.prototype,"resetSrcAttribute",[a],Object.getOwnPropertyDescriptor(l.prototype,"resetSrcAttribute"),l.prototype),p(l.prototype,"onLoad",[s],Object.getOwnPropertyDescriptor(l.prototype,"onLoad"),l.prototype),p(l.prototype,"attachMessageListener",[o],Object.getOwnPropertyDescriptor(l.prototype,"attachMessageListener"),l.prototype),p(l.prototype,"makeVisible",[n.task],Object.getOwnPropertyDescriptor(l.prototype,"makeVisible"),l.prototype),l)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/gh-skip-link",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend({tagName:"a",anchor:"",classNames:["sr-only","sr-only-focusable"],attributeBindings:["href"],href:Ember.String.htmlSafe("javascript:;"),click(){let e=document.querySelector(this.anchor)
if(e){document.body.scrollTop=e.getBoundingClientRect().top
let t=function(){e.removeAttribute("tabindex")}
e.setAttribute("tabindex",-1),e.focus(),e.addEventListener("blur",t),e.addEventListener("focusout",t)}}})
e.default=t})),define("ghost-admin/components/gh-tag-settings-form",["exports","ember-concurrency"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"DJg31qPf",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Basic settings"],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-main-section-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-content grey columns-2"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-tag-settings-multiprop"],[12],[2,"\\n                    "],[8,"gh-form-group",[[24,0,"mr2 flex-auto"]],[["@errors","@hasValidated","@property"],[[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","tag-name"],[12],[2,"Name"],[13],[2,"\\n                        "],[8,"gh-text-input",[],[["@id","@name","@value","@tabindex","@focus-out"],["tag-name","name",[32,0,["scratchTag","name"]],"1",[30,[36,0],[[32,0],"setProperty","name",[32,0,["scratchTag","name"]]],null]]],null],[2,"\\n                        "],[10,"span"],[14,0,"error"],[12],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tag","errors"]],"name"]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tag","errors"]],"accentColor"]],null],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"p"],[14,0,"description"],[12],[2,"\\n                            Start with # to create internal tags\\n                            "],[10,"a"],[14,6,"https://ghost.org/help/organising-content/#private-tags"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Learn more"],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n\\n                    "],[8,"gh-form-group",[[24,0,"gh-tag-settings-colorcontainer"]],[["@errors","@hasValidated","@property"],[[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"accentColor"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","accent-color"],[12],[2,"Color"],[13],[2,"\\n                        "],[10,"div"],[14,0,"input-color"],[12],[2,"\\n                            "],[11,"input"],[24,"placeholder","15171A"],[24,3,"accent-color"],[24,"autocorrect","off"],[24,"maxlength","6"],[16,2,[32,0,["accentColor"]]],[24,0,"gh-input"],[24,4,"text"],[4,[38,9],["input",[30,[36,8],[[32,0,["debounceUpdateAccentColor"]]],null]],null],[4,[38,9],["blur",[32,0,["updateAccentColor"]]],null],[12],[13],[2,"\\n                            "],[10,"div"],[14,0,"color-picker-horizontal-divider"],[12],[13],[2,"\\n                            "],[10,"div"],[14,0,"color-box-container"],[15,5,[32,0,["accentColorBgStyle"]]],[12],[2,"\\n                                "],[11,"input"],[24,3,"accent-color"],[24,0,"color-picker"],[16,2,[31,[[32,0,["accentColorPickerValue"]]]]],[24,4,"color"],[4,[38,9],["input",[30,[36,8],[[32,0,["debounceUpdateAccentColor"]]],null]],null],[12],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"slug"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","tag-slug"],[12],[2,"Slug"],[13],[2,"\\n                    "],[8,"gh-text-input",[],[["@value","@id","@name","@tabindex","@focus-out"],[[32,0,["scratchTag","slug"]],"tag-slug","slug","2",[30,[36,0],[[32,0],"setProperty","slug",[32,0,["scratchTag","slug"]]],null]]],null],[2,"\\n                    "],[8,"gh-url-preview",[],[["@prefix","@slug","@tagName","@classNames"],["tag",[32,0,["scratchTag","slug"]],"p","description"]],null],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["activeTag","errors"]],"slug"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-form-group",[],[["@class","@errors","@hasValidated","@property"],["no-margin",[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"description"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","tag-description"],[12],[2,"Description"],[13],[2,"\\n                    "],[8,"gh-textarea",[],[["@id","@name","@class","@tabindex","@value","@focus-out"],["tag-description","description","gh-tag-details-textarea","3",[32,0,["scratchTag","description"]],[30,[36,0],[[32,0],"setProperty","description",[32,0,["scratchTag","description"]]],null]]],null],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tag","errors"]],"description"]],null],[2,"\\n                    "],[10,"p"],[12],[2,"Maximum: "],[10,"b"],[12],[2,"500"],[13],[2," characters. You’ve used "],[1,[30,[36,3],[[32,0,["scratchTag","description"]],500],null]],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n            "],[8,"gh-form-group",[],[["@class","@errors","@hasValidated","@property"],["gh-tag-image-uploader no-margin",[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"featureImage"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","tag-image"],[12],[2,"Tag image"],[13],[2,"\\n                "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,0,["tag","featureImage"]],"Upload tag image",true,[30,[36,0],[[32,0],"setCoverImage"],null],[30,[36,0],[[32,0],"clearCoverImage"],null]]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Meta data"],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Extra content for search engines."],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-expand"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,10],["metadataOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,6],[[32,0,["metadataOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,11],[[32,0,["metadataOpen"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-seo-settings"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-seo-settings-left flex-basis-1-2-m flex-basis-2-3-l"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"metaTitle"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","meta-title"],[12],[2,"Meta title"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@id","@name","@placeholder","@tabindex","@value","@focus-out"],["meta-title","metaTitle",[32,0,["scratchTag","name"]],"4",[32,0,["scratchTag","metaTitle"]],[30,[36,0],[[32,0],"setProperty","metaTitle",[32,0,["scratchTag","metaTitle"]]],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tag","errors"]],"metaTitle"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"70"],[13],[2," characters. You’ve used "],[1,[30,[36,3],[[32,0,["scratchTag","metaTitle"]],70],null]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"metaDescription"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","meta-description"],[12],[2,"Meta description"],[13],[2,"\\n                            "],[8,"gh-textarea",[],[["@id","@name","@class","@placeholder","@tabindex","@value","@focus-out"],["meta-description","metaDescription","gh-tag-details-textarea",[32,0,["scratchTag","description"]],"5",[32,0,["scratchTag","metaDescription"]],[30,[36,0],[[32,0],"setProperty","metaDescription",[32,0,["scratchTag","metaDescription"]]],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tag","errors"]],"metaDescription"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"156"],[13],[2," characters. You’ve used "],[1,[30,[36,3],[[32,0,["scratchTag","metaDescription"]],156],null]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"canonicalUrl"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","canonical-url"],[12],[2,"Canonical URL"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@id","@name","@tabindex","@value","@focus-out"],["canonical-url","canonicalUrl","4",[32,0,["scratchTag","canonicalUrl"]],[30,[36,0],[[32,0],"validateCanonicalUrl"],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tag","errors"]],"canonicalUrl"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"flex-basis-1-2-m flex-basis-1-3-l"],[12],[2,"\\n                            "],[10,"label"],[12],[2,"Search Engine Result Preview"],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-seo-container"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-seo-preview"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex mb7"],[12],[2,"\\n                                        "],[1,[30,[36,4],["google"],null]],[2,"\\n                                        "],[10,"div"],[14,0,"gh-seo-search-bar"],[12],[1,[30,[36,4],["google-search"],null]],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-seo-preview-link"],[12],[1,[32,0,["seoURL"]]],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-seo-preview-title"],[12],[1,[32,0,["seoTitle"]]],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-seo-preview-desc"],[12],[1,[32,0,["seoDescription"]]],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Twitter card"],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Customized structured data for Twitter."],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-expand"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,10],["twitterMetadataOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,6],[[32,0,["twitterMetadataOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,11],[[32,0,["twitterMetadataOpen"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-twitter-settings"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-twitter-settings-left flex-basis-1-2-m flex-basis-2-3-l"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[["@class","@errors","@hasValidated","@property"],["gh-tag-image-uploader",[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"twitterImage"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","twitter-image"],[12],[2,"Twitter image"],[13],[2,"\\n                            "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,0,["tag","twitterImage"]],"Add Twitter image",true,[30,[36,0],[[32,0],"setTwitterImage"],null],[30,[36,0],[[32,0],"clearTwitterImage"],null]]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"twitterTitle"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","twitter-title"],[12],[2,"Twitter title"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@id","@name","@placeholder","@tabindex","@value","@focus-out"],["twitter-title","twitterTitle",[32,0,["scratchTag","name"]],"4",[32,0,["scratchTag","twitterTitle"]],[30,[36,0],[[32,0],"setProperty","twitterTitle",[32,0,["scratchTag","twitterTitle"]]],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tag","errors"]],"twitterTitle"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"70"],[13],[2," characters. You’ve used "],[1,[30,[36,3],[[32,0,["scratchTag","twitterTitle"]],70],null]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"twitterDesctiption"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","twitter-description"],[12],[2,"Twitter description"],[13],[2,"\\n                            "],[8,"gh-textarea",[],[["@id","@name","@class","@placeholder","@tabindex","@value","@focus-out"],["twitter-description","twitterDescription","gh-tag-details-textarea",[32,0,["scratchTag","description"]],"5",[32,0,["scratchTag","twitterDescription"]],[30,[36,0],[[32,0],"setProperty","twitterDescription",[32,0,["scratchTag","twitterDescription"]]],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tag","errors"]],"twitterDescription"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"125"],[13],[2," characters. You’ve used "],[1,[30,[36,3],[[32,0,["scratchTag","twitterDescription"]],125],null]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"flex-basis-1-2-m flex-basis-1-3-l"],[12],[2,"\\n                        "],[10,"label"],[12],[2,"Twitter preview"],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-twitter-container"],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex ma4"],[12],[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,4],["social-twitter"],[["class"],["social-icon"]]]],[13],[2,"\\n                                "],[10,"div"],[14,0,"w-100"],[12],[2,"\\n                                    "],[10,"span"],[14,0,"gh-social-og-title"],[12],[1,[30,[36,5],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                                    "],[10,"span"],[14,0,"gh-social-og-time"],[12],[2,"12 hrs"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"flex flex-column mt2 mb3"],[12],[2,"\\n                                        "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                                        "],[10,"span"],[14,0,"gh-social-og-desc w-60"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-social-twitter-post-preview"],[12],[2,"\\n"],[6,[37,6],[[32,0,["twitterImage"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-image"],[15,5,[30,[36,2],[[32,0,["twitterImage"]]],null]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[10,"div"],[14,0,"gh-social-twitter-preview-content"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-title"],[12],[1,[32,0,["twitterTitle"]]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-desc"],[12],[1,[30,[36,7],[[32,0,["twitterDescription"]]],null]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-meta"],[12],[2,"\\n                                                "],[1,[30,[36,4],["twitter-link"],null]],[2,"\\n                                                "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-social-twitter-reactions"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,4],["twitter-comment"],null]],[2,"2"],[13],[2,"\\n                                        "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,4],["twitter-retweet"],null]],[2,"11"],[13],[2,"\\n                                        "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,4],["twitter-like"],null]],[2,"32"],[13],[2,"\\n                                        "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,4],["twitter-share"],null]],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Facebook card"],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Customize Open Graph data."],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-expand"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,10],["facebookMetadataOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,6],[[32,0,["facebookMetadataOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,11],[[32,0,["facebookMetadataOpen"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-og-settings"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-og-settings-left flex-basis-1-2-m flex-basis-2-3-l"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[["@class","@errors","@hasValidated","@property"],["gh-tag-image-uploader",[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"ogImage"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","og-image"],[12],[2,"Facebook image"],[13],[2,"\\n                            "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,0,["tag","ogImage"]],"Add Facebook image",true,[30,[36,0],[[32,0],"setOgImage"],null],[30,[36,0],[[32,0],"clearOgImage"],null]]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"metaTitle"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","og-title"],[12],[2,"Facebook title"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@id","@name","@placeholder","@tabindex","@value","@focus-out"],["og-title","ogTitle",[32,0,["scratchTag","name"]],"4",[32,0,["scratchTag","ogTitle"]],[30,[36,0],[[32,0],"setProperty","ogTitle",[32,0,["scratchTag","ogTitle"]]],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tag","errors"]],"ogTitle"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"100"],[13],[2," characters. You’ve used "],[1,[30,[36,3],[[32,0,["scratchTag","ogTitle"]],100],null]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"ogDescription"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","og-description"],[12],[2,"Facebook description"],[13],[2,"\\n                            "],[8,"gh-textarea",[],[["@id","@name","@class","@placeholder","@tabindex","@value","@focus-out"],["og-description","ogDescription","gh-tag-details-textarea",[32,0,["scratchTag","description"]],"5",[32,0,["scratchTag","ogDescription"]],[30,[36,0],[[32,0],"setProperty","ogDescription",[32,0,["scratchTag","ogDescription"]]],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tag","errors"]],"ogDescription"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"65"],[13],[2," characters. You’ve used "],[1,[30,[36,3],[[32,0,["scratchTag","ogDescription"]],65],null]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"flex-basis-1-2-m flex-basis-1-3-l"],[12],[2,"\\n                        "],[10,"label"],[12],[2,"Facebook preview"],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-og-container"],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex ma3 mb2"],[12],[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,4],["social-facebook"],[["class"],["social-icon"]]]],[13],[2,"\\n                                "],[10,"div"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-social-og-title"],[12],[1,[30,[36,5],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-social-og-time"],[12],[2,"12 hrs"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"flex flex-column ma3 mt2"],[12],[2,"\\n                                "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                                "],[10,"span"],[14,0,"gh-social-og-desc w-60"],[12],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-social-og-preview"],[12],[2,"\\n"],[6,[37,6],[[32,0,["facebookImage"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-social-og-preview-image"],[15,5,[30,[36,2],[[32,0,["facebookImage"]]],null]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[10,"div"],[14,0,"gh-social-og-preview-bookmark"],[12],[2,"\\n"],[2,"                                    "],[10,"div"],[14,0,"gh-social-og-preview-content"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-social-og-preview-meta"],[12],[2,"\\n                                            "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-social-og-preview-title"],[12],[1,[30,[36,7],[[32,0,["facebookTitle"]]],null]],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-social-og-preview-desc"],[12],[1,[30,[36,7],[[32,0,["facebookDescription"]]],null]],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-social-og-reactions"],[12],[2,"\\n                                "],[10,"span"],[14,0,"gh-social-og-likes"],[12],[1,[30,[36,4],["facebook-like"],[["class"],["z-999"]]]],[1,[30,[36,4],["facebook-heart"],[["class"],["nl1"]]]],[2,"182"],[13],[2,"\\n                                "],[10,"span"],[14,0,"gh-social-og-comments"],[12],[2,"7 comments"],[13],[2,"\\n                                "],[10,"span"],[14,0,"gh-social-og-comments ml2"],[12],[2,"2 shares"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Code injection"],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Add styles/scripts to the header and footer."],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-expand"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,10],["codeInjectionOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,6],[[32,0,["codeInjectionOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,11],[[32,0,["codeInjectionOpen"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n                "],[8,"gh-form-group",[],[["@class","@errors","@hasValidated","@property"],["gh-main-section-block settings-code",[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"codeinjectionHead"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","codeinjection-head"],[14,0,"gh-tag-setting-codeheader"],[12],[2,"Tag header "],[10,"code"],[14,0,"fw4 ml1"],[12],[2,"{{ghost_head}}"],[13],[13],[2,"\\n                    "],[8,"gh-cm-editor",[],[["@value","@id","@class","@name","@focusOut","@stopEnterKeyDownPropagation","@update"],[[32,0,["scratchTag","codeinjectionHead"]],"tag-setting-codeinjection-head","gh-tag-setting-codeinjection","tag-setting-codeinjection-head",[30,[36,0],[[32,0],"setProperty","codeinjectionHead",[32,0,["scratchTag","codeinjectionHead"]]],null],"true",[30,[36,0],[[32,0],[30,[36,1],[[32,0,["scratchTag","codeinjectionHead"]]],null]],null]]],null],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tag","errors"]],"codeinjectionHead"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-form-group",[],[["@class","@errors","@hasValidated","@property"],["gh-main-section-block settings-code",[32,0,["tag","errors"]],[32,0,["tag","hasValidated"]],"codeinjectionFoot"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","codeinjection-foot"],[14,0,"gh-tag-setting-codeheader"],[12],[2,"Tag footer "],[10,"code"],[14,0,"fw4 ml1"],[12],[2,"{{ghost_foot}}"],[13],[13],[2,"\\n                    "],[8,"gh-cm-editor",[],[["@value","@id","@class","@name","@focusOut","@stopEnterKeyDownPropagation","@update"],[[32,0,["scratchTag","codeinjectionFoot"]],"tag-setting-codeinjection-foot","gh-tag-setting-codeinjection","tag-setting-codeinjection-foot",[30,[36,0],[[32,0],"setProperty","codeinjectionFoot",[32,0,["scratchTag","codeinjectionFoot"]]],null],"true",[30,[36,0],[[32,0],[30,[36,1],[[32,0,["scratchTag","codeinjectionFoot"]]],null]],null]]],null],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tag","errors"]],"codeinjectionFoot"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","mut","background-image-style","gh-count-down-characters","svg-jar","or","if","truncate","perform","on","toggle","liquid-if"]}',moduleName:"ghost-admin/components/gh-tag-settings-form.hbs"}),{Handlebars:i}=Ember
var r=Ember._setComponentTemplate(n,Ember.Component.extend({feature:Ember.inject.service(),config:Ember.inject.service(),settings:Ember.inject.service(),tag:null,scratchTag:null,setProperty:()=>{},twitterTitle:Ember.computed.or("scratchTag.twitterTitle","seoTitle"),twitterDescription:Ember.computed.or("scratchTag.twitterDescription","seoDescription","settings.metaDescription",""),twitterImage:Ember.computed.or("tag.twitterImage","tag.featureImage"),facebookTitle:Ember.computed.or("scratchTag.ogTitle","seoTitle"),facebookDescription:Ember.computed.or("scratchTag.ogDescription","seoDescription","settings.metaDescription",""),facebookImage:Ember.computed.or("tag.ogImage","tag.featureImage"),accentColor:Ember.computed("tag.accentColor",(function(){let e=this.get("tag.accentColor")
return e&&"#"===e[0]?e.slice(1):e})),accentColorPickerValue:Ember.computed("tag.accentColor",(function(){return this.tag.get("accentColor")||"#ffffff"})),accentColorBgStyle:Ember.computed("accentColorPickerValue",(function(){return Ember.String.htmlSafe(`background-color: ${this.accentColorPickerValue}`)})),title:Ember.computed("tag.isNew",(function(){return this.get("tag.isNew")?"New tag":"Tag settings"})),seoTitle:Ember.computed("scratchTag.{name,metaTitle}",(function(){const e=this.get("settings.title")||"",t=e?`${this.scratchTag.name} - ${e}`:this.scratchTag.name
let n=this.scratchTag.metaTitle||t
return n&&n.length>70&&(n=n.substring(0,70).trim(),n=i.Utils.escapeExpression(n),n=Ember.String.htmlSafe(`${n}&hellip;`)),n})),seoURL:Ember.computed("scratchTag.{canonicalUrl,slug}",(function(){let e=this.get("config.blogUrl"),t=this.scratchTag.slug||"",n=this.scratchTag.canonicalUrl||`${e}/tag/${t}`
return n.endsWith("/")||(n+="/"),n.length>70&&(n=n.substring(0,70).trim(),n=i.Utils.escapeExpression(n),n=Ember.String.htmlSafe(`${n}&hellip;`)),n})),seoDescription:Ember.computed("scratchTag.{description,metaDescription}",(function(){let e=this.scratchTag.metaDescription||""
return e=e.length>0?e:this.scratchTag.description,e&&e.length>156&&(e=e.substring(0,156).trim(),e=i.Utils.escapeExpression(e),e=Ember.String.htmlSafe(`${e}&hellip;`)),e})),actions:{setProperty(e,t){this.setProperty(e,t)},setTwitterImage(e){this.setProperty("twitterImage",e)},clearTwitterImage(){this.setProperty("twitterImage","")},setOgImage(e){this.setProperty("ogImage",e)},clearOgImage(){this.setProperty("ogImage","")},setCoverImage(e){this.setProperty("featureImage",e)},clearCoverImage(){this.setProperty("featureImage","")},validateCanonicalUrl(){let e=this.get("scratchTag.canonicalUrl"),t=this.get("tag.canonicalUrl"),n=""
if(this.get("tag.errors").remove("canonicalUrl"),this.get("tag.hasValidated").removeObject("canonicalUrl"),""!==e){e||(e=t)
try{new URL(e),this.setProperty("canonicalUrl",""),Ember.run.schedule("afterRender",this,(function(){this.setProperty("canonicalUrl",e)}))}catch(i){n="The url should be a valid url",this.get("tag.errors").add("canonicalUrl",n),this.get("tag.hasValidated").pushObject("canonicalUrl")}}else this.setProperty("canonicalUrl","")}},updateAccentColor:Ember._action((async function(e){let t=e.target.value
const n=this.tag.get("accentColor")
if(this.tag.errors.remove("accentColor"),this.tag.hasValidated.removeObject("accentColor"),""!==t)if(t||(t=n),"#"!==t[0]&&(t=`#${t}`),t.match(/#[0-9A-Fa-f]{6}$/)){if(t===n)return
this.tag.set("accentColor",t),this.scratchTag.set("accentColor",t)}else this.tag.errors.add("accentColor","The colour should be in valid hex format"),this.tag.hasValidated.pushObject("accentColor")
else{if(t===n)return
this.tag.set("accentColor","")}})),debounceUpdateAccentColor:(0,t.task)((function*(e){yield(0,t.timeout)(10),this.updateAccentColor(e)}))}))
e.default=r})),define("ghost-admin/components/gh-tags-list-item",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"KffzEQgU",block:'{"symbols":["@tag","&attrs","@slug"],"statements":[[11,"li"],[24,0,"gh-list-row gh-tags-list-item"],[17,2],[12],[2,"\\n    "],[8,"link-to",[[24,0,"gh-list-data gh-tag-list-title gh-list-cellwidth-70"],[24,"title","Edit tag"]],[["@route","@model"],["tag",[32,1]]],[["default"],[{"statements":[[2,"\\n        "],[10,"h3"],[14,0,"gh-tag-list-name"],[12],[2,"\\n            "],[1,[32,1,["name"]]],[2,"\\n        "],[13],[2,"\\n"],[6,[37,3],[[32,1,["description"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"ma0 pa0 f8 midgrey gh-tag-list-description"],[12],[2,"\\n                "],[1,[32,1,["description"]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8 gh-tag-list-slug gh-list-cellwidth-10"],[24,"title","Edit tag"]],[["@route","@model"],["tag",[32,1]]],[["default"],[{"statements":[[2,"\\n        "],[10,"span"],[15,"title",[31,[[32,3]]]],[12],[1,[32,3]],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[32,1,["count","posts"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"link-to",[[24,0,"gh-list-data gh-tag-list-posts-count gh-list-cellwidth-10 f8"],[16,"title",[30,[36,2],["List posts tagged with \'",[32,1,["name"]],"\'"],null]]],[["@route","@query"],["posts",[30,[36,1],null,[["type","author","tag","order"],[null,null,[32,1,["slug"]],null]]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[14,0,"nowrap"],[12],[1,[30,[36,0],[[32,1,["count","posts"]],"post"],null]],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"link-to",[[24,0,"gh-list-data gh-tag-list-posts-count gh-list-cellwidth-10"],[24,"title","Edit tag"]],[["@route","@model"],["tag",[32,1]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[14,0,"nowrap f8 midlightgrey"],[12],[1,[30,[36,0],[[32,1,["count","posts"]],"post"],null]],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[8,"link-to",[[24,0,"gh-list-data gh-list-cellwidth-10 gh-list-chevron"],[24,"title","Edit tag"]],[["@route","@model"],["tag",[32,1]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex items-center justify-end w-100 h-100"],[12],[2,"\\n            "],[10,"span"],[14,0,"nr2"],[12],[1,[30,[36,4],["arrow-right"],[["class"],["w6 h6 fill-midgrey pa1"]]]],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["gh-pluralize","hash","concat","if","svg-jar"]}',moduleName:"ghost-admin/components/gh-tags-list-item.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/gh-task-button",["exports","ghost-admin/config/environment","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"GRKJ4EQX",block:'{"symbols":["&default"],"statements":[[6,[37,2],[[27,[32,1]]],null,[["default","else"],[{"statements":[[2,"    "],[18,1,[[30,[36,3],null,[["isIdle","isRunning","isSuccess","isFailure"],[[32,0,["isIdle"]],[32,0,["isRunning"]],[32,0,["isSuccess"]],[32,0,["isFailure"]]]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[6,[37,2],[[32,0,["isRunning"]]],null,[["default"],[{"statements":[[10,"span"],[12],[1,[30,[36,0],["spinner"],[["class"],["gh-icon-spinner"]]]],[1,[32,0,["runningText"]]],[13]],"parameters":[]}]]],[2,"\\n    "],[6,[37,2],[[32,0,["isIdle"]]],null,[["default"],[{"statements":[[10,"span"],[12],[1,[32,0,["buttonText"]]],[13]],"parameters":[]}]]],[2,"\\n    "],[6,[37,2],[[32,0,["isSuccess"]]],null,[["default"],[{"statements":[[11,"span"],[4,[38,1],[[32,0,["handleReset"]]],null],[12],[1,[30,[36,0],["check-circle"],null]],[2," "],[1,[32,0,["successText"]]],[13]],"parameters":[]}]]],[2,"\\n    "],[6,[37,2],[[32,0,["isFailure"]]],null,[["default"],[{"statements":[[10,"span"],[12],[1,[30,[36,0],["retry"],null]],[2," "],[1,[32,0,["failureText"]]],[13]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["svg-jar","did-insert","if","hash"]}',moduleName:"ghost-admin/components/gh-task-button.hbs"}),r=Ember.Component.extend({tagName:"button",classNameBindings:["isRunning:appear-disabled","isIdleClass","isRunningClass","isSuccessClass","isFailureClass"],attributeBindings:["disabled","form","type","tabindex","data-test-button"],task:null,taskArgs:void 0,disabled:!1,defaultClick:!1,buttonText:"Save",idleClass:"",runningClass:"",showSuccess:!0,autoReset:!0,successText:"Saved",successClass:"gh-btn-green",failureText:"Retry",failureClass:"gh-btn-red",unlinkedTask:!1,isTesting:void 0,action:()=>{},runningText:Ember.computed.reads("buttonText"),hasRun:Ember.computed("task.performCount",(function(){return this.get("task.performCount")>this._initialPerformCount})),isIdleClass:Ember.computed("isIdle",(function(){return this.isIdle?this.idleClass:""})),isRunning:Ember.computed("task.last.isRunning","hasRun","showSuccess",(function(){let e=this.get("task.name"),t=this.get("task.last.task.name"),n=e===t&&this.get("task.last.isRunning")
return this.hasRun&&e===t&&this.get("task.last.value")&&!this.showSuccess&&(n=!0),n})),isRunningClass:Ember.computed("isRunning",(function(){return this.isRunning?this.runningClass||this.idleClass:""})),isSuccess:Ember.computed("hasRun","isRunning","task.last.value",(function(){let e=this.get("task.name"),t=this.get("task.last.task.name")
if(!this.hasRun||this.isRunning||!this.showSuccess)return!1
let n=this.get("task.last.value")
return e===t&&!Ember.isBlank(n)&&!1!==n})),isSuccessClass:Ember.computed("isSuccess",(function(){return this.isSuccess?this.successClass:""})),isFailure:Ember.computed("hasRun","isRunning","isSuccess","task.last.error",(function(){let e=this.get("task.name"),t=this.get("task.last.task.name")
return!(!this.hasRun||this.isRunning||this.isSuccess)&&(e===t&&void 0!==this.get("task.last.error"))})),isFailureClass:Ember.computed("isFailure",(function(){return this.isFailure?this.failureClass:""})),isIdle:Ember.computed("isRunning","isSuccess","isFailure",(function(){return!this.isRunning&&!this.isSuccess&&!this.isFailure})),init(){this._super(...arguments),this._initialPerformCount=this.get("task.performCount"),void 0===this.isTesting&&(this.isTesting="test"===t.default.environment)},click(){if(this.defaultClick)return void(this.isRunning||this._restartAnimation.perform())
if(this.disabled)return!1
let e=this.get("task.name"),t=this.get("task.last.task.name")
return this.isRunning&&e===t?void 0:(this.action(),this._handleMainTask.perform(),this._restartAnimation.perform(),!1)},mouseDown(e){this.disableMouseDown&&e.preventDefault()},handleReset:Ember._action((function(){const e=this.get("task.last.isSuccessful")&&this.get("task.last.value")
this.autoReset&&this.showSuccess&&e&&this._resetButtonState.perform()})),_restartAnimation:(0,n.task)((function*(){let e=this.element.querySelector(".retry-animated")
e&&(e.classList.remove("retry-animated"),yield(0,n.timeout)(10),e.classList.add("retry-animated"))})),_handleMainTask:(0,n.task)((function*(){this._resetButtonState.cancelAll(),this.unlinkedTask?yield this.task.unlinked().perform(this.taskArgs):yield this.task.perform(this.taskArgs)
const e=this.get("task.last.isSuccessful")&&this.get("task.last.value")
this.autoReset&&this.showSuccess&&e&&this._resetButtonState.perform()})),_resetButtonState:(0,n.task)((function*(){yield(0,n.timeout)(this.isTesting?50:2500),this.get("task.last.isRunning")||(yield this.set("task.last",null))})).restartable()})
var a=Ember._setComponentTemplate(i,r)
e.default=a})),define("ghost-admin/components/gh-text-input",["exports","ghost-admin/mixins/text-input","@ember-decorators/component"],(function(e,t,n){var i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"k2qc+kUV",block:'{"symbols":["&default"],"statements":[[18,1,null]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-text-input.hbs"})
let a=(0,n.classNames)("gh-input")(i=class extends(Ember.TextField.extend(t.default)){})||i
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/gh-textarea",["exports","ghost-admin/mixins/text-input","@ember-decorators/component"],(function(e,t,n){var i,r,a,s,o
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=(i=(0,n.classNames)("gh-input"),r=Ember.inject.service,i((s=class extends(Ember.TextArea.extend(t.default)){constructor(){var e,t,n,i
super(...arguments),e=this,t="resizeDetector",i=this,(n=o)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"autoExpand",!1)}didReceiveAttrs(){super.didReceiveAttrs(...arguments),this.autoExpand&&Ember.run.scheduleOnce("afterRender",this,this._autoExpand)}willInsertElement(){super.willInsertElement(...arguments),this.autoExpand&&(this.element.style.resize="none")}didInsertElement(){super.didInsertElement(...arguments),this.autoExpand&&Ember.run.scheduleOnce("afterRender",this,this._setupAutoExpand),this.didCreateTextarea&&this.didCreateTextarea(this.element)}willDestroyElement(){this._teardownAutoExpand(),super.willDestroyElement(...arguments)}_autoExpand(){let e=this.element
e&&(e.style.height=0,e.style.height=`${e.scrollHeight}px`)}_setupAutoExpand(){this._resizeCallback=Ember.run.bind(this,this._onResize),this.resizeDetector.setup(this.autoExpand,this._resizeCallback),this._autoExpand()}_onResize(){this._autoExpand()}_teardownAutoExpand(){this.resizeDetector.teardown(this.autoExpand,this._resizeCallback)}},u=s.prototype,d="resizeDetector",c=[r],p={configurable:!0,enumerable:!0,writable:!0,initializer:null},h={},Object.keys(p).forEach((function(e){h[e]=p[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=c.slice().reverse().reduce((function(e,t){return t(u,d,e)||e}),h),m&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(m):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(u,d,h),h=null),o=h,a=s))||a)
var u,d,c,p,m,h
e.default=l})),define("ghost-admin/components/gh-theme-error-li",["exports","@ember-decorators/component"],(function(e,t){var n,i,r,a
function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"bArKxx8C",block:'{"symbols":["failure"],"statements":[[11,"a"],[24,6,""],[24,0,"theme-validation-toggle-details"],[4,[38,4],[[32,0],"toggleDetails"],null],[12],[2,"\\n    "],[10,"div"],[14,0,"theme-validation-type-label"],[12],[13],[2,"\\n    "],[10,"div"],[14,0,"flex items-center flex-auto"],[12],[2,"\\n        "],[10,"h4"],[14,0,"theme-validation-rule-text"],[12],[2,"\\n            "],[2,[32,0,["error","rule"]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"theme-validation-rule-icon"],[12],[2,"\\n"],[6,[37,0],[[32,0,["showDetails"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,3],["arrow-down"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[1,[30,[36,3],["arrow-right"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["showDetails"]]],null,[["default"],[{"statements":[[2,"    "],[10,"p"],[14,0,"theme-validation-details"],[12],[2,"\\n        "],[2,[32,0,["error","details"]]],[2,"\\n    "],[13],[2,"\\n"],[6,[37,0],[[32,0,["error","failures"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"theme-validation-list"],[12],[2,"\\n            "],[10,"h6"],[12],[2,"Affected files:"],[13],[2,"\\n            "],[10,"ul"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["error","failures"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[12],[10,"code"],[12],[1,[32,1,["ref"]]],[13],[6,[37,0],[[32,1,["message"]]],null,[["default"],[{"statements":[[2,": "],[1,[32,1,["message"]]]],"parameters":[]}]]],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["if","-track-array","each","svg-jar","action"]}',moduleName:"ghost-admin/components/gh-theme-error-li.hbs"})
let l=(n=(0,t.tagName)(""),i=Ember._action,n((a=class extends Ember.Component{constructor(){super(...arguments),s(this,"error",null),s(this,"showDetails",!1)}toggleDetails(){this.toggleProperty("showDetails")}},u=a.prototype,d="toggleDetails",c=[i],p=Object.getOwnPropertyDescriptor(a.prototype,"toggleDetails"),m=a.prototype,h={},Object.keys(p).forEach((function(e){h[e]=p[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=c.slice().reverse().reduce((function(e,t){return t(u,d,e)||e}),h),m&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(m):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(u,d,h),h=null),r=a))||r)
var u,d,c,p,m,h
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/gh-theme-table",["exports","@glimmer/component","ghost-admin/components/modals/design/confirm-delete-theme"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h
function g(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"0mmTG+oF",block:'{"symbols":["theme","index","dd"],"statements":[[10,"div"],[14,0,"apps-grid"],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,0,["sortedThemes"]]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n            "],[10,"div"],[15,0,[31,["apps-card-app ",[30,[36,2],[[32,1,["active"]],"theme-list-item--active"],null]]]],[12],[2,"\\n                "],[10,"div"],[14,0,"apps-card-meta flex-grow-1"],[12],[2,"\\n                    "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"\\n                        "],[1,[32,1,["label"]]],[2,"\\n                        "],[6,[37,2],[[32,1,["active"]]],null,[["default"],[{"statements":[[10,"span"],[14,0,"gh-badge gh-badge-green"],[12],[2,"Active"],[13]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[10,"span"],[14,0,"description"],[12],[2,"Version "],[1,[32,1,["version"]]],[13],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,3],[[32,1,["active"]]],null,[["default"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"apps-configured-action darkgrey apps-configured-action-activate green-hover green-bg-hover"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["activateTheme"]],[32,1,["model"]],[32,0,["dd"]]],null]],null],[12],[2,"Activate"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[8,"gh-basic-dropdown",[],[["@verticalPosition","@horizontalPosition","@buttonPosition"],["below","right","right"]],[["default"],[{"statements":[[2,"\\n                    "],[8,[32,3,["Trigger"]],[[24,0,"gh-btn gh-btn-icon"]],[[],[]],[["default"],[{"statements":[[10,"span"],[12],[1,[30,[36,4],["dotdotdot"],null]],[13]],"parameters":[]}]]],[2,"\\n\\n                    "],[8,[32,3,["Content"]],[[24,0,"relative-dropdown-menu"]],[[],[]],[["default"],[{"statements":[[2,"\\n                        "],[10,"ul"],[14,0,"dropdown-menu"],[12],[2,"\\n\\n                            "],[10,"li"],[12],[11,"button"],[24,0,"darkgrey darkgrey-hover lightgrey-bg-hover"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["downloadTheme"]],[32,1,["name"]],[32,3]],null]],null],[12],[2,"Download"],[13],[13],[2,"\\n\\n"],[6,[37,2],[[32,1,["isDeletable"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"li"],[12],[11,"button"],[16,"disabled",[32,1,["active"]]],[24,0,"gh-list-delete"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["deleteTheme"]],[32,1,["model"]],[32,3]],null]],null],[12],[2,"Delete"],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "]],"parameters":[3]}]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[1,2]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","if","unless","svg-jar","-track-array","each"]}',moduleName:"ghost-admin/components/gh-theme-table.hbs"})
let y=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._action,l=Ember._action,u=Ember._action,d=class extends t.default{constructor(){super(...arguments),g(this,"ghostPaths",c,this),g(this,"modals",p,this),g(this,"themeManagement",m,this),g(this,"utils",h,this),b(this,"activateTaskInstance",null),b(this,"confirmDeleteModal",null)}willDestroy(){super.willDestroy(...arguments),this.confirmDeleteModal?.close?.(),this.activateTaskInstance?.cancel()}get sortedThemes(){let e=this.args.themes.map((e=>{let t={},n=Ember.get(e,"package")
return t.model=e,t.name=Ember.get(e,"name"),t.label=n?`${n.name}`:t.name,t.version=n?`${n.version}`:"1.0",t.package=n,t.active=Ember.get(e,"active"),t.isDeletable=!t.active,t})),t=[]
e.forEach((n=>{e.filterBy("label",n.label).length>1&&t.pushObject(n)})),t.forEach((e=>{"casper"!==e.name&&(e.label=`${e.label} (${e.name})`)}))
let n=e.findBy("name","casper")
return n&&(n.label=`${n.label} (default)`,n.isDefault=!0,n.isDeletable=!1),e.sort(((e,t)=>{let n=e.label.toLowerCase(),i=t.label.toLowerCase()
return n<i?-1:n>i?1:0}))}downloadTheme(e,t){t?.actions.close(),this.utils.downloadFile(`${this.ghostPaths.apiRoot}/themes/${e}/download/`)}activateTheme(e,t){t?.actions.close(),this.activateTaskInstance=this.themeManagement.activateTask.perform(e)}deleteTheme(e,t){t?.actions.close(),this.confirmDeleteModal=this.modals.open(n.default,{theme:e}).finally((()=>{this.confirmDeleteModal=null}))}},c=f(d.prototype,"ghostPaths",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(d.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(d.prototype,"themeManagement",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f(d.prototype,"utils",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(d.prototype,"downloadTheme",[o],Object.getOwnPropertyDescriptor(d.prototype,"downloadTheme"),d.prototype),f(d.prototype,"activateTheme",[l],Object.getOwnPropertyDescriptor(d.prototype,"activateTheme"),d.prototype),f(d.prototype,"deleteTheme",[u],Object.getOwnPropertyDescriptor(d.prototype,"deleteTheme"),d.prototype),d)
e.default=y,Ember._setComponentTemplate(v,y)})),define("ghost-admin/components/gh-timezone-select",["exports","moment","@ember-decorators/component"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h
function g(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"aoQ098/g",block:'{"symbols":[],"statements":[[10,"span"],[14,0,"gh-select"],[15,"data-select-text",[31,[[32,0,["selectedTimezone","label"]]]]],[14,"tabindex","0"],[12],[2,"\\n    "],[8,"one-way-select",[],[["@id","@name","@options","@optionValuePath","@optionLabelPath","@value","@update"],["timezone","general[timezone]",[32,0,["selectableTimezones"]],"name","label",[32,0,["selectedTimezone"]],[30,[36,0],[[32,0],"setTimezone"],null]]],null],[2,"\\n    "],[1,[30,[36,1],["arrow-down-small"],null]],[2,"\\n"],[13],[2,"\\n"],[6,[37,2],[[32,0,["hasTimezoneOverride"]]],null,[["default"],[{"statements":[[2,"    "],[10,"p"],[12],[2,"Your timezone has been automatically set to "],[1,[32,0,["timezone"]]],[2,"."],[13],[2,"\\n"]],"parameters":[]}]]],[10,"p"],[12],[2,"The local time here is currently "],[1,[32,0,["localTime"]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","if"]}',moduleName:"ghost-admin/components/gh-timezone-select.hbs"})
let y=(i=(0,n.classNames)("form-group","for-select"),r=Ember.inject.service,a=Ember.computed.mapBy("availableTimezones","name"),s=Ember.computed("timezone","availableTimezoneNames"),o=Ember.computed("timezone","availableTimezones","hasTimezoneOverride"),l=Ember.computed("availableTimezones","hasTimezoneOverride"),u=Ember.computed("hasTimezoneOverride","timezone","selectedTimezone","clock.second"),d=Ember._action,i((p=class extends Ember.Component{constructor(){super(...arguments),g(this,"clock",m,this),b(this,"timezone",null),b(this,"availableTimezones",null),b(this,"update",(()=>{})),g(this,"availableTimezoneNames",h,this)}get hasTimezoneOverride(){let e=this.timezone
return!this.availableTimezoneNames.includes(e)}get selectedTimezone(){let e=this.hasTimezoneOverride,t=this.timezone,n=this.availableTimezones
return e?{name:"",label:""}:n.filterBy("name",t).get("firstObject")}get selectableTimezones(){let e=this.hasTimezoneOverride,t=this.availableTimezones
return e?[{name:"",label:""},...t]:t}get localTime(){let e=this.hasTimezoneOverride?this.timezone:this.get("selectedTimezone.name")
return this.get("clock.second"),e?(0,t.default)().tz(e).format("HH:mm:ss"):(0,t.default)().utc().format("HH:mm:ss")}setTimezone(e){this.update(e)}},m=f(p.prototype,"clock",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f(p.prototype,"availableTimezoneNames",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(p.prototype,"hasTimezoneOverride",[s],Object.getOwnPropertyDescriptor(p.prototype,"hasTimezoneOverride"),p.prototype),f(p.prototype,"selectedTimezone",[o],Object.getOwnPropertyDescriptor(p.prototype,"selectedTimezone"),p.prototype),f(p.prototype,"selectableTimezones",[l],Object.getOwnPropertyDescriptor(p.prototype,"selectableTimezones"),p.prototype),f(p.prototype,"localTime",[u],Object.getOwnPropertyDescriptor(p.prototype,"localTime"),p.prototype),f(p.prototype,"setTimezone",[d],Object.getOwnPropertyDescriptor(p.prototype,"setTimezone"),p.prototype),c=p))||c)
e.default=y,Ember._setComponentTemplate(v,y)})),define("ghost-admin/components/gh-token-input",["exports","@glimmer/component","ember-power-select/utils/group-utils","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d
function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"Fp9Gm4zc",block:'{"symbols":["option","@labelField","&default","@class","@triggerRole","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@afterOptionsComponent","@allowClear","@beforeOptionsComponent","@buildSelection","@calculatePosition","@closeOnSelect","@destination","@disabled","@dropdownClass","@extra","@groupComponent","@horizontalPosition","@initiallyOpened","@loadingMessage","@matchTriggerWidth","@noMatchesMessage","@onClose","@onInput","@onOpen","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@required","@scrollTo","@searchMessage","@searchPlaceholder","@selected","@selectedItemComponent","@eventType","@title","@triggerClass","@triggerComponent","@triggerId","@verticalPosition","@tabindex"],"statements":[[8,"gh-token-input/select-multiple",[[16,0,[30,[36,3],["gh-token-input ",[32,4]],null]]],[["@triggerRole","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@afterOptionsComponent","@allowClear","@beforeOptionsComponent","@buildSelection","@calculatePosition","@closeOnSelect","@defaultHighlighted","@destination","@disabled","@dropdownClass","@extra","@groupComponent","@horizontalPosition","@initiallyOpened","@loadingMessage","@matcher","@matchTriggerWidth","@noMatchesMessage","@onBlur","@onChange","@onClose","@onFocus","@onInput","@onKeydown","@onOpen","@options","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@required","@scrollTo","@search","@searchEnabled","@searchField","@searchMessage","@searchPlaceholder","@selected","@selectedItemComponent","@eventType","@title","@triggerClass","@triggerComponent","@triggerId","@verticalPosition","@tabindex"],[[32,5],[32,6],[32,7],[32,8],[32,9],[32,10],[32,11],[32,12],[32,13],[32,14],[30,[36,0],[[32,15],false],null],[32,0,["defaultHighlighted"]],[32,16],[32,17],[32,18],[32,19],[30,[36,0],[[32,20],"power-select/power-select-group"],null],[32,21],[32,22],[32,23],[32,0,["matcher"]],[32,24],[32,25],[32,0,["handleBlur"]],[32,0,["selectOrCreate"]],[32,26],[32,0,["handleFocus"]],[32,27],[32,0,["handleKeydown"]],[32,28],[32,0,["optionsWithoutSelected"]],[30,[36,0],[[32,29],"power-select-vertical-collection-options"],null],[32,30],[32,31],[32,32],[32,33],[32,34],[32,35],[32,36],[32,0,["searchAndSuggest"]],true,[32,0,["searchField"]],[32,37],[32,38],[32,39],[32,40],[32,41],[32,42],[32,43],[30,[36,0],[[32,44],"gh-token-input/trigger"],null],[32,45],[32,46],[32,47]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,1,["__isSuggestion__"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"gh-token-input/suggested-option",[],[["@option"],[[32,1]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[27,[32,3]]],null,[["default","else"],[{"statements":[[2,"            "],[18,3,[[32,1]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[1,[30,[36,1],[[32,1],[30,[36,0],[[32,2],"name"],null]],null]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[1]}]]]],"hasEval":false,"upvars":["or","get","if","concat"]}',moduleName:"ghost-admin/components/gh-token-input.hbs"}),{Handlebars:m}=Ember
let h=(r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,d=class extends t.default{get matcher(){return this.args.matcher||n.defaultMatcher}get searchField(){return void 0===this.args.searchField?"name":this.args.searchField}get optionsWithoutSelected(){let e=this.args.options,t=this.args.selected,n=[]
return function e(n,i){n.forEach((n=>{if(n.options){const t=[]
return e(n.options,t),void(t.length>0&&i.push({groupName:n.groupName,options:t}))}t.includes(n)||i.push(n)}))}(e,n),n}handleKeydown(e,t){if(8===t.keyCode&&Ember.isBlank(t.target.value)){return e.selected[e.selected.length-1]&&(this.args.onChange(e.selected.slice(0,-1),e),e.actions.search(""),e.actions.open(t)),!1}if(9===t.keyCode&&!Ember.isBlank(t.target.value)&&e.highlighted&&(!e.selected||-1===e.selected.indexOf(e.highlighted)))return e.actions.choose(e.highlighted,t),t.preventDefault(),!1
if(t.ctrlKey||t.metaKey){const e=new KeyboardEvent(t.type,t)
return document.getElementsByClassName("gh-app")[0].dispatchEvent(e),t.preventDefault(),!1}return!0}handleFocus(){key.setScope("gh-token-input"),this.args.onFocus?.(...arguments)}handleBlur(){key.setScope("default"),this.args.onBlur?.(...arguments)}searchAndSuggest(e,t){return this.searchAndSuggestTask.perform(e,t)}selectOrCreate(e,t,n){if(n&&"Space"===n.code)return void t.actions.search(`${t.searchText} `)
if(!Ember.isArray(e))return
let i=e.find((e=>e.__isSuggestion__))
i?this.args.onCreate(i.__value__,t):this.args.onChange(e,t),t.actions.search("")}*searchAndSuggestTask(e,t){let n=this.optionsWithoutSelected.toArray()
if(0===e.length)return n
let i=this.args.search
if(i){let n=yield i(e,t)
return n.toArray&&(n=n.toArray()),this._addCreateOption(e,n),n}return n=this._filter(Ember.A(n),e),this._addCreateOption(e,n),n}defaultHighlighted(e){let{results:t}=e,i=(0,n.advanceSelectableOption)(t,void 0,1)
return t.length>1&&i.__isSuggestion__&&(i=(0,n.advanceSelectableOption)(t,i,1)),i}_addCreateOption(e,t){this._shouldShowCreateOption(e,t)&&t.unshift(this._buildSuggestionForTerm(e))}_shouldShowCreateOption(e,t){return!1!==this.args.allowCreation&&(this.args.showCreateWhen?this.args.showCreateWhen(e,t):this._hideCreateOptionOnSameTerm(e,t))}_buildSuggestionForTerm(e){return{__isSuggestion__:!0,__value__:e,text:this._buildSuggestionLabel(e)}}_hideCreateOptionOnSameTerm(e,t){return!t.findBy(this.searchField,e)}_filter(e,t){let i
return i=this.searchField?(e,t)=>this.matcher(Ember.get(e,this.searchField),t):(e,t)=>this.matcher(e,t),(0,n.filterOptions)(e||[],t,i)}_buildSuggestionLabel(e){return this.args.buildSuggestion?this.args.buildSuggestion(e):Ember.String.htmlSafe(`Add <strong>"${m.Utils.escapeExpression(e)}"...</strong>`)}},c(d.prototype,"handleKeydown",[r],Object.getOwnPropertyDescriptor(d.prototype,"handleKeydown"),d.prototype),c(d.prototype,"handleFocus",[a],Object.getOwnPropertyDescriptor(d.prototype,"handleFocus"),d.prototype),c(d.prototype,"handleBlur",[s],Object.getOwnPropertyDescriptor(d.prototype,"handleBlur"),d.prototype),c(d.prototype,"searchAndSuggest",[o],Object.getOwnPropertyDescriptor(d.prototype,"searchAndSuggest"),d.prototype),c(d.prototype,"selectOrCreate",[l],Object.getOwnPropertyDescriptor(d.prototype,"selectOrCreate"),d.prototype),c(d.prototype,"searchAndSuggestTask",[i.task],Object.getOwnPropertyDescriptor(d.prototype,"searchAndSuggestTask"),d.prototype),c(d.prototype,"defaultHighlighted",[u],Object.getOwnPropertyDescriptor(d.prototype,"defaultHighlighted"),d.prototype),d)
e.default=h,Ember._setComponentTemplate(p,h)})),define("ghost-admin/components/gh-token-input/label-selected-item",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"SeJHf5Yg",block:'{"symbols":["@option"],"statements":[[1,[32,1,["name"]]],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-token-input/label-selected-item.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/gh-token-input/label-token",["exports","ember-drag-drop/components/draggable-object","@ember-decorators/component"],(function(e,t,n){var i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"EBbGHkmI",block:'{"symbols":["&default"],"statements":[[18,1,null],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-token-input/label-token.hbs"})
let a=(0,n.attributeBindings)("title")(i=(0,n.classNames)("label-token")(i=class extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"title","Label")}})||i)||i
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/gh-token-input/select-multiple",["exports","jquery","ember-power-select/components/power-select-multiple","@ember-decorators/component"],(function(e,t,n,i){var r,a,s,o,l,u
function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"SXwSrmf3",block:'{"symbols":["option","select","@triggerRole","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@afterOptionsComponent","@allowClear","@beforeOptionsComponent","@buildSelection","@calculatePosition","@closeOnSelect","@defaultHighlighted","@destination","@disabled","@dropdownClass","@extra","@groupComponent","@horizontalPosition","@initiallyOpened","@loadingMessage","@matcher","@matchTriggerWidth","@noMatchesMessage","@onBlur","@onChange","@onClose","@onInput","@options","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@required","@scrollTo","@search","@searchEnabled","@searchField","@searchMessage","@searchPlaceholder","@selected","@selectedItemComponent","@eventType","@title","@triggerClass","@tabindex","@triggerComponent","@triggerId","@verticalPosition","&attrs","&default"],"statements":[[8,"power-select",[[17,53]],[["@triggerRole","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@afterOptionsComponent","@allowClear","@beforeOptionsComponent","@buildSelection","@calculatePosition","@closeOnSelect","@defaultHighlighted","@destination","@disabled","@dropdownClass","@extra","@groupComponent","@horizontalPosition","@initiallyOpened","@loadingMessage","@matcher","@matchTriggerWidth","@noMatchesMessage","@onBlur","@onChange","@onClose","@onFocus","@onInput","@onKeydown","@onOpen","@options","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@required","@scrollTo","@search","@searchEnabled","@searchField","@searchMessage","@searchPlaceholder","@selected","@selectedItemComponent","@eventType","@title","@triggerClass","@triggerComponent","@triggerId","@verticalPosition","@tabindex"],[[32,3],[32,4],[32,5],[32,6],[32,7],[32,8],[32,9],[30,[36,0],[[32,10],null],null],[30,[36,0],[[32,11],[32,0,["defaultBuildSelection"]]],null],[32,12],[32,13],[32,14],[32,15],[32,16],[32,17],[30,[36,2],[[32,18],[30,[36,1],null,[["optionMouseDown","optionTouchStart"],[[32,0,["optionMouseDown"]],[32,0,["optionTouchStart"]]]]]],null],[32,19],[32,20],[32,21],[32,22],[32,23],[32,24],[32,25],[32,26],[32,27],[32,28],[32,0,["handleFocus"]],[32,29],[32,0,["handleKeydown"]],[32,0,["handleOpen"]],[32,30],[32,31],[32,32],[32,33],[32,34],[32,35],[32,36],[32,37],[32,38],[32,39],[32,40],[32,41],[32,42],[32,43],[32,44],[32,45],[32,46],[32,47],[31,["ember-power-select-multiple-trigger ",[32,48]]],[30,[36,3],[[30,[36,0],[[32,50],"power-select-multiple/trigger"],null]],[["tabindex"],[[32,49]]]],[32,51],[32,52],[32,0,["computedTabIndex"]]]],[["default"],[{"statements":[[2,"\\n    "],[18,54,[[32,1],[32,2]]],[2,"\\n"]],"parameters":[1,2]}]]]],"hasEval":false,"upvars":["or","hash","assign","component"]}',moduleName:"ghost-admin/components/gh-token-input/select-multiple.hbs"}),p="click.ghToken mouseup.ghToken touchend.ghToken"
let m=(r=(0,i.tagName)("div"),a=Ember._action,s=Ember._action,o=Ember._action,r((u=class extends n.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_canFocus",!0)}willDestroyElement(){super.willDestroyElement(...arguments),this._allowFocusListener&&(0,t.default)(window).off(p,this._allowFocusListener)}optionMouseDown(e){1!==e.which||e.ctrlKey||this._denyFocus(e)}optionTouchStart(e){this._denyFocus(e)}handleFocus(){this._canFocus&&super.handleFocus(...arguments)}_denyFocus(){this._canFocus&&(this._canFocus=!1,this._allowFocusListener=Ember.run.bind(this,this._allowFocus),(0,t.default)(window).on(p,this._allowFocusListener))}_allowFocus(){this._canFocus=!0,(0,t.default)(window).off(p,this._allowFocusListener),this._allowFocusListener=null}},d(u.prototype,"optionMouseDown",[a],Object.getOwnPropertyDescriptor(u.prototype,"optionMouseDown"),u.prototype),d(u.prototype,"optionTouchStart",[s],Object.getOwnPropertyDescriptor(u.prototype,"optionTouchStart"),u.prototype),d(u.prototype,"handleFocus",[o],Object.getOwnPropertyDescriptor(u.prototype,"handleFocus"),u.prototype),l=u))||l)
var h=Ember._setComponentTemplate(c,m)
e.default=h})),define("ghost-admin/components/gh-token-input/suggested-option",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"CbOdsNhW",block:'{"symbols":["@option"],"statements":[[1,[32,1,["text"]]],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-token-input/suggested-option.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/gh-token-input/tag-token",["exports","ember-drag-drop/components/draggable-object","@ember-decorators/component"],(function(e,t,n){var i,r,a,s,o,l,u,d,c
function p(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"7t6Vxwo6",block:'{"symbols":["&default"],"statements":[[18,1,null],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-token-input/tag-token.hbs"})
let h=(i=(0,n.attributeBindings)("title"),r=(0,n.classNames)("tag-token"),a=(0,n.classNameBindings)("internal:tag-token--internal"),s=Ember.computed.readOnly("content.isInternal"),o=Ember.computed("idx","internal"),l=Ember.computed("internal"),i(u=r(u=a((d=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="internal",i=this,(n=c)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get primary(){return!this.internal&&0===this.idx}get title(){return this.internal?"Internal tag":""}},c=p(d.prototype,"internal",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(d.prototype,"primary",[o],Object.getOwnPropertyDescriptor(d.prototype,"primary"),d.prototype),p(d.prototype,"title",[l],Object.getOwnPropertyDescriptor(d.prototype,"title"),d.prototype),u=d))||u)||u)||u)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/gh-token-input/trigger",["exports","ember-power-select/components/power-select-multiple/trigger"],(function(e,t){var n,i,r,a,s
function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"tjaH18KD",block:'{"symbols":["opt","idx","@select","@listboxId","@tabindex","@onFocus","@onBlur","@placeholder","@searchEnabled","&default","@selectedItemComponent","@extra"],"statements":[[8,"sortable-objects",[],[["@tagName","@id","@class","@sortableObjectList","@enableSort","@useSwap","@sortEndAction"],["ul",[30,[36,9],["ember-power-select-multiple-options-",[32,3,["uniqueId"]]],null],"ember-power-select-multiple-options",[32,3,["selected"]],true,false,[30,[36,11],[[32,0],"reorderItems"],null]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,13],[[30,[36,12],[[30,[36,12],[[32,3,["selected"]]],null]],null]],null,[["default","else"],[{"statements":[[6,[37,7],[[30,[36,10],[[32,12,["tokenComponent"]],"draggable-object"],null]],[["tagName","class","select","content","idx","isSortable","mouseDown","touchStart"],["li",[30,[36,9],["ember-power-select-multiple-option",[30,[36,4],[[32,1,["class"]],[30,[36,9],[" token-",[32,1,["class"]]],null]],null]],null],[32,3],[30,[36,6],[[32,1]],null],[32,2],true,[32,0,["handleOptionMouseDown"]],[32,0,["handleOptionTouchStart"]]]],[["default"],[{"statements":[[6,[37,4],[[32,11]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,7],[[32,11]],[["option","select"],[[30,[36,6],[[32,1]],null],[30,[36,6],[[32,3]],null]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[18,10,[[32,1],[32,3]]],[2,"\\n"]],"parameters":[]}]]],[6,[37,8],[[32,3,["disabled"]]],null,[["default"],[{"statements":[[2,"                "],[11,"span"],[24,"role","button"],[24,"aria-label","remove element"],[24,0,"ember-power-select-multiple-remove-btn"],[16,"data-selected-index",[32,2]],[4,[38,0],["mousedown",[32,0,["handleOptionMouseDown"]]],null],[12],[2,"\\n                    "],[1,[30,[36,5],["close"],[["data-selected-index"],[[32,2]]]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[1,2]},{"statements":[[6,[37,4],[[30,[36,3],[[32,8],[30,[36,2],[[32,9]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"span"],[14,0,"ember-power-select-placeholder"],[12],[1,[32,8]],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,9]],null,[["default"],[{"statements":[[2,"        "],[11,"input"],[24,0,"ember-power-select-trigger-multiple-input"],[24,"autocomplete","off"],[24,"autocorrect","off"],[24,"autocapitalize","off"],[24,"spellcheck","false"],[16,1,[31,["ember-power-select-trigger-multiple-input-",[32,3,["uniqueId"]]]]],[16,2,[32,3,["searchText"]]],[16,"aria-controls",[32,4]],[16,5,[32,0,["triggerMultipleInputStyle"]]],[16,"placeholder",[32,0,["maybePlaceholder"]]],[16,"disabled",[32,3,["disabled"]]],[16,"tabindex",[32,5]],[24,4,"search"],[4,[38,0],["focus",[32,6]],null],[4,[38,0],["blur",[32,7]],null],[4,[38,0],["input",[32,0,["handleInput"]]],null],[4,[38,0],["keydown",[32,0,["handleKeydown"]]],null],[4,[38,1],[[32,0,["storeInputStyles"]]],null],[12],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[10,"span"],[14,0,"ember-power-select-status-icon"],[12],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","did-insert","not","and","if","svg-jar","readonly","component","unless","concat","or","action","-track-array","each"]}',moduleName:"ghost-admin/components/gh-token-input/trigger.hbs"})
let u=(n=Ember._action,i=Ember._action,r=Ember._action,a=Ember._action,o((s=class extends t.default{handleOptionMouseDown(e){if(!e.target.closest("[data-selected-index]")){let t=this.args.extra.optionMouseDown
if(t)return t(e)}return this.chooseOption(e)}handleOptionTouchStart(e){let t=this.args.extra.optionTouchStart
if(t)return t(e)}reorderItems(){let e=this.args.select.selected.slice()
this.args.select.actions.select(e)}handleKeydown(e){if(this.args.onKeydown&&!1===this.args.onKeydown(e))return e.stopPropagation(),!1
if(8===e.keyCode&&(e.stopPropagation(),Ember.isBlank(e.target.value))){let t=this.args.select.selected[this.args.select.selected.length-1]
if(t){if(this.args.select.actions.select(this.args.buildSelection(t,this.args.select),e),"string"==typeof t)this.args.select.actions.search(t)
else{let e=this.searchField
this.args.select.actions.search(Ember.get(t,e))}this.args.select.actions.open(e)}}}}).prototype,"handleOptionMouseDown",[n],Object.getOwnPropertyDescriptor(s.prototype,"handleOptionMouseDown"),s.prototype),o(s.prototype,"handleOptionTouchStart",[i],Object.getOwnPropertyDescriptor(s.prototype,"handleOptionTouchStart"),s.prototype),o(s.prototype,"reorderItems",[r],Object.getOwnPropertyDescriptor(s.prototype,"reorderItems"),s.prototype),o(s.prototype,"handleKeydown",[a],Object.getOwnPropertyDescriptor(s.prototype,"handleKeydown"),s.prototype),s)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/gh-trim-focus-input",["exports","ghost-admin/components/gh-text-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"shouldFocus",!0)}focusOut(e){this._trimInput(e.target.value,e),super.focusOut(...arguments)}_trimInput(e,t){e&&"function"==typeof e.trim&&(e=e.trim()),this.element.value=e,this._elementValueDidChange(t)
let n=this.input
n&&n(t)}}var i=n
e.default=i})),define("ghost-admin/components/gh-unsplash-photo",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"HIlUnuk7",block:'{"symbols":["@photo","@zoomed"],"statements":[[11,"a"],[24,0,"gh-unsplash-photo"],[24,6,"#"],[16,5,[32,0,["style"]]],[4,[38,0],["click",[32,0,["zoom"]]],null],[4,[38,1],null,[["zoomed","ratio"],[[32,2],[32,1,["ratio"]]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-unsplash-photo-container"],[15,5,[32,0,["containerStyle"]]],[12],[2,"\\n        "],[10,"img"],[15,"src",[32,0,["imageUrl"]]],[15,"alt",[32,1,["description"]]],[15,"width",[32,0,["width"]]],[15,"height",[32,0,["height"]]],[12],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-unsplash-photo-overlay"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-unsplash-photo-header"],[12],[2,"\\n                "],[10,"a"],[14,0,"gh-unsplash-button-likes gh-unsplash-button"],[15,6,[31,[[32,1,["links","html"]],"?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit"]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[30,[36,2],["unsplash-heart"],null]],[1,[32,1,["likes"]]],[13],[2,"\\n                "],[10,"a"],[14,0,"gh-unsplash-button-download gh-unsplash-button"],[15,6,[31,[[32,1,["links","download"]],"/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit&force=true"]]],[12],[1,[30,[36,2],["download"],null]],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-unsplash-photo-footer"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-unsplash-photo-author"],[12],[2,"\\n                    "],[10,"a"],[14,0,"gh-unsplash-photo-author-img"],[15,6,[31,[[32,1,["user","links","html"]],"?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit"]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                        "],[10,"img"],[15,"src",[31,[[32,1,["user","profile_image","medium"]]]]],[15,"alt",[32,1,["alt_description"]]],[12],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"a"],[14,0,"gh-unsplash-photo-author-name"],[15,6,[31,[[32,1,["user","links","html"]],"?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit"]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                        "],[1,[32,1,["user","name"]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[11,"a"],[24,0,"gh-unsplash-button"],[24,6,"#"],[4,[38,0],["click",[32,0,["select"]]],null],[12],[2,"Insert image"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","ratio-zoom","svg-jar"]}',moduleName:"ghost-admin/components/gh-unsplash-photo.hbs"})
let p=(n=Ember._tracked,i=Ember._tracked,r=Ember._action,a=Ember._action,s=class extends t.default{get style(){return Ember.String.htmlSafe(this.args.zoomed?"width: auto; margin: 0;":"")}get containerStyle(){const e=[],t=this.args.photo.ratio,n=this.args.zoomed
return e.push(`background-color: ${this.args.photo.color}`),n?e.push("cursor: zoom-out"):e.push(`padding-bottom: ${100*t}%`),Ember.String.htmlSafe(e.join("; "))}get imageUrl(){let e=this.args.photo.urls.regular
return e=e.replace("&w=1080","&w=1200"),e}constructor(){super(...arguments),u(this,"height",o,this),u(this,"width",l,this),this.height=this.width*this.args.photo.ratio}select(e){e.preventDefault(),e.stopPropagation(),this.args.select(this.args.photo)}zoom(e){const{target:t}=e
!t.matches("a")&&t.closest("a").classList.contains("gh-unsplash-photo")&&(e.preventDefault(),this.args.zoom(this.args.photo)),e.stopPropagation()}},o=d(s.prototype,"height",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=d(s.prototype,"width",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1200}}),d(s.prototype,"select",[r],Object.getOwnPropertyDescriptor(s.prototype,"select"),s.prototype),d(s.prototype,"zoom",[a],Object.getOwnPropertyDescriptor(s.prototype,"zoom"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(c,p)})),define("ghost-admin/components/gh-unsplash",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y
function w(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function E(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const k=Ember.HTMLBars.template({id:"R5fzkSAC",block:'{"symbols":["photos","photo","@close"],"statements":[[6,[37,12],[[30,[36,11],["#unsplash-selector-wormhole"],null]],[["guid","insertBefore"],["%cursor:0%",[29]]],[["default"],[{"statements":[[2,"    "],[11,"div"],[24,0,"fullscreen-modal-background"],[24,"role","button"],[24,5,"z-index: 999"],[4,[38,0],["click",[32,3]],null],[12],[13],[2,"\\n    "],[11,"div"],[24,0,"absolute top-8 right-8 bottom-8 left-8 br4 overflow-hidden bg-white z-9999"],[4,[38,6],[[32,0,["handleResize"]]],null],[4,[38,7],["Escape",[32,0,["handleEscape"]]],null],[12],[2,"\\n"],[2,"        "],[11,"button"],[24,0,"absolute top-6 right-6"],[24,4,"button"],[4,[38,0],["click",[32,3]],null],[12],[2,"\\n            "],[1,[30,[36,8],["close"],[["class"],["w4 stroke-midlightgrey-l2"]]]],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"flex flex-column h-100"],[12],[2,"\\n"],[2,"            "],[10,"header"],[14,0,"flex-shrink-0 flex flex-row-l flex-column justify-between pt6 pr8 pb6 pl8 pt10-l pr20-l pb10-l pl20-l items-center"],[12],[2,"\\n                "],[10,"h1"],[14,0,"flex items-center darkgrey-d2 w-100 nudge-top--4"],[12],[2,"\\n                    "],[10,"a"],[14,0,"dib w8 mr2"],[14,6,"https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[30,[36,8],["unsplash"],[["class"],["fill-darkgrey-d2"]]]],[13],[2,"\\n                    Unsplash\\n                "],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-input-icon mw88-l flex-auto w-100 mt3 mt0-l"],[12],[2,"\\n                    "],[1,[30,[36,8],["search"],null]],[2,"\\n                    "],[11,"input"],[24,0,"gh-unsplash-search"],[24,3,"searchKeyword"],[24,"placeholder","Search free high-resolution photos"],[24,"tabindex","0"],[24,"autocorrect","off"],[16,2,[30,[36,9],[[32,0,["unsplash","searchTerm"]]],null]],[24,"aria-label","Search Unsplash photos"],[24,4,"text"],[4,[38,0],["input",[32,0,["search"]]],null],[4,[38,7],["Escape",[32,0,["clearSearch"]]],null],[4,[38,10],null,null],[12],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[2,"            "],[10,"div"],[14,0,"relative h-100 overflow-hidden"],[12],[2,"\\n"],[2,"                "],[10,"div"],[14,0,"overflow-auto h-100 w-100 pr8 pl8 pr20-l pl20-l"],[12],[2,"\\n"],[6,[37,3],[[32,0,["unsplash","photos"]]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"section"],[14,0,"gh-unsplash-grid"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["unsplash","columns"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-unsplash-grid-column"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,1]],null]],null]],null,[["default"],[{"statements":[[2,"                                        "],[8,"gh-unsplash-photo",[],[["@photo","@zoom","@select"],[[32,2],[32,0,["zoomPhoto"]],[32,0,["select"]]]],null],[2,"\\n"]],"parameters":[2]}]]],[2,"                                "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,0,["unsplash","searchTerm"]],[30,[36,1],[[32,0,["unsplash","error"]],[32,0,["unsplash","isLoading"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"section"],[14,0,"gh-unsplash-error h-100 flex items-center justify-center pb30"],[12],[2,"\\n                            "],[10,"div"],[12],[2,"\\n                                "],[10,"img"],[14,0,"gh-unsplash-error-404"],[14,"src","assets/img/unsplash-404-71ab3705c9920a9706bb822c3d7e34d1.png"],[14,"alt","No photos found"],[12],[13],[2,"\\n                                "],[10,"h4"],[12],[2,"No photos found for \'"],[1,[32,0,["unsplash","searchTerm"]]],[2,"\'"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["unsplash","error"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"section"],[14,0,"gh-unsplash-error h-100 flex items-center justify-center pb30"],[12],[2,"\\n                            "],[10,"div"],[12],[2,"\\n                                "],[10,"img"],[14,0,"gh-unsplash-error-404"],[14,"src","assets/img/unsplash-404-71ab3705c9920a9706bb822c3d7e34d1.png"],[14,"alt","Network error"],[12],[13],[2,"\\n                                "],[10,"h4"],[12],[1,[32,0,["unsplash","error"]]],[2," ("],[11,"a"],[24,6,"#"],[4,[38,0],["click",[32,0,["retry"]]],null],[12],[2,"retry"],[13],[2,")"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["unsplash","isLoading"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-unsplash-loading h-100 flex items-center justify-center pb30"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                    "],[8,"gh-scroll-trigger",[],[["@enter","@triggerOffset"],[[32,0,["loadNextPage"]],1000]],null],[2,"\\n                "],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["zoomedPhoto"]]],null,[["default"],[{"statements":[[2,"                    "],[11,"a"],[24,6,"#"],[24,0,"absolute flex justify-center top-0 right-0 bottom-0 left-0 pr20 pb10 pl20 bg-white overflow-hidden"],[4,[38,0],["click",[32,0,["closeZoom"]]],null],[12],[2,"\\n                        "],[8,"gh-unsplash-photo",[],[["@photo","@zoomed","@zoom","@select"],[[32,0,["zoomedPhoto"]],true,[32,0,["closeZoom"]],[32,0,["select"]]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","not","and","if","-track-array","each","on-resize","on-key","svg-jar","readonly","autofocus","query-selector","in-element"]}',moduleName:"ghost-admin/components/gh-unsplash.hbs"})
let P=(n=Ember.inject.service,i=Ember.inject.service,r=Ember._tracked,a=Ember._tracked,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,d=Ember._action,c=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,g=class extends t.default{get sideNavHidden(){return this.ui.isFullScreen||this.ui.showMobileMenu}constructor(){super(...arguments),w(this,"unsplash",b,this),w(this,"ui",f,this),w(this,"zoomedPhoto",v,this),w(this,"searchTerm",y,this),key.setScope("unsplash")}willDestroy(){super.willDestroy(...arguments),key.setScope("default")}loadNextPage(){this.unsplash.loadNextPage()}search(e){e.preventDefault()
const t=e.target.value
this.unsplash.updateSearch(t),this.closeZoom()}clearSearch(e,t){e.target.value&&(t.stopPropagation(),this.unsplash.updateSearch(""))}zoomPhoto(e){this.zoomedPhoto=e}closeZoom(e){e?.preventDefault?.(),this.zoomedPhoto=null}select(e){this.unsplash.triggerDownload(e)
let t={src:e.urls.regular.replace(/&w=1080/,"&w=2000"),width:e.width,height:e.height,alt:e.description||"",caption:`Photo by <a href="${e.user.links.html}?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit">${e.user.name}</a> / <a href="https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit">Unsplash</a>`}
this.args.select(t),this.args.close()}retry(e){e?.preventDefault(),this.unsplash.retryLastRequest()}handleEscape(e){if(e?.preventDefault(),this.zoomedPhoto)return this.closeZoom()
this.args.close()}handleResize(e){let t=e.clientWidth,n=3
t<=540?n=1:t<=940&&(n=2),this.unsplash.changeColumnCount(n)}},b=E(g.prototype,"unsplash",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=E(g.prototype,"ui",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=E(g.prototype,"zoomedPhoto",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=E(g.prototype,"searchTerm",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E(g.prototype,"loadNextPage",[s],Object.getOwnPropertyDescriptor(g.prototype,"loadNextPage"),g.prototype),E(g.prototype,"search",[o],Object.getOwnPropertyDescriptor(g.prototype,"search"),g.prototype),E(g.prototype,"clearSearch",[l],Object.getOwnPropertyDescriptor(g.prototype,"clearSearch"),g.prototype),E(g.prototype,"zoomPhoto",[u],Object.getOwnPropertyDescriptor(g.prototype,"zoomPhoto"),g.prototype),E(g.prototype,"closeZoom",[d],Object.getOwnPropertyDescriptor(g.prototype,"closeZoom"),g.prototype),E(g.prototype,"select",[c],Object.getOwnPropertyDescriptor(g.prototype,"select"),g.prototype),E(g.prototype,"retry",[p],Object.getOwnPropertyDescriptor(g.prototype,"retry"),g.prototype),E(g.prototype,"handleEscape",[m],Object.getOwnPropertyDescriptor(g.prototype,"handleEscape"),g.prototype),E(g.prototype,"handleResize",[h],Object.getOwnPropertyDescriptor(g.prototype,"handleResize"),g.prototype),g)
e.default=P,Ember._setComponentTemplate(k,P)})),define("ghost-admin/components/gh-uploader",["exports","ghost-admin/utils/ghost-paths","ghost-admin/components/gh-image-uploader","ember-concurrency"],(function(e,t,n,i){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"hB0rEz8l",block:'{"symbols":["&default"],"statements":[[18,1,[[30,[36,2],null,[["cancel","errors","files","isUploading","progressBar","setFiles","registerFileInput","triggerFileDialog","imageExtensions","imageMimeTypes","iconExtensions","iconMimeTypes"],[[30,[36,0],[[32,0],"cancel"],null],[32,0,["errors"]],[32,0,["files"]],[32,0,["_uploadFiles","isRunning"]],[30,[36,1],["gh-progress-bar"],[["percentage"],[[32,0,["uploadPercentage"]]]]],[30,[36,0],[[32,0],"setFiles"],null],[30,[36,0],[[32,0],"registerFileInput"],null],[30,[36,0],[[32,0],"triggerFileDialog"],null],[32,0,["imageExtensions"]],[32,0,["imageMimeTypes"]],[32,0,["iconExtensions"]],[32,0,["iconMimeTypes"]]]]]]],[2,"\\n"]],"hasEval":false,"upvars":["action","component","hash"]}',moduleName:"ghost-admin/components/gh-uploader.hbs"})
class s extends Ember.Object{constructor(){super(...arguments),r(this,"file",null),r(this,"total",0),r(this,"loaded",0)}init(){super.init(...arguments),this.total=this.file&&this.file.size||0}update(e){let{loaded:t,total:n}=e
this.total=n,this.loaded=t}}var o=Ember._setComponentTemplate(a,Ember.Component.extend({ajax:Ember.inject.service(),tagName:"",accept:"",extensions:"",files:null,paramName:"file",paramsHash:null,resourceName:"images",uploadUrl:null,requestMethod:"post",errors:null,totalSize:0,uploadedSize:0,uploadPercentage:0,uploadUrls:null,_defaultUploadUrl:"/images/upload/",_files:null,_uploadTrackers:null,onCancel(){},onComplete(){},onFailed(){},onStart(){},onUploadStart(){},onUploadFailure(){},onUploadSuccess(){},init(){this._super(...arguments),this.set("errors",[]),this.set("uploadUrls",[]),this._uploadTrackers=[],this.paramsHash||this.set("paramsHash",{purpose:"image"}),this.set("imageExtensions",n.IMAGE_EXTENSIONS),this.set("imageMimeTypes",n.IMAGE_MIME_TYPES),this.set("iconExtensions",n.ICON_EXTENSIONS),this.set("iconMimeTypes",n.ICON_MIME_TYPES)},didReceiveAttrs(){this._super(...arguments),this.uploadUrl||this.set("uploadUrl",this._defaultUploadUrl)
let e=this.files
this._setFiles(e)},actions:{registerFileInput(e){this.fileInput=e},triggerFileDialog(){this.fileInput?this.fileInput.click():console.error("When using uploader.triggerFileDialog you must call uploader.registerFileInput first")},setFiles(e,t){this._setFiles(e),t&&(this.fileInput=t())},cancel(){this._reset(),this.onCancel()}},_setFiles(e){this.set("files",e),e&&e!==this._files&&(this.get("_uploadFiles.isRunning")&&console.error("Adding new files whilst an upload is in progress is not supported."),this._files=e,this._validate()&&this._uploadFiles.perform(e))},_validate(){let e=this.files,t=this.validate||this._defaultValidator.bind(this),n=[],i=[]
for(let r=0;r<e.length;r+=1){let a=e[r],s=t(a)
!0===s?n.push(a):i.push({fileName:a.name,message:s})}return!!Ember.isEmpty(i)||(this.set("errors",i),this.onFailed(i),!1)},_defaultValidator(e){let t=this.extensions,[,n]=/(?:\.([^.]+))?$/.exec(e.name)
if(!t)return!0
if(Ember.isArray(t)||(t=t.split(",")),!n||-1===t.indexOf(n.toLowerCase())){return`The file type you uploaded is not supported. Please use ${`.${t.join(", .").toUpperCase()}`}`}return!0},_uploadFiles:(0,i.task)((function*(e){let t=[]
this._reset(),this.onStart(e)
for(let n=0;n<e.length;n+=1){let i=e[n],r=s.create({file:i})
this._uploadTrackers.pushObject(r),t.push(this._uploadFile.perform(r,i,n))}yield(0,i.all)(t),Ember.isEmpty(this.errors)||this.onFailed(this.errors),this.onComplete(this.uploadUrls)})).drop(),_uploadFile:(0,i.task)((function*(e,n,i){let r=this.ajax,a=this._getFormData(n),s=`${(0,t.default)().apiRoot}${this.uploadUrl}`,o=null
try{o=yield Promise.resolve(this.onUploadStart(n))
let t,u,d=yield r[this.requestMethod](s,{data:a,processData:!1,contentType:!1,dataType:"text",xhr:()=>{let t=new window.XMLHttpRequest
return t.upload.addEventListener("progress",(t=>{Ember.run((()=>{e.update(t),this._updateProgress()}))}),!1),t}})
e.update({loaded:n.size,total:n.size}),this._updateProgress()
try{t=JSON.parse(d)}catch(l){if(!(l instanceof SyntaxError))throw l}if(t){let e=Ember.get(t,this.resourceName)
e&&Ember.isArray(e)&&e[0]&&(u=Ember.get(e[0],"url"))}let c={url:u,fileName:n.name}
return this.uploadUrls[i]=c,this.onUploadSuccess(c,o),!0}catch(u){let e=u.payload&&u.payload.errors&&u.payload.errors[0].message||"",t=u.payload&&u.payload.errors&&u.payload.errors[0].context||""
e||(e=u.message)
let i={message:e,context:t,fileName:n.name}
this.errors.pushObject(i),this.onUploadFailure(i,o)}})).maxConcurrency(2).enqueue(),_getFormData(e){let t=new FormData
return t.append(this.paramName,e,e.name),Object.keys(this.paramsHash||{}).forEach((e=>{t.append(e,this.paramsHash[e])})),t},_updateProgress(){if(this.isDestroyed||this.isDestroying)return
let e=this._uploadTrackers,t=e.reduce(((e,t)=>e+t.get("total")),0),n=e.reduce(((e,t)=>e+t.get("loaded")),0)
if(this.set("totalSize",t),this.set("uploadedSize",n),0===t||0===n)return
let i=Math.round(n/t*100)
this.set("uploadPercentage",i)},_reset(){this.set("errors",[]),this.set("totalSize",0),this.set("uploadedSize",0),this.set("uploadPercentage",0),this.set("uploadUrls",[]),this._uploadTrackers=[]}}))
e.default=o})),define("ghost-admin/components/gh-url-input",["exports","@glimmer/component"],(function(e,t){var n,i,r
function a(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"tQMnm42I",block:'{"symbols":["&attrs"],"statements":[[8,"gh-text-input",[[17,1]],[["@value","@type","@input","@focus-out","@placeholder"],[[32,0,["value"]],"text",[32,0,["setValue"]],[32,0,["validateUrlInput"]],[32,0,["placeholder"]]]],null],[2,"\\n\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-url-input.hbs"})
function o(e){return e.replace(/^\//,"")}let l=(n=Ember._action,i=Ember._action,a((r=class extends t.default{constructor(e,t){var n,i
super(e,t),this.baseUrl=(n=t.baseUrl,i="/",n.endsWith(i)?n:n+i),this.value=t.value&&"/"!==t.value?new URL(o(t.value),this.baseUrl).href:"",this.setResult=t.setResult,this.validateUrl=t.validateUrl,this.placeholder=t.placeholder}setValue(e){this.value=e.target.value,this.setResult(this.result)}validateUrlInput(){this.validateUrl(this.result)}get result(){try{return new URL(o(this.value),this.baseUrl)}catch(e){return null}}}).prototype,"setValue",[n],Object.getOwnPropertyDescriptor(r.prototype,"setValue"),r.prototype),a(r.prototype,"validateUrlInput",[i],Object.getOwnPropertyDescriptor(r.prototype,"validateUrlInput"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(s,l)})),define("ghost-admin/components/gh-url-preview",["exports","@ember-decorators/component"],(function(e,t){var n,i,r,a,s,o
function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"B7Cdxahk",block:'{"symbols":[],"statements":[[1,[32,0,["url"]]],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-url-preview.hbs"})
let c=(n=(0,t.classNames)("ghost-url-preview"),i=Ember.inject.service,r=Ember.computed("slug"),n((s=class extends Ember.Component{constructor(){var e,t,n,i
super(...arguments),e=this,t="config",i=this,(n=o)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),l(this,"prefix",null),l(this,"slug",null)}get url(){let e=this.get("config.blogUrl")
return`${e.substr(e.indexOf("://")+3)}/${this.prefix?`${this.prefix}/`:""}${this.slug?`${this.slug}/`:""}`}},o=u(s.prototype,"config",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(s.prototype,"url",[r],Object.getOwnPropertyDescriptor(s.prototype,"url"),s.prototype),a=s))||a)
e.default=c,Ember._setComponentTemplate(d,c)})),define("ghost-admin/components/gh-user-active",["exports","moment","@ember-decorators/component"],(function(e,t,n){var i,r,a,s
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"c5qWiOnQ",block:'{"symbols":["&default"],"statements":[[18,1,[[32,0]]],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-user-active.hbs"})
let l=(i=(0,n.tagName)(""),r=Ember.computed("user.lastLoginUTC"),i((s=class extends Ember.Component{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"user",null)}get lastLoginUTC(){let e=this.get("user.lastLoginUTC")
return e?(0,t.default)(e).fromNow():"(Never)"}},u=s.prototype,d="lastLoginUTC",c=[r],p=Object.getOwnPropertyDescriptor(s.prototype,"lastLoginUTC"),m=s.prototype,h={},Object.keys(p).forEach((function(e){h[e]=p[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=c.slice().reverse().reduce((function(e,t){return t(u,d,e)||e}),h),m&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(m):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(u,d,h),h=null),a=s))||a)
var u,d,c,p,m,h
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/gh-user-invited",["exports","moment","ember-ajax/errors","@ember-decorators/component"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g
function b(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"VVlI1rDE",block:'{"symbols":["&default"],"statements":[[18,1,[[32,0]]],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-user-invited.hbs"})
let w=(r=(0,i.tagName)(""),a=Ember.inject.service,s=Ember.inject.service,o=Ember.computed("invite.createdAtUTC"),l=Ember.computed("invite.expires"),u=Ember.computed("invite.expires"),d=Ember._action,c=Ember._action,r((m=class extends Ember.Component{constructor(){super(...arguments),b(this,"notifications",h,this),b(this,"store",g,this),f(this,"invite",null),f(this,"isSending",!1)}get createdAt(){let e=this.get("invite.createdAtUTC")
return e?(0,t.default)(e).fromNow():""}get expiresAt(){let e=this.get("invite.expires")
return e?(0,t.default)(e).fromNow():""}get isExpired(){return this.get("invite.expires")<(new Date).valueOf()}resend(){let e=this.invite,t=this.notifications
this.set("isSending",!0),e.resend().then((n=>{let i=`Invitation resent! (${e.get("email")})`
e.unloadRecord(),this.store.pushPayload("invite",n),"invited-pending"===n.invites[0].status?t.showAlert("Invitation email was not sent.  Please try resending.",{type:"error",key:"invite.resend.not-sent"}):t.showNotification(i,{icon:"send-email",key:"invite.resend.success"})})).catch((e=>{t.showAPIError(e,{key:"invite.resend"})})).finally((()=>{this.set("isSending",!1)}))}revoke(){let e=this.invite,t=e.get("email"),i=this.notifications
e.reload().then((()=>{e.destroyRecord().then((()=>{i.showNotification("Invitation revoked",{key:"invite.revoke.success",description:`${t}`})})).catch((e=>{i.showAPIError(e,{key:"invite.revoke"})}))})).catch((e=>{if(!(0,n.isNotFoundError)(e))throw e
{let e=this.reload
e&&e(),i.showAlert("This invite has been revoked or a user has already accepted the invitation.",{type:"error",delayed:!0,key:"invite.revoke.already-accepted"})}}))}},h=v(m.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(m.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(m.prototype,"createdAt",[o],Object.getOwnPropertyDescriptor(m.prototype,"createdAt"),m.prototype),v(m.prototype,"expiresAt",[l],Object.getOwnPropertyDescriptor(m.prototype,"expiresAt"),m.prototype),v(m.prototype,"isExpired",[u],Object.getOwnPropertyDescriptor(m.prototype,"isExpired"),m.prototype),v(m.prototype,"resend",[d],Object.getOwnPropertyDescriptor(m.prototype,"resend"),m.prototype),v(m.prototype,"revoke",[c],Object.getOwnPropertyDescriptor(m.prototype,"revoke"),m.prototype),p=m))||p)
e.default=w,Ember._setComponentTemplate(y,w)})),define("ghost-admin/components/gh-user-list-item",["exports","@ember-decorators/component"],(function(e,t){var n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"I2sSBVyq",block:'{"symbols":["role"],"statements":[[10,"div"],[14,0,"apps-grid-cell tooltip-centered"],[15,"data-tooltip",[31,[[30,[36,4],[[32,0,["user","isLocked"]],"Requires password reset to log in"],null]]]],[12],[2,"\\n    "],[8,"link-to",[],[["@route","@model"],["settings.staff.user",[32,0,["user","slug"]]]],[["default"],[{"statements":[[2,"\\n    "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n        "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n            "],[10,"span"],[14,0,"user-list-item-figure"],[15,5,[30,[36,5],[[32,0,["user","profileImageUrl"]]],null]],[12],[2,"\\n                "],[10,"span"],[14,0,"hidden"],[12],[2,"Photo of "],[1,[32,0,["user","name"]]],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[1,[32,0,["user","name"]]],[13],[2,"\\n                "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"Last seen: "],[1,[32,0,["component","lastLoginUTC"]]],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"apps-card-right"],[12],[2,"\\n"],[6,[37,4],[[32,0,["user","isLocked"]]],null,[["default"],[{"statements":[[2,"                "],[10,"span"],[14,0,"gh-badge locked"],[12],[1,[30,[36,3],["lock"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n"],[6,[37,4],[[32,0,["user","isSuspended"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-badge suspended"],[12],[2,"Suspended"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["session","user","isAuthorOrContributor"]]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,["user","roles"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"span"],[15,0,[31,["gh-badge ",[32,1,["lowerCaseName"]]]]],[12],[1,[32,1,["name"]]],[13],[2,"\\n"]],"parameters":[1]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[1,[30,[36,3],["arrow-right"],[["class"],["gh-user-arrow-icon"]]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["-track-array","each","unless","svg-jar","if","background-image-style"]}',moduleName:"ghost-admin/components/gh-user-list-item.hbs"})
let r=(0,t.tagName)("")(n=class extends Ember.Component{})||n
e.default=r,Ember._setComponentTemplate(i,r)}))
define("ghost-admin/components/gh-validation-status-container",["exports","ghost-admin/mixins/validation-state","@ember-decorators/component"],(function(e,t,n){var i,r,a,s
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(i=(0,n.classNameBindings)("errorClass"),r=Ember.computed("property","hasError","hasValidated.[]"),i((s=class extends(Ember.Component.extend(t.default)){get errorClass(){let e=this.hasValidated,t=this.property
return e&&e.includes(t)?this.hasError?"error":"success":""}},l=s.prototype,u="errorClass",d=[r],c=Object.getOwnPropertyDescriptor(s.prototype,"errorClass"),p=s.prototype,m={},Object.keys(c).forEach((function(e){m[e]=c[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=d.slice().reverse().reduce((function(e,t){return t(l,u,e)||e}),m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(l,u,m),m=null),a=s))||a)
var l,u,d,c,p,m
e.default=o})),define("ghost-admin/components/gh-view-title",["exports","@ember-decorators/component"],(function(e,t){var n,i,r,a,s,o
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"hs2WDwMZ",block:'{"symbols":["&default"],"statements":[[11,"button"],[24,0,"gh-mobilemenu-button"],[24,"role","presentation"],[24,4,"button"],[4,[38,0],[[32,0],"openMobileMenu"],[["target"],[[32,0,["ui"]]]]],[12],[1,[30,[36,1],["icon"],[["class"],["icon-gh"]]]],[10,"span"],[14,0,"sr-only"],[12],[2,"Menu"],[13],[13],[2,"\\n"],[18,1,null],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/gh-view-title.hbs"})
let u=(n=(0,t.tagName)("h2"),i=(0,t.classNames)("view-title"),r=Ember.inject.service,n(a=i((s=class extends Ember.Component{constructor(){var e,t,n,i
super(...arguments),e=this,t="ui",i=this,(n=o)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}},d=s.prototype,c="ui",p=[r],m={configurable:!0,enumerable:!0,writable:!0,initializer:null},g={},Object.keys(m).forEach((function(e){g[e]=m[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),g=p.slice().reverse().reduce((function(e,t){return t(d,c,e)||e}),g),h&&void 0!==g.initializer&&(g.value=g.initializer?g.initializer.call(h):void 0,g.initializer=void 0),void 0===g.initializer&&(Object.defineProperty(d,c,g),g=null),o=g,a=s))||a)||a)
var d,c,p,m,h,g
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/illiquid-model",["exports","liquid-fire/components/illiquid-model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/infinity-loader",["exports","ember-infinity/components/infinity-loader"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default
e.default=n})),define("ghost-admin/components/kg-action-bar",["exports","koenig-editor/components/kg-action-bar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-alt-input",["exports","koenig-editor/components/koenig-alt-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-basic-html-input",["exports","koenig-editor/components/koenig-basic-html-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-basic-html-textarea",["exports","koenig-editor/components/koenig-basic-html-textarea"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-caption-input",["exports","koenig-editor/components/koenig-caption-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-audio",["exports","koenig-editor/components/koenig-card-audio"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-before-after",["exports","koenig-editor/components/koenig-card-before-after"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-bookmark",["exports","koenig-editor/components/koenig-card-bookmark"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-button",["exports","koenig-editor/components/koenig-card-button"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-callout",["exports","koenig-editor/components/koenig-card-callout"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-code",["exports","koenig-editor/components/koenig-card-code"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-email-cta",["exports","koenig-editor/components/koenig-card-email-cta"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-email",["exports","koenig-editor/components/koenig-card-email"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-embed",["exports","koenig-editor/components/koenig-card-embed"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-embed/nft",["exports","koenig-editor/components/koenig-card-embed/nft"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-file",["exports","koenig-editor/components/koenig-card-file"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-gallery",["exports","koenig-editor/components/koenig-card-gallery"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-header",["exports","koenig-editor/components/koenig-card-header"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-hr",["exports","koenig-editor/components/koenig-card-hr"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-html",["exports","koenig-editor/components/koenig-card-html"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-image",["exports","koenig-editor/components/koenig-card-image"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-image/selector-tenor",["exports","koenig-editor/components/koenig-card-image/selector-tenor"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-image/selector-tenor/gif",["exports","koenig-editor/components/koenig-card-image/selector-tenor/gif"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-markdown",["exports","koenig-editor/components/koenig-card-markdown"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-paywall",["exports","koenig-editor/components/koenig-card-paywall"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-product",["exports","koenig-editor/components/koenig-card-product"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("ghost-admin/components/koenig-card-toggle",["exports","koenig-editor/components/koenig-card-toggle"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-video",["exports","koenig-editor/components/koenig-card-video"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card",["exports","koenig-editor/components/koenig-card"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-editor",["exports","koenig-editor/components/koenig-editor"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-link-input",["exports","koenig-editor/components/koenig-link-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-link-toolbar",["exports","koenig-editor/components/koenig-link-toolbar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-media-selector",["exports","koenig-editor/components/koenig-media-selector"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-menu-content",["exports","koenig-editor/components/koenig-menu-content"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-plus-menu",["exports","koenig-editor/components/koenig-plus-menu"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-settings-panel",["exports","koenig-editor/components/koenig-settings-panel"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-slash-menu",["exports","koenig-editor/components/koenig-slash-menu"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-snippet-input",["exports","koenig-editor/components/koenig-snippet-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-text-replacement-html-input",["exports","koenig-editor/components/koenig-text-replacement-html-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-toolbar",["exports","koenig-editor/components/koenig-toolbar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/lf-get-outlet-state",["exports","liquid-fire/components/lf-get-outlet-state"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-append",["exports","liquid-wormhole/components/liquid-append"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-bind",["exports","liquid-fire/components/liquid-bind"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-child",["exports","liquid-fire/components/liquid-child"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-container",["exports","liquid-fire/components/liquid-container"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-destination",["exports","liquid-wormhole/components/liquid-destination"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-if",["exports","liquid-fire/components/liquid-if"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-measured",["exports","liquid-fire/components/liquid-measured"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"measure",{enumerable:!0,get:function(){return t.measure}})})),define("ghost-admin/components/liquid-outlet",["exports","liquid-fire/components/liquid-outlet"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-spacer",["exports","liquid-fire/components/liquid-spacer"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-sync",["exports","liquid-fire/components/liquid-sync"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-unless",["exports","liquid-fire/components/liquid-unless"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-versions",["exports","liquid-fire/components/liquid-versions"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-wormhole",["exports","liquid-wormhole/components/liquid-wormhole"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/maybe-in-element",["exports","ember-maybe-in-element/components/maybe-in-element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/member/activity-feed-empty",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"mNWUZ/AT",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-members-no-data gh-members-no-list"],[12],[2,"\\n    "],[10,"div"],[14,0,"lightgrey"],[12],[1,[30,[36,0],["no-data-list"],null]],[13],[2,"\\n    "],[10,"h4"],[12],[2,"Activity"],[13],[2,"\\n    "],[10,"p"],[12],[2,"\\n        All events related to this member will be shown here.\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/components/member/activity-feed-empty.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("ghost-admin/components/member/activity-feed",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"wKNHyhKg",block:'{"symbols":["eventsFetcher","rawEvent","event","@member","&attrs"],"statements":[[6,[37,1],[[32,4,["isNew"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[15,0,[31,["gh-main-section-content grey ",[30,[36,1],[[35,10,["data"]],"","mt8"],null]]]],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-member-feed gh-member-feed-labs gh-member-feed-no-data"],[12],[2,"\\n            "],[8,"member/activity-feed-empty",[],[[],[]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[30,[36,9],null,[["filter","pageSize"],[[30,[36,8],null,[["member"],[[32,4,["id"]]]]],5]]]],null,[["default"],[{"statements":[[2,"        "],[6,[37,1],[[32,1,["data"]]],null,[["default"],[{"statements":[[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Activity"],[13]],"parameters":[]}]]],[2,"\\n        "],[10,"div"],[15,0,[31,["gh-main-section-content grey ",[30,[36,1],[[32,1,["data"]],"","mt8"],null]]]],[12],[2,"\\n            "],[11,"div"],[16,0,[31,["gh-member-feed gh-member-feed-labs ",[30,[36,1],[[32,1,["data"]],"","gh-member-feed-no-data"],null]]]],[17,5],[12],[2,"\\n                "],[10,"div"],[15,0,[31,["flex-auto flex flex-column items-stretch ",[30,[36,1],[[32,1,["data"]],"justify-between","h-100 justify-center"],null]]]],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n"],[6,[37,1],[[32,1,["isLoading"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"relative h17"],[12],[8,"gh-loading-spinner",[[24,0,"h30"]],[[],[]],null],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["data"]]],null,[["default","else"],[{"statements":[[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,1,["data"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,4],[[30,[36,3],[[32,2]],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-member-feed-row gh-member-feed-row-labs"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-member-feed-container"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-member-feed-icon"],[12],[2,"\\n                                                "],[1,[30,[36,0],[[32,3,["icon"]]],[["class"],[[32,3,["iconClass"]]]]]],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-member-feed-detail"],[12],[2,"\\n                                                "],[10,"div"],[14,0,"gh-member-feed-event"],[12],[2,"\\n                                                    "],[10,"span"],[14,0,"gh-members-activity-description"],[12],[2,"\\n                                                        "],[1,[32,3,["action"]]],[2,"\\n                                                        "],[1,[32,3,["object"]]],[2,"\\n                                                    "],[13],[2,"\\n"],[6,[37,1],[[32,3,["email"]]],null,[["default"],[{"statements":[[2,"                                                        \\""],[8,"gh-email-preview-link",[],[["@data"],[[32,3,["email"]]]],null],[2,"\\"\\n"]],"parameters":[]}]]],[2,"                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-member-feed-time"],[12],[2,"\\n                                                    "],[1,[30,[36,2],[[32,3,["timestamp"]]],null]],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[3]}]]]],"parameters":[2]}]]],[2,"\\n                            "],[10,"div"],[14,0,"gh-member-feed-footer"],[12],[2,"\\n                                "],[8,"link-to",[],[["@route","@query"],["members-activity",[30,[36,7],null,[["excludedEvents","member"],[null,[32,4,["id"]]]]]]],[["default"],[{"statements":[[2,"See all activity →"]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[8,"member/activity-feed-empty",[],[[],[]],null],[2,"\\n                        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[1]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["svg-jar","if","moment-from-now","parse-member-event","let","-track-array","each","hash","members-event-filter","members-event-fetcher","eventsFetcher"]}',moduleName:"ghost-admin/components/member/activity-feed.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/members-activity/event-type-filter",["exports","@glimmer/component"],(function(e,t){var n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"m8MErMk8",block:'{"symbols":["dd","type","idx","@excludedEvents"],"statements":[[8,"gh-basic-dropdown",[],[["@verticalPosition"],["below"]],[["default"],[{"statements":[[2,"\\n    "],[8,[32,1,["Trigger"]],[[24,0,"gh-btn gh-btn-icon gh-btn-action-icon"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"span"],[15,0,[30,[36,2],[[32,4],"gh-btn-label-green"],null]],[12],[2,"\\n            "],[1,[30,[36,3],["filter"],null]],[2,"\\n            Filter events\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,[32,1,["Content"]],[[24,0,"gh-member-activity-actions-menu dropdown-menu dropdown-triangle-top-right"]],[[],[]],[["default"],[{"statements":[[2,"\\n"],[2,"        "],[10,"ul"],[14,0,"ember-power-select-options"],[14,"role","listbox"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["eventTypes"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"li"],[14,0,"form-group ember-power-select-option mb0 for-checkbox"],[12],[2,"\\n                    "],[10,"label"],[14,0,"checkbox"],[15,"for",[31,["type-",[32,3]]]],[12],[2,"\\n                        "],[11,"input"],[16,"checked",[32,2,["isSelected"]]],[16,1,[31,["type-",[32,3]]]],[24,3,"eventTypes"],[24,0,"gh-input post-settings-featured"],[24,4,"checkbox"],[4,[38,1],["input",[30,[36,0],[[32,0,["toggleEventType"]],[32,2,["event"]]],null]],null],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[10,"p"],[12],[1,[32,2,["name"]]],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[2,3]}]]],[2,"        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[1]}]]]],"hasEval":false,"upvars":["fn","on","if","svg-jar","-track-array","each"]}',moduleName:"ghost-admin/components/members-activity/event-type-filter.hbs"}),a=[{event:"signup_event",icon:"event-filter-signup",name:"Signups"},{event:"login_event",icon:"event-filter-login",name:"Logins"},{event:"subscription_event",icon:"event-filter-subscription",name:"Paid subscriptions"},{event:"payment_event",icon:"event-filter-payment",name:"Payments"},{event:"newsletter_event",icon:"event-filter-newsletter",name:"Email subscriptions"},{event:"email_opened_event",icon:"event-filter-email-opened",name:"Email opens"},{event:"email_delivered_event",icon:"event-filter-email-delivered",name:"Email deliveries"},{event:"email_failed_event",icon:"event-filter-email-failed",name:"Email failures"}]
let s=(n=Ember._action,i=class extends t.default{get availableEventTypes(){return this.args.hiddenEvents?.length?a.filter((e=>!this.args.hiddenEvents.includes(e.event))):a}get eventTypes(){const e=(this.args.excludedEvents||"").split(",")
return this.availableEventTypes.map((t=>({event:t.event,icon:t.icon,name:t.name,isSelected:!e.includes(t.event)})))}toggleEventType(e){const t=new Set(this.eventTypes.reject((e=>e.isSelected)).map((e=>e.event)))
t.has(e)?t.delete(e):t.add(e)
const n=Array.from(t).join(",")
this.args.onChange(n||null)}},o=i.prototype,l="toggleEventType",u=[n],d=Object.getOwnPropertyDescriptor(i.prototype,"toggleEventType"),c=i.prototype,p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),i)
var o,l,u,d,c,p
e.default=s,Ember._setComponentTemplate(r,s)})),define("ghost-admin/components/members-activity/member-filter-trigger",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"lWb3OU/5",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-btn"],[12],[10,"span"],[12],[2,"Filter member "],[1,[30,[36,0],["arrow-down-small"],null]],[13],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/components/members-activity/member-filter-trigger.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/members-activity/member-filter",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s
function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"1X9qXtep",block:'{"symbols":["member","@selected","@onChange"],"statements":[[6,[37,2],[[32,2]],null,[["default","else"],[{"statements":[[2,"    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[32,3],null],null]],null],[12],[2,"\\n        "],[10,"span"],[14,0,"gh-btn-label-green"],[12],[2,"\\n            Clear member ×\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"power-select",[],[["@searchEnabled","@search","@selected","@onChange","@triggerClass","@dropdownClass","@triggerComponent","@placeholder","@extra"],[false,[30,[36,0],[[32,0,["searchMembersTask"]]],null],[32,2],[32,3],"gh-member-filter-search-trigger","gh-member-filter-search-dropdown","gh-input-with-select/trigger","Search members",[30,[36,1],null,[["showSearchMessage"],[false]]]]],[["default"],[{"statements":[[2,"\\n        "],[6,[37,2],[[32,1,["name"]]],null,[["default"],[{"statements":[[10,"strong"],[12],[1,[32,1,["name"]]],[13]],"parameters":[]}]]],[2,"\\n        "],[10,"span"],[12],[1,[32,1,["email"]]],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["perform","hash","if","fn","on"]}',moduleName:"ghost-admin/components/members-activity/member-filter.hbs"})
let u=(i=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="store",i=this,(n=s)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}clear(){this.args.onChange(null)}*searchMembersTask(e){return yield(0,n.timeout)(300),yield this.store.query("member",{search:e,limit:20})}},s=o(a.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"clear",[r],Object.getOwnPropertyDescriptor(a.prototype,"clear"),a.prototype),o(a.prototype,"searchMembersTask",[n.task],Object.getOwnPropertyDescriptor(a.prototype,"searchMembersTask"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/members-activity/no-events",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"LSK+UQhf",block:'{"symbols":["@filter"],"statements":[[10,"div"],[14,0,"no-posts-box"],[12],[2,"\\n    "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n        "],[1,[30,[36,1],["members-placeholder"],[["class"],["gh-members-placeholder"]]]],[2,"\\n"],[6,[37,2],[[32,1]],null,[["default","else"],[{"statements":[[2,"            "],[10,"h3"],[12],[2,"No activities match the current filter"],[13],[2,"\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-lg"]],[["@route","@query"],["members-activity",[30,[36,0],["members-activity"],null]]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[12],[2,"Show all activity"],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"h3"],[12],[2,"No member activity yet"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["reset-query-params","svg-jar","if"]}',moduleName:"ghost-admin/components/members-activity/no-events.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/members-activity/table-row",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"t1rflwlX",block:'{"symbols":["event","@hideMemberColumn","@event"],"statements":[[6,[37,7],[[30,[36,6],[[32,3]],null]],null,[["default"],[{"statements":[[2,"    "],[10,"tr"],[12],[2,"  \\n"],[6,[37,1],[[32,2]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                "],[8,"link-to",[],[["@route","@query"],["members-activity",[30,[36,0],null,[["member"],[[32,1,["member","id"]]]]]]],[["default"],[{"statements":[[2,"\\n                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                        "],[8,"gh-member-avatar",[],[["@member","@containerClass"],[[32,1,["member"]],"w9 h9 mr3 flex-shrink-0"]],null],[2,"\\n                        "],[10,"div"],[14,0,"w-80"],[12],[2,"\\n                            "],[10,"h3"],[15,0,[31,["ma0 pa0 gh-members-list-name ",[30,[36,1],[[32,1,["member","name"]],"gh-members-name-noname"],null]]]],[12],[1,[30,[36,2],[[32,1,["member","name"]],[32,1,["member","email"]]],null]],[13],[2,"\\n"],[6,[37,3],[[32,1,["member","name"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"p"],[14,0,"ma0 pa0 middarkgrey f8 gh-members-list-email"],[12],[1,[32,1,["member","email"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-members-activity-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-members-activity-icon"],[12],[1,[30,[36,4],[[32,1,["icon"]]],null]],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-members-activity-event"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-members-activity-description"],[12],[2,"\\n                        "],[1,[32,1,["action"]]],[2,"\\n                        "],[1,[32,1,["object"]]],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,3],[[32,1,["email"]]],null,[["default"],[{"statements":[[2,"                        \\""],[8,"gh-email-preview-link",[],[["@data"],[[32,1,["email"]]]],null],[2,"\\"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"span"],[14,0,"highlight"],[12],[1,[32,1,["info"]]],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-list-data"],[12],[1,[30,[36,5],[[32,1,["timestamp"]],"D MMM YYYY HH:mm"],null]],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[1]}]]]],"hasEval":false,"upvars":["hash","unless","or","if","svg-jar","moment-format","parse-member-event","let"]}',moduleName:"ghost-admin/components/members-activity/table-row.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/members-activity/table",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"fnHoLQa8",block:'{"symbols":["event","@hideMemberColumn","@events"],"statements":[[10,"table"],[14,0,"gh-list"],[12],[2,"\\n    "],[10,"thead"],[12],[2,"\\n        "],[10,"tr"],[12],[2,"\\n"],[6,[37,0],[[32,2]],null,[["default"],[{"statements":[[2,"                "],[10,"th"],[12],[2,"Member"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"th"],[12],[2,"Event"],[13],[2,"\\n            "],[10,"th"],[12],[2,"Time"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"tbody"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,3]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[8,"members-activity/table-row",[],[["@hideMemberColumn","@event"],[[32,2],[32,1]]],null],[2,"\\n"]],"parameters":[1]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["unless","-track-array","each"]}',moduleName:"ghost-admin/components/members-activity/table.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/members/filter-value",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u
function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"TVVHiK40",block:'{"symbols":["@filter","@index","@setFilterValue","@onLabelEdit"],"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"name"],null]],null,[["default","else"],[{"statements":[[2,"    "],[11,"input"],[16,2,[32,1,["value"]]],[24,0,"gh-input"],[24,"aria-label","Name filter"],[24,4,"text"],[4,[38,1],["input",[30,[36,0],[[32,0,["setInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["updateInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["keypress",[30,[36,0],[[32,0,["updateInputFilterValueOnEnter"]],[32,1]],null]],null],[12],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"email"],null]],null,[["default","else"],[{"statements":[[2,"    "],[11,"input"],[16,2,[32,1,["value"]]],[24,0,"gh-input"],[24,"aria-label","Email filter"],[24,4,"text"],[4,[38,1],["input",[30,[36,0],[[32,0,["setInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["updateInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["keypress",[30,[36,0],[[32,0,["updateInputFilterValueOnEnter"]],[32,1]],null]],null],[12],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"label"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"gh-member-label-input",[],[["@onChange","@onLabelEdit","@triggerId","@labels","@allowCreation","@allowEdit"],[[30,[36,0],[[32,0,["setLabelsFilterValue"]],[32,1]],null],[32,4],"label-input",[32,1,["value"]],false,true]],null],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"product"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"relative"],[12],[2,"\\n        "],[8,"tiers/segment-select",[],[["@onChange","@tiers","@renderInPlace","@hideOptionsWhenAllSelected"],[[30,[36,0],[[32,0,["setProductsFilterValue"]],[32,1]],null],[32,0,["productFilterValue"]],true,true]],null],[2,"\\n    "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"subscribed"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n        "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update"],[[32,1,["value"]],[32,0,["availableFilterOptions","subscribed"]],"name","label","name",[30,[36,0],[[32,3],[32,1]],null]]],null],[2,"\\n        "],[1,[30,[36,4],["arrow-down-small"],null]],[2,"\\n    "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"last_seen_at"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"gh-date-picker",[],[["@value","@maxDate","@maxDateError","@onChange"],[[32,1,["value"]],[34,5],"Must be in the past",[30,[36,0],[[32,3],[32,1]],null]]],null],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"created_at"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"gh-date-picker",[],[["@value","@maxDate","@maxDateError","@onChange"],[[32,1,["value"]],[34,5],"Must be in the past",[30,[36,0],[[32,3],[32,1]],null]]],null],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"status"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n        "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update"],[[32,1,["value"]],[32,0,["availableFilterOptions","status"]],"name","label","name",[30,[36,0],[[32,3],[32,1]],null]]],null],[2,"\\n        "],[1,[30,[36,4],["arrow-down-small"],null]],[2,"\\n    "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"email_count"],null]],null,[["default","else"],[{"statements":[[2,"    "],[11,"input"],[16,2,[32,1,["value"]]],[24,0,"gh-input"],[24,"aria-label","Email count filter value"],[24,4,"number"],[4,[38,1],["input",[30,[36,0],[[32,0,["setInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["updateInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["keypress",[30,[36,0],[[32,0,["updateInputFilterValueOnEnter"]],[32,1]],null]],null],[12],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"email_opened_count"],null]],null,[["default","else"],[{"statements":[[2,"    "],[11,"input"],[16,2,[32,1,["value"]]],[24,0,"gh-input"],[24,"aria-label","Email opened count filter value"],[24,4,"number"],[4,[38,1],["input",[30,[36,0],[[32,0,["setInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["updateInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["keypress",[30,[36,0],[[32,0,["updateInputFilterValueOnEnter"]],[32,1]],null]],null],[12],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"email_open_rate"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"relative"],[12],[2,"\\n        "],[10,"span"],[14,0,"gh-input-percentage-label"],[12],[2,"%"],[13],[2,"\\n        "],[11,"input"],[16,2,[32,1,["value"]]],[24,0,"gh-input"],[24,"aria-label","Email open rate filter value"],[24,4,"number"],[4,[38,1],["input",[30,[36,0],[[32,0,["setInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["updateInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["keypress",[30,[36,0],[[32,0,["updateInputFilterValueOnEnter"]],[32,1]],null]],null],[12],[13],[2,"\\n    "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"subscriptions.plan_interval"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n        "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update"],[[32,1,["value"]],[32,0,["availableFilterOptions","subscriptionPriceInterval"]],"name","label","name",[30,[36,0],[[32,3],[32,1]],null]]],null],[2,"\\n        "],[1,[30,[36,4],["arrow-down-small"],null]],[2,"\\n    "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"subscriptions.status"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n        "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update"],[[32,1,["value"]],[32,0,["availableFilterOptions","subscriptionStripeStatus"]],"name","label","name",[30,[36,0],[[32,3],[32,1]],null]]],null],[2,"\\n        "],[1,[30,[36,4],["arrow-down-small"],null]],[2,"\\n    "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"subscriptions.start_date"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"gh-date-picker",[],[["@value","@onChange"],[[32,1,["value"]],[30,[36,0],[[32,3],[32,1]],null]]],null],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"subscriptions.current_period_end"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"gh-date-picker",[],[["@value","@onChange"],[[32,1,["value"]],[30,[36,0],[[32,3],[32,1]],null]]],null],[2,"\\n\\n"]],"parameters":[]},{"statements":[[2,"    "],[11,"input"],[16,2,[32,1,["value"]]],[16,3,[32,2]],[24,0,"gh-input"],[24,"aria-label","filter value"],[24,4,"text"],[4,[38,1],["input",[30,[36,0],[[32,0,["setInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["updateInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["keypress",[30,[36,0],[[32,0,["updateInputFilterValueOnEnter"]],[32,1]],null]],null],[12],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["fn","on","eq","if","svg-jar","now"]}',moduleName:"ghost-admin/components/members/filter-value.hbs"}),p={subscriptionPriceInterval:[{label:"Monthly",name:"month"},{label:"Yearly",name:"year"}],status:[{label:"Paid",name:"paid"},{label:"Free",name:"free"},{label:"Complimentary",name:"comped"}],subscribed:[{label:"Subscribed",name:"true"},{label:"Unsubscribed",name:"false"}],subscriptionStripeStatus:[{label:"Active",name:"active"},{label:"Trialing",name:"trialing"},{label:"Canceled",name:"canceled"},{label:"Unpaid",name:"unpaid"},{label:"Past Due",name:"past_due"},{label:"Incomplete",name:"incomplete"},{label:"Incomplete - Expired",name:"incomplete_expired"}]}
let m=(n=Ember._tracked,i=Ember._action,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="filterValue",i=this,(n=u)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),this.availableFilterOptions=p,this.filterValue=this.args.filter.value}get productFilterValue(){if("product"===this.args.filter?.type){return(this.args.filter?.value||[]).map((e=>({slug:e})))}return[]}setInputFilterValue(e,t){this.filterValue=t.target.value}updateInputFilterValue(e,t){"blur"===t.type&&(this.filterValue=t.target.value),this.args.setFilterValue(e,this.filterValue)}updateInputFilterValueOnEnter(e,t){"Enter"===t.key&&(t.preventDefault(),this.args.setFilterValue(e,this.filterValue))}setLabelsFilterValue(e,t){this.args.setFilterValue(e,t.map((e=>e.slug)))}setProductsFilterValue(e,t){this.args.setFilterValue(e,t.map((e=>e.slug)))}},u=d(l.prototype,"filterValue",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(l.prototype,"setInputFilterValue",[i],Object.getOwnPropertyDescriptor(l.prototype,"setInputFilterValue"),l.prototype),d(l.prototype,"updateInputFilterValue",[r],Object.getOwnPropertyDescriptor(l.prototype,"updateInputFilterValue"),l.prototype),d(l.prototype,"updateInputFilterValueOnEnter",[a],Object.getOwnPropertyDescriptor(l.prototype,"updateInputFilterValueOnEnter"),l.prototype),d(l.prototype,"setLabelsFilterValue",[s],Object.getOwnPropertyDescriptor(l.prototype,"setLabelsFilterValue"),l.prototype),d(l.prototype,"setProductsFilterValue",[o],Object.getOwnPropertyDescriptor(l.prototype,"setProductsFilterValue"),l.prototype),l)
e.default=m,Ember._setComponentTemplate(c,m)})),define("ghost-admin/components/members/filter",["exports","@glimmer/component","moment","@tryghost/nql-lang","tracked-built-ins","ember-concurrency"],(function(e,t,n,i,r,a){var s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I
function L(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const N=Ember.HTMLBars.template({id:"nhen18Js",block:'{"symbols":["dd","filter","index","@onLabelEdit","@isFiltered"],"statements":[[8,"gh-basic-dropdown",[],[["@verticalPosition","@horizontalPosition","@onClose"],["below","right",[32,0,["onDropdownClose"]]]],[["default"],[{"statements":[[2,"\\n\\n    "],[8,[32,1,["Trigger"]],[[24,0,"gh-btn gh-btn-icon gh-btn-action-icon"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"span"],[15,0,[31,[[30,[36,3],[[32,5],"gh-btn-label-green"],null]]]],[12],[2,"\\n            "],[1,[30,[36,1],["filter"],null]],[2,"\\n            Filter\\n"],[6,[37,3],[[32,5]],null,[["default"],[{"statements":[[2,"            ("],[1,[32,0,["totalFilters"]]],[2,")\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,[32,1,["Content"]],[[24,0,"gh-member-actions-menu gh-filter-builder gh-members-filter-builder dropdown-menu dropdown-triangle-top-right"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h3"],[12],[2,"Filter list"],[13],[2,"\\n        "],[10,"section"],[14,0,"gh-filters"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["filters"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-filter-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"form-group max-width"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-filter-inputgroup"],[12],[2,"\\n                            "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n                                "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@groupLabelPath","@update"],[[32,2,["type"]],[32,0,["availableFilterProperties"]],"name","label","name","group",[30,[36,0],[[32,0,["setFilterType"]],[32,2]],null]]],null],[2,"\\n                                "],[1,[30,[36,1],["arrow-down-small"],null]],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n                                "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update"],[[32,2,["relation"]],[32,2,["relationOptions"]],"name","label","name",[30,[36,0],[[32,0,["setFilterRelation"]],[32,2]],null]]],null],[2,"\\n                                "],[1,[30,[36,1],["arrow-down-small"],null]],[2,"\\n                            "],[13],[2,"\\n                            "],[8,"members/filter-value",[],[["@index","@filter","@setFilterValue","@onLabelEdit"],[[32,3],[32,2],[32,0,["setFilterValue"]],[32,4]]],null],[2,"\\n                            "],[11,"button"],[24,0,"gh-btn gh-btn-text gh-btn-link gh-btn-icon gh-delete-filter"],[24,"title","Delete filter"],[24,4,"button"],[4,[38,2],["click",[30,[36,0],[[32,0,["deleteFilter"]],[32,2]],null]],null],[12],[2,"\\n                                "],[1,[30,[36,1],["close"],null]],[2," "],[10,"span"],[14,0,"hidden"],[12],[2,"Delete filter"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[2,3]}]]],[2,"            "],[10,"div"],[12],[2,"\\n                "],[11,"button"],[24,0,"gh-btn gh-btn-text gh-btn-link green gh-btn-icon gh-add-filter"],[24,4,"button"],[4,[38,2],["click",[32,0,["addFilter"]]],null],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,1],["add"],null]],[2," Add filter"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-filter-builder-footer"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[32,0,["resetFilter"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Reset all"],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-primary"],[24,4,"button"],[4,[38,2],["click",[32,0,["applyFilter"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Apply filters"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"]],"parameters":[1]}]]],[2,"\\n"]],"hasEval":false,"upvars":["fn","svg-jar","on","if","-track-array","each"]}',moduleName:"ghost-admin/components/members/filter.hbs"}),F=[{label:"Name",name:"name",group:"Basic",valueType:"text"},{label:"Email",name:"email",group:"Basic",valueType:"text"},{label:"Label",name:"label",group:"Basic",valueType:"array"},{label:"Newsletter subscription",name:"subscribed",group:"Basic"},{label:"Last seen",name:"last_seen_at",group:"Basic",valueType:"date"},{label:"Created",name:"created_at",group:"Basic",valueType:"date"},{label:"Membership tier",name:"product",group:"Subscription",valueType:"array",feature:"multipleProducts"},{label:"Member status",name:"status",group:"Subscription"},{label:"Billing period",name:"subscriptions.plan_interval",group:"Subscription"},{label:"Stripe subscription status",name:"subscriptions.status",group:"Subscription"},{label:"Paid start date",name:"subscriptions.start_date",valueType:"date",group:"Subscription"},{label:"Next billing date",name:"subscriptions.current_period_end",valueType:"date",group:"Subscription"},{label:"Emails sent (all time)",name:"email_count",group:"Email"},{label:"Emails opened (all time)",name:"email_opened_count",group:"Email"},{label:"Open rate (all time)",name:"email_open_rate",group:"Email"}],B=[{label:"is",name:"is"},{label:"is not",name:"is-not"}],V=[{label:"is",name:"is"},{label:"contains",name:"contains"},{label:"does not contain",name:"does-not-contain"},{label:"starts with",name:"starts-with"},{label:"ends with",name:"ends-with"}],H=[{label:"before",name:"is-less"},{label:"on or before",name:"is-or-less"},{label:"after",name:"is-greater"},{label:"on or after",name:"is-or-greater"}],q=[{label:"is",name:"is"},{label:"is greater than",name:"is-greater"},{label:"is less than",name:"is-less"}],$={name:V,email:V,label:B,product:B,subscribed:B,last_seen_at:H,created_at:H,status:B,"subscriptions.plan_interval":B,"subscriptions.status":B,"subscriptions.start_date":H,"subscriptions.current_period_end":H,email_count:q,email_opened_count:q,email_open_rate:q},Y={"subscriptions.plan_interval":[{label:"Monthly",name:"month"},{label:"Yearly",name:"year"}],status:[{label:"Paid",name:"paid"},{label:"Free",name:"free"},{label:"Complimentary",name:"comped"}],subscribed:[{label:"Subscribed",name:"true"},{label:"Unsubscribed",name:"false"}],"subscriptions.status":[{label:"Active",name:"active"},{label:"Trialing",name:"trialing"},{label:"Canceled",name:"canceled"},{label:"Unpaid",name:"unpaid"},{label:"Past Due",name:"past_due"},{label:"Incomplete",name:"incomplete"},{label:"Incomplete - Expired",name:"incomplete_expired"}]}
let W=(s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=U((d=class{constructor(e){L(this,"type",c,this),L(this,"value",p,this),L(this,"relation",m,this),L(this,"relationOptions",h,this),this.type=e.type,this.relation=e.relation,this.relationOptions=e.relationOptions,this.timezone=e.timezone||"Etc/UTC"
const t="date"===F.find((e=>this.type===e.name)).valueType&&"string"==typeof e.value?(0,n.default)(n.default.tz(n.default.utc(e.value),this.timezone).format("YYYY-MM-DD")).toDate():e.value
this.value=t}}).prototype,"type",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=U(d.prototype,"value",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=U(d.prototype,"relation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=U(d.prototype,"relationOptions",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d),K=(g=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,v=Ember.inject.service,y=Ember._tracked,w=Ember._action,E=Ember._action,k=Ember._action,P=Ember._action,O=Ember._action,j=Ember._action,_=Ember._action,z=Ember._action,x=Ember._action,T=(0,a.task)({drop:!0}),S=class extends t.default{get availableFilterProperties(){let e=F
const t=this.store.peekAll("product").length>1
return e=e.filter((e=>!e.feature||this.feature[e.feature])),e=e.filter((e=>"product"!==e.name||t)),this.settings.get("stripeConnectAccountId")||(e=e.reject((e=>"Subscription"===e.group))),"disabled"===this.settings.get("editorDefaultEmailRecipients")&&(e=e.reject((e=>"Email"===e.group))),e}get totalFilters(){return this.filters?.length}constructor(){super(...arguments),L(this,"feature",M,this),L(this,"session",C,this),L(this,"settings",D,this),L(this,"store",A,this),L(this,"filters",I,this),R(this,"availableFilterRelationsOptions",$),R(this,"availableFilterValueOptions",Y),this.args.defaultFilterParam&&this.parseNqlFilter(this.args.defaultFilterParam),this.fetchProducts.perform()}addFilter(){this.filters.push(new W({type:"name",relation:"is",value:"",relationOptions:$.name})),this.applySoftFilter()}onDropdownClose(){this.applyFilter()}generateNqlFilter(e){let t=""
return e.forEach((e=>{const i=this.getFilterRelationOperator(e.relation),r=F.find((t=>t.name===e.type))
if("array"===r.valueType&&e.value?.length){const n="["+e.value.join(",")+"]"
t+=`${e.type}:${i}${n}+`}else if("text"===r.valueType){const n="'"+e.value.replace(/'/g,"\\'")+"'"
t+=`${e.type}:${i}${n}+`}else if("date"===r.valueType){let r,a=n.default.tz((0,n.default)(e.value).format("YYYY-MM-DD"),this.settings.get("timezone"))
">"===i&&(a=a.set({hour:23,minute:59,second:59})),">="===i&&(a=a.set({hour:0,minute:0,second:0})),"<"===i&&(a=a.set({hour:0,minute:0,second:0})),"<="===i&&(a=a.set({hour:23,minute:59,second:59})),r=`'${a.utc().format("YYYY-MM-DD HH:mm:ss")}'`,t+=`${e.type}:${i}${r}+`}else{const n="string"==typeof e.value&&e.value.includes(" ")?`'${e.value}'`:e.value
t+=`${e.type}:${i}${n}+`}})),t.slice(0,-1)}parseNqlFilterKey(e){const t=Object.keys(e)[0],n=e[t],i=F.find((e=>e.name===t))
let r,a
if("object"==typeof n){if(void 0!==n.$in&&"array"===i.valueType&&(r="is",a=n.$in),void 0!==n.$nin&&"array"===i.valueType&&(r="is-not",a=n.$nin),void 0!==n.$ne&&(r="is-not",a=n.$ne),void 0!==n.$gt&&(r="is-greater",a=n.$gt),void 0!==n.$gte&&(r="is-or-greater",a=n.$gte),void 0!==n.$lt&&(r="is-less",a=n.$lt),void 0!==n.$lte&&(r="is-or-less",a=n.$lte),void 0!==n.$regex){const e=n.$regex.source
0===e.indexOf("^")?(r="starts-with",a=e.substring(1)):e.indexOf("$")===e.length-1?(r="ends-with",a=e.slice(0,-1)):(r="contains",a=e),a=a.replace(/\\/g,"")}void 0!==n.$not&&(r="does-not-contain",a=n.$not.source,a=a.replace(/\\/g,""))}else r="is",a=n
if(r&&a)return new W({type:t,relation:r,relationOptions:$[t],value:a,timezone:this.settings.get("timezone")})}parseNqlFilter(e){const t=Object.keys($),n=i.default.parse(e),a=Object.keys(n)
let s=[]
if(1===a?.length&&t.includes(a[0])){s=[this.parseNqlFilterKey(n)]}else if(n?.$and){s=(n?.$and||[]).filter((e=>{const n=Object.keys(e)
return!(1!==n?.length||!t.includes(n[0]))})).map((e=>this.parseNqlFilterKey(e))).filter((e=>!!e))}this.filters=new r.TrackedArray(s)}getFilterRelationOperator(e){return{"is-less":"<","is-or-less":"<=",is:"","is-not":"-","is-greater":">","is-or-greater":">=",contains:"~","does-not-contain":"-~","starts-with":"~^","ends-with":"~$"}[e]||""}deleteFilter(e,t){t.stopPropagation(),t.preventDefault(),1===this.filters.length?this.resetFilter():(this.filters=new r.TrackedArray(this.filters.reject((t=>t===e))),this.applySoftFilter())}setFilterType(e,t){t instanceof Event&&(t=t.target.value)
const i=F.find((e=>e.name===t))
let r=this.availableFilterValueOptions[t]?this.availableFilterValueOptions[t][0].name:""
"array"!==i.valueType||r||(r=[]),"date"!==i.valueType||r||(r=(0,n.default)(n.default.tz(this.settings.get("timezone")).format("YYYY-MM-DD")).toDate())
let a=this.availableFilterRelationsOptions[t][0].name
"date"===i.valueType&&(a="is-or-less")
const s=new W({type:t,relation:a,relationOptions:this.availableFilterRelationsOptions[t],value:r,timezone:this.settings.get("timezone")}),o=this.filters.find((t=>t===e))
this.filters[this.filters.indexOf(o)]=s,"label"!==t&&r&&this.applySoftFilter(),"product"!==t&&r&&this.applySoftFilter()}setFilterRelation(e,t){e.relation=t,this.applySoftFilter()}setFilterValue(e,t){e.value=t,this.applySoftFilter()}applySoftFilter(){const e=this.filters.filter((e=>"label"===e.type||"product"===e.type?e.value?.length:e.value)),t=this.generateNqlFilter(e)
this.args.onApplySoftFilter(t,e)}applyFilter(){const e=this.filters.filter((e=>["label","product"].includes(e.type)?e.value?.length:e.value)),t=this.generateNqlFilter(e)
this.args.onApplyFilter(t,e)}resetFilter(){const e=[]
e.push(new W({type:"name",relation:"is",value:"",relationOptions:$.name})),this.filters=new r.TrackedArray(e),this.args.onResetFilter()}*fetchProducts(){const e=yield this.store.query("product",{filter:"type:paid"})
this.productsList=e}},M=U(S.prototype,"feature",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=U(S.prototype,"session",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=U(S.prototype,"settings",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=U(S.prototype,"store",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=U(S.prototype,"filters",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r.TrackedArray([new W({type:"name",relation:"is",value:"",relationOptions:$.name})])}}),U(S.prototype,"addFilter",[w],Object.getOwnPropertyDescriptor(S.prototype,"addFilter"),S.prototype),U(S.prototype,"onDropdownClose",[E],Object.getOwnPropertyDescriptor(S.prototype,"onDropdownClose"),S.prototype),U(S.prototype,"deleteFilter",[k],Object.getOwnPropertyDescriptor(S.prototype,"deleteFilter"),S.prototype),U(S.prototype,"setFilterType",[P],Object.getOwnPropertyDescriptor(S.prototype,"setFilterType"),S.prototype),U(S.prototype,"setFilterRelation",[O],Object.getOwnPropertyDescriptor(S.prototype,"setFilterRelation"),S.prototype),U(S.prototype,"setFilterValue",[j],Object.getOwnPropertyDescriptor(S.prototype,"setFilterValue"),S.prototype),U(S.prototype,"applySoftFilter",[_],Object.getOwnPropertyDescriptor(S.prototype,"applySoftFilter"),S.prototype),U(S.prototype,"applyFilter",[z],Object.getOwnPropertyDescriptor(S.prototype,"applyFilter"),S.prototype),U(S.prototype,"resetFilter",[x],Object.getOwnPropertyDescriptor(S.prototype,"resetFilter"),S.prototype),U(S.prototype,"fetchProducts",[T],Object.getOwnPropertyDescriptor(S.prototype,"fetchProducts"),S.prototype),S)
e.default=K,Ember._setComponentTemplate(N,K)})),define("ghost-admin/components/modal-base",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend({tagName:"section",classNames:"modal-content",_previousKeymasterScope:null,closeModal:()=>{},didInsertElement(){this._super(...arguments),this._setupShortcuts()},willDestroyElement(){this._super(...arguments),this._removeShortcuts()},actions:{confirm(){throw new Error('You must override the "confirm" action in your modal component')},closeModal(){this.closeModal()}},_setupShortcuts(){Ember.run((function(){document.activeElement.blur()})),this._previousKeymasterScope=key.getScope(),key("enter","modal",(()=>{this.send("confirm")})),key("escape","modal",(e=>{e.target.dataset.preventEscapeCloseModal||this.send("closeModal")})),key.setScope("modal")},_removeShortcuts(){key.unbind("enter","modal"),key.unbind("escape","modal"),key.setScope(this._previousKeymasterScope)}})
e.default=t})),define("ghost-admin/components/modal-delete-all",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"W3V2CfKd",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Would you really like to delete all content from your blog?"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"This is permanent! No backups, no restores, no magic undo button. We warned you, k?"],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Delete","Deleted",[32,0,["deleteAll"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/modal-delete-all.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({ghostPaths:Ember.inject.service(),notifications:Ember.inject.service(),store:Ember.inject.service(),ajax:Ember.inject.service(),actions:{confirm(){this.deleteAll.perform()}},_deleteAll(){let e=this.get("ghostPaths.url").api("db")
return this.ajax.del(e)},_unloadData(){this.store.unloadAll("post"),this.store.unloadAll("tag")},_showSuccess(){this.notifications.showAlert("All content deleted from database.",{type:"success",key:"all-content.delete.success"})},_showFailure(e){this.notifications.showAPIError(e,{key:"all-content.delete"})},deleteAll:(0,n.task)((function*(){try{yield this._deleteAll(),this._unloadData(),this._showSuccess()}catch(e){this._showFailure(e)}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-delete-integration",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"OMM+WrJy",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Are you sure?"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"\\n        Deleting this integration will remove all webhooks and api keys associated with it.\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Delete Integration","Deleted",[32,0,["deleteIntegration"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/modal-delete-integration.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({router:Ember.inject.service(),feature:Ember.inject.service(),notifications:Ember.inject.service(),integration:Ember.computed.alias("model"),actions:{confirm(){this.deleteIntegration.perform()}},deleteIntegration:(0,n.task)((function*(){try{yield this.confirm(),this.router.transitionTo("settings.integrations")}catch(e){this.notifications.showAPIError(e,{key:"integration.delete.failed"})}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-delete-member",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"29agc8eV",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Delete member account"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[14,0,"mb6"],[12],[2,"\\n        Permanently delete "],[10,"strong"],[12],[1,[32,0,["member","email"]]],[13],[2," from Ghost.\\n    "],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["hasActiveStripeSubscriptions"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"flex justify-between"],[12],[2,"\\n            "],[10,"div"],[14,0,"form-group for-checkbox gh-member-cancelstripe-checkbox"],[12],[2,"\\n                "],[10,"label"],[14,0,"checkbox"],[12],[2,"\\n                    "],[11,"input"],[24,0,"gh-input"],[16,"checked",[32,0,["shouldCancelSubscriptions"]]],[24,4,"checkbox"],[4,[38,1],["click",[30,[36,0],[[32,0],"toggleShouldCancelSubscriptions"],null]],null],[12],[13],[2,"\\n                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[12],[2,"Also cancel subscription in Stripe"],[13],[2,"\\n                        "],[10,"p"],[12],[2,"If disabled, the member’s premium subscription will continue"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],[[30,[36,3],[[32,0,["shouldCancelSubscriptions"]],"Delete member + Cancel subscription","Delete member"],null],"Deleted",[32,0,["deleteMember"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","on","svg-jar","if"]}',moduleName:"ghost-admin/components/modal-delete-member.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({membersStats:Ember.inject.service(),shouldCancelSubscriptions:!1,confirm:()=>{},member:Ember.computed.alias("model"),cancelSubscriptions:Ember.computed.reads("shouldCancelSubscriptions"),hasActiveStripeSubscriptions:Ember.computed("member",(function(){let e=this.member.get("subscriptions")
return!(!e||0===e.length)&&void 0!==e.find((e=>["active","trialing","unpaid","past_due"].includes(e.status)))})),actions:{confirm(){this.deleteMember.perform()},toggleShouldCancelSubscriptions(){this.set("shouldCancelSubscriptions",!this.shouldCancelSubscriptions)}},deleteMember:(0,n.task)((function*(){try{yield this.confirm(this.shouldCancelSubscriptions),this.membersStats.invalidate()}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-delete-snippet",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"DhYh1AZd",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Confirm snippet deletion"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"\\n        You\'re about to delete the \\""],[10,"strong"],[12],[1,[32,0,["snippet","name"]]],[13],[2,"\\" snippet. This is permanent, and will delete the snippet for all staff users. It will "],[10,"strong"],[12],[2,"not"],[13],[2," change any posts where you’ve used this snippet in the past.\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@taskArgs","@class"],["Delete snippet","Deleted",[32,0,["deleteSnippet"]],[32,0,["snippet"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/modal-delete-snippet.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({router:Ember.inject.service(),notifications:Ember.inject.service(),snippet:Ember.computed.alias("model"),actions:{confirm(){this.deleteSnippet.perform()}},deleteSnippet:(0,n.task)((function*(e){try{yield this.confirm(e)}catch(t){this.notifications.showAPIError(t,{key:"snippet.delete.failed"})}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-delete-tag",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"bNAHs4+M",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Are you sure you want to delete this tag?"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,2],[[32,0,["tag","post_count"]]],null,[["default"],[{"statements":[[2,"        "],[10,"span"],[14,0,"red"],[12],[2,"This tag is attached to "],[1,[32,0,["tag","count","posts"]]],[2," "],[1,[32,0,["postInflection"]]],[2,"."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    You\'re about to delete \\""],[10,"strong"],[12],[1,[32,0,["tag","name"]]],[13],[2,"\\". This is permanent! We warned you, k?\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Delete","Deleted",[32,0,["deleteTag"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","if"]}',moduleName:"ghost-admin/components/modal-delete-tag.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({confirm:()=>{},tag:Ember.computed.alias("model"),postInflection:Ember.computed("tag.count.posts",(function(){return this.get("tag.count.posts")>1?"posts":"post"})),actions:{confirm(){this.deleteTag.perform()}},deleteTag:(0,n.task)((function*(){try{yield this.confirm()}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-delete-user",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"Gy6DlwKx",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Are you sure you want to delete this user?"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,1],[[32,0],"closeModal"],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,3],[[32,0,["user","count","posts"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"p"],[12],[2,"\\n            "],[10,"strong"],[12],[1,[32,0,["user","name"]]],[13],[2," and their "],[10,"strong"],[12],[1,[30,[36,0],[[32,0,["user","count","posts"]],"post"],null]],[13],[2," will be permanently deleted. If you don’t want to lose these posts, you should assign them to a different author.\\n        "],[13],[2,"\\n        "],[10,"p"],[12],[2,"\\n            A backup will be automatically downloaded to your device before deletion.\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"p"],[12],[2,"\\n            "],[10,"strong"],[12],[1,[32,0,["user","name"]]],[13],[2," will be permanently deleted. A backup will be automatically downloaded to your device before deletion.\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],"closeModal"],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n    "],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Download backup & delete user","Deleted",[32,0,["deleteUser"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["gh-pluralize","action","svg-jar","if"]}',moduleName:"ghost-admin/components/modal-delete-user.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({confirm:()=>{},user:Ember.computed.alias("model"),actions:{confirm(){this.deleteUser.perform()}},deleteUser:(0,n.task)((function*(){try{yield this.confirm()}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-delete-webhook",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"1ANO5FmP",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Are you sure?"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"\\n        Deleting this webhook may prevent the integration from functioning.\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Delete Webhook","Deleted",[32,0,["deleteWebhook"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/modal-delete-webhook.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({notifications:Ember.inject.service(),webhook:Ember.computed.alias("model"),actions:{confirm(){this.deleteWebhook.perform()}},deleteWebhook:(0,n.task)((function*(){try{yield this.confirm()}catch(e){this.notifications.showAPIError(e,{key:"webhook.delete.failed"})}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-disconnect-stripe",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"iyKv7rJr",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Are you sure you want to disconnect?"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    You\'re about to disconnect your Stripe account \\n"],[6,[37,2],[[32,0,["stripeConnectAccountName"]]],null,[["default"],[{"statements":[[2,"        ("],[1,[32,0,["stripeConnectAccountName"]]],[2,") \\n"]],"parameters":[]}]]],[2,"    from this site. This will automatically turn off paid memberships on this site.\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Disconnect","Disconnected",[32,0,["disconnectStripe"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","if"]}',moduleName:"ghost-admin/components/modal-disconnect-stripe.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({confirm:()=>{},stripeConnectAccountName:Ember.computed.alias("model.stripeConnectAccountName"),actions:{confirm(){this.disconnectStripe.perform()}},disconnectStripe:(0,n.task)((function*(){try{yield this.confirm()}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-early-access",["exports","ghost-admin/components/modal-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"ZCjEVhai",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Enable early-access feature"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"You\'re about to enable a feature that\'s not fully finished yet, and "],[10,"strong"],[12],[2,"once it\'s turned on there\'s no way back"],[13],[2,". Are you sure?"],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[11,"button"],[24,0,"gh-btn gh-btn-primary"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Enable feature"],[13],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/modal-early-access.hbs"})
var i=Ember._setComponentTemplate(n,t.default.extend({}))
e.default=i})),define("ghost-admin/components/modal-email-design-settings",["exports","ghost-admin/components/modal-base","moment","ghost-admin/components/gh-image-uploader","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L,R,U
function N(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const V=Ember.HTMLBars.template({id:"6dv26mHN",block:'{"symbols":["uploader"],"statements":[[10,"div"],[14,0,"modal-body modal-fullsettings"],[12],[2,"\\n    "],[10,"div"],[14,0,"flex items-center justify-between w-100 modal-fullsettings-topbar"],[12],[2,"\\n        "],[10,"h2"],[14,0,"modal-fullsettings-heading"],[12],[2,"Email newsletter design"],[13],[2,"\\n        "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn mr3"],[24,4,"button"],[4,[38,2],["click",[30,[36,5],[[32,0],"closeModal"],null]],null],[4,[38,2],["mousedown",[30,[36,6],[[32,0,["noop"]]],null]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@idleClass","@class"],["Save and close","Saved",[32,0,["saveSettings"]],"gh-btn-primary","gh-btn gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"modal-fullsettings-body"],[12],[2,"\\n        "],[10,"div"],[14,0,"modal-fullsettings-sidebar with-footer"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"fieldset"],[14,0,"modal-fullsettings-form"],[12],[2,"\\n                    "],[10,"div"],[14,0,"modal-fullsettings-section first"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[["@classNames"],["vertical"]],[["default"],[{"statements":[[2,"\\n                            "],[8,"gh-uploader",[],[["@extensions","@paramsHash","@onComplete"],[[32,0,["imageExtensions"]],[30,[36,7],null,[["purpose"],["image"]]],[30,[36,4],[[32,0,["imageUploaded"]],"headerImage"],null]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"modal-fullsettings-uploader"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-header-img-desc"],[12],[2,"\\n                                        "],[10,"h4"],[14,0,"modal-fullsettings-title"],[12],[2,"Header image"],[13],[2,"\\n                                        "],[10,"p"],[12],[2,"Optional, recommended size 1200x600"],[13],[2,"\\n                                    "],[13],[2,"\\n"],[6,[37,1],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"gh-header-img-container"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["headerImage"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"gh-header-img"],[12],[2,"\\n                                            "],[10,"img"],[14,0,"gh-header-img-thumbnail"],[15,"src",[32,0,["headerImage"]]],[14,"alt","header image"],[12],[13],[2,"\\n                                            "],[11,"button"],[24,0,"gh-btn gh-header-img-deleteicon"],[24,4,"button"],[4,[38,2],["click",[30,[36,4],[[32,0,["changeSetting"]],"headerImage",null],null]],null],[12],[2,"\\n                                                "],[10,"span"],[12],[2," "],[1,[30,[36,3],["trash"],[["class"],["w5 h5"]]]],[2," "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[11,"button"],[24,0,"gh-btn gh-header-img-uploadicon"],[24,4,"button"],[4,[38,2],["click",[32,1,["triggerFileDialog"]]],null],[12],[2,"\\n                                            "],[10,"span"],[12],[1,[30,[36,3],["upload-fill"],[["class"],["w5 h5"]]]],[13],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                            "],[8,"gh-file-input",[],[["@multiple","@action","@accept","@onInsert"],[false,[32,1,["setFiles"]],[32,1,["imageMimeTypes"]],[32,1,["registerFileInput"]]]],null],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "]],"parameters":[1]}]]],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[[16,"data-tooltip",[30,[36,8],[[32,0,["settings","icon"]],"A publication icon must be set in Branding settings."],null]]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"h4"],[15,0,[31,["modal-fullsettings-title ",[30,[36,8],[[32,0,["settings","icon"]],"disabled"],null]]]],[12],[2,"Publication icon"],[13],[2,"\\n                            "],[10,"div"],[15,0,[31,["for-switch small ",[30,[36,8],[[32,0,["settings","icon"]],"disabled"],null]]]],[12],[2,"\\n                                "],[10,"label"],[14,0,"switch"],[14,"for","show-header"],[12],[2,"\\n                                    "],[11,"input"],[16,"checked",[30,[36,0],[[32,0,["showHeaderIcon"]],[32,0,["settings","icon"]]],null]],[24,1,"show-header"],[24,3,"show-header"],[16,"disabled",[30,[36,9],[[32,0,["settings","icon"]]],null]],[24,4,"checkbox"],[4,[38,2],["click",[30,[36,4],[[32,0,["toggleSetting"]],"showHeaderIcon"],null]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"h4"],[14,0,"modal-fullsettings-title"],[12],[2,"Publication title"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                "],[10,"label"],[14,0,"switch"],[14,"for","show-title"],[12],[2,"\\n                                    "],[11,"input"],[16,"checked",[32,0,["showHeaderTitle"]]],[24,1,"show-title"],[24,3,"show-title"],[24,4,"checkbox"],[4,[38,2],["click",[30,[36,4],[[32,0,["toggleSetting"]],"showHeaderTitle"],null]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"modal-fullsettings-section divider-top"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"h4"],[14,0,"modal-fullsettings-title gh-email-design-alignment"],[12],[2,"Header style"],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-email-design-typography-wrapper header"],[12],[2,"\\n                                "],[10,"div"],[14,0,"modal-fullsettings-radiogroup gh-email-design-typography"],[12],[2,"\\n                                    "],[8,"gh-font-selector",[],[["@selected","@onChange"],[[32,0,["titleFontCategory"]],[30,[36,4],[[32,0,["changeSetting"]],"titleFontCategory"],null]]],null],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-btn-group icons"],[12],[2,"\\n                                    "],[11,"button"],[16,0,[31,["gh-btn gh-btn-icon ",[30,[36,1],[[30,[36,10],[[32,0,["titleAlignment"]],"left"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,2],["click",[30,[36,4],[[32,0,["changeSetting"]],"titleAlignment","left"],null]],null],[12],[10,"span"],[12],[1,[30,[36,3],["align-left"],null]],[13],[13],[2,"\\n                                    "],[11,"button"],[16,0,[31,["gh-btn gh-btn-icon ",[30,[36,1],[[30,[36,10],[[32,0,["titleAlignment"]],"center"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,2],["click",[30,[36,4],[[32,0,["changeSetting"]],"titleAlignment","center"],null]],null],[12],[10,"span"],[12],[1,[30,[36,3],["align-center"],null]],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"h4"],[14,0,"modal-fullsettings-title"],[12],[2,"Feature image"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                "],[10,"label"],[14,0,"switch"],[14,"for","show-feature-image"],[12],[2,"\\n                                    "],[11,"input"],[16,"checked",[32,0,["showFeatureImage"]]],[24,1,"show-feature-image"],[24,3,"show-feature-image"],[24,4,"checkbox"],[4,[38,2],["click",[30,[36,4],[[32,0,["toggleSetting"]],"showFeatureImage"],null]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"modal-fullsettings-section"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"h4"],[14,0,"modal-fullsettings-title"],[12],[2,"Body style"],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-email-design-typography-wrapper"],[12],[2,"\\n                                "],[10,"div"],[14,0,"modal-fullsettings-radiogroup gh-email-design-typography"],[12],[2,"\\n                                    "],[8,"gh-font-selector",[],[["@selected","@onChange"],[[32,0,["bodyFontCategory"]],[30,[36,4],[[32,0,["changeSetting"]],"bodyFontCategory"],null]]],null],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"modal-fullsettings-section divider-top"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[["@classNames"],["vertical"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"h4"],[14,0,"modal-fullsettings-title"],[12],[2,"Email footer"],[13],[2,"\\n                            "],[8,"koenig-basic-html-input",[],[["@name","@html","@class","@onChange","@onFocus","@onBlur"],["footer",[32,0,["footerContent"]],"miw-100 form-text gh-members-emailsettings-footer-input",[30,[36,4],[[32,0,["changeSetting"]],"footerContent"],null],[32,0,["handleInputFocus"]],[32,0,["handleInputBlur"]]]],null],[2,"\\n                        "],[10,"p"],[12],[2,"Any extra information or legal text"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"modal-fullsettings-section gh-members-emailsettings-footer"],[12],[2,"\\n                "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                    "],[10,"div"],[14,0,"gh-members-emailsettings-promotelabel"],[12],[2,"\\n                        "],[10,"span"],[12],[1,[30,[36,3],["heart"],null]],[13],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"modal-fullsettings-title"],[12],[2,"Promote independent publishing"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Show you’re a part of the indie publishing movement with a small badge in the footer"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                        "],[10,"label"],[14,0,"switch"],[14,"for","promote-ghost"],[12],[2,"\\n                            "],[11,"input"],[16,"checked",[32,0,["showBadge"]]],[24,1,"promote-ghost"],[24,3,"promote-ghost"],[24,4,"checkbox"],[4,[38,2],["click",[30,[36,4],[[32,0,["toggleSetting"]],"showBadge"],null]],null],[12],[13],[2,"\\n                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"modal-fullsettings-main"],[12],[2,"\\n            "],[10,"div"],[14,0,"modal-fullsettings-preview-container gh-members-emailpreview"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-members-emailpreview-container"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-members-emailpreview-faux"],[12],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            "],[10,"span"],[14,0,"strong"],[12],[1,[32,0,["config","blogTitle"]]],[13],[2," <"],[1,[30,[36,11],[[32,0,["settings","membersFromAddress"]]],null]],[2,">\\n                        "],[13],[2,"\\n                        "],[10,"p"],[12],[10,"span"],[14,0,"dark"],[12],[2,"To:"],[13],[2," Jamie Larson <jamie@example.com>"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-members-emailpreview-contents"],[12],[2,"\\n"],[6,[37,1],[[32,0,["headerImage"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-members-emailpreview-header-image"],[12],[2,"\\n                                "],[10,"img"],[15,"src",[32,0,["headerImage"]]],[12],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["showHeader"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-members-emailpreview-header"],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[32,0,["settings","icon"]],[32,0,["showHeaderIcon"]]],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"img"],[15,"src",[32,0,["settings","icon"]]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["showHeaderTitle"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"h4"],[12],[1,[32,0,["config","blogTitle"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[10,"div"],[15,0,[31,["gh-members-emailpreview-title ",[30,[36,1],[[30,[36,10],[[32,0,["titleAlignment"]],"left"],null],"gh-members-emailpreview-title-left"],null]]]],[12],[2,"\\n                            "],[10,"h2"],[15,0,[31,[[30,[36,1],[[30,[36,10],[[32,0,["titleFontCategory"]],"serif"],null],"serif"],null]]]],[12],[2,"Your email newsletter"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"\\n                                "],[10,"span"],[12],[2,"By "],[1,[30,[36,1],[[32,0,["session","user","name"]],[32,0,["session","user","name"]],[32,0,["session","user","email"]]],null]],[2," – "],[1,[32,0,["currentDate"]]],[2," – "],[13],[2," "],[10,"a"],[14,6,"javascript:"],[12],[2,"View online →"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"],[6,[37,1],[[32,0,["showFeatureImage"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-members-emailpreview-featureimage"],[15,5,[32,0,["featureImageStyle"]]],[12],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-members-emailpreview-featureimage-caption"],[12],[2,"Feature image caption"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[10,"div"],[15,0,[31,["gh-members-emailpreview-content ",[30,[36,1],[[30,[36,10],[[32,0,["bodyFontCategory"]],"sans_serif"],null],"sans-serif"],null]]]],[12],[2,"\\n                            "],[10,"p"],[12],[2,"This is what your content will look like when you send one of your posts as an email newsletter to your subscribers."],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Over there on the left you’ll see some settings that allow you to customize the look and feel of this template to make it perfectly suited to your brand. Email templates are exceptionally finnicky to make, but we’ve spent a long time optimising this one to make it work beautifully across devices, email clients and content types."],[13],[2,"\\n                            "],[10,"p"],[12],[2,"So, you can trust that every email you send with Ghost will look great and work well. Just like the rest of your site."],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-members-emailpreview-footer"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-members-emailpreview-footercontent"],[12],[2,"\\n                                "],[2,[32,0,["footerContent"]]],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-members-emailpreview-footersite"],[12],[2,"\\n                                "],[10,"span"],[12],[1,[32,0,["config","blogTitle"]]],[2," © "],[1,[32,0,["copyrightYear"]]],[2," – "],[13],[2," "],[10,"a"],[14,6,"javascript:"],[12],[2,"Unsubscribe"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[15,0,[31,["gh-members-emailpreview-badge ",[30,[36,8],[[32,0,["showBadge"]],"hide"],null]]]],[12],[2,"\\n                            "],[10,"a"],[14,6,"javascript:"],[12],[10,"svg"],[14,"width","24"],[14,"height","24"],[14,"viewBox","0 0 24 24"],[14,"fill","none"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[12],[2,"\\n                            "],[10,"path"],[14,"fill-rule","evenodd"],[14,"clip-rule","evenodd"],[14,"d","M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM11.8326 2.33879C6.37785 2.95189 3.95901 5.20797 3.41126 9.74699C3.34896 10.2632 3.22642 10.7805 3.10443 11.2954C2.93277 12.02 2.76221 12.74 2.76221 13.4458C2.76221 17.9885 6.5856 21.556 11.1283 21.556C12.8959 21.556 14.4433 20.8144 15.8756 20.048C19.0536 18.3478 22.0328 16.2597 22.0328 12.5411C22.0328 9.91512 20.1051 7.56932 18.466 5.5747C18.3834 5.47416 18.3015 5.37451 18.2206 5.27577C17.3866 4.25742 14.4333 2.04643 11.8326 2.33879Z"],[14,"fill","black"],[12],[13],[2,"\\n                            "],[13],[2," "],[10,"span"],[12],[2,"Powered by Ghost"],[13],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["and","if","on","svg-jar","fn","action","optional","hash","unless","not","eq","full-email-address"]}',moduleName:"ghost-admin/components/modal-email-design-settings.hbs"})
let H=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,g=Ember._tracked,b=Ember._tracked,f=Ember._tracked,v=Ember._action,y=Ember._action,w=Ember._action,E=Ember._action,k=Ember._action,P=Ember._action,O=(0,r.task)({drop:!0}),j=class extends t.default{constructor(){super(...arguments),N(this,"config",_,this),N(this,"ghostPaths",z,this),N(this,"session",x,this),N(this,"settings",T,this),N(this,"headerImage",S,this),N(this,"showHeaderIcon",M,this),N(this,"showHeaderTitle",C,this),N(this,"titleFontCategory",D,this),N(this,"titleAlignment",A,this),N(this,"showFeatureImage",I,this),N(this,"bodyFontCategory",L,this),N(this,"footerContent",R,this),N(this,"showBadge",U,this),F(this,"currentDate",(0,n.default)().format("D MMM YYYY")),F(this,"copyrightYear",(new Date).getFullYear()),F(this,"imageExtensions",i.IMAGE_EXTENSIONS)}get showHeader(){return this.showHeaderIcon&&this.settings.get("icon")||this.showHeaderTitle}get featureImageUrl(){return this.ghostPaths.assetRoot.replace(/\/$/,"")+"/img/user-cover-e8f42b12b5fcba292a8b5dfa81e13dd2.png"}get featureImageStyle(){return Ember.String.htmlSafe(`background-image: url(${this.featureImageUrl})`)}toggleSetting(e,t){this[e]=t.target.checked}changeSetting(e,t){this[e]=t}imageUploaded(e,t){t[0]&&(this[e]=t[0].url)}handleInputFocus(){this._removeShortcuts()}handleInputBlur(){this._setupShortcuts()}confirm(){this.saveSettings.perform()}*saveSettings(){this.settings.set("newsletterHeaderImage",this.headerImage),this.settings.set("newsletterShowHeaderIcon",this.showHeaderIcon),this.settings.set("newsletterShowHeaderTitle",this.showHeaderTitle),this.settings.set("newsletterTitleFontCategory",this.titleFontCategory),this.settings.set("newsletterTitleAlignment",this.titleAlignment),this.settings.set("newsletterShowFeatureImage",this.showFeatureImage),this.settings.set("newsletterBodyFontCategory",this.bodyFontCategory),this.settings.set("newsletterFooterContent",this.footerContent),this.settings.set("newsletterShowBadge",this.showBadge),yield this.settings.save(),this.closeModal()}},_=B(j.prototype,"config",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=B(j.prototype,"ghostPaths",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=B(j.prototype,"session",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=B(j.prototype,"settings",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=B(j.prototype,"headerImage",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.settings.get("newsletterHeaderImage")}}),M=B(j.prototype,"showHeaderIcon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.settings.get("newsletterShowHeaderIcon")}}),C=B(j.prototype,"showHeaderTitle",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.settings.get("newsletterShowHeaderTitle")}}),D=B(j.prototype,"titleFontCategory",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.settings.get("newsletterTitleFontCategory")}}),A=B(j.prototype,"titleAlignment",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.settings.get("newsletterTitleAlignment")}}),I=B(j.prototype,"showFeatureImage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.settings.get("newsletterShowFeatureImage")}}),L=B(j.prototype,"bodyFontCategory",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.settings.get("newsletterBodyFontCategory")}}),R=B(j.prototype,"footerContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.settings.get("newsletterFooterContent")}}),U=B(j.prototype,"showBadge",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.settings.get("newsletterShowBadge")}}),B(j.prototype,"toggleSetting",[v],Object.getOwnPropertyDescriptor(j.prototype,"toggleSetting"),j.prototype),B(j.prototype,"changeSetting",[y],Object.getOwnPropertyDescriptor(j.prototype,"changeSetting"),j.prototype),B(j.prototype,"imageUploaded",[w],Object.getOwnPropertyDescriptor(j.prototype,"imageUploaded"),j.prototype),B(j.prototype,"handleInputFocus",[E],Object.getOwnPropertyDescriptor(j.prototype,"handleInputFocus"),j.prototype),B(j.prototype,"handleInputBlur",[k],Object.getOwnPropertyDescriptor(j.prototype,"handleInputBlur"),j.prototype),B(j.prototype,"confirm",[P],Object.getOwnPropertyDescriptor(j.prototype,"confirm"),j.prototype),B(j.prototype,"saveSettings",[O],Object.getOwnPropertyDescriptor(j.prototype,"saveSettings"),j.prototype),j)
e.default=H,Ember._setComponentTemplate(V,H)})),define("ghost-admin/components/modal-enable-tiers",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"Uvvnkd12",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Tiers is a one-way street!"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"Tiers for paid memberships is currently in an early access beta. Once enabled, it cannot be switched off. "],[10,"a"],[14,6,"http://ghost.org/help/tiers"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Learn more here"],[13],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[11,"button"],[24,0,"gh-btn gh-btn-primary"],[24,4,"button"],[4,[38,0],[[32,0],"confirm"],null],[12],[10,"span"],[12],[2,"Enable Tiers"],[13],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/modal-enable-tiers.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({feature:Ember.inject.service(),confirm:()=>{},actions:{confirm(){this.enableTiers.perform()}},enableTiers:(0,n.task)((function*(){try{yield this.feature.set("multipleProducts",!0)}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-free-membership-settings",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m
function h(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"yEYk7rbw",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Free membership settings"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n    "],[1,[30,[36,2],["close"],null]],[2,"\\n"],[13],[2,"\\n\\n"],[10,"form"],[12],[2,"\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-content grey gh-product-priceform-block"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["price","errors"]],[32,0,["price","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","name"],[14,0,"fw6"],[12],[2,"Portal display name"],[13],[2,"\\n                "],[8,"gh-text-input",[],[["@value","@input","@name","@id","@class"],[[30,[36,3],[[32,0,["settings","membersFreePriceName"]]],null],[30,[36,0],[[32,0],"updateName"],[["value"],["target.value"]]],"name","name","gh-input"]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["price","errors"]],"name"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["price","errors"]],[32,0,["price","hasValidated"]],"description"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","description"],[14,0,"fw6"],[12],[2,"Description"],[13],[2,"\\n                "],[8,"gh-text-input",[],[["@value","@input","@name","@id","@class"],[[30,[36,3],[[32,0,["settings","membersFreePriceDescription"]]],null],[30,[36,0],[[32,0],"updateDescription"],[["value"],["target.value"]]],"description","description","gh-input"]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["price","errors"]],"description"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["price","errors"]],[32,0,["price","hasValidated"]],"welcome-page"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","welcome-page"],[14,0,"fw6"],[12],[2,"Welcome page"],[13],[2,"\\n                "],[8,"gh-url-input",[],[["@value","@baseUrl","@setResult","@validateUrl","@placeholder"],[[30,[36,3],[[32,0,["settings","membersFreeSignupRedirect"]]],null],[30,[36,3],[[32,0,["siteUrl"]]],null],[30,[36,0],[[32,0],"setFreeSignupRedirect"],null],[30,[36,0],[[32,0],"validateFreeSignupRedirect"],null],[30,[36,3],[[32,0,["siteUrl"]]],null]]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"membersFreeSignupRedirect"]],null],[2,"\\n                "],[10,"p"],[12],[2,"Redirect to this URL after signing up for a free membership"],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["price","errors"]],"welcome-page"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n    "],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@task","@class"],["Save",[32,0,["save"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","optional","svg-jar","readonly"]}',moduleName:"ghost-admin/components/modal-free-membership-settings.hbs"})
let f=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=(0,n.task)({drop:!0}),u=class extends t.default{constructor(){super(...arguments),h(this,"settings",d,this),h(this,"config",c,this),h(this,"freeSignupRedirect",p,this),h(this,"siteUrl",m,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"actions",{closeModal(){this.close()},updateName(e){this.settings.set("membersFreePriceName",e)},updateDescription(e){this.settings.set("membersFreePriceDescription",e)},setFreeSignupRedirect(e){this.freeSignupRedirect=e},validateFreeSignupRedirect(){return this._validateSignupRedirect(this.freeSignupRedirect,"membersFreeSignupRedirect")}})}init(){super.init(...arguments),this.siteUrl=this.config.get("blogUrl")}close(e){e?.preventDefault?.(),this.closeModal()}*save(){try{if(this.send("validateFreeSignupRedirect"),0!==this.settings.get("errors").length)return
yield this.settings.save(),this.send("closeModal")}catch(e){this.notifications.showAPIError(e,{key:"settings.save"})}finally{this.send("closeModal")}}_validateSignupRedirect(e,t){if(this.settings.get("errors").remove(t),this.settings.get("hasValidated").removeObject(t),null===e)return this.settings.get("errors").add(t,"Please enter a valid URL"),this.settings.get("hasValidated").pushObject(t),!1
if(void 0!==e)if(e.href.startsWith(this.siteUrl)){const n=e.href.replace(this.siteUrl,"")
this.settings.set(t,n)}else this.settings.set(t,e.href)}},d=g(u.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=g(u.prototype,"config",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"freeSignupRedirect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(u.prototype,"siteUrl",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(u.prototype,"close",[o],Object.getOwnPropertyDescriptor(u.prototype,"close"),u.prototype),g(u.prototype,"save",[l],Object.getOwnPropertyDescriptor(u.prototype,"save"),u.prototype),u)
e.default=f,Ember._setComponentTemplate(b,f)})),define("ghost-admin/components/modal-impersonate-member",["exports","ghost-admin/components/modal-base","ghost-admin/utils/copy-text-to-clipboard","ember-concurrency"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"ojIFrqO/",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header flex justify-center"],[12],[2,"\\n    "],[10,"h1"],[14,5,"margin: 0;"],[12],[2,"Impersonate"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n    "],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"div"],[14,0,"flex items-center justify-center mt4 mb4"],[12],[2,"\\n        "],[8,"gh-member-avatar",[],[["@member","@sizeClass","@containerClass"],[[32,0,["member"]],[30,[36,3],[[32,0,["member","name"]],"f-headline fw4 lh-zero tracked-1","f-headline fw4 lh-zero tracked-1"],null],"w25 h25 gh-member-detail-avatar"]],null],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"p"],[14,0,"tc pl4 pr4"],[12],[2,"\\n        This is an authentication link to sign into "],[10,"strong"],[12],[1,[32,0,["config","blogTitle"]]],[13],[2," as "],[10,"strong"],[12],[1,[32,0,["member","email"]]],[13],[2,", you can send it to them if they need it, or use it to sign into their account for customer support.\\n    "],[13],[2,"\\n\\n    "],[10,"fieldset"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-input-group"],[12],[2,"\\n            "],[8,"gh-text-input",[],[["@id","@name","@disabled","@value","@placeholder"],["member-signin-url","member-signin-url",true,[30,[36,4],[[32,0,["signinUrl"]]],null],[31,[[32,0,["config","blogUrl"]],"/members/?token=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"]]]],null],[2,"\\n"],[6,[37,3],[[32,0,["signinUrl"]]],null,[["default","else"],[{"statements":[[2,"                "],[8,"gh-task-button",[],[["@buttonText","@task","@successText","@class"],["Copy link",[32,0,["copySigninUrl"]],"Link copied","gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[8,"gh-task-button",[],[["@buttonText","@task","@successText","@disabled","@class"],["Copy link",[32,0,["copySigninUrl"]],"Link copied","true","gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[12],[2,"\\n    "],[10,"p"],[14,0,"tc pt4 mb2"],[12],[2,"This link is only valid for the next "],[10,"strong"],[12],[2,"24 hours"],[13],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","optional","svg-jar","if","readonly"]}',moduleName:"ghost-admin/components/modal-impersonate-member.hbs"})
var a=Ember._setComponentTemplate(r,t.default.extend({config:Ember.inject.service(),store:Ember.inject.service(),classNames:"modal-impersonate-member",signinUrl:null,member:Ember.computed.alias("model"),didInsertElement(){this._super(...arguments),this._signinUrlUpdateTask.perform()},actions:{confirm(){}},copySigninUrl:(0,i.task)((function*(){return(0,n.default)(this.signinUrl),yield(0,i.timeout)(1e3),!0})),_signinUrlUpdateTask:(0,i.task)((function*(){const e=yield this.member.fetchSigninUrl.perform()
this.set("signinUrl",e.url)})).drop()}))
e.default=a})),define("ghost-admin/components/modal-import-members",["exports","ghost-admin/components/modal-base","ghost-admin/utils/ghost-paths","moment","@tryghost/members-csv/lib/unparse","ghost-admin/services/ajax"],(function(e,t,n,i,r,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"axVtd359",block:'{"symbols":["error"],"statements":[[10,"div"],[15,0,[31,["gh-member-import-wrapper ",[30,[36,1],[[30,[36,9],[[30,[36,2],[[32,0,["state"]],"MAPPING"],null],[30,[36,2],[[32,0,["state"]],"UPLOADING"],null]],null],"wide"],null]]]],[12],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"INIT"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"Import members"],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"p"],[14,0,"gh-box gh-box-green"],[12],[2,"Need some help? "],[10,"a"],[14,6,"https://ghost.org/help/import-members/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Learn more"],[13],[2," about importing members or "],[10,"a"],[14,6,"https://static.ghost.org/v4.0.0/files/member-import-template.csv"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"download a sample CSV file"],[13],[2,"."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,9],[[30,[36,2],[[32,0,["state"]],"MAPPING"],null],[30,[36,2],[[32,0,["state"]],"UPLOADING"],null]],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"Import members"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"PROCESSING"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header icon-center"],[12],[2,"\\n            "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n            "],[10,"h1"],[12],[2,"Import in progress"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"COMPLETE"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header icon-center"],[12],[2,"\\n"],[6,[37,1],[[32,0,["importResponse","errorCount"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[30,[36,2],[[32,0,["importResponse","importedCount"]],0],null]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[30,[36,3],["members-outline"],[["class"],["gh-member-import-icon-members midgrey"]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[1,[30,[36,3],["members-outline"],[["class"],["gh-member-import-icon-members green"]]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                "],[1,[30,[36,3],["confetti"],[["class"],["gh-member-import-icon-confetti"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"h1"],[12],[2,"Import complete"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"ERROR"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[12],[1,[32,0,["errorHeader"]]],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n        "],[1,[30,[36,3],["close"],null]],[2,"\\n        "],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"INIT"],null]],null,[["default"],[{"statements":[[2,"            "],[8,"modal-import-members/csv-file-select",[],[["@setFile"],[[30,[36,0],[[32,0],"setFile"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,9],[[30,[36,2],[[32,0,["state"]],"MAPPING"],null],[30,[36,2],[[32,0,["state"]],"UPLOADING"],null]],null]],null,[["default"],[{"statements":[[2,"            "],[8,"modal-import-members/csv-file-mapping",[],[["@file","@setMappingResult","@setFileData","@showErrors","@disabled"],[[32,0,["file"]],[30,[36,0],[[32,0],"setMappingResult"],null],[30,[36,0],[[32,0],"setMappingFileData"],null],[32,0,["showMappingErrors"]],[30,[36,1],[[30,[36,9],[[30,[36,2],[[32,0,["state"]],"UPLOADING"],null],[30,[36,2],[[32,0,["mappingResult","membersCount"]],0],null]],null],true,false],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"PROCESSING"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-member-import-resultcontainer"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-member-import-result-summary"],[12],[2,"\\n                "],[10,"p"],[12],[2,"Your import is being processed, and you’ll receive a confirmation email as soon as it’s complete. Usually this only takes a few minutes, but larger imports may take longer."],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"COMPLETE"],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-member-import-resultcontainer"],[12],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["importResponse","importedCount"]],0],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-member-import-result-summary"],[12],[2,"\\n                    "],[10,"p"],[12],[2,"No members were added"],[1,[30,[36,1],[[32,0,["importResponse","errorCount"]]," due to the following errors:","."],null]],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"gh-member-import-result-summary"],[12],[2,"\\n                    "],[10,"p"],[12],[2,"A total of "],[10,"strong"],[12],[1,[30,[36,4],[[32,0,["importResponse","importedCount"]]],null]],[13],[2," "],[1,[30,[36,5],[[32,0,["importResponse","importedCount"]],"person"],[["without-count"],[true]]]],[2," were successfully added or updated in your list of members, and now have access to your site."],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["importResponse","errorCount"]]],null,[["default"],[{"statements":[[6,[37,6],[[30,[36,2],[[32,0,["importResponse","importedCount"]],0],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"hr"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-member-import-result-summary"],[12],[2,"\\n                            "],[10,"p"],[12],[10,"strong"],[12],[1,[30,[36,4],[[32,0,["importResponse","errorCount"]]],null]],[13],[2," "],[1,[30,[36,5],[[32,0,["importResponse","errorCount"]],"member"],[["without-count"],[true]]]],[2," "],[1,[30,[36,1],[[30,[36,2],[[32,0,["importResponse","errorCount"]],1],null],"was","were"],null]],[2," skipped due to the following errors:"],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"div"],[14,0,"gh-member-import-errorlist"],[12],[2,"\\n                        "],[10,"ul"],[12],[2,"\\n"],[6,[37,8],[[30,[36,7],[[30,[36,7],[[32,0,["importResponse","errorList"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[12],[1,[32,1,["message"]]],[2," ("],[1,[32,1,["count"]]],[2,") "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"ERROR"],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"failed flex items-start gh-members-upload-errorcontainer error"],[12],[2,"\\n                "],[10,"div"],[14,0,"mr2"],[12],[1,[30,[36,3],["warning"],[["class"],["nudge-top--2 w4 h4 fill-red"]]]],[13],[2,"\\n                "],[10,"p"],[14,0,"ma0 pa0"],[12],[1,[32,0,["errorMessage"]]],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"INIT"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"MAPPING"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Start over"],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[16,0,[31,["gh-btn gh-btn-green ",[30,[36,6],[[32,0,["mappingResult","membersCount"]],"disabled"],null]]]],[24,4,"button"],[4,[38,0],[[32,0],"upload"],null],[12],[2,"\\n"],[6,[37,1],[[32,0,["mappingResult","membersCount"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"span"],[12],[2,"Import "],[1,[30,[36,4],[[32,0,["mappingResult","membersCount"]]],null]],[2," "],[1,[30,[36,5],[[32,0,["mappingResult","membersCount"]],"member"],[["without-count"],[true]]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"span"],[12],[2,"Import members"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"UPLOADING"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn disabled"],[24,"disabled","disabled"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Start over"],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-green gh-btn-icon disabled"],[24,"disabled","disabled"],[24,4,"button"],[4,[38,0],[[32,0],"upload"],null],[12],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,3],["spinner"],[["class"],["gh-icon-spinner"]]]],[2," "],[1,[32,0,["runningText"]]],[2,"Uploading"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"COMPLETE"],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["importResponse","errorCount"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"a"],[15,6,[31,[[32,0,["importResponse","errorCsvUrl"]]]]],[15,"download",[31,[[32,0,["importResponse","errorCsvName"]]]]],[14,0,"gh-btn"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Download error file"],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["importResponse","importedCount"]],0],null]],null,[["default","else"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Try again"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"View members"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,2],[[32,0,["importResponse","importedCount"]],0],null]],null,[["default","else"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Try again"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Upload another file"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"View members"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"PROCESSING"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Upload another file"],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Got it"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"ERROR"],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["showTryAgainButton"]]],null,[["default"],[{"statements":[[2,"                "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Try again"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"OK"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","if","eq","svg-jar","format-number","gh-pluralize","unless","-track-array","each","or"]}',moduleName:"ghost-admin/components/modal-import-members.hbs"})
var o=Ember._setComponentTemplate(s,t.default.extend({config:Ember.inject.service(),ajax:Ember.inject.service(),notifications:Ember.inject.service(),store:Ember.inject.service(),state:"INIT",file:null,mappingResult:null,mappingFileData:null,paramName:"membersfile",importResponse:null,errorMessage:null,errorHeader:null,showMappingErrors:!1,showTryAgainButton:!0,confirm:()=>{},uploadUrl:Ember.computed((function(){return`${(0,n.default)().apiRoot}/members/upload/`})),formData:Ember.computed("file",(function(){let e=new FormData
if(e.append(this.paramName,this.file),this.mappingResult.labels&&this.mappingResult.labels.forEach((t=>{e.append("labels",t.name)})),this.mappingResult.mapping){let t=this.mappingResult.mapping.toJSON()
for(let[n,i]of Object.entries(t))e.append(`mapping[${n}]`,i)}return e})),actions:{setFile(e){this.set("file",e),this.set("state","MAPPING")},setMappingResult(e){this.set("mappingResult",e)},setMappingFileData(e){this.set("mappingFileData",e)},upload(){this.file&&!this.mappingResult.error?(this.generateRequest(),this.set("showMappingErrors",!1)):this.set("showMappingErrors",!0)},reset(){this.set("showMappingErrors",!1),this.set("errorMessage",null),this.set("errorHeader",null),this.set("file",null),this.set("mapping",null),this.set("state","INIT"),this.set("showTryAgainButton",!0)},closeModal(){"UPLOADING"!==this.state&&this._super(...arguments)},confirm(){}},generateRequest(){let e=this.ajax,t=this.formData,n=this.uploadUrl
this.set("state","UPLOADING"),e.post(n,{data:t,processData:!1,contentType:!1,dataType:"text"}).then((e=>{e instanceof a.AcceptedResponse?this.set("state","PROCESSING"):(this._uploadSuccess(JSON.parse(e)),this.set("state","COMPLETE"))})).catch((e=>{this._uploadError(e),this.set("state","ERROR")}))},_uploadSuccess(e){let t=e.meta.stats.imported
const n=e.meta.stats.invalid
let a=n.length
const s={},o=n.map((e=>{const t=e.error.replace("Value in [members.email] cannot be blank.","Missing email address").replace("Value in [members.note] exceeds maximum length of 2000 characters.","Note is too long").replace("Value in [members.subscribed] must be one of true, false, 0 or 1.",'Value of "Subscribed to emails" must be "true" or "false"').replace("Validation (isEmail) failed for email","Invalid email address").replace(/No such customer:[^,]*/,"Could not find Stripe customer")
return t.split(",").forEach((e=>{s[e]?s[e].count=s[e].count+1:s[e]={message:e,count:1}})),{...e,error:t}}))
let l=(0,r.default)(o),u=new Blob([l],{type:"text/csv"}),d=URL.createObjectURL(u),c=e.meta.import_label?`${e.meta.import_label.name} - Errors.csv`:`Import ${(0,i.default)().format("YYYY-MM-DD HH:mm")} - Errors.csv`
this.set("importResponse",{importedCount:t,errorCount:a,errorCsvUrl:d,errorCsvName:c,errorList:Object.values(s)}),e.meta.import_label&&this.store.pushPayload({labels:[e.meta.import_label]}),this.confirm({label:e.meta.import_label})},_uploadError(e){let t,n="Import error";(0,a.isVersionMismatchError)(e)&&this.notifications.showAPIError(e),(0,a.isUnsupportedMediaTypeError)(e)?t="The file type you uploaded is not supported.":(0,a.isRequestEntityTooLargeError)(e)?t="The file you uploaded was larger than the maximum file size your server allows.":e.payload&&e.payload.errors&&!Ember.isBlank(e.payload.errors[0].message)?(t=Ember.String.htmlSafe(e.payload.errors[0].message),e.payload.errors[0].message.match(/great deliverability/gi)&&(n="Woah there cowboy, that's a big list",this.set("showTryAgainButton",!1),this.confirm())):(console.error(e),t="Something went wrong :("),this.set("errorMessage",t),this.set("errorHeader",n)}}))
e.default=o})),define("ghost-admin/components/modal-import-members/csv-file-mapping",["exports","@glimmer/component","ghost-admin/errors/member-import-error","papaparse"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p
function m(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"ihHX4mnM",block:'{"symbols":["@showErrors","@disabled"],"statements":[[6,[37,1],[[32,0,["hasFileData"]]],null,[["default","else"],[{"statements":[[2,"    "],[8,"gh-form-group",[[24,0,"gh-members-import-mapping"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[15,0,[31,["gh-members-import-mappingwrapper ",[30,[36,1],[[30,[36,0],[[32,0,["error"]],[32,1]],null],"error"],null]]]],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-members-import-scrollarea"],[12],[2,"\\n                "],[8,"gh-members-import-table",[],[["@data","@setMapping","@disabled"],[[32,0,["fileData"]],[32,0,["setMapping"]],[32,2]]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"],[6,[37,1],[[30,[36,0],[[32,0,["error"]],[32,1]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"pt2 error"],[12],[1,[32,0,["error","message"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[10,"p"],[14,0,"pt2"],[12],[2,"If an email address in your CSV matches an existing member, they will be updated with the mapped values."],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"mt6"],[12],[2,"\\n            "],[10,"label"],[14,"for","label-input"],[12],[10,"span"],[14,0,"fw6 f8 dib mb1"],[12],[2,"Label these members"],[13],[13],[2,"\\n            "],[8,"gh-member-label-input",[],[["@labels","@onChange","@disabled","@triggerId"],[[32,0,["labels"]],[32,0,["updateLabels"]],[32,2],"label-input"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"bg-whitegrey-l2 ba b--whitegrey br3 gh-image-uploader gh-members-import-spinner"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["and","if"]}',moduleName:"ghost-admin/components/modal-import-members/csv-file-mapping.hbs"})
let b=(r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=Ember._action,u=class extends t.default{constructor(){super(...arguments),m(this,"error",d,this),m(this,"fileData",c,this),m(this,"labels",p,this),this.parseFileAndGenerateMapping(this.args.file)}parseFileAndGenerateMapping(e){i.default.parse(e,{header:!0,skipEmptyLines:!0,complete:e=>{e.data&&e.data.length?this.fileData=e.data:this.fileData=[],this.args.setFileData(this.fileData)}})}get hasFileData(){return!Ember.isNone(this.fileData)}setMapping(e){0===this.fileData.length?this.error=new n.default({message:"File is empty, nothing to import. Please select a different file."}):e.getKeyByValue("email")?this.error=null:this.error=new n.default({message:'Please map "Email" to one of the fields in the CSV.'}),this.mapping=e,this.setMappingResult()}updateLabels(e){this.labels=e,this.setMappingResult()}setMappingResult(){this.args.setMappingResult({mapping:this.mapping,labels:this.labels,membersCount:this.fileData?.length,error:this.error})}},d=h(u.prototype,"error",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=h(u.prototype,"fileData",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=h(u.prototype,"labels",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h(u.prototype,"setMapping",[o],Object.getOwnPropertyDescriptor(u.prototype,"setMapping"),u.prototype),h(u.prototype,"updateLabels",[l],Object.getOwnPropertyDescriptor(u.prototype,"updateLabels"),u.prototype),u)
e.default=b,Ember._setComponentTemplate(g,b)})),define("ghost-admin/components/modal-import-members/csv-file-select",["exports","@glimmer/component","ghost-admin/services/ajax"],(function(e,t,n){var i,r,a,s,o,l,u,d,c
function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"8v4K2o23",block:'{"symbols":[],"statements":[[6,[37,1],[[32,0,["error"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"failed flex items-start gh-members-upload-errorcontainer error"],[12],[2,"\\n        "],[10,"div"],[14,0,"mr2"],[12],[1,[30,[36,0],["warning"],[["class"],["nudge-top--2 w4 h4 fill-red"]]]],[13],[2,"\\n        "],[10,"p"],[14,0,"ma0 pa0"],[12],[1,[32,0,["error","message"]]],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[10,"div"],[14,0,"upload-form br3"],[12],[2,"\\n    "],[11,"section"],[16,0,[31,["gh-image-uploader gh-members-import-uploader ",[32,0,["dragClass"]]]]],[4,[38,2],["drop",[32,0,["drop"]]],null],[4,[38,2],["dragover",[32,0,["dragOver"]]],null],[4,[38,2],["dragleave",[32,0,["dragLeave"]]],null],[12],[2,"\\n        "],[8,"gh-file-input",[],[["@multiple","@alt","@action","@accept"],[false,[32,0,["labelText"]],[32,0,["fileSelected"]],[32,0,["accept"]]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column items-center"],[12],[2,"\\n            "],[1,[30,[36,0],["upload"],null]],[2,"\\n            "],[10,"div"],[14,0,"description"],[12],[1,[32,0,["labelText"]]],[13],[2,"\\n        "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","if","on"]}',moduleName:"ghost-admin/components/modal-import-members/csv-file-select.hbs"})
let g=(i=Ember._tracked,r=Ember._tracked,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=class extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"labelText","Select or drop a CSV file"),p(this,"error",d,this),p(this,"dragClass",c,this)}fileSelected(e){let[t]=Array.from(e)
try{this._validateFileType(t),this.error=null}catch(n){return void(this.error=n)}this.args.setFile(t)}dragOver(e){if(e.dataTransfer){if(navigator.userAgent.indexOf("Chrome")>-1){let t=e.dataTransfer.effectAllowed
e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy"}e.stopPropagation(),e.preventDefault(),this.dragClass="-drag-over"}}dragLeave(e){e.preventDefault(),this.dragClass=null}drop(e){e.preventDefault(),this.dragClass=null,e.dataTransfer.files&&this.fileSelected(e.dataTransfer.files)}_validateFileType(e){let[,t]=/(?:\.([^.]+))?$/.exec(e.name)
if("csv"!==t.toLowerCase())throw new n.UnsupportedMediaTypeError({message:"The file type you uploaded is not supported"})
return!0}},d=m(u.prototype,"error",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=m(u.prototype,"dragClass",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m(u.prototype,"fileSelected",[a],Object.getOwnPropertyDescriptor(u.prototype,"fileSelected"),u.prototype),m(u.prototype,"dragOver",[s],Object.getOwnPropertyDescriptor(u.prototype,"dragOver"),u.prototype),m(u.prototype,"dragLeave",[o],Object.getOwnPropertyDescriptor(u.prototype,"dragLeave"),u.prototype),m(u.prototype,"drop",[l],Object.getOwnPropertyDescriptor(u.prototype,"drop"),u.prototype),u)
e.default=g,Ember._setComponentTemplate(h,g)})),define("ghost-admin/components/modal-invite-new-user",["exports","ghost-admin/components/modal-base","ghost-admin/mixins/validation-engine","ember-concurrency"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"utQNi4Vc",block:'{"symbols":[],"statements":[[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n    "],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"gh-modal-invite-user"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Invite a new staff user"],[13],[2,"\\n        "],[10,"p"],[12],[2,"Send an invitation for a new person to create a staff account on your site, and select a role that matches what you’d like them to be able to do."],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"fieldset"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"email"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","new-user-email"],[12],[2,"Email address"],[13],[2,"\\n                "],[8,"gh-text-input",[],[["@class","@id","@type","@placeholder","@name","@shouldFocus","@autocapitalize","@autocorrect","@value","@input","@keyEvents"],["email","new-user-email","email","youremail@example.com","email",true,"off","off",[30,[36,3],[[32,0,["email"]]],null],[30,[36,0],[[32,0],[30,[36,4],[[32,0,["email"]]],null]],[["value"],["target.value"]]],[30,[36,5],null,[["Enter"],[[30,[36,0],[[32,0],"confirm"],null]]]]]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"email"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-role-selection",[],[["@selected","@setRole","@onValidationSuccess","@onValidationFailure"],[[32,0,["role"]],[32,0,["setRole"]],[30,[36,0],[[32,0],"roleValidationSucceeded"],null],[30,[36,0],[[32,0],"roleValidationFailed"],null]]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,6],[[32,0,["limitErrorMessage"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"gh-task-button",[],[["@buttonText","@task","@class","@disableMouseDown"],["Upgrade my plan →",[32,0,["transitionToBilling"]],"gh-btn gh-btn-green gh-btn-icon","true"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class","@disabled","@disableMouseDown"],["Send invitation now →","Sent",[32,0,["sendInvitation"]],"gh-btn gh-btn-black gh-btn-icon",[32,0,["fetchRoles","isRunning"]],"true"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","optional","svg-jar","readonly","mut","hash","if"]}',moduleName:"ghost-admin/components/modal-invite-new-user.hbs"}),{Promise:a}=Ember.RSVP
var s=Ember._setComponentTemplate(r,t.default.extend(n.default,{router:Ember.inject.service(),notifications:Ember.inject.service(),store:Ember.inject.service(),classNames:"modal-content invite-new-user",role:null,limitErrorMessage:null,validationType:"inviteUser",willDestroyElement(){this._super(...arguments),this.errors.clear(),this.set("hasValidated",Ember.A())},actions:{confirm(){this.sendInvitation.perform()},roleValidationFailed(e){this.set("limitErrorMessage",e)},roleValidationSucceeded(){this.set("limitErrorMessage",null)}},setRole:Ember._action((function(e){this.set("role",e),this.errors.remove("role")})),validate(){let e=this.email
return new a(((t,n)=>this._super().then((()=>Ember.RSVP.hash({users:this.store.findAll("user",{reload:!0}),invites:this.store.findAll("invite",{reload:!0})}).then((i=>{let r=i.users.findBy("email",e),a=i.invites.findBy("email",e)
r||a?(this.errors.clear("email"),r?this.errors.add("email","A user with that email address already exists."):this.errors.add("email","A user with that email address was already invited."),this.hasValidated.addObject("email"),n()):t()}))),(()=>{this.hasValidated.addObject("email"),n()}))))},sendInvitation:(0,i.task)((function*(){let e,t=this.email,n=this.role,i=this.notifications
try{yield this.validate(),e=this.store.createRecord("invite",{email:t,role:n}),yield e.save(),"pending"===e.get("status")?i.showAlert("Invitation email was not sent",{type:"error",key:"invite.send.failed",description:"Please try resending."}):i.showNotification("Invitation sent",{icon:"send-email",key:"invite.send.success",description:`${t}`}),this.send("closeModal")}catch(r){r&&(e.deleteRecord(),i.showAPIError(r,{key:"invite.send"}),this.send("closeModal"))}})).drop(),transitionToBilling:(0,i.task)((function(){this.router.transitionTo("pro"),this.send("closeModal")}))}))
e.default=s})),define("ghost-admin/components/modal-leave-settings",["exports","ghost-admin/components/modal-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"oRGDcQh9",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Are you sure you want to leave this page?"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"\\n        Hey there! It looks like you didn\'t save the changes you made.\\n    "],[13],[2,"\\n\\n    "],[10,"p"],[12],[2,"Save before you go!"],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Stay"],[13],[13],[2,"\\n    "],[11,"button"],[24,0,"gh-btn gh-btn-red"],[24,4,"button"],[4,[38,0],[[32,0],"confirm"],null],[12],[10,"span"],[12],[2,"Leave"],[13],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/modal-leave-settings.hbs"})
var i=Ember._setComponentTemplate(n,t.default.extend({actions:{confirm(){this.confirm(),this.send("closeModal")}},confirm:()=>Ember.RSVP.resolve()}))
e.default=i})),define("ghost-admin/components/modal-markdown-help",["exports","ghost-admin/components/modal-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"Cy86N3DF",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Markdown Help"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"section"],[14,0,"markdown-help-container"],[12],[2,"\\n        "],[10,"table"],[14,0,"modal-markdown-help-table"],[12],[2,"\\n            "],[10,"thead"],[12],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"th"],[12],[2,"Markdown"],[13],[2,"\\n                "],[10,"th"],[12],[2,"Result"],[13],[2,"\\n                "],[10,"th"],[12],[2,"Shortcut"],[13],[2,"\\n            "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tbody"],[12],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"**text**"],[13],[2,"\\n                "],[10,"td"],[12],[10,"strong"],[12],[2,"Bold"],[13],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/⌘ + B"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"*text*"],[13],[2,"\\n                "],[10,"td"],[12],[10,"em"],[12],[2,"Emphasize"],[13],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/⌘ + I"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"~~text~~"],[13],[2,"\\n                "],[10,"td"],[12],[10,"del"],[12],[2,"Strike-through"],[13],[13],[2,"\\n                "],[10,"td"],[12],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"[title](http://)"],[13],[2,"\\n                "],[10,"td"],[12],[10,"a"],[14,6,"#"],[12],[2,"Link"],[13],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/⌘ + K"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"`code`"],[13],[2,"\\n                "],[10,"td"],[12],[10,"code"],[12],[2,"Inline Code"],[13],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/⌘ + Alt + C"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"![alt](http://)"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Image"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/⌘ + Shift + I"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"* item"],[13],[2,"\\n                "],[10,"td"],[12],[2,"List"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/⌘ + L"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"1. item"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ordered List"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/⌘ + Alt + L"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"> quote"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Blockquote"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/⌘ + \'"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"==Highlight=="],[13],[2,"\\n                "],[10,"td"],[12],[10,"mark"],[12],[2,"Highlight"],[13],[13],[2,"\\n                "],[10,"td"],[12],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"# Heading"],[13],[2,"\\n                "],[10,"td"],[12],[2,"H1"],[13],[2,"\\n                "],[10,"td"],[12],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"## Heading"],[13],[2,"\\n                "],[10,"td"],[12],[2,"H2"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/⌘ + H"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"### Heading"],[13],[2,"\\n                "],[10,"td"],[12],[2,"H3"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/⌘ + H (x2)"],[13],[2,"\\n            "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        For further Markdown syntax reference: "],[10,"a"],[14,6,"https://ghost.org/help/using-the-editor/#using-markdown"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Markdown Documentation"],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/modal-markdown-help.hbs"})
var i=Ember._setComponentTemplate(n,t.default.extend({actions:{confirm(){}}}))
e.default=i})),define("ghost-admin/components/modal-member-product",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_
function z(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function x(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const T=Ember.HTMLBars.template({id:"3ED2KRae",block:'{"symbols":["product"],"statements":[[11,"header"],[24,0,"modal-header"],[4,[38,7],[[32,0,["setup"]]],null],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Add subscription"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,3],["click",[32,0,["close"]]],null],[12],[2,"\\n    "],[1,[30,[36,4],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"form"],[12],[2,"\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[14,0,"gh-member-addcomp-subhed"],[12],[2,"\\n            Select a tier for "],[10,"strong"],[12],[1,[30,[36,8],[[32,0,["member","name"]],[32,0,["member","email"]]],null]],[13],[2,"\'s\\n            complimentary subscription.\\n        "],[13],[2,"\\n"],[6,[37,1],[[32,0,["activeSubscriptions","length"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"gh-member-addcomp-warning"],[12],[2,"\\n                Adding a complimentary subscription cancels all existing subscriptions of this member.\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["loadingProducts"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"flex justify-center flex-auto"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[2," "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[14,0,"form-rich-radio"],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,0,["products"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,1],[[30,[36,0],[[32,0,["selectedProduct"]],[32,1,["id"]]],null],"active"],null]]]],[4,[38,3],["click",[30,[36,2],[[32,0,["setProduct"]],[32,1,["id"]]],null]],null],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"\\n                                "],[10,"div"],[14,0,"description"],[12],[2,"\\n                                    "],[10,"h4"],[12],[1,[32,1,["name"]]],[13],[2,"\\n                                    "],[10,"p"],[12],[1,[32,1,["description"]]],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[1,[30,[36,4],["check"],[["class"],["check"]]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,3],["click",[32,0,["close"]]],null],[4,[38,3],["mousedown",[30,[36,9],[[32,0,["noop"]]],null]],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n    "],[13],[2,"\\n\\n\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Add subscription","Added",[32,0,["addProduct"]],"gh-btn gh-btn-green gh-btn-icon gh-btn-add-memberproduct"]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["eq","if","fn","on","svg-jar","-track-array","each","did-insert","or","optional"]}',moduleName:"ghost-admin/components/modal-member-product.hbs"})
let S=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=(0,n.task)({drop:!0}),p=Ember._action,m=Ember._action,h=Ember._action,g=Ember._action,b=Ember._action,f=(0,n.task)({drop:!0}),v=class extends t.default{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
super(...t),z(this,"store",y,this),z(this,"ghostPaths",w,this),z(this,"ajax",E,this),z(this,"price",k,this),z(this,"product",P,this),z(this,"products",O,this),z(this,"selectedProduct",j,this),z(this,"loadingProducts",_,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"actions",{confirm(){this.confirmAction(...arguments)},closeModal(){this.close()}})}*fetchProducts(){this.products=yield this.store.query("product",{filter:"type:paid+active:true",include:"monthly_price,yearly_price,benefits"}),this.loadingProducts=!1,this.products.length>0&&(this.selectedProduct=this.products.firstObject.id)}get activeSubscriptions(){return(this.member.get("subscriptions")||[]).filter((e=>["active","trialing","unpaid","past_due"].includes(e.status)))}get member(){return this.model}get cannotAddPrice(){return!this.price||0!==this.price.amount}setup(){this.loadingProducts=!0,this.fetchProducts.perform()}setProduct(e){this.selectedProduct=e}setPrice(e){this.price=e}confirmAction(){return this.addProduct.perform()}close(e){e?.preventDefault?.(),this.closeModal()}*addProduct(){const e=`${this.ghostPaths.url.api(`members/${this.member.get("id")}`)}?include=products`
for(let n=0;n<this.activeSubscriptions.length;n++){const e=this.activeSubscriptions[n],t=this.ghostPaths.url.api(`members/${this.member.get("id")}/subscriptions/${e.id}`)
yield this.ajax.put(t,{data:{status:"canceled"}})}const t=yield this.ajax.put(e,{data:{members:[{id:this.member.get("id"),email:this.member.get("email"),products:[{id:this.selectedProduct}]}]}})
return this.store.pushPayload("member",t),this.closeModal(),t}},y=x(v.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=x(v.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=x(v.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=x(v.prototype,"price",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=x(v.prototype,"product",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=x(v.prototype,"products",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=x(v.prototype,"selectedProduct",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=x(v.prototype,"loadingProducts",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x(v.prototype,"fetchProducts",[c],Object.getOwnPropertyDescriptor(v.prototype,"fetchProducts"),v.prototype),x(v.prototype,"setup",[p],Object.getOwnPropertyDescriptor(v.prototype,"setup"),v.prototype),x(v.prototype,"setProduct",[m],Object.getOwnPropertyDescriptor(v.prototype,"setProduct"),v.prototype),x(v.prototype,"setPrice",[h],Object.getOwnPropertyDescriptor(v.prototype,"setPrice"),v.prototype),x(v.prototype,"confirmAction",[g],Object.getOwnPropertyDescriptor(v.prototype,"confirmAction"),v.prototype),x(v.prototype,"close",[b],Object.getOwnPropertyDescriptor(v.prototype,"close"),v.prototype),x(v.prototype,"addProduct",[f],Object.getOwnPropertyDescriptor(v.prototype,"addProduct"),v.prototype),v)
e.default=S,Ember._setComponentTemplate(T,S)}))
define("ghost-admin/components/modal-members-label-form",["exports","ghost-admin/components/modal-base","ghost-admin/helpers/reset-query-params","ember-concurrency"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"l0EBCfsx",block:'{"symbols":[],"statements":[[6,[37,4],[[32,0,["showDeleteLabelModal"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to delete this label?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            You\'re about to delete label \\""],[10,"strong"],[12],[1,[32,0,["label","name"]]],[13],[2,"\\". This is permanent! We warned you, k?\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Delete","Deleted",[32,0,["deleteLabel"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[1,[30,[36,4],[[32,0,["label","isNew"]],"New label","Edit label"],null]],[13],[2,"\\n    "],[13],[2,"\\n"],[2,"    "],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[4,[38,0],[[32,0],[30,[36,2],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n        "],[1,[30,[36,3],["close"],null]],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"fieldset"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["label","errors"]],[32,0,["label","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","label-name"],[14,0,"fw6 dib"],[12],[2,"Label name"],[13],[2,"\\n                "],[8,"gh-text-input",[],[["@id","@value","@focus-out"],["label-name",[32,0,["label","name"]],[30,[36,0],[[32,0],"validate","name"],[["target"],[[32,0,["label"]]]]]]],null],[2,"\\n"],[6,[37,4],[[32,0,["label","errors"]]],null,[["default"],[{"statements":[[2,"                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["label","errors"]],"name"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,4],[[32,0,["label","isNew"]]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[4,[38,0],[[32,0],[30,[36,2],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-red gh-btn-icon"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0],"toggleDeleteLabelModal"],null]],null],[4,[38,1],["mousedown",[30,[36,2],[[32,0,["noop"]]],null]],null],[12],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,3],["trash"],null]],[2," Delete"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@runningText","@successText","@task","@taskArgs","@class"],["Save","Saving...","Saved",[32,0,["saveTask"]],[32,0,["label"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","on","optional","svg-jar","if"]}',moduleName:"ghost-admin/components/modal-members-label-form.hbs"})
var a=Ember._setComponentTemplate(r,t.default.extend({router:Ember.inject.service(),notifications:Ember.inject.service(),model:null,showDeleteLabelModal:!1,confirm(){},label:Ember.computed.and("model","model.label"),willDestroyElement(){this._super(...arguments),this.label.errors.clear(),this.label.rollbackAttributes()},actions:{toggleDeleteLabelModal(){this.label.rollbackAttributes(),this.set("showDeleteLabelModal",!0)},validate(e){return this.label.validate({property:e})},confirm(){return this.saveTask.perform()}},saveTask:(0,i.task)((function*(){let e=this.model&&this.model.label,t=this.model&&this.model.labels||[]
if(!e)return!1
try{if(yield e.validate(),t.find((t=>t.name.trim().toLowerCase()===e.name.trim().toLowerCase()&&t.slug!==e.slug)))return e.errors.add("name","A label with the same name already exists"),e.hasValidated.pushObject("name"),!1
let n=yield e.save()
return this.notifications.showNotification("Label saved"),this.send("closeModal"),n}catch(n){n&&this.notifications.showAPIError(n,{key:"label.save"})}})),deleteLabel:(0,i.task)((function*(){let e=this.model&&this.model.label
if(!e)return!1
try{yield e.destroyRecord()
let t=this.router.currentRouteName
this.notifications.showNotification("Label deleted"),this.send("closeModal"),this.router.transitionTo(t,{queryParams:(0,n.resetQueryParams)(t)})}catch(t){if(t)return this.notifications.showAPIError(t,{key:"label.delete"})}}))}))
e.default=a})),define("ghost-admin/components/modal-portal-settings",["exports","jquery","ghost-admin/components/modal-base","ghost-admin/utils/copy-text-to-clipboard","ember-concurrency"],(function(e,t,n,i,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"znJxE4tI",block:'{"symbols":["uploader","imgIcon","product"],"statements":[[10,"div"],[14,0,"modal-body gh-ps-modal-body"],[12],[2,"\\n    "],[11,"div"],[24,0,"flex pa0 flex-grow-1 gh-portal-settings"],[4,[38,14],[[32,0,["finishPreloading"]]],null],[12],[2,"\\n"],[6,[37,4],[[32,0,["isPreloading"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"gh-portal-settings-sidebar"],[12],[2,"\\n            "],[10,"h2"],[14,0,"gh-portal-settings-title"],[12],[2,"Portal settings"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-portal-form-wrapper"],[12],[2,"\\n                "],[10,"fieldset"],[14,0,"gh-portal-settings-form"],[12],[2,"\\n                    "],[10,"div"],[15,0,[31,["gh-portal-setting-section ",[30,[36,4],[[30,[36,8],[[32,0,["settings","membersSignupAccess"]],"all"],null],"disabled-overlay"],null]]]],[15,"onclick",[30,[36,1],[[32,0],"switchPreviewPage","signup"],null]],[12],[2,"\\n                        "],[10,"h3"],[14,0,"gh-portal-setting-sectionheading gh-stripe-connect"],[12],[2,"Signup options\\n"],[6,[37,15],[[32,0,["membersUtils","isStripeEnabled"]]],null,[["default"],[{"statements":[[2,"                                "],[11,"button"],[16,0,[31,["gh-btn gh-btn-link ",[30,[36,15],[[32,0,["session","user","isAdmin"]],"disabled"],null]]]],[24,4,"button"],[4,[38,11],["click",[30,[36,1],[[32,0],"openStripeSettings"],null]],null],[12],[2,"Connect to Stripe"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                        "],[8,"gh-form-group",[],[["@classNames"],["gh-members-subscribed-checkbox gh-portal-setting-first mb0"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"div"],[14,0,"flex justify-between items-center"],[12],[2,"\\n                                "],[10,"div"],[14,0,"mr3"],[12],[2,"\\n                                    "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Display name in signup form"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                    "],[10,"label"],[14,0,"switch"],[14,"for","signup-name-checkbox"],[12],[2,"\\n                                        "],[11,"input"],[16,"checked",[32,0,["settings","portalName"]]],[24,1,"signup-name-checkbox"],[24,3,"signup-name-checkbox"],[16,"disabled",[30,[36,8],[[32,0,["settings","membersSignupAccess"]],"all"],null]],[24,4,"checkbox"],[4,[38,11],["click",[30,[36,1],[[32,0],"togglePortalName"],[["value"],["target.checked"]]]],null],[12],[13],[2,"\\n                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["membersUtils","isStripeEnabled"]]],null,[["default"],[{"statements":[[2,"                            "],[11,"div"],[4,[38,14],[[32,0,["refreshAfterStripeConnected"]]],null],[12],[2,"\\n"],[6,[37,4],[[32,0,["showPortalTiers"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"mb3 mt5"],[12],[2,"\\n                                        "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Tiers available at signup"],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"form-group mb0 for-checkbox"],[12],[2,"\\n                                        "],[10,"label"],[14,0,"checkbox"],[14,"for","free-plan"],[12],[2,"\\n                                            "],[11,"input"],[16,"checked",[32,0,["membersUtils","isFreeChecked"]]],[24,1,"free-plan"],[24,3,"free-plan"],[16,"disabled",[30,[36,10],[[30,[36,9],[[32,0,["membersUtils","isStripeEnabled"]]],null],[30,[36,8],[[32,0,["settings","membersSignupAccess"]],"all"],null]],null]],[24,0,"gh-input post-settings-featured"],[24,4,"checkbox"],[4,[38,11],["click",[30,[36,1],[[32,0],"togglePlan","free"],null]],null],[12],[13],[2,"\\n                                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                            "],[10,"p"],[12],[2,"Free"],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["products"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"form-group mb0 for-checkbox"],[12],[2,"\\n                                            "],[10,"label"],[14,0,"checkbox"],[15,"for",[32,3,["id"]]],[12],[2,"\\n                                                "],[11,"input"],[16,1,[32,3,["id"]]],[16,3,[32,3,["id"]]],[16,"checked",[32,3,["checked"]]],[16,"disabled",[30,[36,10],[[30,[36,9],[[32,0,["membersUtils","isStripeEnabled"]]],null],[30,[36,8],[[32,0,["settings","membersSignupAccess"]],"all"],null]],null]],[24,0,"gh-input post-settings-featured"],[24,4,"checkbox"],[4,[38,11],["click",[30,[36,1],[[32,0],"toggleProduct",[32,3,["id"]]],null]],null],[12],[13],[2,"\\n                                                "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                "],[10,"p"],[12],[1,[32,3,["name"]]],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[3]}]]]],"parameters":[]}]]],[6,[37,4],[[32,0,["showPortalPrices"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[15,0,[31,["mb3 ",[30,[36,4],[[30,[36,13],[[30,[36,12],["multipleProducts"],null],[32,0,["showPortalTiers"]]],null],"mt5",""],null]]]],[12],[2,"\\n                                        "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Prices available at signup"],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,15],[[32,0,["showPortalTiers"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"form-group mb0 for-checkbox"],[12],[2,"\\n                                        "],[10,"label"],[14,0,"checkbox"],[14,"for","free-plan"],[12],[2,"\\n                                            "],[11,"input"],[16,"checked",[32,0,["membersUtils","isFreeChecked"]]],[24,1,"free-plan"],[24,3,"free-plan"],[16,"disabled",[30,[36,10],[[30,[36,9],[[32,0,["membersUtils","isStripeEnabled"]]],null],[30,[36,8],[[32,0,["settings","membersSignupAccess"]],"all"],null]],null]],[24,0,"gh-input post-settings-featured"],[24,4,"checkbox"],[4,[38,11],["click",[30,[36,1],[[32,0],"togglePlan","free"],null]],null],[12],[13],[2,"\\n                                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                            "],[10,"p"],[12],[2,"Free"],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,4],[[32,0,["showPortalPrices"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"form-group mb0 for-checkbox"],[12],[2,"\\n                                        "],[10,"label"],[14,0,"checkbox"],[14,"for","monthly-plan"],[12],[2,"\\n                                            "],[11,"input"],[24,1,"monthly-plan"],[24,3,"monthly-plan"],[16,"checked",[32,0,["isMonthlyChecked"]]],[16,"disabled",[30,[36,10],[[30,[36,9],[[32,0,["membersUtils","isStripeEnabled"]]],null],[30,[36,8],[[32,0,["settings","membersSignupAccess"]],"all"],null]],null]],[24,0,"gh-input post-settings-featured"],[24,4,"checkbox"],[4,[38,11],["click",[30,[36,1],[[32,0],"togglePlan","monthly"],null]],null],[12],[13],[2,"\\n                                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                            "],[10,"p"],[12],[2,"Monthly"],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"form-group mb0 for-checkbox"],[12],[2,"\\n                                        "],[10,"label"],[14,0,"checkbox"],[14,"for","yearly-plan"],[12],[2,"\\n                                            "],[11,"input"],[24,1,"yearly-plan"],[24,3,"yearly-plan"],[16,"checked",[32,0,["isYearlyChecked"]]],[16,"disabled",[30,[36,10],[[30,[36,9],[[32,0,["membersUtils","isStripeEnabled"]]],null],[30,[36,8],[[32,0,["settings","membersSignupAccess"]],"all"],null]],null]],[24,0,"gh-input post-settings-featured"],[24,4,"checkbox"],[4,[38,11],["click",[30,[36,1],[[32,0],"togglePlan","yearly"],null]],null],[12],[13],[2,"\\n                                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                            "],[10,"p"],[12],[2,"Yearly"],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-portal-setting-section"],[15,"onclick",[30,[36,1],[[32,0],"switchPreviewPage","signup"],null]],[12],[2,"\\n                        "],[10,"h3"],[14,0,"gh-portal-setting-sectionheading"],[12],[2,"Look & feel"],[13],[2,"\\n                        "],[8,"gh-form-group",[],[["@classNames"],["gh-members-subscribed-checkbox gh-portal-setting-first mb0 b--whitegrey"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"div"],[14,0,"flex justify-between items-center"],[12],[2,"\\n                                "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Show Portal button"],[13],[2,"\\n                                "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                    "],[10,"label"],[14,0,"switch"],[14,"for","portal-button-checkbox"],[12],[2,"\\n                                        "],[10,"input"],[15,"checked",[32,0,["settings","portalButton"]]],[14,1,"portal-button-checkbox"],[14,3,"portal-button-checkbox"],[15,"onclick",[30,[36,1],[[32,0],"togglePortalButton"],[["value"],["target.checked"]]]],[14,4,"checkbox"],[12],[13],[2,"\\n                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["settings","portalButton"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"mt5"],[12],[2,"\\n                                "],[8,"gh-form-group",[],[["@classNames"],["space-l"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"h4"],[14,0,"gh-portal-setting-title mb1"],[12],[2,"Portal button style"],[13],[2,"\\n                                    "],[10,"span"],[14,0,"gh-select mt2"],[14,"data-select-text","test"],[14,"tabindex","0"],[12],[2,"\\n                                        "],[8,"one-way-select",[],[["@id","@name","@options","@optionValuePath","@optionLabelPath","@value","@update"],["portal-button-style","portal[button-style]",[32,0,["buttonStyleOptions"]],"name","label",[32,0,["selectedButtonStyle"]],[30,[36,1],[[32,0],"setButtonStyle"],null]]],null],[2,"\\n                                        "],[1,[30,[36,2],["arrow-down-small"],null]],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["showIconSetting"]]],null,[["default"],[{"statements":[[2,"                                    "],[8,"gh-form-group",[],[["@classNames"],["space-l"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Icon"],[13],[2,"\\n                                        "],[8,"gh-uploader",[],[["@extensions","@paramsHash","@onComplete"],[[32,0,["iconExtensions"]],[30,[36,5],null,[["purpose"],["image"]]],[30,[36,1],[[32,0],"imageUploaded","buttonIcon"],null]]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"div"],[14,0,"flex items-center justify-between mt2 br3 ba b--whitegrey bg-white"],[12],[2,"\\n                                                "],[10,"div"],[14,0,"gh-portal-settings-icons"],[12],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["membersUtils","defaultButtonIcons"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                                        "],[10,"span"],[15,0,[31,["gh-portal-button-icon ",[30,[36,4],[[30,[36,3],[[32,0,["membersUtils","buttonIcon"]],[32,2,["value"]]],null],"selected-icon"],null]]]],[15,"onclick",[30,[36,1],[[32,0],"selectDefaultIcon",[32,2,["value"]]],null]],[12],[2,"\\n                                                            "],[1,[30,[36,2],[[32,2,["icon"]]],null]],[2,"\\n                                                        "],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"flex gh-setting-action gh-portal-custom-icon"],[12],[2,"\\n"],[6,[37,4],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[10,"div"],[14,0,"gh-portal-button-icon"],[12],[2,"\\n                                                            "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n                                                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[32,0,["customIcon"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[10,"img"],[15,0,[31,["gh-portal-button-icon gh-portal-button-custom ",[30,[36,4],[[30,[36,3],[[32,0,["membersUtils","buttonIcon"]],[32,0,["customIcon"]]],null],"selected-icon"],null]]]],[15,"src",[31,[[32,0,["customIcon"]]]]],[15,"onclick",[30,[36,1],[[32,0],"selectDefaultIcon",[32,0,["customIcon"]]],null]],[14,"alt","icon"],[12],[13],[2,"\\n"],[6,[37,4],[[30,[36,3],[[32,0,["membersUtils","buttonIcon"]],[32,0,["customIcon"]]],null]],null,[["default"],[{"statements":[[2,"                                                        "],[11,"button"],[24,0,"gh-btn gh-btn-hover-red gh-portal-button-deleteicon"],[24,4,"button"],[4,[38,1],[[32,0],"deleteCustomIcon"],null],[12],[2,"\\n                                                            "],[10,"span"],[12],[2," "],[1,[30,[36,2],["trash"],[["class"],["w5 h5"]]]],[2," "],[13],[2,"\\n                                                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                                                        "],[10,"button"],[14,0,"gh-btn gh-portal-button-uploadicon"],[15,"onclick",[30,[36,1],[[32,0],"triggerFileDialog"],null]],[14,"data-tooltip","Upload icon"],[14,4,"button"],[12],[2,"\\n                                                            "],[10,"span"],[12],[1,[30,[36,2],["upload-fill"],[["class"],["w5 h5"]]]],[13],[2,"\\n                                                        "],[13],[2,"\\n                                                        "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                                            "],[8,"gh-file-input",[],[["@multiple","@action","@accept"],[false,[32,1,["setFiles"]],[32,0,["iconMimeTypes"]]]],null],[2,"\\n                                                        "],[13],[2,"\\n                                                    "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "]],"parameters":[1]}]]],[2,"\\n\\n                                    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n"],[6,[37,4],[[32,0,["showButtonTextSetting"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-form-group",[],[["@classNames"],["space-l"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Signup button text"],[13],[2,"\\n\\n                                "],[10,"div"],[14,0,"flex items-center mt2"],[12],[2,"\\n                                    "],[8,"gh-text-input",[],[["@value","@type","@input"],[[30,[36,0],[[32,0,["settings","portalButtonSignupText"]]],null],"text",[30,[36,1],[[32,0],"setSignupButtonText"],null]]],null],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,0,"gh-portal-setting-section"],[15,"onclick",[30,[36,1],[[32,0],"switchPreviewPage","accountHome"],null]],[12],[2,"\\n                        "],[10,"h3"],[14,0,"gh-portal-setting-sectionheading"],[12],[2,"Account page settings"],[13],[2,"\\n                        "],[8,"gh-form-group",[],[["@classNames"],["space-l mt5"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Support email address"],[13],[2,"\\n                            "],[10,"div"],[14,0,"mt2"],[12],[2,"\\n                                "],[8,"gh-text-input",[],[["@value","@input"],[[30,[36,0],[[32,0,["supportAddress"]]],null],[30,[36,1],[[32,0],"setSupportAddress"],[["value"],["target.value"]]]]],null],[2,"\\n                                "],[8,"gh-task-button",[],[["@buttonText","@runningText","@successText","@disabled","@task","@class"],["Update support address","Sending...","Confirmation email sent",[32,0,["disableUpdateSupportAddressButton"]],[32,0,["updateSupportAddress"]],"gh-btn gh-btn-green gh-btn-icon gh-btn-textfield-group gh-portal-emailupdate-button"]],null],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"p"],[12],[2,"How members can reach you for help with their account (public)"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-portal-settings-main"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-portal-settings-previewheader"],[12],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-btn-group"],[12],[2,"\\n                    "],[11,"a"],[16,0,[31,["gh-btn ",[30,[36,4],[[30,[36,3],[[32,0,["page"]],"signup"],null],"gh-btn-group-selected"],null]]]],[24,6,"#"],[4,[38,1],[[32,0],"switchPreviewPage","signup"],null],[12],[10,"span"],[12],[2,"Signup"],[13],[13],[2,"\\n                    "],[11,"a"],[16,0,[31,["gh-btn ",[30,[36,4],[[30,[36,3],[[32,0,["page"]],"accountHome"],null],"gh-btn-group-selected"],null]]]],[24,6,"#"],[4,[38,1],[[32,0],"switchPreviewPage","accountHome"],null],[12],[10,"span"],[12],[2,"Account"],[13],[13],[2,"\\n                    "],[11,"a"],[16,0,[31,["gh-btn ",[30,[36,4],[[32,0,["showLinksPage"]],"gh-btn-group-selected"],null]]]],[24,6,"#"],[4,[38,1],[[32,0],"switchPreviewPage","links"],null],[12],[10,"span"],[12],[2,"Links"],[13],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-portal-settings-actions"],[12],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn mr3"],[24,4,"button"],[4,[38,1],[[32,0],"closeModal"],null],[4,[38,11],["mousedown",[30,[36,16],[[32,0,["noop"]]],null]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@idleClass","@class"],["Save and close","Saved",[32,0,["saveTask"]],"gh-btn-primary","gh-btn gh-btn-icon"]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["showLinksPage"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-portal-preview-wrapper"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-portal-preview-container"],[12],[2,"\\n                    "],[8,"gh-portal-links",[],[[],[]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n            "],[10,"div"],[15,0,[31,["gh-portal-preview-container ",[30,[36,4],[[32,0,["showLinksPage"]],"hide"],null]]]],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-portal-site-frame-cover"],[12],[2," "],[13],[2,"\\n                "],[8,"gh-site-iframe",[[16,0,[31,["gh-portal-siteiframe ",[30,[36,4],[[30,[36,12],["multipleProducts"],null],"gh-portal-siteiframe-enabled"],null]]]]],[["@src","@guid","@invisibleUntilLoaded"],[[32,0,["portalPreviewUrl"]],[32,0,["portalPreviewGuid"]],"portal-ready"]],null],[2,"\\n            "],[13],[2,"\\n\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["readonly","action","svg-jar","eq","if","hash","-track-array","each","not-eq","not","or","on","feature","and","did-insert","unless","optional"]}',moduleName:"ghost-admin/components/modal-portal-settings.hbs"}),s=["gif","jpg","jpeg","png","svg"]
var o=Ember._setComponentTemplate(a,n.default.extend({config:Ember.inject.service(),membersUtils:Ember.inject.service(),settings:Ember.inject.service(),store:Ember.inject.service(),session:Ember.inject.service(),feature:Ember.inject.service(),ghostPaths:Ember.inject.service(),ajax:Ember.inject.service(),page:"signup",iconExtensions:null,isShowModalLink:!0,customIcon:null,showLinksPage:!1,showLeaveSettingsModal:!1,isPreloading:!0,changedProducts:null,portalPreviewGuid:"modal-portal-settings",confirm(){},backgroundStyle:Ember.computed("settings.accentColor",(function(){let e=this.settings.get("accentColor")||"#ffffff"
return Ember.String.htmlSafe(`background-color: ${e}`)})),disableUpdateSupportAddressButton:Ember.computed("supportAddress",(function(){const e=this.get("settings.membersSupportAddress")||""
return!e.includes("@")&&this.config.emailDomain?!this.supportAddress||this.supportAddress===`${e}@${this.config.emailDomain}`:!this.supportAddress||this.supportAddress===e})),showModalLinkOrAttribute:Ember.computed("isShowModalLink",(function(){return this.isShowModalLink?"#/portal":"data-portal"})),portalPreviewUrl:Ember.computed("page","model.products.[]","changedProducts.[]","membersUtils.{isFreeChecked,isMonthlyChecked,isYearlyChecked}","settings.{portalName,portalButton,portalButtonIcon,portalButtonSignupText,portalButtonStyle,accentColor,portalPlans.[]}",(function(){const e=this.getProperties(["page"])
e.portalProducts=this.model.products?.filter((e=>"public"===e.get("visibility")&&!0===e.get("active")&&"paid"===e.get("type"))).map((e=>e.id))
const t=this.model.products?.find((e=>"free"===e.type))
return e.isFreeChecked="public"===t?.visibility,this.membersUtils.getPortalPreviewUrl(e)})),showIconSetting:Ember.computed("selectedButtonStyle",(function(){return(this.get("selectedButtonStyle.name")||"").includes("icon")})),showButtonTextSetting:Ember.computed("selectedButtonStyle",(function(){return(this.get("selectedButtonStyle.name")||"").includes("text")})),selectedButtonStyle:Ember.computed("settings.portalButtonStyle",(function(){return this.buttonStyleOptions.find((e=>e.name===this.settings.get("portalButtonStyle")))})),isFreeChecked:Ember.computed("settings.{portalPlans.[],membersSignupAccess}",(function(){const e=this.settings.get("portalPlans")||[]
return"all"===this.settings.get("membersSignupAccess")&&e.includes("free")})),isMonthlyChecked:Ember.computed("settings.portalPlans.[]","isStripeConfigured",(function(){const e=this.settings.get("portalPlans")||[]
return this.membersUtils.isStripeEnabled&&e.includes("monthly")})),isYearlyChecked:Ember.computed("settings.portalPlans.[]","isStripeConfigured",(function(){const e=this.settings.get("portalPlans")||[]
return this.membersUtils.isStripeEnabled&&e.includes("yearly")})),products:Ember.computed("model.products.[]","changedProducts.[]","isPreloading",(function(){const e=this.model.products?.filter((e=>"paid"===e.type&&!0===e.active))
if(this.isPreloading||!e?.length)return[]
return e.map((e=>({id:e.id,name:e.name,checked:"public"===e.visibility})))})),showPortalTiers:Ember.computed("products","feature.multipleProducts",(function(){return!!this.feature.get("multipleProducts")})),showPortalPrices:Ember.computed("products","feature.multipleProducts",(function(){if(!this.feature.get("multipleProducts"))return!0
const e=this.model.products?.filter((e=>"public"===e.visibility&&"paid"===e.type))
return!!e?.length})),init(){this._super(...arguments),this.buttonStyleOptions=[{name:"icon-and-text",label:"Icon and text"},{name:"icon-only",label:"Icon only"},{name:"text-only",label:"Text only"}],this.iconExtensions=s,this.changedProducts=[],this.set("supportAddress",this.parseEmailAddress(this.settings.get("membersSupportAddress")))},didInsertElement(){this._super(...arguments),this.settings.get("errors").clear()},actions:{toggleFreePlan(e){this.updateAllowedPlan("free",e)},togglePlan(e,t){this.updateAllowedPlan(e,t.target.checked)},toggleProduct(e,t){this.updateAllowedProduct(e,t.target.checked)},togglePortalButton(e){this.settings.set("portalButton",e)},togglePortalName(e){this.settings.set("portalName",e)},confirm(){return this.saveTask.perform()},isPlanSelected(e){return this.settings.get("portalPlans").includes(e)},switchPreviewPage(e){"links"===e?(this.set("showLinksPage",!0),this.set("page","")):(this.set("showLinksPage",!1),this.set("page",e))},switchToSignupPage(){this.showLinksPage&&(this.set("showLinksPage",!1),this.set("page","signup"))},setButtonStyle(e){this.settings.set("portalButtonStyle",e.name)},setSignupButtonText(e){this.settings.set("portalButtonSignupText",e.target.value)},imageUploaded(e,t){t[0]&&(this.set("customIcon",t[0].url),this.settings.set("portalButtonIcon",t[0].url))},triggerFileDialog(e){(0,t.default)(e.target).closest(".gh-setting-action").find('input[type="file"]').click()},deleteCustomIcon(){this.set("customIcon",null),this.settings.set("portalButtonIcon",this.membersUtils.defaultIconKeys[0])},selectDefaultIcon(e){this.settings.set("portalButtonIcon",e)},closeLeaveSettingsModal(){this.set("showLeaveSettingsModal",!1)},openStripeSettings(){this.isWaitingForStripeConnection=!0,this.model.openStripeSettings()},leaveSettings(){this.closeModal()},validateFreeSignupRedirect(){return this._validateSignupRedirect(this.freeSignupRedirect,"membersFreeSignupRedirect")},validatePaidSignupRedirect(){return this._validateSignupRedirect(this.paidSignupRedirect,"membersPaidSignupRedirect")},setSupportAddress(e){this.set("supportAddress",e)}},parseEmailAddress(e){const t=e||"noreply"
return t.indexOf("@")<0&&this.config.emailDomain?`${t}@${this.config.emailDomain}`:t},updateAllowedPlan(e,t){const n=[...this.settings.get("portalPlans")||[]],i=this.model.products.find((e=>"free"===e.type))
t?(n.push(e),this.settings.set("portalPlans",n),"free"===e&&i.set("visibility","public")):(this.settings.set("portalPlans",n.filter((t=>t!==e))),"free"===e&&i.set("visibility","none"))},updateAllowedProduct(e,t){const n=this.model.products.find((t=>t.id===e))
t?n.set("visibility","public"):n.set("visibility","none")
let i=this.model.products.filter((e=>"public"===e.visibility)).map((e=>e.id))
this.set("changedProducts",i)},_validateSignupRedirect(e,t){if(this.settings.get("errors").remove(t),this.settings.get("hasValidated").removeObject(t),null===e)return this.settings.get("errors").add(t,"Please enter a valid URL"),this.settings.get("hasValidated").pushObject(t),!1
if(void 0!==e)if(e.href.startsWith(this.siteUrl)){const n=e.href.replace(this.siteUrl,"")
this.settings.set(t,n)}else this.settings.set(t,e.href)},finishPreloading:Ember._action((async function(){this.model.preloadTask?.isRunning&&await this.model.preloadTask
const e=this.settings.get("portalButtonIcon")||""
e&&!this.membersUtils.defaultIconKeys.includes(e)&&this.set("customIcon",this.settings.get("portalButtonIcon")),this.siteUrl=this.config.get("blogUrl"),this.set("isPreloading",!1)})),refreshAfterStripeConnected:Ember._action((async function(){this.isWaitingForStripeConnection&&(await this.finishPreloading(),this.notifyPropertyChange("page"),this.set("portalPreviewGuid",Date.now().valueOf()),this.isWaitingForStripeConnection=!1)})),copyLinkOrAttribute:(0,r.task)((function*(){(0,i.default)(this.showModalLinkOrAttribute),yield(0,r.timeout)(this.isTesting?50:3e3)})),saveTask:(0,r.task)((function*(){this.send("validateFreeSignupRedirect"),this.send("validatePaidSignupRedirect"),0===this.settings.get("errors").length&&(yield Promise.all(this.model.products.filter((e=>!!e.changedAttributes().visibility)).map((e=>e.save()))),yield this.settings.save(),this.closeModal())})).drop(),updateSupportAddress:(0,r.task)((function*(){let e=this.get("ghostPaths.url").api("/settings/members/email")
try{return yield this.ajax.post(e,{data:{email:this.supportAddress,type:"supportAddressUpdate"}})}catch(t){return!1}})).drop()}))
e.default=o})),define("ghost-admin/components/modal-product-price",["exports","ghost-admin/components/modal-base","ghost-admin/utils/currency","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f
function v(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function y(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const w=Ember.HTMLBars.template({id:"KkXdFvH4",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[1,[32,0,["title"]]],[13],[2,"\\n"],[13],[2,"\\n"],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n    "],[1,[30,[36,2],["close"],null]],[2,"\\n"],[13],[2,"\\n\\n"],[10,"form"],[12],[2,"\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-content grey gh-product-priceform-block"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["errors"]],"name"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","name"],[14,0,"fw6"],[12],[2,"Name"],[13],[2,"\\n                "],[8,"gh-text-input",[],[["@value","@input","@name","@id","@class"],[[30,[36,3],[[32,0,["price","nickname"]]],null],[30,[36,0],[[32,0],[30,[36,4],[[32,0,["price","nickname"]]],null]],[["value"],["target.value"]]],"name","name","gh-input"]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"name"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["errors"]],"description"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","description"],[14,0,"fw6"],[12],[2,"Description"],[13],[2,"\\n                "],[8,"gh-text-input",[],[["@value","@input","@name","@id","@class"],[[30,[36,3],[[32,0,["price","description"]]],null],[30,[36,0],[[32,0],[30,[36,4],[[32,0,["price","description"]]],null]],[["value"],["target.value"]]],"description","description","gh-input"]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"description"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[10,"div"],[14,0,"gh-product-priceform-pricecurrency"],[12],[2,"\\n                "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["errors"]],"amount"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","amount"],[14,0,"fw6"],[12],[2,"Price"],[13],[2,"\\n                    "],[10,"div"],[14,0,"flex items-center justify-center gh-labs-price-label"],[12],[2,"\\n                        "],[8,"gh-text-input",[],[["@id","@value","@type","@disabled","@input"],["amount",[32,0,["price","amount"]],"number",[32,0,["isExistingPrice"]],[30,[36,0],[[32,0],"setAmount"],[["value"],["target.value"]]]]],null],[2,"\\n                    "],[13],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"amount"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n                "],[8,"gh-form-group",[],[["@class"],["for-select"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,0,"fw6 f8"],[14,"for","currency"],[12],[2,"Plan currency"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-select mt1"],[12],[2,"\\n                        "],[1,[30,[36,5],[[32,0,["selectedCurrencyObj"]]],[["id","name","options","optionValuePath","optionLabelPath","disabled","update"],["currency","currency",[30,[36,3],[[32,0,["allCurrencies"]]],null],"value","label",[32,0,["isExistingPrice"]],[30,[36,0],[[32,0],"setCurrency"],null]]]]],[2,"\\n                        "],[1,[30,[36,2],["arrow-down-small"],null]],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["price","errors"]],[32,0,["price","hasValidated"]],"billing-period"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","billing-period"],[14,0,"fw6"],[12],[2,"Billing period"],[13],[2,"\\n                "],[8,"gh-products-price-billingperiod",[],[["@updatePeriod","@triggerId","@value","@disabled"],[[30,[36,0],[[32,0],"updatePeriod"],null],"period-input",[32,0,["price","interval"]],[32,0,["isExistingPrice"]]]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"interval"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n    "],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Save",[32,0,["successText"]],[32,0,["savePrice"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","optional","svg-jar","readonly","mut","one-way-select"]}',moduleName:"ghost-admin/components/modal-product-price.hbs"})
let E=(r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._action,d=Ember._action,c=(0,i.task)({drop:!0}),p=class extends t.default{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
super(...t),v(this,"model",m,this),v(this,"price",h,this),v(this,"currencyVal",g,this),v(this,"periodVal",b,this),v(this,"errors",f,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"actions",{confirm(){this.confirmAction(...arguments)},updatePeriod(e,t){this.price.interval=t,this.periodVal=t},setAmount(e){this.price.amount=isNaN(e)?0:parseInt(e)},setCurrency(e){this.price.currency=e.value,this.currencyVal=e.value},closeModal(){this.close()}})}init(){super.init(...arguments),this.price={...this.model.price||{}},this.topCurrencies=n.currencies.slice(0,5).map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode}))),this.currencies=n.currencies.slice(5,n.currencies.length).map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode}))),this.allCurrencies=[{groupName:"—",options:this.topCurrencies},{groupName:"—",options:this.currencies}],this.currencyVal=this.price.currency||"usd",this.periodVal=this.price.interval||"month"}get title(){return this.isExistingPrice?`Price - ${this.price.nickname||"No Name"}`:"New Price"}get isExistingPrice(){return!!this.model.price}get currency(){return this.price.currency||"usd"}get selectedCurrencyObj(){return this.currencies.findBy("value",this.price.currency)||this.topCurrencies.findBy("value",this.price.currency)}confirmAction(){this.confirm(this.price),this.close()}close(e){e?.preventDefault?.(),this.closeModal()}*savePrice(){if(this.validatePriceData(),!Ember.isEmpty(this.errors)&&Object.keys(this.errors).length>0)return
const e={...this.price,amount:100*(this.price.amount||0)}
e.id||(e.active=1,e.currency=e.currency||"usd",e.interval=e.interval||"month",e.type="recurring"),yield this.confirm(e),this.send("closeModal")}validatePriceData(){this.errors=Ember.Object.create(),this.price.nickname||this.errors.set("name",[{message:"Please enter name"}]),(isNaN(this.price.amount)||""===this.price.amount)&&this.errors.set("amount",[{message:"Please enter amount"}]),this.price.interval&&["month","year"].includes(this.price.interval)||this.errors.set("interval",[{message:"Please enter billing interval"}])}},m=y(p.prototype,"model",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y(p.prototype,"price",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y(p.prototype,"currencyVal",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(p.prototype,"periodVal",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y(p.prototype,"errors",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ember.Object.create()}}),y(p.prototype,"confirmAction",[u],Object.getOwnPropertyDescriptor(p.prototype,"confirmAction"),p.prototype),y(p.prototype,"close",[d],Object.getOwnPropertyDescriptor(p.prototype,"close"),p.prototype),y(p.prototype,"savePrice",[c],Object.getOwnPropertyDescriptor(p.prototype,"savePrice"),p.prototype),p)
e.default=E,Ember._setComponentTemplate(w,E)})),define("ghost-admin/components/modal-product",["exports","ghost-admin/components/modal-base","ghost-admin/models/product-benefit-item","ghost-admin/utils/currency","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L
function R(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function U(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const N=Ember.HTMLBars.template({id:"Z5gjkTsq",block:'{"symbols":["benefitItem","index","benefitItem","index"],"statements":[[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,6],[[32,0],"closeModal"],null],[4,[38,6],[[32,0],[30,[36,10],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n    "],[1,[30,[36,3],["close"],null]],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"gh-product-modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[1,[32,0,["title"]]],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"form"],[12],[2,"\\n    "],[10,"div"],[14,0,"modal-body gh-form-edit-product"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section columns-3"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block span-2"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Basic"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content grey gh-product-priceform-block"],[12],[2,"\\n"],[6,[37,11],[[32,0,["isFreeProduct"]]],null,[["default"],[{"statements":[[2,"                        "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["errors"]],"name"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","name"],[14,0,"fw6"],[12],[2,"Name"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@value","@input","@name","@placeholder","@id","@class"],[[30,[36,7],[[32,0,["product","name"]]],null],[30,[36,6],[[32,0],[30,[36,8],[[32,0,["product","name"]]],null]],[["value"],["target.value"]]],"name","Bronze","name","gh-input"]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"name"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                    "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["errors"]],"description"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","description"],[14,0,"fw6"],[12],[2,"Description"],[13],[2,"\\n"],[6,[37,2],[[32,0,["isFreeProduct"]]],null,[["default","else"],[{"statements":[[2,"                            "],[8,"gh-text-input",[],[["@value","@input","@name","@placeholder","@id","@class"],[[30,[36,7],[[32,0,["product","description"]]],null],[30,[36,6],[[32,0],[30,[36,8],[[32,0,["product","description"]]],null]],[["value"],["target.value"]]],"description",[31,["Free preview of ",[32,0,["settings","title"]]]],"description","gh-input"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[8,"gh-text-input",[],[["@value","@input","@name","@placeholder","@id","@class"],[[30,[36,7],[[32,0,["product","description"]]],null],[30,[36,6],[[32,0],[30,[36,8],[[32,0,["product","description"]]],null]],[["value"],["target.value"]]],"description","Full access to premium content","description","gh-input"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"description"]],null],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,11],[[32,0,["isFreeProduct"]]],null,[["default"],[{"statements":[[2,"                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"prices"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"div"],[14,0,"gh-settings-members-pricelabelcont"],[12],[2,"\\n                                "],[10,"label"],[14,"for","monthlyPrice"],[12],[2,"Prices"],[13],[2,"\\n                                "],[10,"span"],[12],[2,"–"],[13],[2,"\\n                                "],[10,"div"],[12],[2,"\\n                                    "],[10,"span"],[14,0,"gh-setting-members-currency gh-select"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-setting-members-currencylabel"],[12],[2,"\\n                                            "],[10,"span"],[12],[1,[32,0,["currency"]]],[13],[2,"\\n                                            "],[1,[30,[36,3],["arrow-down-small"],null]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[8,"one-way-select",[[24,1,"currency"],[24,3,"currency"]],[["@value","@options","@optionValuePath","@optionLabelPath","@update"],[[32,0,["selectedCurrency"]],[30,[36,7],[[32,0,["allCurrencies"]]],null],"value","label",[30,[36,6],[[32,0],"setCurrency"],null]]],null],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-members-prices"],[12],[2,"\\n\\n                                "],[10,"div"],[14,0,"gh-input-group"],[12],[2,"\\n                                    "],[8,"gh-text-input",[],[["@id","@value","@type","@input","@focus-out"],["monthlyPrice",[30,[36,7],[[32,0,["stripeMonthlyAmount"]]],null],"number",[30,[36,6],[[32,0],[30,[36,8],[[32,0,["stripeMonthlyAmount"]]],null]],[["value"],["target.value"]]],[30,[36,6],[[32,0],"validateStripePlans"],null]]],null],[2,"\\n                                    "],[10,"span"],[14,0,"gh-input-append"],[12],[10,"span"],[14,0,"ttu"],[12],[1,[32,0,["currency"]]],[13],[2,"/month"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-input-group"],[12],[2,"\\n                                    "],[8,"gh-text-input",[],[["@id","@value","@type","@input","@focus-out","@placeholder"],["yearlyPrice",[30,[36,7],[[32,0,["stripeYearlyAmount"]]],null],"number",[30,[36,6],[[32,0],[30,[36,8],[[32,0,["stripeYearlyAmount"]]],null]],[["value"],["target.value"]]],[32,0,["validateStripePlans"]],""]],null],[2,"\\n                                    "],[10,"span"],[14,0,"gh-input-append"],[12],[10,"span"],[14,0,"ttu"],[12],[1,[32,0,["currency"]]],[13],[2,"/year"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,2],[[32,0,["stripePlanError"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"p"],[14,0,"response w-100"],[12],[10,"span"],[14,0,"red"],[12],[1,[32,0,["stripePlanError"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[30,[36,9],["tierWelcomePages"],null]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","welcomePage"],[14,0,"fw6"],[12],[2,"Welcome page"],[13],[2,"\\n                                "],[8,"gh-url-input",[],[["@id","@value","@baseUrl","@setResult","@validateUrl","@placeholder"],["welcomePage",[30,[36,7],[[32,0,["model","product","welcomePageURL"]]],null],[30,[36,7],[[32,0,["siteUrl"]]],null],[32,0,["setWelcomePageURL"]],[32,0,["validateWelcomePageURL"]],[30,[36,7],[[32,0,["siteUrl"]]],null]]],null],[2,"\\n"],[6,[37,2],[[32,0,["isFreeProduct"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"p"],[12],[2,"Redirect to this URL after signup for a free membership"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"p"],[12],[2,"Redirect to this URL after signup for premium membership"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n\\n                "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Benefits"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content grey gh-product-form-benefits"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-product-benefits"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-blognav"],[12],[2,"\\n                            "],[8,"sortable-objects",[],[["@sortableObjectList","@useSwap","@sortEndAction"],[[32,0,["benefits"]],false,[30,[36,6],[[32,0],"reorderItems"],null]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["benefits"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                    "],[8,"draggable-object",[],[["@content","@dragHandle","@isSortable"],[[32,3],".gh-blognav-grab",true]],[["default"],[{"statements":[[2,"\\n                                        "],[8,"gh-benefit-item",[],[["@benefitItem","@addItem","@focusItem","@deleteItem","@updateLabel"],[[32,3],[30,[36,6],[[32,0],"addBenefit"],null],[30,[36,6],[[32,0],"focusItem"],null],[30,[36,6],[[32,0],"deleteBenefit"],null],[30,[36,6],[[32,0],"updateLabel"],null]]],null],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[3,4]}]]],[2,"                            "]],"parameters":[]}]]],[2,"\\n                            "],[8,"gh-benefit-item",[],[["@isFreeProduct","@benefitItem","@addItem","@deleteItem","@updateLabel"],[[32,0,["isFreeProduct"]],[32,0,["newBenefit"]],[30,[36,6],[[32,0],"addBenefit"],null],[30,[36,6],[[32,0],"deleteBenefit"],null],[30,[36,6],[[32,0],"updateLabel"],null]]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block gh-product-form-tierpreview"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-product-form-tierpreview-content"],[12],[2,"\\n"],[6,[37,2],[[32,0,["isFreeProduct"]]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Free Membership Preview"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Tier Preview"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"div"],[14,0,"gh-main-section-content"],[15,5,[31,["border-color: ",[32,0,["settings","accentColor"]]]]],[12],[2,"\\n                        "],[10,"span"],[14,0,"checkmark"],[15,5,[31,["background-color: ",[32,0,["settings","accentColor"]]]]],[12],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["product","name"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"h4"],[12],[1,[32,0,["product","name"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[10,"h4"],[14,0,"placeholder"],[12],[2,"Bronze"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["product","description"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"p"],[12],[1,[32,0,["product","description"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["isFreeProduct"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"p"],[14,0,"placeholder"],[12],[2,"Free preview of "],[1,[32,0,["settings","title"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"p"],[14,0,"placeholder"],[12],[2,"Full access to premium content"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["benefits"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"ul"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["benefits"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"li"],[12],[1,[30,[36,3],["check-2"],null]],[2," "],[10,"span"],[12],[1,[32,1,["name"]]],[13],[13],[2,"\\n"]],"parameters":[1,2]}]]],[2,"                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[10,"ul"],[14,0,"placeholder"],[12],[2,"\\n"],[6,[37,2],[[32,0,["isFreeProduct"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"li"],[12],[1,[30,[36,3],["check-2"],null]],[2," "],[10,"span"],[12],[2,"Access to all public posts"],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"li"],[12],[1,[30,[36,3],["check-2"],null]],[2," "],[10,"span"],[12],[2,"Expert analysis"],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[10,"div"],[14,0,"price"],[12],[2,"\\n"],[6,[37,2],[[32,0,["isFreeProduct"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"monthly-price"],[12],[2,"\\n                                    "],[10,"span"],[14,0,"currency"],[12],[1,[30,[36,0],[[32,0,["currency"]]],null]],[13],[2,"\\n                                    0\\n                                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["stripeMonthlyAmount"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"monthly-price"],[12],[2,"\\n                                        "],[10,"span"],[14,0,"currency"],[12],[1,[30,[36,0],[[32,0,["currency"]]],null]],[13],[2,"\\n                                        "],[1,[30,[36,1],[[32,0,["stripeMonthlyAmount"]]],null]],[2,"\\n                                        "],[10,"span"],[14,0,"period"],[12],[2,"/month"],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,0,"monthly-price placeholder"],[12],[2,"\\n                                        "],[10,"span"],[14,0,"currency"],[12],[1,[30,[36,0],[[32,0,["currency"]]],null]],[13],[2,"\\n                                        0\\n                                        "],[10,"span"],[14,0,"period"],[12],[2,"/month"],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["stripeYearlyAmount"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"yearly-price"],[12],[1,[30,[36,0],[[32,0,["currency"]]],null]],[1,[30,[36,1],[[32,0,["stripeYearlyAmount"]]],null]],[2,"/year"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,0,"yearly-price placeholder"],[12],[2,"0"],[10,"span"],[14,0,"currency"],[12],[1,[32,0,["currency"]]],[13],[2,"/year"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer top-shadow items-center"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,6],[[32,0],"closeModal"],null],[4,[38,6],[[32,0],[30,[36,10],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n    "],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@idleClass","@class"],[[31,[[30,[36,2],[[32,0,["isExistingProduct"]],"Save","Add tier"],null]]],[32,0,["successText"]],[32,0,["saveProduct"]],"gh-btn-primary",[31,["gh-btn ",[30,[36,2],[[32,0,["isExistingProduct"]],"gh-btn-black","gh-btn-green"],null]," gh-btn-icon"]]]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["currency-symbol","format-number","if","svg-jar","-track-array","each","action","readonly","mut","feature","optional","unless"]}',moduleName:"ghost-admin/components/modal-product.hbs"}),F=i.currencies.map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode})))
let B=(a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,g=Ember._tracked,b=Ember._tracked,f=Ember._tracked,v=Ember._action,y=Ember._action,w=Ember._action,E=Ember._action,k=(0,r.task)({drop:!0}),P=class extends t.default{constructor(){super(...arguments),R(this,"settings",O,this),R(this,"config",j,this),R(this,"model",_,this),R(this,"product",z,this),R(this,"periodVal",x,this),R(this,"stripeMonthlyAmount",T,this),R(this,"stripeYearlyAmount",S,this),R(this,"currency",M,this),R(this,"errors",C,this),R(this,"stripePlanError",D,this),R(this,"benefits",A,this),R(this,"newBenefit",I,this),R(this,"welcomePageURL",L,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"actions",{addBenefit(e){return e.validate().then((()=>{this.addNewBenefitItem(e)}))},focusItem(){},deleteBenefit(e){e&&this.benefits.removeObject(e)},reorderItems(){this.product.set("benefits",this.benefits)},updateLabel(e,t){t&&t.get("name")!==e&&t.set("name",e)},confirm(){},setAmount(e){this.price.amount=isNaN(e)?0:parseInt(e)},setCurrency(e){const t=e.value
this.currency=t},validateStripePlans(){this.stripePlanError=void 0
try{const e=this.stripeYearlyAmount,t=this.stripeMonthlyAmount,n=(0,i.getSymbol)(this.currency)
if(!e||e<1||!t||t<1)throw new TypeError(`Subscription amount must be at least ${n}1.00`)}catch(e){this.stripePlanError=e.message}},closeModal(){this.close()}})}confirm(){}get isFreeProduct(){return"free"===this.product.type}get allCurrencies(){return(0,i.getCurrencyOptions)()}get productCurrency(){if(this.isFreeProduct){const e=this.model.products?.find((e=>"paid"===e.type))
return e?.monthlyPrice?.currency||"usd"}return this.product?.monthlyPrice?.currency}get selectedCurrency(){return F.findBy("value",this.currency)}init(){super.init(...arguments),this.product=this.model.product
const e=this.product.get("monthlyPrice"),t=this.product.get("yearlyPrice")
e&&(this.stripeMonthlyAmount=e.amount/100),t&&(this.stripeYearlyAmount=t.amount/100),this.currency=this.productCurrency||"usd",this.benefits=this.product.get("benefits")||Ember.A([]),this.newBenefit=n.default.create({isNew:!0,name:""})}validateWelcomePageURL(){const e=this.siteUrl
if(void 0!==this.welcomePageURL)if(this.welcomePageURL.href.startsWith(e)){const t=this.welcomePageURL.href.replace(e,"")
this.model.product.welcomePageURL=t}else this.model.product.welcomePageURL=this.welcomePageURL.href}get siteUrl(){return this.config.get("blogUrl")}get welcomePageURL(){return this.model.product.welcomePageURL}get title(){return this.isExistingProduct?this.isFreeProduct?"Edit free membership":"Edit tier":"New tier"}get isExistingProduct(){return!this.model.product.isNew}close(e){this.reset(),e?.preventDefault?.(),this.closeModal()}setCurrency(e){const t=e.value
this.currency=t}setWelcomePageURL(e){this.welcomePageURL=e}reset(){this.newBenefit=n.default.create({isNew:!0,name:""})
const e=this.product.benefits?.filter((e=>!!e.id))||Ember.A([])
this.product.set("benefits",e)}*saveProduct(){if(this.validatePrices(),(Ember.isEmpty(this.errors)||!(Object.keys(this.errors).length>0))&&!this.stripePlanError){if(this.newBenefit.get("isBlank")||(yield this.send("addBenefit",this.newBenefit)),!this.isFreeProduct){const e=Math.round(100*this.stripeMonthlyAmount),t=Math.round(100*this.stripeYearlyAmount)
this.product.set("monthlyPrice",{nickname:"Monthly",amount:e,active:!0,currency:this.currency,interval:"month",type:"recurring"}),this.product.set("yearlyPrice",{nickname:"Yearly",amount:t,active:!0,currency:this.currency,interval:"year",type:"recurring"})}this.product.set("benefits",this.benefits.filter((e=>!e.get("isBlank")))),yield this.product.save(),yield this.confirm(),this.send("closeModal")}}validatePrices(){this.stripePlanError=void 0
try{const e=this.stripeYearlyAmount,t=this.stripeMonthlyAmount,n=(0,i.getSymbol)(this.currency)
if(!e||e<1||!t||t<1)throw new TypeError(`Subscription amount must be at least ${n}1.00`)}catch(e){this.stripePlanError=e.message}}addNewBenefitItem(e){e.set("isNew",!1),this.benefits.pushObject(e),this.newBenefit=n.default.create({isNew:!0,name:""})}},O=U(P.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=U(P.prototype,"config",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=U(P.prototype,"model",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=U(P.prototype,"product",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=U(P.prototype,"periodVal",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=U(P.prototype,"stripeMonthlyAmount",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),S=U(P.prototype,"stripeYearlyAmount",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),M=U(P.prototype,"currency",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"usd"}}),C=U(P.prototype,"errors",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ember.Object.create()}}),D=U(P.prototype,"stripePlanError",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=U(P.prototype,"benefits",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ember.A([])}}),I=U(P.prototype,"newBenefit",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=U(P.prototype,"welcomePageURL",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U(P.prototype,"validateWelcomePageURL",[v],Object.getOwnPropertyDescriptor(P.prototype,"validateWelcomePageURL"),P.prototype),U(P.prototype,"close",[y],Object.getOwnPropertyDescriptor(P.prototype,"close"),P.prototype),U(P.prototype,"setCurrency",[w],Object.getOwnPropertyDescriptor(P.prototype,"setCurrency"),P.prototype),U(P.prototype,"setWelcomePageURL",[E],Object.getOwnPropertyDescriptor(P.prototype,"setWelcomePageURL"),P.prototype),U(P.prototype,"saveProduct",[k],Object.getOwnPropertyDescriptor(P.prototype,"saveProduct"),P.prototype),P)
e.default=B,Ember._setComponentTemplate(N,B)})),define("ghost-admin/components/modal-re-authenticate",["exports","ghost-admin/components/modal-base","ghost-admin/mixins/validation-engine","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,n,i,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"C9gSA7+B",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Please re-authenticate"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[15,0,[31,["modal-body ",[30,[36,2],[[32,0,["authenticationError"]],"error"],null]]]],[12],[2,"\\n\\n    "],[11,"form"],[24,1,"login"],[24,0,"login-form"],[24,"method","post"],[24,"novalidate","novalidate"],[4,[38,0],[[32,0],"confirm"],[["on"],["submit"]]],[12],[2,"\\n        "],[8,"gh-validation-status-container",[],[["@class","@errors","@property","@hasValidated"],["password-wrap",[32,0,["errors"]],"password",[32,0,["hasValidated"]]]],[["default"],[{"statements":[[2,"\\n            "],[8,"gh-text-input",[],[["@class","@type","@placeholder","@name","@value","@input"],["password","password","Password","password",[30,[36,3],[[32,0,["password"]]],null],[30,[36,0],[[32,0],[30,[36,4],[[32,0,["password"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@buttonText","@task","@class","@type"],["Log in",[32,0,["reauthenticate"]],"gh-btn gh-btn-black gh-btn-icon","submit"]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["authenticationError"]]],null,[["default"],[{"statements":[[2,"     "],[10,"p"],[14,0,"response"],[12],[1,[32,0,["authenticationError"]]],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","if","readonly","mut"]}',moduleName:"ghost-admin/components/modal-re-authenticate.hbs"})
var s=Ember._setComponentTemplate(a,t.default.extend(n.default,{config:Ember.inject.service(),notifications:Ember.inject.service(),session:Ember.inject.service(),validationType:"signin",authenticationError:null,identification:Ember.computed.reads("session.user.email"),actions:{confirm(){this.reauthenticate.perform()}},_authenticate(){let e=this.session,t=this.identification,n=this.password
return e.set("skipAuthSuccessHandler",!0),this.toggleProperty("submitting"),e.authenticate("authenticator:cookie",t,n).finally((()=>{this.toggleProperty("submitting"),e.set("skipAuthSuccessHandler",void 0)}))},_passwordConfirm(){return document.querySelectorAll("#login input").forEach((e=>e.dispatchEvent(new Event("change")))),this.set("authenticationError",null),this.validate({property:"signin"}).then((()=>this._authenticate().then((()=>(this.notifications.closeAlerts(),this.send("closeModal"),!0))).catch((e=>{e&&e.payload&&e.payload.errors&&(e.payload.errors.forEach((t=>{if((0,i.isVersionMismatchError)(t))return this.notifications.showAPIError(e)
t.message=Ember.String.htmlSafe(t.context||t.message)})),this.errors.add("password","Incorrect password"),this.hasValidated.pushObject("password"),this.set("authenticationError",e.payload.errors[0].message))}))),(()=>(this.hasValidated.pushObject("password"),!1)))},reauthenticate:(0,r.task)((function*(){return yield this._passwordConfirm()})).drop()}))
e.default=s})),define("ghost-admin/components/modal-regenerate-key",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"OwT+J7b5",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Regenerate "],[1,[30,[36,0],[[32,0,["apiKey","type"]]],null]],[2," API Key"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,1],[[32,0],"closeModal"],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"\\n"],[6,[37,4],[[30,[36,3],[[32,0,["internalIntegration"]],"zapier"],null]],null,[["default","else"],[{"statements":[[2,"            You will need to locate the Ghost App within your Zapier account and click on \\"Reconnect\\" to enter the new Admin API Key.\\n"]],"parameters":[]},{"statements":[[2,"            You can regenerate "],[10,"strong"],[12],[1,[30,[36,0],[[32,0,["apiKey","type"]]],null]],[2," API Key"],[13],[2," any time, but any scripts or applications using it will need to be updated.\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[6,[37,4],[[32,0,["errorMessage"]]],null,[["default"],[{"statements":[[2,"        "],[10,"p"],[14,0,"red"],[12],[2," "],[1,[32,0,["errorMessage"]]],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],[[31,["Regenerate ",[30,[36,0],[[32,0,["apiKey","type"]]],null]," API Key"]],"Regenerated",[32,0,["regenerateKey"]],"gh-btn gh-btn-icon gh-btn-red"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["capitalize","action","svg-jar","eq","if"]}',moduleName:"ghost-admin/components/modal-regenerate-key.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({ajax:Ember.inject.service(),store:Ember.inject.service(),ghostPaths:Ember.inject.service(),errorMessage:null,confirm:()=>{},apiKey:Ember.computed.alias("model.apiKey"),integration:Ember.computed.alias("model.integration"),internalIntegration:Ember.computed.alias("model.internalIntegration"),actions:{confirm(){this.regenerateApiKey.perform()}},regenerateKey:(0,n.task)((function*(){let e=this.get("ghostPaths.url").api("/integrations/",this.integration.id,"api_key",this.apiKey.id,"refresh")
try{const t=yield this.ajax.post(e,{data:{integrations:[{id:this.integration.id}]}})
this.store.pushPayload(t),yield this.confirm(),this.send("closeModal")}catch(t){let e=`There was an error regenerating the ${Ember.String.capitalize(this.apiKey.type)} API Key. Please try again`
return void this.set("errorMessage",e)}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-regenerate-token",["exports","ghost-admin/components/modal-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"ioAM0sSR",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Regenerate your Staff Access Token"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"\\n        You can regenerate your Staff Access Token any time, but any scripts or applications using it will need to be updated.\\n    "],[13],[2,"\\n"],[6,[37,2],[[32,0,["errorMessage"]]],null,[["default"],[{"statements":[[2,"        "],[10,"p"],[14,0,"red"],[12],[2," "],[1,[32,0,["errorMessage"]]],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,"autofocus",""],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[11,"button"],[24,0,"gh-btn gh-btn-icon gh-btn-red"],[24,4,"button"],[4,[38,0],[[32,0],"confirm"],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"Regenerate your Staff Access Token"],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","if"]}',moduleName:"ghost-admin/components/modal-regenerate-token.hbs"})
var i=Ember._setComponentTemplate(n,t.default.extend({actions:{confirm(){this.confirm(),this.send("closeModal")}}}))
e.default=i})),define("ghost-admin/components/modal-reset-all-passwords",["exports","ghost-admin/components/modal-base","fetch","ember-concurrency"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"r0olkDUp",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Reset all passwords"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body gh-modal-reset-passwords"],[12],[2,"\\n    "],[10,"p"],[12],[2,"You\'re about to end all active staff user sessions and trigger a password reset for everyone (including yourself). Are you sure?"],[13],[2,"\\n    "],[10,"div"],[14,0,"flex mt2 mb2"],[12],[2,"\\n        "],[10,"div"],[14,0,"for-checkbox"],[12],[2,"\\n            "],[10,"label"],[14,0,"checkbox"],[12],[2,"\\n                "],[11,"input"],[16,"checked",[32,0,["isChecked"]]],[24,0,"gh-input"],[24,3,"checkbox"],[24,4,"checkbox"],[4,[38,2],["click",[30,[36,0],[[32,0],"toggleCheckbox"],null]],null],[12],[13],[2,"\\n                "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"h4"],[12],[2,"Yes, end sessions and reset passwords for all users."],[13],[2,"\\n            "],[10,"p"],[14,0,"description"],[12],[2,"Upon submission, you will be logged out. Please check your email to reset your password."],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[[16,"disabled",[32,0,["isConfirmDisabled"]]]],[["@buttonText","@task","@class"],["Reset Passwords",[32,0,["resetPasswords"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","on"]}',moduleName:"ghost-admin/components/modal-reset-all-passwords.hbs"})
var a=Ember._setComponentTemplate(r,t.default.extend({notifications:Ember.inject.service(),isChecked:!1,isConfirmDisabled:Ember.computed.not("isChecked"),actions:{toggleCheckbox(){Ember.set(this,"isChecked",!this.isChecked)},confirm(){this.deletePost.perform()}},async _resetPasswords(){const e=await(0,n.fetch)("/ghost/api/admin/authentication/reset_all_passwords/",{method:"POST"})
if(e.status<200||e.status>=300)throw new Error("api failed "+e.status+" "+e.statusText)},_failure(e){this.notifications.showAPIError(e,{key:"user.resetAllPasswords.failed"})},resetPasswords:(0,i.task)((function*(){try{yield this._resetPasswords(),window.location=window.location.href.split("#")[0]}catch(e){this._failure(e)}finally{this.send("closeModal")}})).drop()}))
e.default=a})),define("ghost-admin/components/modal-select-user-role",["exports","ghost-admin/components/modal-base"],(function(e,t){var n,i,r,a,s,o
function l(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"7RRs/b57",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Change user role"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],["click",[32,0,["close"]]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[11,"div"],[24,0,"modal-body"],[4,[38,2],[[32,0,["setRoleFromModel"]]],null],[12],[2,"\\n    "],[8,"gh-role-selection",[],[["@selected","@setRole"],[[32,0,["role"]],[30,[36,4],[[30,[36,3],[[32,0,["role"]]],null]],null]]],null],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,0,["close"]]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],["click",[32,0,["confirmAction"]]],null],[12],[10,"span"],[12],[2,"Change role"],[13],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","svg-jar","did-insert","mut","fn"]}',moduleName:"ghost-admin/components/modal-select-user-role.hbs"})
let d=(n=Ember._tracked,i=Ember._action,r=Ember._action,a=Ember._action,s=class extends t.default{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var i,r,a,s
super(...t),i=this,r="role",s=this,(a=o)&&Object.defineProperty(i,r,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(s):void 0}),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"actions",{confirm(){this.confirmAction(...arguments)},closeModal(){this.close()}})}confirmAction(){this.confirm(this.role),this.close()}close(e){e?.preventDefault?.(),this.closeModal()}setRoleFromModel(){this.role=this.model}},o=l(s.prototype,"role",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l(s.prototype,"confirmAction",[i],Object.getOwnPropertyDescriptor(s.prototype,"confirmAction"),s.prototype),l(s.prototype,"close",[r],Object.getOwnPropertyDescriptor(s.prototype,"close"),s.prototype),l(s.prototype,"setRoleFromModel",[a],Object.getOwnPropertyDescriptor(s.prototype,"setRoleFromModel"),s.prototype),s)
e.default=d,Ember._setComponentTemplate(u,d)})),define("ghost-admin/components/modal-stripe-connect",["exports","ghost-admin/components/modal-base"],(function(e,t){var n,i,r,a,s,o,l,u
function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"wAGRWCLi",block:'{"symbols":[],"statements":[[11,"header"],[24,0,"modal-header"],[4,[38,2],[[32,0,["reset"]]],null],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Connect with Stripe"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n    "],[1,[30,[36,3],["close"],null]],[2,"\\n"],[13],[2,"\\n\\n"],[10,"form"],[12],[2,"\\n"],[11,"div"],[24,0,"modal-body"],[4,[38,4],[[32,0,["updateSuccessModifier"]]],null],[12],[2,"\\n    "],[8,"gh-members-payments-setting",[],[["@setStripeConnectIntegrationTokenSetting","@onConnected","@onDisconnected"],[[32,0,["setStripeConnectIntegrationTokenSetting"]],[32,0,["updateSuccessModifier"]],[32,0,["updateSuccessModifier"]]]],null],[2,"\\n"],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,5],[[32,0,["settings","stripeConnectAccountId"]]],null,[["default"],[{"statements":[[2,"        "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],[[32,0],"confirm"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n            "],[10,"span"],[12],[2,"OK"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","optional","will-destroy","svg-jar","did-insert","if"]}',moduleName:"ghost-admin/components/modal-stripe-connect.hbs"})
let p=(n=Ember.inject.service,i=Ember._action,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="settings",i=this,(n=u)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"actions",{confirm(){if(this.settings.get("stripeConnectAccountId"))return this.confirmAction()},closeModal(){this.close()}})}setStripeConnectIntegrationTokenSetting(e){this.settings.set("stripeConnectIntegrationToken",e)}reset(){this.settings.set("stripeConnectIntegrationToken",void 0)}close(e){e?.preventDefault?.(),this.closeModal()}confirmAction(){this.confirm(),this.close()}updateSuccessModifier(){this.settings.get("stripeConnectAccountId")?-1===this.modifier?.indexOf("stripe-connected")&&this.updateModifier(`${this.modifier} stripe-connected`):-1!==this.modifier?.indexOf("stripe-connected")&&this.updateModifier(this.modifier.replace(/\s?stripe-connected/,""))}},u=d(l.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(l.prototype,"setStripeConnectIntegrationTokenSetting",[i],Object.getOwnPropertyDescriptor(l.prototype,"setStripeConnectIntegrationTokenSetting"),l.prototype),d(l.prototype,"reset",[r],Object.getOwnPropertyDescriptor(l.prototype,"reset"),l.prototype),d(l.prototype,"close",[a],Object.getOwnPropertyDescriptor(l.prototype,"close"),l.prototype),d(l.prototype,"confirmAction",[s],Object.getOwnPropertyDescriptor(l.prototype,"confirmAction"),l.prototype),d(l.prototype,"updateSuccessModifier",[o],Object.getOwnPropertyDescriptor(l.prototype,"updateSuccessModifier"),l.prototype),l)
e.default=p,Ember._setComponentTemplate(c,p)})),define("ghost-admin/components/modal-suspend-user",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"pfUakXzg",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Are you sure you want to suspend this user?"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"strong"],[12],[2,"WARNING:"],[13],[2," This user will no longer be able to log in but their posts will be kept.\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Suspend","Suspended",[32,0,["suspendUser"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/modal-suspend-user.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({confirm:()=>{},user:Ember.computed.alias("model"),actions:{confirm(){return this.suspendUser.perform()}},suspendUser:(0,n.task)((function*(){try{yield this.confirm()}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-transfer-owner",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"zxoLjn9D",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Transfer Ownership"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"\\n        Are you sure you want to transfer the ownership of this blog?\\n        You will not be able to undo this action.\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@task","@class"],["Yep - I\'m sure",[32,0,["transferOwnership"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/modal-transfer-owner.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({user:null,confirm:()=>{},actions:{confirm(){this.transferOwnership.perform()}},transferOwnership:(0,n.task)((function*(){try{yield this.confirm()}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-unsubscribe-members",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"B/gPvEQD",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Unsubscribe members from email?"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["confirmed"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-content-box pa"],[12],[2,"\\n"],[6,[37,3],[[32,0,["error"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                "],[1,[30,[36,2],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                        "],[10,"span"],[14,0,"fw5"],[12],[1,[32,0,["error"]]],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                "],[1,[30,[36,2],["check-circle"],[["class"],["w4 h4 stroke-green mr2"]]]],[2,"\\n                "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                    "],[10,"span"],[14,0,"fw6"],[12],[1,[30,[36,1],[[32,0,["response","stats","successful"]],"member"],null]],[13],[2,"\\n                    successfully unsubscribed\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,3],[[32,0,["response","stats","unsuccessful"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-start mt2"],[12],[2,"\\n                    "],[1,[30,[36,2],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                            "],[10,"span"],[14,0,"fw5"],[12],[1,[30,[36,1],[[32,0,["response","stats","unsuccessful"]],"member"],null]],[13],[2,"\\n                            failed to unsubscribe\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            You\'re about to unsubscribe\\n            "],[10,"strong"],[12],[1,[30,[36,1],[[32,0,["model","memberCount"]],"member"],null]],[13],[2," from email newsletters.\\n            Are you sure?\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,3],[[32,0,["confirmed"]]],null,[["default","else"],[{"statements":[[2,"        "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Unsubscribe members","Unsubscribed",[32,0,["unsubscribeMemberTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","gh-pluralize","svg-jar","if"]}',moduleName:"ghost-admin/components/modal-unsubscribe-members.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({membersStats:Ember.inject.service(),shouldCancelSubscriptions:!1,confirm:()=>{},member:Ember.computed.alias("model"),actions:{confirm(){this.unsubscribeMemberTask.perform()}},unsubscribeMemberTask:(0,n.task)((function*(){try{const e=yield this.confirm()
this.set("response",e),this.set("confirmed",!0)}catch(e){throw e.payload?.errors&&(this.set("confirmed",!0),this.set("error",e.payload.errors[0].message)),e}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-unsuspend-user",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"M6JNRJyP",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Are you sure you want to un-suspend this user?"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"strong"],[12],[2,"WARNING:"],[13],[2," This user will be able to log in again and will have the same permissions they had previously.\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Un-suspend","Suspended",[32,0,["unsuspendUser"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/modal-unsuspend-user.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({confirm:()=>{},user:Ember.computed.alias("model"),actions:{confirm(){return this.unsuspendUser.perform()}},unsuspendUser:(0,n.task)((function*(){try{yield this.confirm()}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-update-snippet",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"5br6v06a",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Update this snippet?"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"\\n        \\""],[10,"strong"],[12],[1,[32,0,["snippet","name"]]],[13],[2,"\\" will be overwritten.\\n        Don\'t worry, this will only affect using the snippet in the future.\\n        Any older posts using this snippet will stay the same.\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Update","Updated",[32,0,["updateSnippet"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/modal-update-snippet.hbs"})
var r=Ember._setComponentTemplate(i,t.default.extend({router:Ember.inject.service(),notifications:Ember.inject.service(),snippet:Ember.computed.alias("model.snippetRecord"),actions:{confirm(){this.updateSnippet.perform()}},updateSnippet:(0,n.task)((function*(){try{yield this.confirm()}catch(e){this.notifications.showAPIError(e,{key:"snippet.update.failed"})}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-upgrade-host-limit",["exports","ghost-admin/components/modal-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"Hue6TWOE",block:'{"symbols":[],"statements":[[2,"\\n"],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[1,[32,0,["headerMessage"]]],[13],[2,"\\n"],[13],[2,"\\n"],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,0,["closeModal"]]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"\\n        "],[1,[30,[36,2],[[32,0,["upgradeMessage","message"]]],null]],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,0,["closeModal"]]],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,4,"button"],[4,[38,0],["click",[30,[36,3],[[32,0],"upgrade"],null]],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"Upgrade"],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar","html-safe","action"]}',moduleName:"ghost-admin/components/modal-upgrade-host-limit.hbs"})
var i=Ember._setComponentTemplate(n,t.default.extend({router:Ember.inject.service(),billing:Ember.inject.service(),headerMessage:Ember.computed("details",(function(){let e="Upgrade to enable publishing"
return this.model.message&&this.model.message.match(/account is currently in review/gi)&&(e="Hold up, we're missing some details"),e})),upgradeMessage:Ember.computed("details",(function(){const{limit:e,total:t}=this.model.details||{}
return{limit:e,total:t,message:this.model.message}})),actions:{upgrade(){this.router.transitionTo("pro",{queryParams:{action:"checkout"}})},confirm(){this.send("upgrade")}}}))
e.default=i})),define("ghost-admin/components/modal-upgrade-unsuspend-user-host-limit",["exports","ghost-admin/components/modal-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"bT0WZtLh",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Upgrade to un-suspend this user"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,0,["closeModal"]]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"p"],[12],[2,"\\n        "],[1,[30,[36,2],[[32,0,["model","message"]]],null]],[2," To give this user access to Ghost, upgrade to a different plan.\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,0,["closeModal"]]],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,4,"button"],[4,[38,0],["click",[30,[36,3],[[32,0],"upgrade"],null]],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"Upgrade my plan"],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar","html-safe","action"]}',moduleName:"ghost-admin/components/modal-upgrade-unsuspend-user-host-limit.hbs"})
var i=Ember._setComponentTemplate(n,t.default.extend({router:Ember.inject.service(),actions:{upgrade(){this.router.transitionTo("pro")},confirm(){this.send("upgrade")}}}))
e.default=i})),define("ghost-admin/components/modal-upload-image",["exports","ghost-admin/components/modal-base","ghost-admin/utils/caja-sanitizers","ember-concurrency"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"p+W3Yt+z",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,2],[[32,0,["url"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-image-uploader -with-image"],[12],[2,"\\n            "],[10,"div"],[12],[10,"img"],[15,"src",[32,0,["url"]]],[12],[13],[13],[2,"\\n            "],[11,"a"],[24,0,"image-delete"],[24,"title","Delete"],[4,[38,0],[[32,0],"removeImage"],null],[12],[2,"\\n                "],[1,[30,[36,1],["trash"],null]],[2,"\\n                "],[10,"span"],[14,0,"hidden"],[12],[2,"Delete"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"gh-image-uploader",[],[["@image","@saveButton","@update","@uploadStarted","@uploadFinished","@accept","@extensions","@uploadUrl","@paramsHash"],[[32,0,["newUrl"]],false,[30,[36,0],[[32,0],"fileUploaded"],null],[30,[36,0],[[32,0],"isUploading"],null],[30,[36,0],[[32,0],"isUploading"],null],[32,0,["model","accept"]],[32,0,["model","extensions"]],[32,0,["model","uploadUrl"]],[32,0,["model","paramsHas"]]]],null],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n"],[6,[37,2],[[32,0,["_isUploading"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"button"],[14,0,"gh-btn gh-btn-black right gh-btn-icon disabled"],[14,4,"button"],[12],[10,"span"],[12],[2,"Save"],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"gh-task-button",[],[["@task","@class"],[[32,0,["uploadImage"]],"gh-btn gh-btn-black right gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","if"]}',moduleName:"ghost-admin/components/modal-upload-image.hbs"})
var a=Ember._setComponentTemplate(r,t.default.extend({config:Ember.inject.service(),notifications:Ember.inject.service(),model:null,url:"",newUrl:"",_isUploading:!1,image:Ember.computed("model.{model,imageProperty}",{get(){let e=this.get("model.imageProperty")
return this.get(`model.model.${e}`)},set(e,t){let n=this.get("model.model"),i=this.get("model.imageProperty")
return n.set(i,t)}}),didReceiveAttrs(){this._super(...arguments)
let e=this.image
this.set("url",e),this.set("newUrl",e)},actions:{fileUploaded(e){this.set("url",e),this.set("newUrl",e)},removeImage(){this.set("url",""),this.set("newUrl","")},confirm(){this.uploadImage.perform()},isUploading(){this.toggleProperty("_isUploading")}},keyDown(){this._setErrorState(!1)},_setErrorState(e){e?this.element.querySelector(".url").classList.add("error"):this.element.querySelector(".url").classList.remove("error")},_validateUrl(e){return!(!Ember.isEmpty(e)&&!n.default.url(e))||(this._setErrorState(!0),{message:"Image URI is not valid"})},uploadImage:(0,i.task)((function*(){let e=this.get("model.model"),t=this.newUrl,n=this._validateUrl(t),i=this.notifications
if(!0===n){this.set("image",t)
try{yield e.save()}catch(r){i.showAPIError(r,{key:"image.upload"})}finally{this.send("closeModal")}}})).drop()}))
e.default=a})),define("ghost-admin/components/modal-webhook-form",["exports","ghost-admin/components/modal-base","ghost-admin/models/webhook","ghost-admin/helpers/event-name","ember-concurrency"],(function(e,t,n,i,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"vCkCNPe6",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[1,[30,[36,3],[[32,0,["webhook","isNew"]],"New","Edit"],null]],[2," webhook"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,2],[[32,0],"closeModal"],null],[4,[38,2],[[32,0],[30,[36,4],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n    "],[1,[30,[36,5],["close"],null]],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"fieldset"],[12],[2,"\\n        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["webhook","errors"]],[32,0,["webhook","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n            "],[10,"label"],[14,"for","webhook-name"],[14,0,"fw6"],[12],[2,"Name"],[13],[2,"\\n            "],[8,"gh-text-input",[],[["@value","@input","@focus-out","@id","@name","@class","@shouldFocus","@autocapitalize","@autocorrect"],[[30,[36,0],[[32,0,["webhook","name"]]],null],[30,[36,2],[[32,0],[30,[36,1],[[32,0,["webhook","name"]]],null]],[["value"],["target.value"]]],[30,[36,2],[[32,0],"validate","name"],[["target"],[[32,0,["webhook"]]]]],"webhook-name","name","gh-input mt1",true,"off","off"]],null],[2,"\\n            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["webhook","errors"]],"name"]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n    "],[10,"fieldset"],[12],[2,"\\n        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["webhook","errors"]],[32,0,["webhook","hasValidated"]],"event"]],[["default"],[{"statements":[[2,"\\n            "],[10,"label"],[14,"for","webhook-event"],[14,0,"fw6"],[12],[2,"Event"],[13],[2,"\\n            "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n                "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@groupLabelPath","@class","@includeBlank","@prompt","@update","@id","@name"],[[32,0,["webhook","event"]],[32,0,["availableEvents"]],"event","name","event","group","mt1",true,"Select an event",[30,[36,2],[[32,0],"selectEvent"],null],"webhook-event","event"]],null],[2,"\\n                "],[1,[30,[36,5],["arrow-down-small"],null]],[2,"\\n            "],[13],[2,"\\n            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["webhook","errors"]],"event"]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n    "],[10,"fieldset"],[12],[2,"\\n        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["webhook","errors"]],[32,0,["webhook","hasValidated"]],"targetUrl"]],[["default"],[{"statements":[[2,"\\n            "],[10,"label"],[14,"for","webhook-targetUrl"],[14,0,"fw6"],[12],[2,"Target URL"],[13],[2,"\\n            "],[8,"gh-text-input",[],[["@value","@input","@focus-out","@id","@name","@placeholder","@class","@shouldFocus","@autocapitalize","@autocorrect"],[[30,[36,0],[[32,0,["webhook","targetUrl"]]],null],[30,[36,2],[[32,0],[30,[36,1],[[32,0,["webhook","targetUrl"]]],null]],[["value"],["target.value"]]],[30,[36,2],[[32,0],"validate","targetUrl"],[["target"],[[32,0,["webhook"]]]]],"webhook-targetUrl","targetUrl","https://example.com","gh-input mt1",true,"off","off"]],null],[2,"\\n            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["webhook","errors"]],"targetUrl"]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[6,[37,3],[[30,[36,6],null,null]],null,[["default"],[{"statements":[[2,"        "],[10,"fieldset"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["webhook","errors"]],[32,0,["webhook","hasValidated"]],"secret"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","webhook-secret"],[14,0,"fw6"],[12],[2,"Secret"],[13],[2,"\\n                "],[8,"gh-text-input",[],[["@value","@oninput","@focus-out","@id","@name","@class","@shouldFocus","@autocapitalize","@autocorrect"],[[30,[36,0],[[32,0,["webhook","secret"]]],null],[30,[36,2],[[32,0],[30,[36,1],[[32,0,["webhook","secret"]]],null]],[["value"],["target.value"]]],[30,[36,2],[[32,0],"validate","secret"],[["target"],[[32,0,["webhook"]]]]],"webhook-secret","secret","gh-input mt1",true,"off","off"]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["webhook","errors"]],"secret"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[32,0,["error"]]],null,[["default"],[{"statements":[[2,"        "],[10,"p"],[14,0,"red"],[12],[1,[32,0,["error"]]],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],[[32,0],"closeModal"],null],[4,[38,2],[[32,0],[30,[36,4],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n    "],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],[[32,0,["buttonText"]],[32,0,["successText"]],[32,0,["saveWebhook"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["readonly","mut","action","if","optional","svg-jar","enable-developer-experiments"]}',moduleName:"ghost-admin/components/modal-webhook-form.hbs"})
var s=Ember._setComponentTemplate(a,t.default.extend({router:Ember.inject.service(),feature:Ember.inject.service(),availableEvents:null,error:null,buttonText:"Save",successText:"Saved",confirm(){},webhook:Ember.computed.alias("model"),init(){this._super(...arguments),this.availableEvents=i.AVAILABLE_EVENTS},didReceiveAttrs(){this._super(...arguments),this.webhook.isNew&&(this.set("buttonText","Create"),this.set("successText","Created"))},actions:{selectEvent(e){this.webhook.set("event",e),this.webhook.validate({property:"event"})},confirm(){this.saveWebhook.perform()}},saveWebhook:(0,r.task)((function*(){this.set("error",null)
try{let e=yield this.confirm(),t=yield e.get("integration")
this.router.transitionTo("settings.integration",t)}catch(e){if(e&&e.payload&&e.payload.errors){let t=Array.from(n.default.attributes.keys())
return void e.payload.errors.forEach((e=>{let{message:n,property:i=""}=e
i=Ember.String.camelize(i),i&&t.includes(i)?(this.webhook.errors.add(i,n),this.webhook.hasValidated.pushObject(i)):this.set("error",`Error: ${n}`)}))}if(e)throw e}}))}))
e.default=s})),define("ghost-admin/components/modal-whats-new",["exports","ghost-admin/components/modal-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({whatsNew:Ember.inject.service(),confirm(){},actions:{confirm(){}}})
e.default=n})),define("ghost-admin/components/modals/confirm-unsaved-changes",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"PUEUgF7C",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to leave this page?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"role","button"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Hey there! It looks like you didn\'t save the changes you made.\\n        "],[13],[2,"\\n\\n        "],[10,"p"],[12],[2,"Save before you go!"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[30,[36,2],[[32,1],false],null]],null],[12],[10,"span"],[12],[2,"Stay"],[13],[13],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-red"],[24,4,"button"],[4,[38,0],["click",[30,[36,2],[[32,1],true],null]],null],[12],[10,"span"],[12],[2,"Leave"],[13],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar","fn"]}',moduleName:"ghost-admin/components/modals/confirm-unsaved-changes.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/modals/custom-view-form",["exports","@glimmer/component","ghost-admin/helpers/reset-query-params","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p
function m(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"7zBlj7g2",block:'{"symbols":["color","@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[1,[30,[36,5],[[32,3,["customView","isNew"]],"New view","Edit view"],null]],[13],[2,"\\n    "],[13],[2,"\\n"],[2,"    "],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[4,[38,1],["mousedown",[30,[36,2],[[32,0,["noop"]]],null]],null],[12],[2,"\\n        "],[1,[30,[36,3],["close"],null]],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"fieldset"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,3,["customView","errors"]],[32,3,["customView","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","view-name"],[14,0,"dib fw6"],[12],[2,"View name"],[13],[2,"\\n                "],[8,"gh-text-input",[],[["@id","@value","@placeholder","@focus-out"],["view-name",[32,3,["customView","name"]],"Breaking news",[30,[36,6],[[32,0,["validate"]],"name"],null]]],null],[2,"\\n"],[6,[37,5],[[32,3,["customView","errors"]]],null,[["default","else"],[{"statements":[[2,"                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,3,["customView","errors"]],"name"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[32,3,["customView","isNew"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"p"],[12],[2,"Saved views appear in the app sidebar."],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"label"],[14,"for","view-name"],[14,0,"dib fw6"],[12],[2,"Icon color"],[13],[2,"\\n            "],[10,"div"],[14,0,"flex justify-between mt3 nl1"],[12],[2,"\\n"],[6,[37,8],[[30,[36,7],[[30,[36,7],[[32,0,["customViews","availableColors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-radio-color"],[12],[2,"\\n                        "],[11,"input"],[24,3,"view-color"],[16,1,[31,["view-",[32,1]]]],[16,"checked",[30,[36,4],[[32,1],[32,3,["customView","color"]]],null]],[16,2,[32,1]],[24,4,"radio"],[4,[38,1],["change",[32,0,["changeColor"]]],null],[12],[13],[2,"\\n                        "],[10,"label"],[15,"for",[31,["view-",[32,1]]]],[12],[10,"span"],[15,0,[31,["gh-radio-color-",[32,1]]]],[12],[13],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,5],[[32,3,["customView","isNew"]]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[4,[38,1],["mousedown",[30,[36,2],[[32,0,["noop"]]],null]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-red gh-btn-icon"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["deleteTask"]]],null]],null],[4,[38,1],["mousedown",[30,[36,2],[[32,0,["noop"]]],null]],null],[12],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,3],["trash"],null]],[2," Delete"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@taskArgs","@class"],["Save","Saved",[32,0,["saveTask"]],[32,0,["customView"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","on","optional","svg-jar","eq","if","fn","-track-array","each"]}',moduleName:"ghost-admin/components/modals/custom-view-form.hbs"})
let b=(r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=Ember._action,p=c=class extends t.default{constructor(){super(...arguments),m(this,"customViews",u,this),m(this,"router",d,this)}changeColor(e){const t=e.target.value
this.args.data.customView.set("color",t)}validate(e){return this.args.data.customView.validate({property:e})}*saveTask(){const e=yield this.customViews.saveViewTask.perform(this.args.data.customView)
return this.args.close(),e}*deleteTask(){const e=yield this.customViews.deleteViewTask.perform(this.args.data.customView),t=this.router.currentRouteName
return this.router.transitionTo(t,{queryParams:(0,n.resetQueryParams)(t)}),this.args.close(),e}},function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(c,"modalOptions",{className:"fullscreen-modal-action fullscreen-modal-narrow"}),u=h((l=p).prototype,"customViews",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(l.prototype,"changeColor",[s],Object.getOwnPropertyDescriptor(l.prototype,"changeColor"),l.prototype),h(l.prototype,"validate",[o],Object.getOwnPropertyDescriptor(l.prototype,"validate"),l.prototype),h(l.prototype,"saveTask",[i.task],Object.getOwnPropertyDescriptor(l.prototype,"saveTask"),l.prototype),h(l.prototype,"deleteTask",[i.task],Object.getOwnPropertyDescriptor(l.prototype,"deleteTask"),l.prototype),l)
e.default=b,Ember._setComponentTemplate(g,b)})),define("ghost-admin/components/modals/delete-post",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"plQAYTbl",block:'{"symbols":["@data","@close"],"statements":[[11,"div"],[24,0,"modal-content"],[4,[38,1],["Enter",[30,[36,0],[[32,0,["deletePostTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to delete this "],[1,[32,1,["post","displayName"]]],[2,"?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,2]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            You\'re about to delete \\""],[10,"strong"],[12],[1,[32,1,["post","title"]]],[13],[2,"\\".\\n            This is permanent! We warned you, k?\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[32,2]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Delete","Deleted",[32,0,["deletePostTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","on-key","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/delete-post.hbs"})
let p=(i=Ember.inject.service,r=Ember.inject.service,a=(0,n.task)({drop:!0}),s=class extends t.default{constructor(){super(...arguments),u(this,"notifications",o,this),u(this,"router",l,this)}*deletePostTask(){try{const{post:e}=this.args.data
return e.isDeleted||(e.updateTags(),yield e.destroyRecord(),this.notifications.closeAlerts("post.delete"),this.router.transitionTo("page"===e.displayName?"pages":"posts")),!0}catch(e){this.notifications.showAPIError(e,{key:"post.delete.failed"})}finally{this.args.close()}}},o=d(s.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"deletePostTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"deletePostTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(c,p)})),define("ghost-admin/components/modals/design/confirm-delete-theme",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d
function c(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function p(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"eE/REcuM",block:'{"symbols":["@close","@data"],"statements":[[11,"div"],[24,0,"modal-content"],[4,[38,1],["Enter",[30,[36,0],[[32,0,["deleteThemeTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to delete this?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"role","button"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"You\'re about to delete \\""],[10,"strong"],[12],[1,[32,2,["theme","name"]]],[13],[2,"\\". This is permanent! We warned you, k? Maybe "],[11,"a"],[24,6,"#"],[4,[38,2],["click",[32,0,["downloadTheme"]]],null],[12],[2,"download your theme before continuing"],[13],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[30,[36,4],[[32,1],false],null]],null],[12],[10,"span"],[12],[2,"Stay"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Delete","Deleted",[32,0,["deleteThemeTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","on-key","on","svg-jar","fn"]}',moduleName:"ghost-admin/components/modals/design/confirm-delete-theme.hbs"})
let h=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=class extends t.default{constructor(){super(...arguments),c(this,"ghostPaths",l,this),c(this,"notifications",u,this),c(this,"utils",d,this)}downloadTheme(e){e.preventDefault(),this.utils.downloadFile(`${this.ghostPaths.apiRoot}/themes/${this.args.data.theme.name}/download/`)}*deleteThemeTask(){try{return yield this.args.data.theme.destroyRecord(),this.args.data.theme.unloadRecord(),this.args.close(),!0}catch(e){this.notifications.showAPIError(e)}}},l=p(o.prototype,"ghostPaths",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=p(o.prototype,"utils",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(o.prototype,"downloadTheme",[s],Object.getOwnPropertyDescriptor(o.prototype,"downloadTheme"),o.prototype),p(o.prototype,"deleteThemeTask",[n.task],Object.getOwnPropertyDescriptor(o.prototype,"deleteThemeTask"),o.prototype),o)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/modals/design/install-theme",["exports","@glimmer/component","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k
function P(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function O(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const j=Ember.HTMLBars.template({id:"821Irttw",block:'{"symbols":["error","error","error","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"div"],[14,0,"theme-validation-container"],[12],[2,"\\n        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[12],[1,[30,[36,0],[[32,0,["installSuccess"]],"Success","Install theme"],null]],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,3],["click",[32,4]],null],[12],[1,[30,[36,4],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,0],[[32,0,["isConfirming"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[12],[2,"\\n                    By clicking below, "],[10,"strong"],[12],[1,[32,0,["themeName"]]],[13],[2," will automatically be activated as the theme for your site.\\n                "],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["willOverwriteExisting"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"p"],[12],[2,"\\n                        This will overwrite your existing version of "],[1,[32,0,["themeName"]]],[1,[30,[36,0],[[32,0,["willOverwriteExisting","active"]],", which is your active theme"],null]],[2,". All custom changes will be lost.\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["installSuccess"]]],null,[["default"],[{"statements":[[6,[37,0],[[32,0,["hasWarningsOrErrors"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"p"],[12],[2,"\\n                        The theme "],[10,"strong"],[12],[2,"\\""],[1,[32,0,["themeName"]]],[2,"\\""],[13],[2," was installed successfully but we detected some "],[1,[30,[36,0],[[32,0,["validationErrors"]],"errors","warnings"],null]],[2,".\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"p"],[12],[10,"strong"],[12],[1,[32,0,["themeName"]]],[13],[2," has been successfully installed and activated as your theme."],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["installError"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[12],[1,[32,0,["themeName"]]],[2," failed to install."],[13],[2,"\\n                "],[10,"p"],[14,0,"error"],[12],[10,"strong"],[14,0,"response"],[12],[1,[32,0,["installError"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["installFailure"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[12],[2,"This theme is invalid and cannot be installed. Contact the theme developer."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["fatalValidationErrors"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Fatal Errors"],[13],[2,"\\n                    "],[10,"p"],[14,0,"mb2"],[12],[2,"Must-fix to install theme"],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["fatalValidationErrors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[14,0,"theme-validation-item theme-fatal-error"],[12],[2,"\\n                        "],[8,"gh-theme-error-li",[],[["@error"],[[32,3]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[3]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["validationErrors"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Errors"],[13],[2,"\\n                    "],[10,"p"],[14,0,"mb2"],[12],[2,"Highly recommended to fix, functionality "],[10,"strong"],[12],[2,"could"],[13],[2," be restricted"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["validationErrors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[14,0,"theme-validation-item theme-error"],[12],[2,"\\n                        "],[8,"gh-theme-error-li",[],[["@error"],[[32,2]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["validationWarnings"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Warnings"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["validationWarnings"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[14,0,"theme-validation-item theme-warning"],[12],[2,"\\n                        "],[8,"gh-theme-error-li",[],[["@error"],[[32,1]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex items-center justify-between"],[12],[2,"\\n                "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,3],["click",[30,[36,5],[[32,4],false],null]],null],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,0],[[30,[36,6],[[32,0,["installSuccess"]],[32,0,["installFailure"]]],null],"Close","Cancel"],null]],[13],[2,"\\n                "],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["shouldShowInstall"]]],null,[["default"],[{"statements":[[2,"                    "],[8,"gh-task-button",[],[["@disabled","@buttonText","@runningText","@successText","@task","@unlinkedTask","@class"],[[32,0,["refreshThemesTask","isRunning"]],[30,[36,0],[[32,0,["willOverwriteExisting"]],"Overwrite","Install"],null],"Installing","Installed",[32,0,["installThemeTask"]],true,"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","-track-array","each","on","svg-jar","fn","or"]}',moduleName:"ghost-admin/components/modals/design/install-theme.hbs"})
let _=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._tracked,m=class extends t.default{constructor(){super(...arguments),P(this,"ajax",h,this),P(this,"ghostPaths",g,this),P(this,"store",b,this),P(this,"themeManagement",f,this),P(this,"installedTheme",v,this),P(this,"installError",y,this),P(this,"validationWarnings",w,this),P(this,"validationErrors",E,this),P(this,"fatalValidationErrors",k,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"themes",this.store.peekAll("theme")),this.refreshThemesTask.perform()}get themeName(){return this.args.data.theme?.name||this.args.data.ref.split("/")[1]}get themeRef(){return this.args.data.theme?.ref||this.args.data.ref}get isDefaultTheme(){return"casper"===this.themeName.toLowerCase()}get isConfirming(){return!this.installSuccess&&!this.installError&&!this.installFailure}get installSuccess(){return!!this.installedTheme}get installFailure(){return!this.installSuccess&&(this.validationErrors.length||this.fatalValidationErrors.length)}get willOverwriteExisting(){return!this.isDefaultTheme&&this.themes.findBy("name",this.themeName.toLowerCase())}get hasWarningsOrErrors(){return this.validationWarnings.length>0||this.validationErrors.length>0}get shouldShowInstall(){return!this.installSuccess&&!this.installFailure}*refreshThemesTask(){yield this.store.findAll("theme",{reload:!0})}*installThemeTask(){try{if(this.isDefaultTheme){const e=this.store.peekRecord("theme","casper")
return yield this.themeManagement.activateTask.perform(e,{skipErrors:!0}),this.installedTheme=e,this.args.data.onSuccess?.(),!0}const e=this.ghostPaths.url.api("themes/install")+`?source=github&ref=${this.themeRef}`,t=yield this.ajax.post(e)
if(this.installError="",t.themes)return this.store.pushPayload(t),this.installedTheme=this.store.peekRecord("theme",t.themes[0].name),this.validationWarnings=this.installedTheme.warnings||[],this.validationErrors=this.installedTheme.errors||[],this.fatalValidationErrors=[],yield this.themeManagement.activateTask.perform(this.installedTheme,{skipErrors:!0}),this.args.data.onSuccess?.(),!0}catch(e){if((0,n.isThemeValidationError)(e)){this.resetErrors()
let t=e.payload.errors[0].details.errors,n=[],i=[]
if(t&&t.length>0)for(let e=0;e<t.length;e+=1)t[e].fatal?n.push(t[e]):i.push(t[e])
return this.fatalValidationErrors=n,this.validationErrors=i,!1}if(e.payload?.errors)return this.installError=e.payload.errors[0].message,!1
throw this.installError=e.message,e}}},h=O(m.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=O(m.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=O(m.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=O(m.prototype,"themeManagement",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=O(m.prototype,"installedTheme",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=O(m.prototype,"installError",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=O(m.prototype,"validationWarnings",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=O(m.prototype,"validationErrors",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=O(m.prototype,"fatalValidationErrors",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O(m.prototype,"refreshThemesTask",[i.task],Object.getOwnPropertyDescriptor(m.prototype,"refreshThemesTask"),m.prototype),O(m.prototype,"installThemeTask",[i.task],Object.getOwnPropertyDescriptor(m.prototype,"installThemeTask"),m.prototype),m)
e.default=_,Ember._setComponentTemplate(j,_)})),define("ghost-admin/components/modals/design/theme-errors",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"sMnxA47L",block:'{"symbols":["error","error","error","@data","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"div"],[14,0,"theme-validation-container"],[12],[2,"\\n        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"\\n"],[6,[37,3],[[32,4,["canActivate"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[32,4,["title"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[1,[32,4,["title"]]],[2," with "],[6,[37,2],[[32,4,["errors"]]],null,[["default","else"],[{"statements":[[2,"errors"]],"parameters":[]},{"statements":[[2,"warnings"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,4],["click",[32,5]],null],[12],[1,[30,[36,5],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,2],[[32,4,["fatalErrors"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6 red"],[12],[2,"Fatal Errors"],[13],[2,"\\n                    "],[10,"p"],[14,0,"mb2 red"],[12],[2,"Must-fix to activate theme"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,4,["fatalErrors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"theme-validation-item theme-fatal-error"],[12],[2,"\\n                            "],[8,"gh-theme-error-li",[],[["@error"],[[32,3]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[3]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,4,["errors"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Errors"],[13],[2,"\\n                    "],[10,"p"],[14,0,"mb2"],[12],[2,"Highly recommended to fix, functionality "],[10,"span"],[12],[2,"could"],[13],[2," be restricted"],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,4,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"theme-validation-item theme-error"],[12],[2,"\\n                            "],[8,"gh-theme-error-li",[],[["@error"],[[32,2]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[30,[36,7],[[32,4,["warnings"]],[30,[36,6],[[32,4,["fatalErrors"]],[32,4,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Warnings"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,4,["warnings"]]],null,[["default"],[{"statements":[[2,"                "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,4,["warnings"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"theme-validation-item theme-warning"],[12],[2,"\\n                            "],[8,"gh-theme-error-li",[],[["@error"],[[32,1]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,4],["click",[32,5]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Ok"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[13]],"hasEval":false,"upvars":["-track-array","each","if","unless","on","svg-jar","or","and"]}',moduleName:"ghost-admin/components/modals/design/theme-errors.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/modals/design/upload-theme",["exports","@glimmer/component","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C
function D(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const L=Ember.HTMLBars.template({id:"Fe90x5IE",block:'{"symbols":["error","error","error","error","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"div"],[14,0,"theme-validation-container"],[12],[2,"\\n        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"\\n"],[6,[37,1],[[32,0,["theme"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["hasWarningsOrErrors"]]],null,[["default","else"],[{"statements":[[2,"                        Upload successful with "],[6,[37,1],[[32,0,["validationErrors"]]],null,[["default","else"],[{"statements":[[2,"errors"]],"parameters":[]},{"statements":[[2,"warnings"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        Upload successful!\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,6],[[32,0,["validationErrors"]],[32,0,["fatalValidationErrors"]]],null]],null,[["default","else"],[{"statements":[[2,"                    Invalid theme\\n"]],"parameters":[]},{"statements":[[2,"                    Upload a theme\\n                "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,5]],null],[12],[1,[30,[36,7],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,1],[[32,0,["theme"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["hasWarningsOrErrors"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"p"],[12],[2,"\\n                        The theme "],[10,"strong"],[12],[2,"\\""],[1,[32,0,["themeName"]]],[2,"\\""],[13],[2," was installed successfully but we detected some "],[1,[30,[36,1],[[32,0,["validationErrors"]],"errors","warnings"],null]],[2,".\\n"],[6,[37,1],[[32,0,["canActivateTheme"]]],null,[["default"],[{"statements":[[2,"                            You are still able to activate and use the theme but it is recommended to fix these "],[1,[30,[36,1],[[32,0,["validationErrors"]],"errors","warnings"],null]],[2," before you do so.\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["validationErrors"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Errors"],[13],[2,"\\n                            "],[10,"p"],[14,0,"mb2"],[12],[2,"Highly recommended to fix, functionality "],[10,"strong"],[12],[2,"could"],[13],[2," be restricted"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["validationErrors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[14,0,"theme-validation-item theme-error"],[12],[2,"\\n                                "],[8,"gh-theme-error-li",[],[["@error"],[[32,4]]],null],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[4]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["validationWarnings"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Warnings"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["validationWarnings"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[14,0,"theme-validation-item theme-warning"],[12],[2,"\\n                                "],[8,"gh-theme-error-li",[],[["@error"],[[32,3]]],null],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[3]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                    "],[10,"p"],[12],[2,"\\n                        "],[10,"strong"],[12],[1,[32,0,["themeName"]]],[13],[2," uploaded successfully.\\n                        "],[6,[37,1],[[32,0,["canActivateTheme"]]],null,[["default"],[{"statements":[[2,"Do you want to activate it now?"]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["displayOverwriteWarning"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"p"],[12],[2,"\\n                    The theme "],[10,"strong"],[12],[2,"\\""],[1,[32,0,["fileThemeName"]]],[2,"\\""],[13],[2," already exists. Do you want to overwrite it?\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,6],[[32,0,["validationErrors"]],[32,0,["fatalValidationErrors"]]],null]],null,[["default","else"],[{"statements":[[2,"\\n                "],[10,"p"],[12],[2,"\\n                    This theme is invalid and cannot be activated. Fix the following errors and re-upload the theme.\\n                "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["fatalValidationErrors"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Fatal Errors"],[13],[2,"\\n                        "],[10,"p"],[14,0,"mb2"],[12],[2,"Must-fix to activate theme"],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["fatalValidationErrors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"theme-validation-item theme-fatal-error"],[12],[2,"\\n                            "],[8,"gh-theme-error-li",[],[["@error"],[[32,2]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["validationErrors"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Errors"],[13],[2,"\\n                        "],[10,"p"],[14,0,"mb2"],[12],[2,"Highly recommended to fix, functionality "],[10,"strong"],[12],[2,"could"],[13],[2," be restricted"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["validationErrors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"theme-validation-item theme-error"],[12],[2,"\\n                            "],[8,"gh-theme-error-li",[],[["@error"],[[32,1]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                "],[8,"gh-file-uploader",[],[["@url","@paramName","@accept","@labelText","@validate","@uploadStarted","@uploadFinished","@uploadSuccess","@uploadFailed","@listenTo"],[[32,0,["uploadUrl"]],"file",[32,0,["accept"]],"Click to select or drag-and-drop your theme zip file here.",[32,0,["validateTheme"]],[30,[36,3],[[30,[36,2],[[32,0,["themeManagement","isUploading"]]],null],true],null],[30,[36,3],[[30,[36,2],[[32,0,["themeManagement","isUploading"]]],null],false],null],[32,0,["uploadSuccess"]],[32,0,["uploadFailed"]],"themeUploader"]],null],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[15,0,[31,["modal-footer ",[30,[36,1],[[30,[36,8],[[32,0,["theme"]],[32,0,["hasWarningsOrErrors"]]],null],"top-shadow"],null]]]],[12],[2,"\\n        "],[10,"div"],[15,0,[31,["flex items-center justify-between ",[30,[36,1],[[30,[36,6],[[32,0,["displayOverwriteWarning"]],[32,0,["canActivateTheme"]],[32,0,["validationErrors"]],[32,0,["fatalValidationErrors"]]],null],"flex-auto"],null]]]],[12],[2,"\\n            "],[11,"button"],[16,"disabled",[32,0,["closeDisabled"]]],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,5]],null],[12],[2,"\\n                "],[10,"span"],[12],[6,[37,1],[[32,0,["theme"]]],null,[["default","else"],[{"statements":[[2,"Close"]],"parameters":[]},{"statements":[[2,"Cancel"]],"parameters":[]}]]],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n"],[6,[37,1],[[32,0,["displayOverwriteWarning"]]],null,[["default"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-red"],[24,4,"button"],[4,[38,0],["click",[32,0,["confirmOverwrite"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Overwrite"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["canActivateTheme"]]],null,[["default"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-primary"],[24,4,"button"],[4,[38,0],["click",[32,0,["activate"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Activate"],[6,[37,1],[[32,0,["validationErrors"]]],null,[["default"],[{"statements":[[2," with errors"]],"parameters":[]}]]],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,6],[[32,0,["validationErrors"]],[32,0,["fatalValidationErrors"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-black ml2"],[24,4,"button"],[4,[38,0],["click",[32,0,["reset"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Retry"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","if","mut","fn","-track-array","each","or","svg-jar","and"]}',moduleName:"ghost-admin/components/modals/design/upload-theme.hbs"})
let R=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,C=M=class extends t.default{get themes(){return this.store.peekAll("theme")}get currentThemeNames(){return this.themes.map((e=>e.name))}get themeName(){let e=this.theme.package,t=this.theme.name
return e?`${e.name} - ${e.version}`:t}get fileThemeName(){return this.file?.name.replace(/\.zip$/,"")}get canActivateTheme(){return this.theme&&!this.theme.active}get uploadUrl(){return`${this.ghostPaths.apiRoot}/themes/upload/`}get hasWarningsOrErrors(){return this.validationWarnings?.length||this.validationErrors?.length}get closeDisabled(){return this.themeManagement.isUploading}constructor(){super(...arguments),D(this,"eventBus",E,this),D(this,"ghostPaths",k,this),D(this,"store",P,this),D(this,"themeManagement",O,this),D(this,"displayOverwriteWarning",j,this),D(this,"file",_,this),D(this,"theme",z,this),D(this,"validationErrors",x,this),D(this,"validationWarnings",T,this),D(this,"fatalValidationErrors",S,this),A(this,"accept",["application/zip","application/x-zip-compressed"]),A(this,"extensions",["zip"]),this.refreshThemesTask.perform()}*refreshThemesTask(){yield this.store.findAll("theme")}validateTheme(e){const t=e.name.replace(/\.zip$/,"").replace(/[^\w@.]/gi,"-").toLowerCase()
this.file=e
const[,i]=/(?:\.([^.]+))?$/.exec(e.name),r=this.extensions
return i&&-1!==r.indexOf(i.toLowerCase())?e.name.match(/^casper\.zip$/i)?{payload:{errors:[{message:"Sorry, the default Casper theme cannot be overwritten.<br>Please rename your zip file and try again."}]}}:!(!this._allowOverwrite&&this.currentThemeNames.includes(t))||(this.displayOverwriteWarning=!0,!1):new n.UnsupportedMediaTypeError}confirmOverwrite(){this._allowOverwrite=!0,this.displayOverwriteWarning=!1,Ember.run.schedule("afterRender",this,(function(){this.eventBus.publish("themeUploader:upload",this.file)}))}uploadSuccess(e){this.store.pushPayload(e)
const t=this.store.peekRecord("theme",e.themes[0].name)
this.theme=t,t.warnings?.length>0&&(this.validationWarnings=t.warnings),t.errors?.length>0&&(this.validationErrors=t.errors)}uploadFailed(e){if((0,n.isThemeValidationError)(e)){const t=e.payload.errors[0].details.errors,n=[],i=[]
t.forEach?.((e=>{e.fatal?n.push(e):i.push(e)})),this.fatalValidationErrors=n,this.validationErrors=i}}activate(){this.themeManagement.activateTask.perform(this.theme),this.args.data.onActivationSuccess?.(),this.args.close()}reset(){this.theme=null,this.validationWarnings=[],this.validationErrors=[],this.fatalValidationErrors=[]}},A(M,"modalOptions",{beforeClose:()=>{if(M.themeManagement.isUploading)return!1}}),E=I((w=C).prototype,"eventBus",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=I(w.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=I(w.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=I(w.prototype,"themeManagement",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=I(w.prototype,"displayOverwriteWarning",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=I(w.prototype,"file",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=I(w.prototype,"theme",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=I(w.prototype,"validationErrors",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=I(w.prototype,"validationWarnings",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=I(w.prototype,"fatalValidationErrors",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I(w.prototype,"refreshThemesTask",[i.task],Object.getOwnPropertyDescriptor(w.prototype,"refreshThemesTask"),w.prototype),I(w.prototype,"validateTheme",[h],Object.getOwnPropertyDescriptor(w.prototype,"validateTheme"),w.prototype),I(w.prototype,"confirmOverwrite",[g],Object.getOwnPropertyDescriptor(w.prototype,"confirmOverwrite"),w.prototype),I(w.prototype,"uploadSuccess",[b],Object.getOwnPropertyDescriptor(w.prototype,"uploadSuccess"),w.prototype),I(w.prototype,"uploadFailed",[f],Object.getOwnPropertyDescriptor(w.prototype,"uploadFailed"),w.prototype),I(w.prototype,"activate",[v],Object.getOwnPropertyDescriptor(w.prototype,"activate"),w.prototype),I(w.prototype,"reset",[y],Object.getOwnPropertyDescriptor(w.prototype,"reset"),w.prototype),w)
e.default=R,Ember._setComponentTemplate(L,R)})),define("ghost-admin/components/modals/design/view-theme",["exports","@glimmer/component","ghost-admin/components/modals/design/install-theme"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m
function h(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"A80lXn65",block:'{"symbols":["@data"],"statements":[[10,"section"],[14,0,"gh-canvas gh-theme-preview flex flex-column h-100"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings.design.change-theme"]],[["default"],[{"statements":[[2,"Themes"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            "],[1,[32,1,["theme","name"]]],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-contentfilter gh-btn-group"],[12],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn gh-design-preview-mode ",[30,[36,1],[[32,0,["isDesktopPreview"]],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,0,["setPreviewSize"]],"desktop"],null]],null],[12],[10,"span"],[12],[1,[30,[36,0],["desktop"],null]],[13],[13],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn gh-design-preview-mode ",[30,[36,1],[[32,0,["isMobilePreview"]],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,0,["setPreviewSize"]],"mobile"],null]],null],[12],[10,"span"],[12],[1,[30,[36,0],["mobile-phone"],null]],[13],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-primary"],[24,4,"button"],[4,[38,3],["click",[32,0,["installTheme"]]],null],[12],[10,"span"],[12],[2,"Use "],[1,[32,1,["theme","name"]]],[13],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[8,"gh-browser-preview",[],[["@isMobilePreview"],[[32,0,["isMobilePreview"]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"iframe"],[15,0,[30,[36,1],[[32,0,["isMobilePreview"]],"gh-post-preview-iframe","site-frame"],null]],[15,"src",[32,1,["theme","previewUrl"]]],[15,"title",[31,[[32,1,["theme","name"]]," theme preview"]]],[12],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","if","fn","on"]}',moduleName:"ghost-admin/components/modals/design/view-theme.hbs"})
let f=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=Ember._action,m=p=class extends t.default{constructor(){super(...arguments),h(this,"modals",u,this),h(this,"router",d,this),h(this,"previewSize",c,this)}get isDesktopPreview(){return"desktop"===this.previewSize}get isMobilePreview(){return"mobile"===this.previewSize}willDestroy(){super.willDestroy(...arguments),this.installModal&&!this.showingSuccessModal&&this.installModal.close()}installTheme(){this.installModal=this.modals.open(n.default,{theme:this.args.data.theme,onSuccess:()=>{this.showingSuccessModal=!0,this.router.transitionTo("settings.design")}})}setPreviewSize(e){this.previewSize=e}},function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(p,"modalOptions",{className:"fullscreen-modal-total-overlay",omitBackdrop:!0}),u=g((l=m).prototype,"modals",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(l.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=g(l.prototype,"previewSize",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"desktop"}}),g(l.prototype,"installTheme",[s],Object.getOwnPropertyDescriptor(l.prototype,"installTheme"),l.prototype),g(l.prototype,"setPreviewSize",[o],Object.getOwnPropertyDescriptor(l.prototype,"setPreviewSize"),l.prototype),l)
e.default=f,Ember._setComponentTemplate(b,f)})),define("ghost-admin/components/modals/editor/confirm-leave",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"/WuRKo5y",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to leave this page?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Hey there! It looks like you\'re in the middle of writing something and\\n            you haven\'t saved all of your content.\\n        "],[13],[2,"\\n\\n        "],[10,"p"],[12],[2,"Save before you go!"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Stay"],[13],[13],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-red"],[24,4,"button"],[4,[38,0],["click",[30,[36,2],[[32,1],true],null]],null],[12],[10,"span"],[12],[2,"Leave"],[13],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar","fn"]}',moduleName:"ghost-admin/components/modals/editor/confirm-leave.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/modals/editor/confirm-publish",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y
function w(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function E(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const k=Ember.HTMLBars.template({id:"oKeMW+lm",block:'{"symbols":["@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n"],[6,[37,6],[[32,0,["errorMessage"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"Ready to go? Here’s what happens next"],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[32,1]],null],[12],[1,[30,[36,0],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n        "],[11,"div"],[24,0,"modal-body"],[4,[38,5],[[32,0,["countRecipientsTask","perform"]]],null],[12],[2,"\\n"],[6,[37,2],[[30,[36,4],[[32,2,["post","displayName"]],"page"],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"p"],[12],[2,"\\n                    Your page will be published "],[1,[30,[36,2],[[32,2,["isScheduled"]],"at the scheduled time","immediately"],null]],[2,". Sound good?\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["isPublishOnly"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"p"],[12],[2,"\\n                    Your post will be published "],[1,[30,[36,2],[[32,2,["isScheduled"]],"at the scheduled time","immediately"],null]],[2,"\\n                    and won\'t be sent as an email. Sound good?\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["countRecipientsTask","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"flex flex-column items-center"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["isEmailOnlyWithNoMembers"]]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"p"],[12],[2,"\\n                            You\'re trying to "],[1,[30,[36,2],[[32,2,["isScheduled"]],"schedule","send"],null]],[2," a post\\n                            as an email newsletter with "],[10,"strong"],[12],[2,"0 members"],[13],[2," selected.\\n                            Choose a segment of your audience and try again!\\n                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[30,[36,4],[[32,0,["memberCount"]],0],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"p"],[12],[2,"\\n                            Your post will be published "],[1,[30,[36,2],[[32,2,["isScheduled"]],"at the scheduled time","immediately"],null]],[2,"\\n                            and won\'t be sent as an email. Sound good?\\n                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"p"],[12],[2,"\\n                            Your post will be delivered to "],[10,"strong"],[12],[1,[32,0,["memberCountString"]]],[13],[2,"\\n"],[6,[37,2],[[32,2,["emailOnly"]]],null,[["default","else"],[{"statements":[[2,"                                but it will "],[10,"strong"],[12],[2,"not"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                and will\\n"]],"parameters":[]}]]],[2,"                            be published on your site"],[6,[37,2],[[32,2,["isScheduled"]]],null,[["default"],[{"statements":[[2," at the scheduled time"]],"parameters":[]}]]],[2,". Sound good?\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,2],[[32,0,["isEmailOnlyWithNoMembers"]]],null,[["default","else"],[{"statements":[[2,"                "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],["click",[32,1]],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],["click",[32,1]],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,2],[[32,2,["isScheduled"]]],null,[["default","else"],[{"statements":[[2,"                    "],[8,"gh-task-button",[],[["@disabled","@buttonText","@runningText","@task","@class"],[[32,0,["countRecipientsTask","isRunning"]],"Schedule","Scheduling...",[32,0,["confirmAndCheckErrorTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[8,"gh-task-button",[],[["@disabled","@buttonText","@runningText","@task","@class"],[[32,0,["countRecipientsTask","isRunning"]],[32,0,["publishAndSendButtonText"]],[30,[36,2],[[32,2,["emailOnly"]],"Sending...","Publishing..."],null],[32,0,["confirmAndCheckErrorTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"Failed to send email"],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[32,1]],null],[12],[1,[30,[36,0],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n            "],[10,"p"],[12],[2,"Your post has been published but the email failed to send. Please verify your email settings if the error persists."],[13],[2,"\\n            "],[10,"p"],[14,0,"mb0"],[12],[2,"\\n                "],[11,"button"],[24,0,"gh-btn gh-btn-text regular"],[24,4,"button"],[4,[38,1],["click",[32,0,["toggleErrorDetails"]]],null],[12],[2,"\\n"],[6,[37,2],[[32,0,["errorDetailsOpen"]]],null,[["default","else"],[{"statements":[[2,"                        "],[1,[30,[36,0],["arrow-down"],[["class"],["nudge-top--2 w2 h2 fill-darkgrey mr1"]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[1,[30,[36,0],["arrow-right"],[["class"],["nudge-top--1 w2 h2 fill-darkgrey mr1"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"span"],[12],[2,"Error details"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["errorDetailsOpen"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,0,"error gh-box gh-box-error mt3 mb3"],[12],[2,"\\n                    "],[1,[30,[36,0],["warning"],null]],[2,"\\n                    "],[1,[32,0,["errorMessage"]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],["click",[32,1]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n            "],[13],[2,"\\n            "],[8,"gh-task-button",[],[["@buttonText","@runningText","@task","@class"],["Retry email","Sending...",[32,0,["retryEmailTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["svg-jar","on","if","liquid-if","eq","did-insert","unless"]}',moduleName:"ghost-admin/components/modals/editor/confirm-publish.hbs"})
let P=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._action,c=Ember._action,p=class extends t.default{get isEmailOnlyWithNoMembers(){return this.isEmailOnly&&0===this.memberCount}get publishAndSendButtonText(){return this.isEmailOnly?"Send":this.isPublishOnly||0===this.memberCount?"Publish":"Publish and Send"}constructor(){super(...arguments),w(this,"membersCountCache",m,this),w(this,"session",h,this),w(this,"store",g,this),w(this,"errorMessage",b,this),w(this,"errorDetailsOpen",f,this),w(this,"memberCount",v,this),w(this,"memberCountString",y,this),this.isPublishOnly="none"===this.args.data.sendEmailWhenPublished||"page"===this.args.data.post.displayName||this.args.data.post.email,this.isEmailOnly=this.args.data.emailOnly}confirm(){return this.errorMessage?this.retryEmailTask.perform():this.countRecipientsTask.isRunning?void 0:this.confirmAndCheckErrorTask.perform()}toggleErrorDetails(){this.errorDetailsOpen=!this.errorDetailsOpen}*countRecipientsTask(){const{sendEmailWhenPublished:e}=this.args.data,t=`subscribed:true+(${e})`
this.memberCount=e?yield this.membersCountCache.count(t):0,this.memberCountString=e?yield this.membersCountCache.countString(t):"0 members"}*confirmAndCheckErrorTask(){try{return yield this.args.data.confirm(),this.args.close(),!0}catch(e){if(e&&"EmailFailedError"===e.name)return this.errorMessage=e.message,!1
if(this.args.close(),e)throw e}}*retryEmailTask(){try{return yield this.args.data.retryEmailSend(),this.args.close(),!0}catch(e){if(e&&"EmailFailedError"===e.name)return void(this.errorMessage=e.message)
if(e)throw e}}},m=E(p.prototype,"membersCountCache",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=E(p.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E(p.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=E(p.prototype,"errorMessage",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=E(p.prototype,"errorDetailsOpen",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=E(p.prototype,"memberCount",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=E(p.prototype,"memberCountString",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E(p.prototype,"confirm",[d],Object.getOwnPropertyDescriptor(p.prototype,"confirm"),p.prototype),E(p.prototype,"toggleErrorDetails",[c],Object.getOwnPropertyDescriptor(p.prototype,"toggleErrorDetails"),p.prototype),E(p.prototype,"countRecipientsTask",[n.task],Object.getOwnPropertyDescriptor(p.prototype,"countRecipientsTask"),p.prototype),E(p.prototype,"confirmAndCheckErrorTask",[n.task],Object.getOwnPropertyDescriptor(p.prototype,"confirmAndCheckErrorTask"),p.prototype),E(p.prototype,"retryEmailTask",[n.task],Object.getOwnPropertyDescriptor(p.prototype,"retryEmailTask"),p.prototype),p)
e.default=P,Ember._setComponentTemplate(k,P)}))
define("ghost-admin/components/modals/email-preview",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y
function w(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const P=Ember.HTMLBars.template({id:"YsKAkS1E",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header gh-pe-header gh-pe-header-border"],[14,5,"display:flex"],[12],[2,"\\n        "],[10,"h2"],[14,0,"f6 fw6"],[12],[1,[32,0,["subject"]]],[13],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-contentfilter gh-btn-group gh-pe-btn-group"],[14,5,"display:flex;flex-grow:1;justify-content:center"],[12],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,2],[[30,[36,1],[[32,0,["tab"]],"desktop"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[32,0,["changeTab"]],"desktop"],null]],null],[12],[10,"span"],[12],[2,"Desktop"],[13],[13],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,2],[[30,[36,1],[[32,0,["tab"]],"mobile"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[32,0,["changeTab"]],"mobile"],null]],null],[12],[10,"span"],[12],[2,"Mobile"],[13],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-pe-close"],[12],[2,"\\n            "],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,4],["click",[32,1]],null],[12],[2,"\\n                "],[1,[30,[36,5],["close"],null]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,2],[[30,[36,1],[[32,0,["tab"]],"mobile"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"modal-body modal-preview-email-content gh-pe-mobile-container"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-pe-mobile-bezel"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-pe-mobile-screen"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-pe-emailclient-sender"],[12],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            "],[10,"span"],[14,0,"strong"],[12],[1,[32,0,["config","blogTitle"]]],[13],[2," <"],[1,[32,0,["settings","membersFromAddress"]]],[2,">\\n                        "],[13],[2,"\\n                        "],[10,"p"],[12],[10,"span"],[14,0,"dark"],[12],[2,"To:"],[13],[2," Jamie Larson <jamie@example.com>"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"iframe"],[24,0,"bn gh-pe-iframe"],[24,"sandbox","allow-same-origin"],[4,[38,0],[[32,0,["renderEmailPreview"]]],null],[12],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[30,[36,1],[[32,0,["tab"]],"desktop"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"modal-body modal-preview-email-content gh-pe-desktop-container"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-pe-emailclient-mockup"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-pe-emailclient-sender"],[12],[2,"\\n                    "],[10,"p"],[12],[2,"\\n                        "],[10,"span"],[14,0,"strong"],[12],[1,[32,0,["config","blogTitle"]]],[13],[2," <"],[1,[32,0,["settings","membersFromAddress"]]],[2,">\\n                    "],[13],[2,"\\n                    "],[10,"p"],[12],[10,"span"],[14,0,"dark"],[12],[2,"To:"],[13],[2," Jamie Larson <jamie@example.com>"],[13],[2,"\\n                "],[13],[2,"\\n                "],[11,"iframe"],[24,0,"gh-pe-iframe"],[24,"sandbox","allow-same-origin"],[4,[38,0],[[32,0,["renderEmailPreview"]]],null],[12],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["did-insert","eq","if","fn","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/email-preview.hbs"})
let O=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._action,d=Ember._action,y=v=class extends t.default{constructor(){super(...arguments),w(this,"ajax",p,this),w(this,"config",m,this),w(this,"ghostPaths",h,this),w(this,"settings",g,this),w(this,"tab",b,this),w(this,"subject",f,this),E(this,"html",null)}changeTab(e){this.tab=e}async renderEmailPreview(e){await this._fetchEmailData(),await(0,n.timeout)(100),e&&(e.contentWindow.document.open(),e.contentWindow.document.write(this.html),e.contentWindow.document.close())}async _fetchEmailData(){let{html:e,subject:t}=this
if(e&&t)return
if(this.args.data.html&&this.args.data.subject)e=this.args.data.html,t=this.args.data.subject
else if(this.args.data.email)e=this.args.data.email.html,t=this.args.data.email.subject
else{let n=this.ghostPaths.url.api("/email_preview/posts",this.args.data.id),i=await this.ajax.request(n),[r]=i.email_previews
e=r.html,t=r.subject}let n=(new DOMParser).parseFromString(e,"text/html"),i=n.querySelector("style"),r=i.innerHTML
i.innerHTML=`${r}\n\n\nhtml::-webkit-scrollbar {\n    display: none;\n    width: 0;\n    background: transparent\n}\nhtml {\n    scrollbar-width: none;\n}\n`
e=(new XMLSerializer).serializeToString(n.doctype)+n.documentElement.outerHTML,this.html=e,this.subject=t}},E(v,"modalOptions",{className:"fullscreen-modal-full-overlay fullscreen-modal-email-preview"}),p=k((c=y).prototype,"ajax",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=k(c.prototype,"config",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(c.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(c.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=k(c.prototype,"tab",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"desktop"}}),f=k(c.prototype,"subject",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k(c.prototype,"changeTab",[u],Object.getOwnPropertyDescriptor(c.prototype,"changeTab"),c.prototype),k(c.prototype,"renderEmailPreview",[d],Object.getOwnPropertyDescriptor(c.prototype,"renderEmailPreview"),c.prototype),c)
e.default=O,Ember._setComponentTemplate(P,O)})),define("ghost-admin/components/modals/limits/custom-integration",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"nv/hZJB1",block:'{"symbols":["@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Upgrade to enable custom integrations"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            "],[1,[30,[36,2],[[32,2,["message"]]],null]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"],[4,[38,0],["click",[32,1]],null]],[["@route"],["pro"]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[12],[2,"Upgrade my plan"],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar","html-safe"]}',moduleName:"ghost-admin/components/modals/limits/custom-integration.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/modals/limits/custom-theme",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"VtM6DacI",block:'{"symbols":["@data","@close"],"statements":[[2,"\\n"],[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Upgrade to enable custom themes"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n"],[6,[37,3],[[32,1,["message"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,0],[[32,1,["message"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                Your current plan only supports official themes. You can install them from the "],[10,"a"],[14,6,"https://ghost.org/marketplace/"],[12],[2,"Ghost theme marketplace"],[13],[2,".\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"],[4,[38,1],["click",[32,2]],null]],[["@route"],["pro"]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[12],[2,"Upgrade"],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["html-safe","on","svg-jar","if"]}',moduleName:"ghost-admin/components/modals/limits/custom-theme.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/modals/members/bulk-add-label",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g
function b(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function f(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"D7j25Kx2",block:'{"symbols":["countFetcher","@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Add Label"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],["click",[32,2]],null],[12],[1,[30,[36,5],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-content-box pa"],[12],[2,"\\n"],[6,[37,2],[[32,0,["error"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                            "],[10,"span"],[14,0,"fw5"],[12],[1,[32,0,["error"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["check-circle"],[["class"],["w4 h4 stroke-green mr2"]]]],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                        Label added to\\n                        "],[10,"span"],[14,0,"fw6"],[12],[1,[30,[36,1],[[32,0,["response","stats","successful"]],"member"],null]],[13],[2,"\\n                        successfully\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,2],[[32,0,["response","stats","unsuccessful"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"flex items-start mt2"],[12],[2,"\\n                        "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                                Failed to add label to "],[10,"span"],[14,0,"fw5"],[12],[2," "],[1,[30,[36,1],[[32,0,["response","stats","unsuccessful"]],"member"],null]],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,2],[[32,3,["query"]]],null,[["default","else"],[{"statements":[[6,[37,4],[[30,[36,3],null,[["query"],[[32,3,["query"]]]]]],null,[["default"],[{"statements":[[6,[37,2],[[32,1,["isLoading"]]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[8,"gh-member-single-label-input",[],[["@onChange","@triggerId"],[[32,0,["setLabel"]],"label-input"]],null],[2,"\\n                        "],[10,"p"],[14,0,"mt2 ml1"],[12],[2,"\\n                            Will be added to the currently selected "],[10,"span"],[14,0,"fw6"],[12],[1,[30,[36,1],[[32,1,["count"]],"member"],null]],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"parameters":[]},{"statements":[[2,"                "],[10,"p"],[12],[2,"No members are selected."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[8,"gh-task-button",[],[["@buttonText","@successText","@disabled","@task","@class"],["Add Label","Added",[32,0,["isDisabled"]],[32,0,["addLabelTask"]],"gh-btn gh-btn-green gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","gh-pluralize","if","members-count-fetcher","let","svg-jar"]}',moduleName:"ghost-admin/components/modals/members/bulk-add-label.hbs"})
let y=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._action,u=(0,n.task)({drop:!0}),d=class extends t.default{constructor(){super(...arguments),b(this,"ajax",c,this),b(this,"ghostPaths",p,this),b(this,"error",m,this),b(this,"response",h,this),b(this,"selectedLabel",g,this)}get isDisabled(){return!this.args.data.query||!this.selectedLabel}get hasRun(){return!(!this.error&&!this.response)}setLabel(e){this.selectedLabel=e}*addLabelTask(){try{const e=new URLSearchParams(this.args.data.query),t=`${this.ghostPaths.url.api("members/bulk")}?${e}`,n=yield this.ajax.put(t,{data:{bulk:{action:"addLabel",meta:{label:{id:this.selectedLabel}}}}})
return this.args.data.onComplete?.(),this.response=n?.bulk?.meta,!0}catch(e){throw e.payload?.errors?this.error=e.payload.errors[0].message:this.error="An unknown error occurred. Please try again.",e}}},c=f(d.prototype,"ajax",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(d.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(d.prototype,"error",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f(d.prototype,"response",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=f(d.prototype,"selectedLabel",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(d.prototype,"setLabel",[l],Object.getOwnPropertyDescriptor(d.prototype,"setLabel"),d.prototype),f(d.prototype,"addLabelTask",[u],Object.getOwnPropertyDescriptor(d.prototype,"addLabelTask"),d.prototype),d)
e.default=y,Ember._setComponentTemplate(v,y)})),define("ghost-admin/components/modals/members/bulk-delete",["exports","@glimmer/component","ghost-admin/config/environment","fetch","moment","ember-concurrency"],(function(e,t,n,i,r,a){var s,o,l,u,d,c,p,m,h,g,b
function f(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function v(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"nQ7csxPm",block:'{"symbols":["countFetcher","@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Delete selected members?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[1,[30,[36,5],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-content-box pa"],[12],[2,"\\n"],[6,[37,2],[[32,0,["error"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                            "],[10,"span"],[14,0,"fw5"],[12],[1,[32,0,["error"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["check-circle"],[["class"],["w4 h4 stroke-green mr2"]]]],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                        "],[10,"span"],[14,0,"fw6"],[12],[1,[30,[36,1],[[32,0,["response","stats","successful"]],"member"],null]],[13],[2,"\\n                        successfully deleted\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,2],[[32,0,["response","stats","unsuccessful"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"flex items-start mt2"],[12],[2,"\\n                        "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                                "],[10,"span"],[14,0,"fw5"],[12],[1,[30,[36,1],[[32,0,["response","stats","unsuccessful"]],"member"],null]],[13],[2,"\\n                                failed to delete\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,2],[[32,3,["query"]]],null,[["default","else"],[{"statements":[[6,[37,4],[[30,[36,3],null,[["query"],[[32,3,["query"]]]]]],null,[["default"],[{"statements":[[6,[37,2],[[32,1,["isLoading"]]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"p"],[12],[2,"\\n                            You\'re about to delete\\n                            "],[10,"strong"],[12],[1,[30,[36,1],[[32,1,["count"]],"member"],null]],[13],[2,".\\n                            This is permanent! All Ghost data will be deleted, this will have no effect on subscriptions in Stripe.\\n                        "],[13],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            A backup of your selection will be automatically downloaded to your device before deletion.\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"parameters":[]},{"statements":[[2,"                "],[10,"p"],[12],[2,"No members are selected."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Download backup & delete members","Deleted",[32,0,["bulkDeleteTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","gh-pluralize","if","members-count-fetcher","let","svg-jar"]}',moduleName:"ghost-admin/components/modals/members/bulk-delete.hbs"})
let w=(s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,d=Ember._action,c=(0,a.task)({drop:!0}),p=class extends t.default{constructor(){super(...arguments),f(this,"ajax",m,this),f(this,"ghostPaths",h,this),f(this,"error",g,this),f(this,"response",b,this)}get isDisabled(){return!this.args.data.query}get hasRun(){return!(!this.error&&!this.response)}setLabel(e){this.selectedLabel=e}*bulkDeleteTask(){try{const e=new URLSearchParams(this.args.data.query),t=new URLSearchParams(this.args.data.query)
t.set("limit","all")
const a=`${this.ghostPaths.url.api("members/upload")}?${t.toString()}`
yield(0,i.default)(a,{method:"GET"}).then((e=>e.blob())).then((e=>{const t=window.URL.createObjectURL(e),i=document.createElement("a")
i.href=t,i.download=`members.${(0,r.default)().format("YYYY-MM-DD")}.csv`,document.body.appendChild(i),"test"!==n.default.environment&&i.click(),i.remove(),URL.revokeObjectURL(t)}))
const s=`${this.ghostPaths.url.api("members")}?${e}`,o=yield this.ajax.del(s)
return this.response=o.meta,this.args.data.onComplete?.(),!0}catch(e){throw e.payload?.errors?this.error=e.payload.errors[0].message:this.error="An unknown error occurred. Please try again.",e}}},m=v(p.prototype,"ajax",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(p.prototype,"ghostPaths",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(p.prototype,"error",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(p.prototype,"response",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(p.prototype,"setLabel",[d],Object.getOwnPropertyDescriptor(p.prototype,"setLabel"),p.prototype),v(p.prototype,"bulkDeleteTask",[c],Object.getOwnPropertyDescriptor(p.prototype,"bulkDeleteTask"),p.prototype),p)
e.default=w,Ember._setComponentTemplate(y,w)})),define("ghost-admin/components/modals/members/bulk-remove-label",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g
function b(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function f(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"OVX1xO4j",block:'{"symbols":["countFetcher","@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Remove Label"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],["click",[32,2]],null],[12],[1,[30,[36,5],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-content-box pa"],[12],[2,"\\n"],[6,[37,2],[[32,0,["error"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                            "],[10,"span"],[14,0,"fw5"],[12],[1,[32,0,["error"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["check-circle"],[["class"],["w4 h4 stroke-green mr2"]]]],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                        Label removed from\\n                        "],[10,"span"],[14,0,"fw6"],[12],[1,[30,[36,1],[[32,0,["response","stats","successful"]],"member"],null]],[13],[2,"\\n                        successfully\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,2],[[32,0,["response","stats","unsuccessful"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"flex items-start mt2"],[12],[2,"\\n                        "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                                Failed to remove label from  "],[10,"span"],[14,0,"fw5"],[12],[1,[30,[36,1],[[32,0,["response","stats","unsuccessful"]],"member"],null]],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,2],[[32,3,["query"]]],null,[["default","else"],[{"statements":[[6,[37,4],[[30,[36,3],null,[["query"],[[32,3,["query"]]]]]],null,[["default"],[{"statements":[[6,[37,2],[[32,1,["isLoading"]]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[8,"gh-member-single-label-input",[],[["@onChange","@triggerId"],[[32,0,["setLabel"]],"label-input"]],null],[2,"\\n                        "],[10,"p"],[14,0,"mt2 ml1"],[12],[2,"\\n                            Will be removed from the currently selected "],[10,"span"],[14,0,"fw6"],[12],[1,[30,[36,1],[[32,1,["count"]],"member"],null]],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"parameters":[]},{"statements":[[2,"                "],[10,"p"],[12],[2,"No members are selected."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[8,"gh-task-button",[],[["@disabled","@buttonText","@successText","@task","@class"],[[32,0,["isDisabled"]],"Remove Label","Removed",[32,0,["removeLabelTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","gh-pluralize","if","members-count-fetcher","let","svg-jar"]}',moduleName:"ghost-admin/components/modals/members/bulk-remove-label.hbs"})
let y=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._action,u=(0,n.task)({drop:!0}),d=class extends t.default{constructor(){super(...arguments),b(this,"ajax",c,this),b(this,"ghostPaths",p,this),b(this,"error",m,this),b(this,"response",h,this),b(this,"selectedLabel",g,this)}get isDisabled(){return!this.args.data.query||!this.selectedLabel}get hasRun(){return!(!this.error&&!this.response)}setLabel(e){this.selectedLabel=e}*removeLabelTask(){try{const e=new URLSearchParams(this.args.data.query),t=`${this.ghostPaths.url.api("members/bulk")}?${e}`,n=yield this.ajax.put(t,{data:{bulk:{action:"removeLabel",meta:{label:{id:this.selectedLabel}}}}})
return this.args.data.onComplete?.(),this.response=n?.bulk?.meta,!0}catch(e){throw e.payload?.errors?this.error=e.payload.errors[0].message:this.error="An unknown error occurred. Please try again.",e}}},c=f(d.prototype,"ajax",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(d.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(d.prototype,"error",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f(d.prototype,"response",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=f(d.prototype,"selectedLabel",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(d.prototype,"setLabel",[l],Object.getOwnPropertyDescriptor(d.prototype,"setLabel"),d.prototype),f(d.prototype,"removeLabelTask",[u],Object.getOwnPropertyDescriptor(d.prototype,"removeLabelTask"),d.prototype),d)
e.default=y,Ember._setComponentTemplate(v,y)})),define("ghost-admin/components/modals/members/bulk-unsubscribe",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m
function h(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"o1zCxiGx",block:'{"symbols":["countFetcher","@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Unsubscribe members from email?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],["click",[32,2]],null],[12],[1,[30,[36,5],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-content-box pa"],[12],[2,"\\n"],[6,[37,2],[[32,0,["error"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                            "],[10,"span"],[14,0,"fw5"],[12],[1,[32,0,["error"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["check-circle"],[["class"],["w4 h4 stroke-green mr2"]]]],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                        "],[10,"span"],[14,0,"fw6"],[12],[1,[30,[36,1],[[32,0,["response","stats","successful"]],"member"],null]],[13],[2,"\\n                        successfully unsubscribed\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,2],[[32,0,["response","stats","unsuccessful"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"flex items-start mt2"],[12],[2,"\\n                        "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                                "],[10,"span"],[14,0,"fw5"],[12],[1,[30,[36,1],[[32,0,["response","stats","unsuccessful"]],"member"],null]],[13],[2,"\\n                                failed to unsubscribe\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,2],[[32,3,["query"]]],null,[["default","else"],[{"statements":[[6,[37,4],[[30,[36,3],null,[["query"],[[32,3,["query"]]]]]],null,[["default"],[{"statements":[[6,[37,2],[[32,1,["isLoading"]]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"p"],[12],[2,"\\n                            You\'re about to unsubscribe\\n                            "],[10,"strong"],[12],[1,[30,[36,1],[[32,1,["count"]],"member"],null]],[13],[2," from email newsletters.\\n                            Are you sure?\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"parameters":[]},{"statements":[[2,"                "],[10,"p"],[12],[2,"No members are selected."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[8,"gh-task-button",[],[["@disabled","@buttonText","@successText","@task","@class"],[[32,0,["isDisabled"]],"Unsubscribe members","Unsubscribed",[32,0,["bulkUnsubscribeTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[13]],"hasEval":false,"upvars":["on","gh-pluralize","if","members-count-fetcher","let","svg-jar"]}',moduleName:"ghost-admin/components/modals/members/bulk-unsubscribe.hbs"})
let f=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=(0,n.task)({drop:!0}),u=class extends t.default{constructor(){super(...arguments),h(this,"ajax",d,this),h(this,"ghostPaths",c,this),h(this,"error",p,this),h(this,"response",m,this)}get isDisabled(){return!this.args.data.query}get hasRun(){return!(!this.error&&!this.response)}setLabel(e){this.selectedLabel=e}*bulkUnsubscribeTask(){try{const e=new URLSearchParams(this.args.data.query),t=`${this.ghostPaths.url.api("members/bulk")}?${e}`,n=yield this.ajax.put(t,{data:{bulk:{action:"unsubscribe",meta:{}}}})
return this.args.data.onComplete?.(),this.response=n?.bulk?.meta,!0}catch(e){throw e.payload?.errors?this.error=e.payload.errors[0].message:this.error="An unknown error occurred. Please try again.",e}}},d=g(u.prototype,"ajax",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=g(u.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"error",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(u.prototype,"response",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(u.prototype,"setLabel",[o],Object.getOwnPropertyDescriptor(u.prototype,"setLabel"),u.prototype),g(u.prototype,"bulkUnsubscribeTask",[l],Object.getOwnPropertyDescriptor(u.prototype,"bulkUnsubscribeTask"),u.prototype),u)
e.default=f,Ember._setComponentTemplate(b,f)})),define("ghost-admin/components/modals/new-custom-integration",["exports","@glimmer/component","ghost-admin/services/ajax","ember-ajax/errors","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p,m
function h(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"+AlorfMb",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"New custom integration"],[13],[2,"\\n    "],[13],[2,"\\n"],[2,"    "],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[2,"\\n        "],[1,[30,[36,1],["close"],null]],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"fieldset"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["integration","errors"]],[32,0,["integration","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","new-integration-name"],[14,0,"fw6"],[12],[2,"Name"],[13],[2,"\\n                "],[11,"input"],[16,2,[32,0,["integration","name"]]],[24,1,"new-integration-name"],[24,0,"gh-input mt1"],[24,3,"integration-name"],[24,"autofocus","autofocus"],[24,"autocapitalize","off"],[24,"autocorrect","off"],[24,4,"text"],[4,[38,0],["input",[32,0,["updateName"]]],null],[4,[38,3],["Enter",[30,[36,2],[[32,0,["createIntegrationTask"]]],null]],null],[4,[38,4],null,null],[12],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["integration","errors"]],"name"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n\\n"],[6,[37,5],[[32,0,["errorMessage"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"error"],[12],[10,"strong"],[14,0,"response"],[12],[1,[32,0,["errorMessage"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Create","Created",[32,0,["createIntegrationTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar","perform","on-key","autofocus","if"]}',moduleName:"ghost-admin/components/modals/new-custom-integration.hbs"})
let f=(a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._action,u=(0,r.task)({drop:!0}),d=class extends t.default{constructor(){super(...arguments),h(this,"router",c,this),h(this,"store",p,this),h(this,"errorMessage",m,this),this.integration=this.store.createRecord("integration")}willDestroy(){super.willDestroy(...arguments),this.integration.rollbackAttributes()}updateName(e){this.integration.set("name",e.target.value),this.integration.set("hasValidated",Ember.A()),this.integration.errors.clear()}*createIntegrationTask(){try{const e=yield this.integration.save()
return this.router.transitionTo("settings.integration",e),!0}catch(e){if(e&&(0,i.isInvalidError)(e)){let[t]=e.payload.errors,{message:n}=t
if(n&&n.match(/name/i))return this.integration.errors.add("name",n),void this.integration.hasValidated.pushObject("name")}if((0,n.isHostLimitError)(e))return void(this.errorMessage=e.payload.errors[0].context)
if(e)throw e}}},c=g(d.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(d.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(d.prototype,"errorMessage",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(d.prototype,"updateName",[l],Object.getOwnPropertyDescriptor(d.prototype,"updateName"),d.prototype),g(d.prototype,"createIntegrationTask",[u],Object.getOwnPropertyDescriptor(d.prototype,"createIntegrationTask"),d.prototype),d)
e.default=f,Ember._setComponentTemplate(b,f)})),define("ghost-admin/components/modals/offers/archive",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"Yhh9A1Tt",block:'{"symbols":["@close","@data"],"statements":[[2,"\\n"],[11,"div"],[24,0,"modal-content"],[4,[38,1],["Enter",[30,[36,0],[[32,0,["archiveOfferTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Archive offer"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            New members will no longer be able to subscribe using this offer. All members that previously redeemed "],[10,"strong"],[12],[1,[32,2,["offer","name"]]],[13],[2," will remain unchanged.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Archive","Archived",[32,0,["archiveOfferTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["perform","on-key","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/offers/archive.hbs"})
let p=(i=Ember.inject.service,r=Ember.inject.service,a=(0,n.task)({drop:!0}),s=class extends t.default{constructor(){super(...arguments),u(this,"notifications",o,this),u(this,"router",l,this)}get isActive(){const{offer:e}=this.args.data
return"active"===e.status}*archiveOfferTask(){const{offer:e}=this.args.data
e.status="archived"
try{return yield e.save(),this.router.transitionTo("offers",{queryParams:{type:"archived"}}),e}catch(t){t&&this.notifications.showAPIError(t,{key:"offer.save.failed"})}finally{this.args.close()}}},o=d(s.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"archiveOfferTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"archiveOfferTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(c,p)})),define("ghost-admin/components/modals/offers/link",["exports","@glimmer/component","ghost-admin/config/environment","ghost-admin/utils/copy-text-to-clipboard","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l
function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"SYbV/y53",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Offer link"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            You can share this link anywhere. In your newsletter, social media, a podcast, or in-person. It all just works.\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-input-group"],[12],[2,"\\n            "],[8,"gh-text-input",[],[["@name","@value","@id","@disabled","@class"],["url",[32,0,["offerUrl"]],"url","disabled","gh-input"]],null],[2,"\\n\\n            "],[8,"gh-task-button",[],[["@buttonText","@task","@successText","@class"],["Copy link",[32,0,["copyOfferUrl"]],"Link copied","gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","svg-jar"]}',moduleName:"ghost-admin/components/modals/offers/link.hbs"})
let c=(a=Ember.inject.service,s=(0,r.task)({drop:!0}),o=class extends t.default{constructor(){var e,t,i,r
super(...arguments),e=this,t="config",r=this,(i=l)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0}),void 0===this.isTesting&&(this.isTesting="test"===n.default.environment)}get offerUrl(){const e=this.args.data.offer?.code||""
if(e){return`${this.config.get("blogUrl")}/${e}`}return""}*copyOfferUrl(){return(0,i.default)(this.offerUrl),yield(0,r.timeout)(this.isTesting?50:500),!0}},l=u(o.prototype,"config",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(o.prototype,"copyOfferUrl",[s],Object.getOwnPropertyDescriptor(o.prototype,"copyOfferUrl"),o.prototype),o)
e.default=c,Ember._setComponentTemplate(d,c)})),define("ghost-admin/components/modals/offers/unarchive",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"8aLZK5Yl",block:'{"symbols":["@close","@data"],"statements":[[2,"\\n"],[11,"div"],[24,0,"modal-content"],[4,[38,1],["Enter",[30,[36,0],[[32,0,["unarchiveOfferTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Reactivate offer"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Reactivating "],[10,"strong"],[12],[1,[32,2,["offer","name"]]],[13],[2," will allow new members to subscribe to this tier. Existing members will remain unchanged.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@task","@class"],["Reactivate",[32,0,["unarchiveOfferTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["perform","on-key","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/offers/unarchive.hbs"})
let p=(i=Ember.inject.service,r=Ember.inject.service,a=(0,n.task)({drop:!0}),s=class extends t.default{constructor(){super(...arguments),u(this,"notifications",o,this),u(this,"router",l,this)}get isActive(){const{offer:e}=this.args.data
return"active"===e.status}*unarchiveOfferTask(){const{offer:e}=this.args.data
e.status="active"
try{return yield e.save(),this.router.transitionTo("offers",{queryParams:{type:"active"}}),e}catch(t){t&&this.notifications.showAPIError(t,{key:"offer.save.failed"})}finally{this.args.close()}}},o=d(s.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"unarchiveOfferTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"unarchiveOfferTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(c,p)})),define("ghost-admin/components/modals/post-preview",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p
function m(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"LnhLnFOV",block:'{"symbols":["@data","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"div"],[14,0,"flex flex-column h-100"],[12],[2,"\\n        "],[10,"header"],[14,0,"modal-header gh-post-preview-header gh-post-preview-header-border"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[11,"button"],[24,0,"gh-editor-back-button"],[24,"title","Close"],[24,4,"button"],[4,[38,4],["click",[32,2]],null],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,5],["arrow-left"],null]],[2," Back"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-post-preview-btn-group"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-contentfilter gh-btn-group"],[12],[2,"\\n                    "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,1],[[30,[36,0],[[32,0,["tab"]],"browser"],null],"gh-btn-group-selected"],null]," gh-post-preview-mode"]]],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[32,0,["changeTab"]],"browser"],null]],null],[12],[10,"span"],[12],[1,[30,[36,5],["desktop"],null]],[13],[13],[2,"\\n                    "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,1],[[30,[36,0],[[32,0,["tab"]],"mobile"],null],"gh-btn-group-selected"],null]," gh-post-preview-mode"]]],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[32,0,["changeTab"]],"mobile"],null]],null],[12],[10,"span"],[12],[1,[30,[36,5],["mobile-phone"],null]],[13],[13],[2,"\\n"],[6,[37,1],[[30,[36,2],[[30,[36,6],[[32,0,["settings","membersSignupAccess"]],"none"],null],[30,[36,6],[[32,0,["settings","editorDefaultEmailRecipients"]],"disabled"],null]],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,1,["post","isPost"]]],null,[["default"],[{"statements":[[2,"                            "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,1],[[30,[36,0],[[32,0,["tab"]],"email"],null],"gh-btn-group-selected"],null]," gh-post-preview-mode"]]],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[32,0,["changeTab"]],"email"],null]],null],[12],[10,"span"],[12],[1,[30,[36,5],["email-unread"],null]],[13],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,1],[[30,[36,0],[[32,0,["tab"]],"social"],null],"gh-btn-group-selected"],null]," gh-post-preview-mode"]]],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[32,0,["changeTab"]],"social"],null]],null],[12],[10,"span"],[12],[1,[30,[36,5],["twitter"],null]],[13],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,7],[[32,0,["session","user","isContributor"]]],null,[["default"],[{"statements":[[2,"                "],[8,"gh-publishmenu",[],[["@post","@postStatus","@saveTask","@setSaveType","@memberCount","@uiContext"],[[32,1,["post"]],[32,1,["post","status"]],[32,1,["saveTask"]],[32,1,["setEditorSaveType"]],[32,1,["memberCount"]],"preview"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["saveFirstTask","isRunning"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,0],[[32,0,["tab"]],"browser"],null]],null,[["default"],[{"statements":[[2,"                "],[8,"modals/post-preview/browser",[],[["@post"],[[32,1,["post"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[30,[36,0],[[32,0,["tab"]],"mobile"],null]],null]],null,[["default"],[{"statements":[[2,"                "],[8,"modals/post-preview/mobile",[],[["@post"],[[32,1,["post"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[30,[36,0],[[32,0,["tab"]],"email"],null],[32,1,["post","isPost"]]],null]],null,[["default"],[{"statements":[[2,"                "],[8,"modals/post-preview/email",[],[["@post"],[[32,1,["post"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,0],[[32,0,["tab"]],"social"],null]],null,[["default"],[{"statements":[[2,"                "],[8,"modals/post-preview/social",[],[["@post"],[[32,1,["post"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["eq","if","and","fn","on","svg-jar","not-eq","unless"]}',moduleName:"ghost-admin/components/modals/post-preview.hbs"})
let b=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._action,p=c=class extends t.default{constructor(){super(...arguments),m(this,"settings",l,this),m(this,"session",u,this),m(this,"tab",d,this),this.saveFirstTask.perform()}changeTab(e){this.tab=e}*saveFirstTask(){const{saveTask:e,post:t,hasDirtyAttributes:n}=this.args.data
if(e.isRunning)return yield e.last
t.isDraft&&n&&(yield e.perform())}},function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(c,"modalOptions",{className:"fullscreen-modal-full-overlay fullscreen-modal-email-preview",focusTrapOptions:null}),l=h((o=p).prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=h(o.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(o.prototype,"tab",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"browser"}}),h(o.prototype,"changeTab",[s],Object.getOwnPropertyDescriptor(o.prototype,"changeTab"),o.prototype),h(o.prototype,"saveFirstTask",[n.task],Object.getOwnPropertyDescriptor(o.prototype,"saveFirstTask"),o.prototype),o)
e.default=b,Ember._setComponentTemplate(g,b)})),define("ghost-admin/components/modals/post-preview/browser",["exports","@glimmer/component","ghost-admin/utils/copy-text-to-clipboard","ember-concurrency"],(function(e,t,n,i){var r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"oyvl1kQL",block:'{"symbols":["@post"],"statements":[[10,"div"],[14,0,"gh-post-preview-browser-container"],[12],[2,"\\n    "],[10,"iframe"],[14,0,"gh-pe-iframe"],[15,"src",[32,1,["previewUrl"]]],[12],[13],[2,"\\n"],[13],[2,"\\n"],[10,"div"],[14,0,"gh-post-preview-browser-footer"],[12],[2,"\\n    "],[10,"span"],[14,0,"mr3 nowrap fw6 f8 darkgrey"],[12],[2,"Share preview privately"],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-post-preview-url-container truncate"],[12],[2,"\\n        "],[10,"span"],[14,0,"db truncate w-90"],[12],[1,[32,1,["previewUrl"]]],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"gh-btn gh-btn-green gh-btn-icon gh-post-preview-copy-url-trigger"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["copyPreviewUrl"]]],null]],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"\\n"],[6,[37,2],[[32,0,["copyPreviewUrl","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                Copied!\\n"]],"parameters":[]},{"statements":[[2,"                copy\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[12],[2,"\\n        "],[10,"a"],[15,6,[32,1,["previewUrl"]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-editor gh-btn-icon gh-btn-icon-right gh-btn-external"],[12],[2,"\\n            "],[10,"span"],[12],[2,"Open in new tab "],[1,[30,[36,3],["external"],null]],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","on","if","svg-jar"]}',moduleName:"ghost-admin/components/modals/post-preview/browser.hbs"})
let s=(r=class extends t.default{*copyPreviewUrl(){(0,n.default)(this.args.post.previewUrl),yield(0,i.timeout)(this.isTesting?50:3e3)}},o=r.prototype,l="copyPreviewUrl",u=[i.task],d=Object.getOwnPropertyDescriptor(r.prototype,"copyPreviewUrl"),c=r.prototype,p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r)
var o,l,u,d,c,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/modals/post-preview/email",["exports","@glimmer/component","validator","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T
function S(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function M(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const C=Ember.HTMLBars.template({id:"yykRvEdt",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-post-preview-email-container"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-post-preview-email-mockup"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-pe-emailclient-sender"],[12],[2,"\\n            "],[10,"p"],[12],[2,"\\n                "],[10,"span"],[14,0,"strong"],[12],[1,[32,0,["config","blogTitle"]]],[13],[2," <"],[1,[30,[36,0],[[32,0,["settings","membersFromAddress"]]],null]],[2,">\\n            "],[13],[2,"\\n            "],[10,"p"],[12],[10,"span"],[14,0,"dark"],[12],[2,"To:"],[13],[2," Jamie Larson <jamie@example.com>"],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"iframe"],[24,0,"gh-pe-iframe"],[24,"sandbox","allow-same-origin allow-popups allow-popups-to-escape-sandbox"],[4,[38,1],[[32,0,["renderEmailPreview"]]],null],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"div"],[14,0,"gh-post-preview-email-footer"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-btn-group mr3"],[12],[2,"\\n        "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,3],[[30,[36,2],[[32,0,["memberSegment"]],"status:free"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,5],["click",[30,[36,4],[[32,0,["changeMemberSegment"]],"status:free"],null]],null],[12],[10,"span"],[12],[2,"Free member"],[13],[13],[2,"\\n        "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,3],[[30,[36,2],[[32,0,["memberSegment"]],"status:-free"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,5],["click",[30,[36,4],[[32,0,["changeMemberSegment"]],"status:-free"],null]],null],[12],[10,"span"],[12],[2,"Paid member"],[13],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[15,0,[31,["gh-post-preview-email-input ",[30,[36,3],[[32,0,["sendPreviewEmailError"]],"error"],null]]]],[12],[2,"\\n        "],[8,"input",[[24,0,"gh-input gh-post-preview-email-input"],[24,"placeholder","you@yoursite.com"],[16,"aria-invalid",[30,[36,3],[[32,0,["sendPreviewEmailError"]],"true"],null]],[16,"aria-describedby",[30,[36,3],[[32,0,["sendPreviewEmailError"]],"sendError"],null]],[4,[38,7],["Enter",[30,[36,6],[[32,0,["sendPreviewEmailTask"]]],null]],null]],[["@value"],[[32,0,["previewEmailAddress"]]]],null],[2,"\\n"],[6,[37,3],[[32,0,["sendPreviewEmailError"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"error fixed nowrap f8 lh-heading"],[12],[10,"span"],[14,0,"response"],[14,1,"sendError"],[12],[1,[32,0,["sendPreviewEmailError"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[8,"gh-task-button",[],[["@task","@buttonText","@successText","@runningText","@class"],[[32,0,["sendPreviewEmailTask"]],"Send test email","Sent","Sending...","gh-btn gh-btn-green gh-btn-icon gh-post-preview-email-trigger"]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["full-email-address","did-insert","eq","if","fn","on","perform","on-key"]}',moduleName:"ghost-admin/components/modals/post-preview/email.hbs"})
let D=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember._tracked,c=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,g=Ember._action,b=Ember._action,f=(0,i.task)({drop:!0}),v=class extends t.default{constructor(){super(...arguments),S(this,"ajax",y,this),S(this,"config",w,this),S(this,"feature",E,this),S(this,"ghostPaths",k,this),S(this,"session",P,this),S(this,"settings",O,this),S(this,"html",j,this),S(this,"subject",_,this),S(this,"memberSegment",z,this),S(this,"previewEmailAddress",x,this),S(this,"sendPreviewEmailError",T,this)}get mailgunIsEnabled(){return this.config.get("mailgunIsConfigured")||!!(this.settings.get("mailgunApiKey")&&this.settings.get("mailgunDomain")&&this.settings.get("mailgunBaseUrl"))}async renderEmailPreview(e){this._previewIframe=e,await this._fetchEmailData(),await(0,i.timeout)(100),e&&(e.contentWindow.document.open(),e.contentWindow.document.write(this.html),e.contentWindow.document.close())}changeMemberSegment(e){this.memberSegment=e,this._previewIframe&&this.renderEmailPreview(this._previewIframe)}*sendPreviewEmailTask(){try{const e=this.args.post.id,t=this.previewEmailAddress.trim()
if(!n.default.isEmail(t))return this.sendPreviewEmailError="Please enter a valid email",!1
if(!this.mailgunIsEnabled)return this.sendPreviewEmailError="Please verify your email settings",!1
this.sendPreviewEmailError=""
const i=this.ghostPaths.url.api("/email_preview/posts",e),r={data:{emails:[t],memberSegment:this.memberSegment},dataType:"json"}
return yield this.ajax.post(i,r)}catch(e){if(e){let t="Email could not be sent, verify mail settings"
throw e.payload&&e.payload.errors&&e.payload.errors[0]&&e.payload.errors[0].message&&(t=Ember.String.htmlSafe(e.payload.errors[0].message)),this.sendPreviewEmailError=t,e}}}async _fetchEmailData(){let{html:e,subject:t,memberSegment:n}=this,{post:i}=this.args
if(e&&t&&n===this._lastMemberSegment)return{html:e,subject:t}
if(this._lastMemberSegment=n,i.html&&i.subject)e=i.html,t=i.subject
else if(i.email)e=i.email.html,t=i.email.subject
else{let n=new URL(this.ghostPaths.url.api("/email_preview/posts",i.id),window.location.href)
n.searchParams.set("memberSegment",this.memberSegment)
let r=await this.ajax.request(n.href),[a]=r.email_previews
e=a.html,t=a.subject}let r=(new DOMParser).parseFromString(e,"text/html"),a=r.querySelector("style"),s=a.innerHTML
a.innerHTML=`${s}\n\n\nhtml::-webkit-scrollbar {\n    display: none;\n    width: 0;\n    background: transparent\n}\nhtml {\n    scrollbar-width: none;\n}\n`
e=(new XMLSerializer).serializeToString(r.doctype)+r.documentElement.outerHTML,this.html=e,this.subject=t}},y=M(v.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=M(v.prototype,"config",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M(v.prototype,"feature",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=M(v.prototype,"ghostPaths",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=M(v.prototype,"session",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=M(v.prototype,"settings",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=M(v.prototype,"html",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=M(v.prototype,"subject",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=M(v.prototype,"memberSegment",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"status:free"}}),x=M(v.prototype,"previewEmailAddress",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.session.user.email}}),T=M(v.prototype,"sendPreviewEmailError",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M(v.prototype,"renderEmailPreview",[g],Object.getOwnPropertyDescriptor(v.prototype,"renderEmailPreview"),v.prototype),M(v.prototype,"changeMemberSegment",[b],Object.getOwnPropertyDescriptor(v.prototype,"changeMemberSegment"),v.prototype),M(v.prototype,"sendPreviewEmailTask",[f],Object.getOwnPropertyDescriptor(v.prototype,"sendPreviewEmailTask"),v.prototype),v)
e.default=D,Ember._setComponentTemplate(C,D)})),define("ghost-admin/components/modals/post-preview/mobile",["exports","@glimmer/component","ghost-admin/utils/copy-text-to-clipboard","ember-concurrency"],(function(e,t,n,i){var r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"EEJ5CDUp",block:'{"symbols":["@post"],"statements":[[10,"div"],[14,0,"modal-body modal-preview-email-content gh-pe-mobile-container h-auto overflow-auto"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-pe-mobile-bezel"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-pe-mobile-screen"],[12],[2,"\\n            "],[10,"iframe"],[14,0,"gh-post-preview-iframe"],[15,"src",[32,1,["previewUrl"]]],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"div"],[14,0,"gh-post-preview-browser-footer"],[12],[2,"\\n    "],[10,"span"],[14,0,"mr3 nowrap fw6 f8 darkgrey"],[12],[2,"Share preview privately"],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-post-preview-url-container truncate"],[12],[2,"\\n        "],[10,"span"],[14,0,"db truncate w-90"],[12],[1,[32,1,["previewUrl"]]],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"gh-btn gh-btn-green gh-btn-icon gh-post-preview-copy-url-trigger"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["copyPreviewUrl"]]],null]],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"\\n"],[6,[37,2],[[32,0,["copyPreviewUrl","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                Copied!\\n"]],"parameters":[]},{"statements":[[2,"                copy\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[12],[2,"\\n        "],[10,"a"],[15,6,[32,1,["previewUrl"]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-editor gh-btn-icon gh-btn-icon-right gh-btn-external"],[12],[2,"\\n            "],[10,"span"],[12],[2,"Open in new tab "],[1,[30,[36,3],["external"],null]],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","on","if","svg-jar"]}',moduleName:"ghost-admin/components/modals/post-preview/mobile.hbs"})
let s=(r=class extends t.default{*copyPreviewUrl(){(0,n.default)(this.args.post.previewUrl),yield(0,i.timeout)(this.isTesting?50:3e3)}},o=r.prototype,l="copyPreviewUrl",u=[i.task],d=Object.getOwnPropertyDescriptor(r.prototype,"copyPreviewUrl"),c=r.prototype,p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r)
var o,l,u,d,c,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/modals/post-preview/social",["exports","@glimmer/component","ghost-admin/components/gh-image-uploader"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L,R,U,N,F
function B(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const q=Ember.HTMLBars.template({id:"VqvIlQ9m",block:'{"symbols":["uploader","error","uploader","error","@post"],"statements":[[2,"\\n"],[10,"div"],[14,0,"gh-post-preview-social-container"],[12],[2,"\\n    "],[10,"p"],[14,0,"mb4"],[12],[2,"This is how your content will look when shared, you can click on any elements you’d like to edit."],[13],[2,"\\n    "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n        "],[10,"div"],[14,0,"flex gh-social-container-responsive"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-social-og-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"flex ma3 mb2"],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,7],["social-facebook"],[["class"],["social-icon"]]]],[13],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-social-og-title"],[12],[1,[30,[36,10],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-social-og-time"],[12],[2,"12 hrs"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"flex flex-column ma3 mt2"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-social-og-desc w-60"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[11,"div"],[24,0,"gh-social-og-preview"],[4,[38,0],["mouseenter",[30,[36,13],[[32,0],[30,[36,12],[[32,0,["facebookHovered"]]],null],true],null]],null],[4,[38,0],["mouseleave",[30,[36,13],[[32,0],[30,[36,12],[[32,0,["facebookHovered"]]],null],false],null]],null],[12],[2,"\\n"],[6,[37,8],[[30,[36,11],[[32,0,["facebookHovered"]],[30,[36,14],[[32,0,["facebookImage"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[11,"button"],[24,0,"gh-social-og-preview-img-add"],[24,4,"button"],[4,[38,0],["click",[30,[36,5],[[32,0,["triggerFileDialog"]],"facebook"],null]],null],[12],[2,"+ Add image"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                    "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["setFacebookImage"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,16],[[30,[36,15],[[30,[36,15],[[32,3,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"error pa2"],[12],[10,"span"],[14,0,"response"],[12],[1,[30,[36,10],[[32,4,["context"]],[32,4,["message"]]],null]],[13],[13],[2,"\\n"]],"parameters":[4]}]]],[2,"\\n"],[6,[37,8],[[30,[36,10],[[32,0,["facebookImage"]],[32,3,["isUploading"]]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-social-og-preview-image relative"],[15,5,[30,[36,9],[[32,0,["facebookImage"]]],null]],[12],[2,"\\n                                "],[10,"div"],[14,0,"flex h-100 items-center justify-center"],[12],[2,"\\n"],[6,[37,8],[[30,[36,10],[[32,0,["facebookHovered"]],[32,3,["isUploading"]]],null]],null,[["default"],[{"statements":[[6,[37,8],[[32,3,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[32,3,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[11,"button"],[24,0,"gh-btn gh-btn-white"],[24,4,"button"],[4,[38,0],["click",[30,[36,5],[[32,0,["triggerFileDialog"]],"facebook"],null]],null],[12],[10,"span"],[12],[1,[30,[36,8],[[32,5,["ogImage"]],"Change","Upload"],null]],[2," image"],[13],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,8],[[30,[36,11],[[32,0,["facebookHovered"]],[32,5,["ogImage"]]],null]],null,[["default"],[{"statements":[[2,"                                        "],[11,"button"],[24,0,"gh-btn gh-btn-black gh-btn-icon gh-social-preview-img-delete"],[24,"title","Remove custom Facebook image"],[24,4,"button"],[4,[38,0],["click",[32,0,["clearFacebookImage"]]],null],[12],[2,"\\n                                            "],[10,"span"],[12],[1,[30,[36,7],["trash"],null]],[13],[2,"\\n                                            "],[10,"span"],[14,0,"hidden"],[12],[2,"Remove custom Facebook image"],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                            "],[8,"gh-file-input",[[24,1,"facebookFileInput"]],[["@multiple","@action","@accept"],[false,[32,3,["setFiles"]],[32,0,["imageMimeTypes"]]]],null],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[3]}]]],[2,"\\n\\n                    "],[10,"div"],[14,0,"gh-social-og-preview-bookmark"],[12],[2,"\\n"],[2,"                        "],[10,"div"],[15,0,[31,["gh-social-og-preview-content ",[30,[36,8],[[32,0,["editingFacebookTitle"]],"edit-mode"],null]," ",[30,[36,8],[[32,0,["editingFacebookDescription"]],"edit-mode"],null]]]],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-social-og-preview-meta"],[12],[2,"\\n                                "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,8],[[32,0,["editingFacebookTitle"]]],null,[["default","else"],[{"statements":[[2,"                                "],[11,"input"],[24,0,"gh-input"],[16,"placeholder",[32,0,["facebookTitle"]]],[16,2,[32,5,["ogTitle"]]],[24,"maxlength","300"],[24,"data-prevent-escape-close-modal","true"],[24,4,"text"],[4,[38,0],["blur",[32,0,["setFacebookTitle"]]],null],[4,[38,4],["Enter",[32,0,["blurElement"]]],null],[4,[38,4],["Escape",[30,[36,5],[[32,0,["cancelEdit"]],"ogTitle"],null]],null],[4,[38,6],null,null],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[11,"div"],[24,0,"gh-social-og-preview-title editable pointer"],[4,[38,0],["click",[32,0,["editFacebookTitle"]]],null],[12],[2,"\\n                                    "],[1,[30,[36,3],[[32,0,["facebookTitle"]]],null]],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,8],[[32,0,["editingFacebookDescription"]]],null,[["default","else"],[{"statements":[[2,"                                "],[11,"textarea"],[24,0,"gh-input"],[24,"maxlength","500"],[16,"placeholder",[30,[36,3],[[32,0,["facebookDescription"]],160],null]],[24,"data-prevent-escape-close-modal","true"],[4,[38,0],["blur",[32,0,["setFacebookDescription"]]],null],[4,[38,4],["Enter",[32,0,["blurElement"]]],null],[4,[38,4],["Escape",[30,[36,5],[[32,0,["cancelEdit"]],"ogDescription"],null]],null],[4,[38,6],null,null],[12],[1,[32,5,["ogDescription"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[11,"div"],[24,0,"gh-social-og-preview-desc editable pointer"],[4,[38,0],["click",[32,0,["editFacebookDescription"]]],null],[12],[2,"\\n                                    "],[1,[30,[36,3],[[32,0,["facebookDescription"]]],null]],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-social-og-reactions"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-social-og-likes"],[12],[1,[30,[36,7],["facebook-like"],[["class"],["z-999"]]]],[1,[30,[36,7],["facebook-heart"],[["class"],["nl1"]]]],[2,"182"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-social-og-comments"],[12],[2,"7 comments"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-social-og-comments ml2"],[12],[2,"2 shares"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-social-twitter-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"flex ma4"],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,7],["social-twitter"],[["class"],["social-icon"]]]],[13],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"span"],[14,0,"gh-social-og-title"],[12],[1,[30,[36,10],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                        "],[10,"span"],[14,0,"gh-social-og-time"],[12],[2,"12 hrs"],[13],[2,"\\n                        "],[10,"div"],[14,0,"flex flex-column mt2 mb3"],[12],[2,"\\n                            "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                            "],[10,"span"],[14,0,"gh-social-og-desc w-60"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"div"],[24,0,"gh-social-twitter-post-preview"],[4,[38,0],["mouseenter",[30,[36,13],[[32,0],[30,[36,12],[[32,0,["twitterHovered"]]],null],true],null]],null],[4,[38,0],["mouseleave",[30,[36,13],[[32,0],[30,[36,12],[[32,0,["twitterHovered"]]],null],false],null]],null],[12],[2,"\\n"],[6,[37,8],[[30,[36,11],[[32,0,["twitterHovered"]],[30,[36,14],[[32,0,["twitterImage"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[11,"button"],[24,0,"gh-social-twitter-preview-img-add"],[24,4,"button"],[4,[38,0],["click",[30,[36,5],[[32,0,["triggerFileDialog"]],"twitter"],null]],null],[12],[2,"+ Add image"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                            "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["setTwitterImage"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,16],[[30,[36,15],[[30,[36,15],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"error pa2"],[12],[10,"span"],[14,0,"response"],[12],[1,[30,[36,10],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"\\n"],[6,[37,8],[[30,[36,10],[[32,0,["twitterImage"]],[32,1,["isUploading"]]],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-social-twitter-preview-image relative"],[15,5,[30,[36,9],[[32,0,["twitterImage"]]],null]],[12],[2,"\\n                                        "],[10,"div"],[14,0,"flex h-100 items-center justify-center"],[12],[2,"\\n"],[6,[37,8],[[30,[36,10],[[32,0,["twitterHovered"]],[32,1,["isUploading"]]],null]],null,[["default"],[{"statements":[[6,[37,8],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                                    "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                    "],[11,"button"],[24,0,"gh-btn gh-btn-white"],[24,4,"button"],[4,[38,0],["click",[30,[36,5],[[32,0,["triggerFileDialog"]],"twitter"],null]],null],[12],[10,"span"],[12],[1,[30,[36,8],[[32,5,["twitterImage"]],"Change","Upload"],null]],[2," image"],[13],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,8],[[30,[36,11],[[32,0,["twitterHovered"]],[32,5,["twitterImage"]]],null]],null,[["default"],[{"statements":[[2,"                                                "],[11,"button"],[24,0,"gh-btn gh-btn-black gh-btn-icon gh-social-preview-img-delete"],[24,"title","Remove custom Twitter image"],[24,4,"button"],[4,[38,0],["click",[32,0,["clearTwitterImage"]]],null],[12],[2,"\\n                                                    "],[10,"span"],[12],[1,[30,[36,7],["trash"],null]],[13],[2,"\\n                                                    "],[10,"span"],[14,0,"hidden"],[12],[2,"Remove custom Twitter image"],[13],[2,"\\n                                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                                "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                    "],[8,"gh-file-input",[[24,1,"twitterFileInput"]],[["@multiple","@action","@accept"],[false,[32,1,["setFiles"]],[32,0,["imageMimeTypes"]]]],null],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[1]}]]],[2,"\\n\\n                            "],[10,"div"],[14,0,"gh-social-twitter-preview-content"],[12],[2,"\\n"],[6,[37,8],[[32,0,["editingTwitterTitle"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[11,"input"],[24,0,"gh-input"],[16,"placeholder",[32,0,["twitterTitle"]]],[16,2,[32,5,["twitterTitle"]]],[24,"maxlength","300"],[24,"data-prevent-escape-close-modal","true"],[24,4,"text"],[4,[38,0],["blur",[32,0,["setTwitterTitle"]]],null],[4,[38,4],["Enter",[32,0,["blurElement"]]],null],[4,[38,4],["Escape",[30,[36,5],[[32,0,["cancelEdit"]],"twitterTitle"],null]],null],[4,[38,6],null,null],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[11,"div"],[24,0,"gh-social-twitter-preview-title editable pointer"],[4,[38,0],["click",[32,0,["editTwitterTitle"]]],null],[12],[1,[32,0,["twitterTitle"]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,8],[[32,0,["editingTwitterDescription"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[11,"textarea"],[24,0,"gh-input"],[24,"maxlength","500"],[16,"placeholder",[30,[36,3],[[32,0,["twitterDescription"]],160],null]],[24,"data-prevent-escape-close-modal","true"],[4,[38,0],["blur",[32,0,["setTwitterDescription"]]],null],[4,[38,4],["Enter",[32,0,["blurElement"]]],null],[4,[38,4],["Escape",[30,[36,5],[[32,0,["cancelEdit"]],"twitterDescription"],null]],null],[4,[38,6],null,null],[12],[1,[32,5,["twitterDescription"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[11,"div"],[24,0,"gh-social-twitter-preview-desc editable pointer"],[4,[38,0],["click",[32,0,["editTwitterDescription"]]],null],[12],[1,[30,[36,3],[[32,0,["twitterDescription"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[10,"div"],[14,0,"gh-social-twitter-preview-meta"],[12],[2,"\\n                                    "],[1,[30,[36,7],["twitter-link"],null]],[2,"\\n                                    "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-social-twitter-reactions"],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,7],["twitter-comment"],null]],[2,"2"],[13],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,7],["twitter-retweet"],null]],[2,"11"],[13],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,7],["twitter-like"],null]],[2,"32"],[13],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,7],["twitter-share"],null]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-seo-preview-container"],[12],[2,"\\n            "],[1,[30,[36,7],["google"],null]],[2,"\\n            "],[10,"div"],[14,0,"gh-seo-preview"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-seo-search-bar mb12"],[12],[1,[30,[36,7],["google-search"],null]],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-seo-preview-link"],[12],[1,[32,0,["serpURL"]]],[13],[2,"\\n"],[6,[37,8],[[32,0,["editingMetaTitle"]]],null,[["default","else"],[{"statements":[[2,"                    "],[11,"input"],[24,0,"gh-input"],[16,"placeholder",[32,0,["serpTitle"]]],[16,2,[32,5,["metaTitle"]]],[24,"maxlength","300"],[24,"data-prevent-escape-close-modal","true"],[24,4,"text"],[4,[38,0],["blur",[32,0,["setMetaTitle"]]],null],[4,[38,4],["Enter",[32,0,["blurElement"]]],null],[4,[38,4],["Escape",[30,[36,5],[[32,0,["cancelEdit"]],"metaTitle"],null]],null],[4,[38,6],null,null],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"div"],[24,0,"gh-seo-preview-title editable pointer"],[4,[38,0],["click",[32,0,["editMetaTitle"]]],null],[12],[2,"\\n                        "],[1,[32,0,["serpTitle"]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,8],[[32,0,["editingMetaDescription"]]],null,[["default","else"],[{"statements":[[2,"                    "],[11,"textarea"],[24,0,"gh-input"],[16,"placeholder",[32,0,["serpDescription"]]],[24,"maxlength","500"],[24,"data-prevent-escape-close-modal","true"],[4,[38,0],["blur",[32,0,["setMetaDescription"]]],null],[4,[38,4],["Enter",[32,0,["blurElement"]]],null],[4,[38,4],["Escape",[30,[36,5],[[32,0,["cancelEdit"]],"metaDescription"],null]],null],[4,[38,6],null,null],[12],[1,[32,5,["metaDescription"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"div"],[24,0,"gh-seo-preview-desc editable pointer"],[4,[38,0],["click",[32,0,["editMetaDescription"]]],null],[12],[2,"\\n                        "],[1,[30,[36,2],[[30,[36,1],null,null],"DD MMM YYYY"],null]],[2," — "],[1,[30,[36,3],[[32,0,["serpDescription"]],149],null]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","now","moment-format","truncate","on-key","fn","autofocus","svg-jar","if","background-image-style","or","and","mut","action","not","-track-array","each"]}',moduleName:"ghost-admin/components/modals/post-preview/social.hbs"})
let $=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._action,m=Ember._action,h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,E=Ember._action,k=Ember._action,P=Ember._action,O=Ember._action,j=Ember._action,_=Ember._action,z=Ember._action,x=Ember._action,T=Ember._action,S=Ember._action,M=class extends t.default{constructor(){super(...arguments),B(this,"config",C,this),B(this,"settings",D,this),B(this,"ghostPaths",A,this),B(this,"editingFacebookTitle",I,this),B(this,"editingFacebookDescription",L,this),B(this,"editingTwitterTitle",R,this),B(this,"editingTwitterDescription",U,this),B(this,"editingMetaTitle",N,this),B(this,"editingMetaDescription",F,this),V(this,"imageExtensions",n.IMAGE_EXTENSIONS),V(this,"imageMimeTypes",n.IMAGE_MIME_TYPES)}get _fallbackDescription(){return this.args.post.customExcerpt||this.serpDescription||this.settings.get("description")}blurElement(e){e.shiftKey||(e.preventDefault(),e.target.blur())}triggerFileDialog(e){const t=document.querySelector(`#${e}FileInput input`)
t&&t.click()}get serpTitle(){return this.args.post.metaTitle||this.args.post.title||"(Untitled)"}get serpURL(){const e=[]
if(this.args.post.canonicalUrl){const t=new URL(this.args.post.canonicalUrl)
e.push(t.host),e.push(...t.pathname.split("/").reject((e=>!e)))}else{const t=new URL(this.config.get("blogUrl"))
e.push(t.host),e.push(...t.pathname.split("/").reject((e=>!e))),e.push(this.args.post.slug)}return e.join(" > ")}get serpDescription(){return this.args.post.metaDescription||this.args.post.excerpt}editMetaTitle(){this.editingMetaTitle=!0}setMetaTitle(e){const t=e.target.value
this.args.post.metaTitle=t.trim(),this.args.post.save(),this.editingMetaTitle=!1}editMetaDescription(){this.editingMetaDescription=!0}setMetaDescription(e){const t=e.target.value
this.args.post.metaDescription=t.trim(),this.args.post.save(),this.editingMetaDescription=!1}get facebookTitle(){return this.args.post.ogTitle||this.serpTitle}get facebookDescription(){return this.args.post.ogDescription||this._fallbackDescription}get facebookImage(){return this.args.post.ogImage||this.args.post.featureImage||this.settings.get("ogImage")||this.settings.get("coverImage")}editFacebookTitle(){this.editingFacebookTitle=!0}cancelEdit(e,t){t.preventDefault(),t.target.value=this.args.post[e],t.target.blur()}setFacebookTitle(e){const t=e.target.value
this.args.post.ogTitle=t.trim(),this.args.post.save(),this.editingFacebookTitle=!1}editFacebookDescription(){this.editingFacebookDescription=!0}setFacebookDescription(){const e=event.target.value
this.args.post.ogDescription=e.trim(),this.args.post.save(),this.editingFacebookDescription=!1}setFacebookImage(e){let[t]=e
this.args.post.ogImage=t.url,this.args.post.save()}clearFacebookImage(){this.args.post.ogImage=null,this.args.post.save()}get twitterTitle(){return this.args.post.twitterTitle||this.serpTitle}get twitterDescription(){return this.args.post.twitterDescription||this._fallbackDescription}get twitterImage(){return this.args.post.twitterImage||this.args.post.featureImage||this.settings.get("twitterImage")||this.settings.get("coverImage")}editTwitterTitle(){this.editingTwitterTitle=!0}setTwitterTitle(e){const t=e.target.value
this.args.post.twitterTitle=t.trim(),this.args.post.save(),this.editingTwitterTitle=!1}editTwitterDescription(){this.editingTwitterDescription=!0}setTwitterDescription(){const e=event.target.value
this.args.post.twitterDescription=e.trim(),this.args.post.save(),this.editingTwitterDescription=!1}setTwitterImage(e){let[t]=e
this.args.post.twitterImage=t.url,this.args.post.save()}clearTwitterImage(){this.args.post.twitterImage=null,this.args.post.save()}},C=H(M.prototype,"config",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=H(M.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=H(M.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=H(M.prototype,"editingFacebookTitle",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=H(M.prototype,"editingFacebookDescription",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=H(M.prototype,"editingTwitterTitle",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=H(M.prototype,"editingTwitterDescription",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=H(M.prototype,"editingMetaTitle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=H(M.prototype,"editingMetaDescription",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H(M.prototype,"blurElement",[p],Object.getOwnPropertyDescriptor(M.prototype,"blurElement"),M.prototype),H(M.prototype,"triggerFileDialog",[m],Object.getOwnPropertyDescriptor(M.prototype,"triggerFileDialog"),M.prototype),H(M.prototype,"editMetaTitle",[h],Object.getOwnPropertyDescriptor(M.prototype,"editMetaTitle"),M.prototype),H(M.prototype,"setMetaTitle",[g],Object.getOwnPropertyDescriptor(M.prototype,"setMetaTitle"),M.prototype),H(M.prototype,"editMetaDescription",[b],Object.getOwnPropertyDescriptor(M.prototype,"editMetaDescription"),M.prototype),H(M.prototype,"setMetaDescription",[f],Object.getOwnPropertyDescriptor(M.prototype,"setMetaDescription"),M.prototype),H(M.prototype,"editFacebookTitle",[v],Object.getOwnPropertyDescriptor(M.prototype,"editFacebookTitle"),M.prototype),H(M.prototype,"cancelEdit",[y],Object.getOwnPropertyDescriptor(M.prototype,"cancelEdit"),M.prototype),H(M.prototype,"setFacebookTitle",[w],Object.getOwnPropertyDescriptor(M.prototype,"setFacebookTitle"),M.prototype),H(M.prototype,"editFacebookDescription",[E],Object.getOwnPropertyDescriptor(M.prototype,"editFacebookDescription"),M.prototype),H(M.prototype,"setFacebookDescription",[k],Object.getOwnPropertyDescriptor(M.prototype,"setFacebookDescription"),M.prototype),H(M.prototype,"setFacebookImage",[P],Object.getOwnPropertyDescriptor(M.prototype,"setFacebookImage"),M.prototype),H(M.prototype,"clearFacebookImage",[O],Object.getOwnPropertyDescriptor(M.prototype,"clearFacebookImage"),M.prototype),H(M.prototype,"editTwitterTitle",[j],Object.getOwnPropertyDescriptor(M.prototype,"editTwitterTitle"),M.prototype),H(M.prototype,"setTwitterTitle",[_],Object.getOwnPropertyDescriptor(M.prototype,"setTwitterTitle"),M.prototype),H(M.prototype,"editTwitterDescription",[z],Object.getOwnPropertyDescriptor(M.prototype,"editTwitterDescription"),M.prototype),H(M.prototype,"setTwitterDescription",[x],Object.getOwnPropertyDescriptor(M.prototype,"setTwitterDescription"),M.prototype),H(M.prototype,"setTwitterImage",[T],Object.getOwnPropertyDescriptor(M.prototype,"setTwitterImage"),M.prototype),H(M.prototype,"clearTwitterImage",[S],Object.getOwnPropertyDescriptor(M.prototype,"clearTwitterImage"),M.prototype),M)
e.default=$,Ember._setComponentTemplate(q,$)})),define("ghost-admin/components/modals/search",["exports","@glimmer/component"],(function(e,t){var n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"W8dYWR3m",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[11,"div"],[24,0,"gh-nav-search-modal"],[4,[38,0],["click",[32,0,["focusFirstInput"]]],null],[12],[2,"\\n        "],[8,"gh-search-input",[[24,0,"gh-nav-search-input"]],[["@onSelected"],[[32,1]]],null],[2,"\\n        "],[10,"div"],[14,0,"gh-search-tips"],[12],[2,"Open with Ctrl/⌘ + K"],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on"]}',moduleName:"ghost-admin/components/modals/search.hbs"})
let a=(n=Ember._action,i=class extends t.default{focusFirstInput(e){e.target.querySelector("input")?.focus()}},s=i.prototype,o="focusFirstInput",l=[n],u=Object.getOwnPropertyDescriptor(i.prototype,"focusFirstInput"),d=i.prototype,c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),i)
var s,o,l,u,d,c
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/modals/tiers/archive",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"GUjhS8H6",block:'{"symbols":["@close","@data"],"statements":[[2,"\\n"],[11,"div"],[24,0,"modal-content"],[4,[38,1],["Enter",[30,[36,0],[[32,0,["archiveTierTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Archive tier"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Members will no longer be able to subscribe to "],[10,"strong"],[12],[1,[32,2,["product","name"]]],[13],[2," and it will be removed from the list of available tiers in portal.\\n        "],[13],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Existing members on this tier will remain unchanged.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Archive","Archived",[32,0,["archiveTierTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["perform","on-key","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/tiers/archive.hbs"})
let p=(i=Ember.inject.service,r=Ember.inject.service,a=(0,n.task)({drop:!0}),s=class extends t.default{constructor(){super(...arguments),u(this,"notifications",o,this),u(this,"router",l,this)}get isActive(){const{product:e}=this.args.data
return!!e.active}*archiveTierTask(){const{product:e,onArchive:t}=this.args.data
e.active=!1,e.visibility="none"
try{return yield e.save(),t?.(),e}catch(n){n&&this.notifications.showAPIError(n,{key:"tier.archive.failed"})}finally{this.args.close()}}},o=d(s.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"archiveTierTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"archiveTierTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(c,p)})),define("ghost-admin/components/modals/tiers/unarchive",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"87SVeIMT",block:'{"symbols":["@close","@data"],"statements":[[2,"\\n"],[11,"div"],[24,0,"modal-content"],[4,[38,1],["Enter",[30,[36,0],[[32,0,["unarchiveTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Reactivate tier"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Reactivating "],[10,"strong"],[12],[1,[32,2,["product","name"]]],[13],[2," will re-enable it as an option in portal and allow new members to subscribe to this tier.\\n        "],[13],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Existing members will remain unchanged. \\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@task","@class"],["Reactivate",[32,0,["unarchiveTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["perform","on-key","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/tiers/unarchive.hbs"})
let p=(i=Ember.inject.service,r=Ember.inject.service,a=(0,n.task)({drop:!0}),s=class extends t.default{constructor(){super(...arguments),u(this,"notifications",o,this),u(this,"router",l,this)}get isActive(){const{product:e}=this.args.data
return!!e.active}*unarchiveTask(){const{product:e,onUnarchive:t}=this.args.data
e.active=!0
try{return yield e.save(),t?.(),e}catch(n){n&&this.notifications.showAPIError(n,{key:"tier.unarchive.failed"})}finally{this.args.close()}}},o=d(s.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"unarchiveTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"unarchiveTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(c,p)})),define("ghost-admin/components/object-bin",["exports","ember-drag-drop/components/object-bin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default
e.default=n})),define("ghost-admin/components/one-way-select",["exports","ember-one-way-select/components/one-way-select"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/one-way-select/option",["exports","ember-one-way-select/components/one-way-select/option"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-calendar-multiple",["exports","ember-power-calendar/components/power-calendar-multiple"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-calendar-multiple/days",["exports","ember-power-calendar/components/power-calendar-multiple/days"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-calendar-range",["exports","ember-power-calendar/components/power-calendar-range"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-calendar-range/days",["exports","ember-power-calendar/components/power-calendar-range/days"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-calendar",["exports","ember-power-calendar/components/power-calendar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-calendar/days",["exports","ember-power-calendar/components/power-calendar/days"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-calendar/nav",["exports","ember-power-calendar/components/power-calendar/nav"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-datepicker",["exports","ember-power-datepicker/components/power-datepicker"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("ghost-admin/components/power-select-multiple",["exports","ember-power-select/components/power-select-multiple"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select-multiple/trigger",["exports","ember-power-select/components/power-select-multiple/trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select-vertical-collection-options",["exports","ember-power-select/components/power-select/options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"Nqz2AV3b",block:'{"symbols":["opt","index","@select","@groupIndex","&default","@loadingMessage","&attrs","@options"],"statements":[[2,"\\n"],[11,"ul"],[24,"role","listbox"],[16,"aria-controls",[31,["ember-power-select-trigger-",[32,3,["uniqueId"]]]]],[17,7],[4,[38,3],[[32,0,["addHandlers"]]],null],[12],[2,"\\n"],[6,[37,1],[[32,3,["loading"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,6]],null,[["default"],[{"statements":[[2,"            "],[10,"li"],[14,0,"ember-power-select-option ember-power-select-option--loading-message"],[14,"role","option"],[12],[1,[32,6]],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,8]],[["minHeight","estimateHeight","bufferSize"],[30,6,10]],[["default"],[{"statements":[[2,"        "],[10,"li"],[14,0,"ember-power-select-option"],[15,"aria-selected",[31,[[30,[36,0],[[32,1],[32,3,["selected"]]],null]]]],[15,"aria-disabled",[30,[36,1],[[32,1,["disabled"]],"true"],null]],[15,"aria-current",[31,[[30,[36,2],[[32,1],[32,3,["highlighted"]]],null]]]],[15,"data-option-index",[31,[[32,4],[32,2]]]],[14,"role","option"],[12],[2,"\\n            "],[18,5,[[32,1],[32,3]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[1,2]}]]],[13]],"hasEval":false,"upvars":["ember-power-select-is-selected","if","eq","did-insert","vertical-collection"]}',moduleName:"ghost-admin/components/power-select-vertical-collection-options.hbs"})
class i extends t.default{}e.default=i,Ember._setComponentTemplate(n,i)})),define("ghost-admin/components/power-select",["exports","ember-power-select/components/power-select"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select/before-options",["exports","ember-power-select/components/power-select/before-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select/no-matches-message",["exports","ember-power-select/components/power-select/no-matches-message"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select/options",["exports","ember-power-select/components/power-select/options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select/placeholder",["exports","ember-power-select/components/power-select/placeholder"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select/power-select-group",["exports","ember-power-select/components/power-select/power-select-group"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select/search-message",["exports","ember-power-select/components/power-select/search-message"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select/trigger",["exports","ember-power-select/components/power-select/trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/settings/design/general-settings-form",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"O3WzWNZ+",block:'{"symbols":["&attrs","@didUpdate"],"statements":[[11,"div"],[24,0,"gh-stack"],[17,1],[12],[2,"\\n    "],[8,"settings/form-fields/site-description",[[24,0,"gh-stack-item gh-setting-first"]],[["@didUpdate"],[[32,2]]],null],[2,"\\n    "],[8,"settings/form-fields/accent-color",[[24,0,"gh-stack-item gh-setting"]],[["@didUpdate"],[[32,2]]],null],[2,"\\n    "],[8,"settings/form-fields/publication-icon",[[24,0,"gh-stack-item gh-setting"]],[["@didUpdate"],[[32,2]]],null],[2,"\\n    "],[8,"settings/form-fields/publication-logo",[[24,0,"gh-stack-item gh-setting"]],[["@didUpdate"],[[32,2]]],null],[2,"\\n    "],[8,"settings/form-fields/publication-cover",[[24,0,"gh-stack-item gh-setting"]],[["@didUpdate"],[[32,2]]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/settings/design/general-settings-form.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/settings/design/theme-settings-form",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"X6W6cMx5",block:'{"symbols":["setting","index","@updatePreview","@themeSettings"],"statements":[[10,"div"],[14,0,"gh-stack"],[12],[2,"\\n    "],[10,"form"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,4]],null]],null]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,0],[[32,1,["type"]],"select"],null]],null,[["default"],[{"statements":[[2,"                "],[8,"custom-theme-settings/select",[],[["@setting","@index","@onChange"],[[32,1],[32,2],[32,3]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,0],[[32,1,["type"]],"boolean"],null]],null,[["default"],[{"statements":[[2,"                "],[8,"custom-theme-settings/boolean",[],[["@setting","@index","@onChange"],[[32,1],[32,2],[32,3]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,0],[[32,1,["type"]],"color"],null]],null,[["default"],[{"statements":[[2,"                "],[8,"custom-theme-settings/color",[],[["@setting","@index","@onChange"],[[32,1],[32,2],[32,3]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,0],[[32,1,["type"]],"text"],null]],null,[["default"],[{"statements":[[2,"                "],[8,"custom-theme-settings/text",[],[["@setting","@index","@onChange"],[[32,1],[32,2],[32,3]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,0],[[32,1,["type"]],"image"],null]],null,[["default"],[{"statements":[[2,"                "],[8,"custom-theme-settings/image",[],[["@setting","@index","@onChange"],[[32,1],[32,2],[32,3]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1,2]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["eq","if","-track-array","each"]}',moduleName:"ghost-admin/components/settings/design/theme-settings-form.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n})),define("ghost-admin/components/settings/form-fields/accent-color",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l
function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"IvUqeIPG",block:'{"symbols":["&attrs"],"statements":[[11,"div"],[24,0,"gh-accent-color"],[17,1],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title"],[14,"for","accent-color"],[12],[2,"Accent color"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2,"Primary color used in your publication theme"],[13],[2,"\\n        "],[10,"div"],[14,0,"w-100 flex flex-column flex-row-ns"],[12],[2,"\\n            "],[8,"gh-error-message",[[24,0,"w-100 red"]],[["@errors","@property"],[[32,0,["settings","errors"]],"accentColor"]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property","@class"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"accentColor","input-color-form-group"]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[14,0,"input-color"],[12],[2,"\\n                "],[11,"input"],[24,1,"accent-color"],[24,"placeholder","15171A"],[24,3,"accent-color"],[24,"autocorrect","off"],[24,"maxlength","6"],[16,2,[32,0,["accentColor"]]],[24,0,"gh-input"],[24,4,"text"],[4,[38,1],["input",[30,[36,0],[[32,0,["debounceUpdateAccentColor"]]],null]],null],[4,[38,1],["blur",[32,0,["updateAccentColor"]]],null],[4,[38,2],["Enter",[32,0,["blurElement"]]],null],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"color-picker-horizontal-divider"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"color-box-container"],[15,5,[32,0,["accentColorBgStlye"]]],[12],[2,"\\n                    "],[11,"input"],[24,3,"accent-color"],[24,0,"color-picker"],[16,2,[31,[[32,0,["accentColorPickerValue"]]]]],[24,"aria-label","Accent color picker"],[24,4,"color"],[4,[38,1],["input",[30,[36,0],[[32,0,["debounceUpdateAccentColor"]]],null]],null],[12],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","on","on-key"]}',moduleName:"ghost-admin/components/settings/form-fields/accent-color.hbs"})
let c=(i=Ember.inject.service,r=Ember._action,a=(0,n.task)({restartable:!0}),s=Ember._action,o=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="settings",i=this,(n=l)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get accentColor(){const e=this.settings.get("accentColor")
return e&&"#"===e[0]?e.slice(1):e}get accentColorPickerValue(){return this.settings.get("accentColor")||"#ffffff"}get accentColorBgStyle(){return Ember.String.htmlSafe(`background-color: ${this.accentColorPickerValue}`)}willDestroy(){super.willDestroy?.(...arguments),this.settings.errors.remove("accentColor")}async updateAccentColor(e){let t=e.target.value
const n=this.settings.get("accentColor")
if(this.settings.errors.remove("accentColor"),this.settings.hasValidated.removeObject("accentColor"),""===t){if(t===n)return
return this.settings.errors.add("accentColor","Please select an accent color"),void this.settings.hasValidated.pushObject("accentColor")}if(t||(t=n),"#"!==t[0]&&(t=`#${t}`),t.match(/#[0-9A-Fa-f]{6}$/)){if(t===n)return
this.settings.set("accentColor",t),this.args.didUpdate("accentColor",t)}else this.settings.errors.add("accentColor","Please enter a color in hex format"),this.settings.hasValidated.pushObject("accentColor")}*debounceUpdateAccentColor(e){yield(0,n.timeout)(500),this.updateAccentColor(e)}blurElement(e){e.preventDefault(),e.target.blur()}},l=u(o.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(o.prototype,"updateAccentColor",[r],Object.getOwnPropertyDescriptor(o.prototype,"updateAccentColor"),o.prototype),u(o.prototype,"debounceUpdateAccentColor",[a],Object.getOwnPropertyDescriptor(o.prototype,"debounceUpdateAccentColor"),o.prototype),u(o.prototype,"blurElement",[s],Object.getOwnPropertyDescriptor(o.prototype,"blurElement"),o.prototype),o)
e.default=c,Ember._setComponentTemplate(d,c)})),define("ghost-admin/components/settings/form-fields/publication-cover",["exports","@glimmer/component","ghost-admin/components/gh-image-uploader"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m
function h(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"2I9rpuhc",block:'{"symbols":["uploader","error","&attrs"],"statements":[[11,"div"],[17,3],[12],[2,"\\n    "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["imageUploaded"]]]],[["default"],[{"statements":[[2,"\\n    "],[10,"div"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title"],[14,"for","publication-cover"],[12],[2,"Publication cover"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-desc mb3"],[12],[2,"An optional large background image for your site"],[13],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-setting-error"],[12],[1,[30,[36,5],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-action gh-uploadbutton-container flex flex-column items-stretch"],[12],[2,"\\n"],[6,[37,3],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["settings","coverImage"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-branding-image-container largeimg justify-start"],[12],[2,"\\n                    "],[11,"input"],[24,1,"publication-cover"],[24,0,"blog-cover"],[16,"src",[31,[[32,0,["settings","coverImage"]]]]],[24,4,"image"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-setting-action-largeimg-delete"],[24,4,"button"],[4,[38,0],["click",[30,[36,4],[[32,0,["update"]],null],null]],null],[12],[2,"\\n                        "],[1,[30,[36,1],["trash"],[["class"],["w4 h4 fill-white"]]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"self-start"],[12],[2,"\\n                    "],[11,"button"],[24,1,"publication-cover"],[24,0,"gh-btn gh-btn-white"],[24,4,"button"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Upload cover"],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,3],[[30,[36,2],["improvedOnboarding"],null]],null,[["default"],[{"statements":[[2,"                        "],[11,"button"],[24,0,"gh-btn gh-btn-white w10"],[24,"aria-label","Select photo from Unsplash"],[24,4,"button"],[4,[38,0],["click",[32,0,["toggleUnsplashSelector"]]],null],[12],[2,"\\n                            "],[10,"span"],[12],[1,[30,[36,1],["unsplash"],[["class"],["nudge-right--2 nudge-bottom--2"]]]],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[10,"div"],[14,0,"dn"],[12],[2,"\\n                "],[8,"gh-file-input",[],[["@multiple","@action","@accept","@onInsert"],[false,[32,1,["setFiles"]],[32,0,["imageMimeTypes"]],[32,1,["registerFileInput"]]]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,3],[[32,0,["showUnsplashSelector"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-unsplash",[],[["@select","@close"],[[32,0,["setUnsplashImage"]],[32,0,["toggleUnsplashSelector"]]]],null],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["on","svg-jar","feature","if","fn","or","-track-array","each"]}',moduleName:"ghost-admin/components/settings/form-fields/publication-cover.hbs"})
let v=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,d=class extends t.default{constructor(){super(...arguments),h(this,"feature",c,this),h(this,"settings",p,this),h(this,"showUnsplashSelector",m,this),g(this,"imageExtensions",n.IMAGE_EXTENSIONS),g(this,"imageMimeTypes",n.IMAGE_MIME_TYPES)}imageUploaded(e){e[0]&&this.update(e[0].url)}update(e){this.settings.set("coverImage",e),this.args.didUpdate("coverImage",e)}toggleUnsplashSelector(){this.feature.improvedOnboarding&&(this.showUnsplashSelector=!this.showUnsplashSelector)}setUnsplashImage(e){let{src:t}=e
this.update(t)}},c=b(d.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(d.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(d.prototype,"showUnsplashSelector",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b(d.prototype,"imageUploaded",[s],Object.getOwnPropertyDescriptor(d.prototype,"imageUploaded"),d.prototype),b(d.prototype,"update",[o],Object.getOwnPropertyDescriptor(d.prototype,"update"),d.prototype),b(d.prototype,"toggleUnsplashSelector",[l],Object.getOwnPropertyDescriptor(d.prototype,"toggleUnsplashSelector"),d.prototype),b(d.prototype,"setUnsplashImage",[u],Object.getOwnPropertyDescriptor(d.prototype,"setUnsplashImage"),d.prototype),d)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/settings/form-fields/publication-icon",["exports","@glimmer/component","ghost-admin/components/gh-image-uploader"],(function(e,t,n){var i,r,a,s,o
function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"JxldRKQS",block:'{"symbols":["uploader","error","&attrs"],"statements":[[11,"div"],[17,3],[12],[2,"\\n    "],[8,"gh-uploader",[],[["@extensions","@paramsHash","@onComplete"],[[32,0,["iconExtensions"]],[30,[36,5],null,[["purpose"],["icon"]]],[32,0,["imageUploaded"]]]],[["default"],[{"statements":[[2,"\\n    "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title"],[14,"for","publication-icon"],[12],[2,"Publication icon"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2,"A square, social icon, at least 60x60px"],[13],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-setting-error"],[12],[1,[30,[36,4],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-setting-action gh-uploadbutton-container gh-setting-action-smallimg flex flex-column"],[12],[2,"\\n"],[6,[37,3],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["settings","icon"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-branding-image-container transparent-bg"],[12],[2,"\\n                "],[11,"input"],[24,1,"publication-icon"],[24,0,"blog-icon"],[16,"src",[32,0,["settings","icon"]]],[24,4,"image"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[13],[2,"\\n                "],[11,"button"],[24,0,"gh-setting-action-smallimg-delete"],[24,4,"button"],[4,[38,0],["click",[30,[36,1],[[32,0,["update"]],null],null]],null],[12],[2,"\\n                    "],[1,[30,[36,2],["trash"],[["class"],["w4 h4 fill-white"]]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,1,"publication-icon"],[24,0,"gh-btn gh-btn-white self-center"],[24,4,"button"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Upload icon"],[13],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[10,"div"],[14,0,"dn"],[12],[2,"\\n            "],[8,"gh-file-input",[],[["@multiple","@action","@accept","@onInsert"],[false,[32,1,["setFiles"]],[32,0,["iconMimeTypes"]],[32,1,["registerFileInput"]]]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","fn","svg-jar","if","or","hash","-track-array","each"]}',moduleName:"ghost-admin/components/settings/form-fields/publication-icon.hbs"})
let c=(i=Ember.inject.service,r=Ember._action,a=Ember._action,s=class extends t.default{constructor(){var e,t,i,r
super(...arguments),e=this,t="settings",r=this,(i=o)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0}),l(this,"iconExtensions",n.ICON_EXTENSIONS),l(this,"iconMimeTypes",n.ICON_MIME_TYPES)}imageUploaded(e){e[0]&&this.update(e[0].url)}update(e){this.settings.set("icon",e),this.args.didUpdate("icon",e)}},o=u(s.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(s.prototype,"imageUploaded",[r],Object.getOwnPropertyDescriptor(s.prototype,"imageUploaded"),s.prototype),u(s.prototype,"update",[a],Object.getOwnPropertyDescriptor(s.prototype,"update"),s.prototype),s)
e.default=c,Ember._setComponentTemplate(d,c)})),define("ghost-admin/components/settings/form-fields/publication-logo",["exports","@glimmer/component","ghost-admin/components/gh-image-uploader"],(function(e,t,n){var i,r,a,s,o
function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"FYx4TQqJ",block:'{"symbols":["uploader","error","&attrs"],"statements":[[11,"div"],[17,3],[12],[2,"\\n    "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["imageUploaded"]]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"label"],[14,0,"gh-setting-title"],[14,"for","publication-logo"],[12],[2,"Publication logo"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-desc mb3"],[12],[2,"The primary logo, should be transparent and at least 600x72px"],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-setting-action gh-uploadbutton-container gh-setting-action-smallimg flex flex-column"],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-error"],[12],[1,[30,[36,4],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[2,"\\n"]],"parameters":[2]}]]],[6,[37,3],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["settings","logo"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-branding-image-container largeimg justify-center transparent-bg"],[12],[2,"\\n                        "],[11,"input"],[24,1,"publication-logo"],[24,0,"blog-logo"],[16,"src",[32,0,["settings","logo"]]],[24,4,"image"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-setting-action-smallimg-delete"],[24,4,"button"],[4,[38,0],["click",[30,[36,1],[[32,0,["update"]],null],null]],null],[12],[2,"\\n                            "],[1,[30,[36,2],["trash"],[["class"],["w4 h4 fill-white"]]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,1,"publication-logo"],[24,0,"gh-btn gh-btn-white self-start"],[24,4,"button"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Upload logo"],[13],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[10,"div"],[14,0,"dn"],[12],[2,"\\n                    "],[8,"gh-file-input",[],[["@multiple","@action","@accept","@onInsert"],[false,[32,1,["setFiles"]],[32,0,["imageMimeTypes"]],[32,1,["registerFileInput"]]]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","fn","svg-jar","if","or","-track-array","each"]}',moduleName:"ghost-admin/components/settings/form-fields/publication-logo.hbs"})
let c=(i=Ember.inject.service,r=Ember._action,a=Ember._action,s=class extends t.default{constructor(){var e,t,i,r
super(...arguments),e=this,t="settings",r=this,(i=o)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(r):void 0}),l(this,"imageExtensions",n.IMAGE_EXTENSIONS),l(this,"imageMimeTypes",n.IMAGE_MIME_TYPES)}imageUploaded(e){e[0]&&this.update(e[0].url)}update(e){this.settings.set("logo",e),this.args.didUpdate("logo",e)}},o=u(s.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(s.prototype,"imageUploaded",[r],Object.getOwnPropertyDescriptor(s.prototype,"imageUploaded"),s.prototype),u(s.prototype,"update",[a],Object.getOwnPropertyDescriptor(s.prototype,"update"),s.prototype),s)
e.default=c,Ember._setComponentTemplate(d,c)})),define("ghost-admin/components/settings/form-fields/site-description",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s
function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"PfhqQ/X+",block:'{"symbols":["&attrs"],"statements":[[11,"div"],[17,1],[12],[2,"\\n    "],[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title"],[14,"for","site-description"],[12],[2,"Site description"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-desc mb3"],[12],[2,"Used in your theme, meta data and search results"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property","@class"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"description","description-container"]],[["default"],[{"statements":[[2,"\\n                "],[11,"input"],[24,1,"site-description"],[24,0,"gh-input"],[16,2,[32,0,["settings","description"]]],[24,"date-test-input","siteDescription"],[24,4,"text"],[4,[38,0],["input",[32,0,["update"]]],null],[4,[38,0],["blur",[32,0,["validate"]]],null],[12],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"description"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on"]}',moduleName:"ghost-admin/components/settings/form-fields/site-description.hbs"})
let u=(n=Ember.inject.service,i=Ember._action,r=Ember._action,a=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="settings",i=this,(n=s)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}update(e){this.settings.set("description",e.target.value)}async validate(e){const t=e.target.value
this.settings.set("description",t),await this.settings.validate({property:"description"}),this.args.didUpdate("description",t)}},s=o(a.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"update",[i],Object.getOwnPropertyDescriptor(a.prototype,"update"),a.prototype),o(a.prototype,"validate",[r],Object.getOwnPropertyDescriptor(a.prototype,"validate"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/settings/members-default-post-access",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u,d
function c(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function p(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"EI5Eo5tM",block:'{"symbols":["option"],"statements":[[10,"div"],[14,0,"mb4 gh-setting-large-dropdown"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Default post access"],[13],[2,"\\n            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"When a new post is created, who should have access?"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[8,"power-select",[],[["@options","@selected","@onChange","@disabled","@triggerClass","@dropdownClass"],[[32,0,["options"]],[32,0,["selectedOption"]],[32,0,["setDefaultContentVisibility"]],[30,[36,2],[[32,0,["settings","membersSignupAccess"]],"none"],null],"gh-setting-dropdown","gh-setting-dropdown-list"]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"gh-setting-dropdown-content"],[12],[2,"\\n            "],[1,[30,[36,5],[[32,1,["icon"]]],[["class"],[[30,[36,4],["w8 h8 mr2 fill-",[30,[36,3],[[32,1,["icon_color"]],"green"],null]],null]]]]],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"\\n                "],[1,[32,1,["name"]]],[10,"br"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[1,[32,1,["description"]]],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[6,[37,1],[[32,0,["hasVisibilityFilter"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"mt2"],[12],[2,"\\n            "],[8,"gh-post-settings-menu/visibility-segment-select",[],[["@selectDefaultProduct","@tiers","@onChange","@renderInPlace","@hideOptionsWhenAllSelected"],[true,[32,0,["visibilityTiers"]],[30,[36,0],[[32,0],"setVisibility"],null],true,true]],null],[2,"\\n"],[6,[37,1],[[32,0,["showSegmentError"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,0,"response red"],[12],[2,"\\n                    Please select at least one tier\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","if","eq","or","concat","svg-jar"]}',moduleName:"ghost-admin/components/settings/members-default-post-access.hbs"})
let h=(n=Ember.inject.service,i=Ember.inject.service,r=Ember._tracked,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(){super(...arguments),c(this,"settings",l,this),c(this,"feature",u,this),c(this,"showSegmentError",d,this)}get options(){const e=[{name:"Public",description:"All site visitors to your site, no login required",value:"public",icon:"globe",icon_color:"green"},{name:"Members only",description:"All logged-in members",value:"members",icon:"members-all",icon_color:"blue"},{name:"Paid-members only",description:"Only logged-in members with an active Stripe subscription",value:"paid",icon:"members-paid",icon_color:"pink"}]
return this.feature.get("multipleProducts")&&e.push({name:"Specific tier(s)",description:"Members with any of the selected tiers",value:"tiers",icon:"members-segment",icon_color:"yellow"}),e}get hasVisibilityFilter(){return this.feature.get("multipleProducts")&&!["public","members","paid"].includes(this.settings.get("defaultContentVisibility"))}get visibilityTiers(){return(this.settings.get("defaultContentVisibilityTiers")||[]).map((e=>({id:e})))}get selectedOption(){return"none"===this.settings.get("membersSignupAccess")?this.options.find((e=>"public"===e.value)):this.options.find((e=>e.value===this.settings.get("defaultContentVisibility")))}setVisibility(e){if(e){const t=e?.map((e=>e.id))
this.settings.set("defaultContentVisibility","tiers"),this.settings.set("defaultContentVisibilityTiers",t),this.showSegmentError=!1}else this.settings.set("defaultContentVisibility",""),this.showSegmentError=!0}setDefaultContentVisibility(e){"none"!==this.settings.get("membersSignupAccess")&&(this.settings.set("defaultContentVisibility",e.value),"tiers"===e.value&&this.settings.set("defaultContentVisibilityTiers",[]))}},l=p(o.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=p(o.prototype,"showSegmentError",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(o.prototype,"setVisibility",[a],Object.getOwnPropertyDescriptor(o.prototype,"setVisibility"),o.prototype),p(o.prototype,"setDefaultContentVisibility",[s],Object.getOwnPropertyDescriptor(o.prototype,"setDefaultContentVisibility"),o.prototype),o)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/settings/members-email",["exports","ember-concurrency"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I
function L(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const N=Ember.HTMLBars.template({id:"AMVaZpaz",block:'{"symbols":["region","region","newsletter","@toggleEmailDesignSettings"],"statements":[[6,[37,3],[[30,[36,17],["multipleNewsletters"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Enable newsletter sending"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Newsletter features are active, posts can be sent by email"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                        "],[11,"label"],[24,0,"switch"],[24,"for","email-newsletter-enabled"],[4,[38,9],["click",[30,[36,0],[[32,0],"toggleEmailNewsletterEnabled"],null]],null],[12],[2,"\\n                            "],[11,"input"],[16,"checked",[32,0,["emailNewsletterEnabled"]]],[24,0,"gh-input"],[24,3,"email-newsletter-enabled"],[24,4,"checkbox"],[4,[38,9],["click",[30,[36,0],[[32,0],"toggleEmailNewsletterEnabled"],null]],null],[12],[13],[2,"\\n                            "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["emailNewsletterEnabled"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-main-section gh-newsletters"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex justify-between items-center"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Newsletters"],[13],[2,"\\n"],[6,[37,3],[[30,[36,14],[[32,0,["archivedNewsletterCount"]],0],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-type ",[30,[36,3],[[30,[36,13],[[30,[36,8],[[32,0,["selectedType","value"]],"active"],null]],null],"gh-contentfilter-selected"],null]]]],[12],[2,"\\n"],[2,"                        "],[10,"span"],[12],[2,"Active"],[13],[2," \\n                        "],[10,"span"],[12],[1,[30,[36,6],["arrow-down-small"],[["class"],["w2"]]]],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n"],[6,[37,16],[[30,[36,15],[[30,[36,15],[[32,0,["newsletters","newsletters"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,3],[[30,[36,8],[[32,3,["status"]],"active"],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[15,0,[31,["gh-main-content-card gh-newsletter-card ",[30,[36,3],[[30,[36,11],[[32,0,["activeNewsletterCount"]],1],null],"multiple"],null]]]],[12],[2,"\\n                                "],[1,[30,[36,6],["grab"],[["class"],["grab-newsletter"]]]],[2,"\\n                                "],[10,"div"],[14,0,"gh-newsletter-card-block title-block"],[12],[2,"\\n                                    "],[10,"h3"],[14,0,"gh-newsletter-card-name"],[12],[2,"\\n                                        "],[1,[32,3,["name"]]],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"p"],[14,0,"gh-newsletter-card-description"],[12],[2,"\\n                                        "],[1,[32,3,["description"]]],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[15,0,[31,["gh-newsletter-card-block stats-block ",[30,[36,3],[[30,[36,11],[[32,0,["activeNewsletterCount"]],1],null],"multiple"],null]]]],[12],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"gh-newsletter-card-name"],[12],[1,[32,3,["members","total"]]],[13],[2,"\\n                                        "],[10,"p"],[14,0,"gh-newsletter-card-description"],[12],[2,"Subscribers"],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"gh-newsletter-card-name"],[12],[1,[32,3,["posts","total"]]],[13],[2,"\\n                                        "],[10,"p"],[14,0,"gh-newsletter-card-description"],[12],[2,"Posts sent"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-newsletter-card-block cta-block"],[12],[2,"\\n"],[6,[37,3],[[30,[36,8],[[32,0,["activeNewsletterCount"]],1],null]],null,[["default","else"],[{"statements":[[2,"                                        "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,4,"button"],[4,[38,9],["click",[32,4]],null],[12],[10,"span"],[12],[2,"Customize →"],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,0,"dropdown"],[12],[2,"\\n                                            "],[8,"gh-dropdown-button",[],[["@dropdownName","@classNames"],[[31,["newsletter-actions-menu-newsletter-",[32,3,["id"]]]],"gh-btn gh-btn-action-icon gh-btn-icon gh-btn-outline gh-product-card-actions-button icon-only"]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"span"],[12],[2,"\\n                                                    "],[1,[30,[36,6],["dotdotdot"],null]],[2,"\\n                                                    "],[10,"span"],[14,0,"hidden"],[12],[2,"Actions"],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                                "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],[[31,["newsletter-actions-menu-newsletter-",[32,3,["id"]]]],"ul","gh-newsletter-actions-menu dropdown-menu dropdown-triangle-top-right"]],[["default"],[{"statements":[[2,"\\n                                                    "],[10,"li"],[12],[2,"\\n                                                        "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,9],["click",[32,4]],null],[12],[2,"\\n                                                            "],[10,"span"],[12],[2,"Edit"],[13],[2,"\\n                                                        "],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                    "],[10,"li"],[12],[2,"\\n                                                        "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,9],["click",[30,[36,12],[[32,0,["archiveNewsletter"]],[32,3,["id"]]],null]],null],[12],[2,"\\n                                                            "],[10,"span"],[12],[2,"Archive"],[13],[2,"\\n                                                        "],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "]],"parameters":[]}]]],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[3]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-add-newsletter"],[24,4,"button"],[4,[38,9],["click",[32,4]],null],[4,[38,9],["click",[32,0,["addNewsletter"]]],null],[12],[1,[30,[36,6],["add-stroke"],null]],[2,"Add newsletter"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"General settings"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Default newsletter recipients"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"When you publish new content, who do you usually want to send it to?"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,2],["defaultRecipientsOpen",[32,0]],null]],null],[12],[2,"\\n                            "],[10,"span"],[12],[1,[30,[36,3],[[32,0,["defaultRecipientsOpen"]],"Close","Expand"],null]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,4],[[32,0,["defaultRecipientsOpen"]]],null,[["default"],[{"statements":[[6,[37,3],[[30,[36,11],[[32,0,["activeNewsletterCount"]],1],null]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                    "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Default newsletter"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-input"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                    "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Default member selection"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-richdd-container gh-setting-rich-dropdown"],[12],[2,"\\n                                        "],[8,"settings/members-email/default-recipients-select",[],[["@recipients","@segment","@onRecipientsChange","@onSegmentChange"],[[32,0,["recipientsSelectValue"]],[32,0,["settings","editorDefaultEmailRecipientsFilter"]],[30,[36,0],[[32,0],"setDefaultEmailRecipients"],null],[30,[36,0],[[32,0],"setDefaultEmailRecipientsFilter"],null]]],null],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"      \\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-setting-richdd-container gh-setting-rich-dropdown form-group"],[12],[2,"\\n                                    "],[8,"settings/members-email/default-recipients-select",[],[["@recipients","@segment","@onRecipientsChange","@onSegmentChange"],[[32,0,["recipientsSelectValue"]],[32,0,["settings","editorDefaultEmailRecipientsFilter"]],[30,[36,0],[[32,0],"setDefaultEmailRecipients"],null],[30,[36,0],[[32,0],"setDefaultEmailRecipientsFilter"],null]]],null],[2,"\\n                                "],[13],[2,"                      \\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n"],[6,[37,10],[[32,0,["config","mailgunIsConfigured"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                            "],[10,"div"],[12],[2,"\\n                                "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Mailgun configuration"],[13],[2,"\\n                                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"The Mailgun API is used for bulk email newsletter delivery. "],[10,"a"],[14,6,"https://ghost.org/docs/faq/mailgun-newsletters/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Why is this required?"],[13],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,2],["membersEmailOpen",[32,0]],null]],null],[12],[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,3],[[32,0,["membersEmailOpen"]],"Close","Expand"],null]],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,4],[[32,0,["membersEmailOpen"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"flex flex-column flex"],[12],[2,"\\n                                    "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                            "],[8,"gh-form-group",[],[["@class"],["gh-mailgun-region no-margin"]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Mailgun region"],[13],[2,"\\n                                                "],[10,"div"],[14,0,"mt1"],[12],[2,"\\n                                                    "],[8,"power-select",[],[["@options","@selected","@onChange","@class","@searchEnabled","@triggerComponent"],[[32,0,["mailgunRegions"]],[32,0,["mailgunRegion"]],[30,[36,0],[[32,0],"setMailgunRegion"],null],"gh-select",false,"gh-power-select/trigger"]],[["default"],[{"statements":[[2,"\\n                                                        "],[1,[32,2,["flag"]]],[2," "],[1,[32,2,["name"]]],[2,"\\n                                                    "]],"parameters":[2]}]]],[2,"\\n                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                            "],[8,"gh-form-group",[],[["@class"],["no-margin"]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Mailgun domain"],[13],[2,"\\n                                                "],[8,"gh-text-input",[],[["@value","@input","@class"],[[30,[36,1],[[32,0,["mailgunSettings","domain"]]],null],[30,[36,0],[[32,0],"setMailgunDomain"],null],"mt1"]],null],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"p"],[12],[2,"Find your Mailgun region and domain\\n                                            "],[10,"a"],[14,6,"https://app.mailgun.com/app/sending/domains"],[14,"target","_blank"],[14,0,"fw5"],[14,"rel","noopener noreferrer"],[12],[2,"here"],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Mailgun Private API key"],[13],[2,"\\n                                        "],[8,"gh-text-input",[],[["@type","@value","@input","@class","@autocomplete"],["password",[30,[36,1],[[32,0,["mailgunSettings","apiKey"]]],null],[30,[36,0],[[32,0],"setMailgunApiKey"],null],"mt1 password","new-password"]],null],[2,"\\n                                        "],[10,"p"],[12],[2,"Find your Mailgun API keys\\n                                            "],[10,"a"],[14,6,"https://app.mailgun.com/app/account/security/api_keys"],[14,"target","_blank"],[14,0,"fw5"],[14,"rel","noopener noreferrer"],[12],[2,"here"],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Enable newsletter open-rate"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Track how many members are reading your emails"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[11,"label"],[24,0,"switch"],[24,"for","email-track-opens"],[4,[38,9],["click",[30,[36,0],[[32,0],"toggleEmailTrackOpens"],null]],null],[12],[2,"\\n                                "],[11,"input"],[16,"checked",[32,0,["settings","emailTrackOpens"]]],[24,0,"gh-input"],[24,3,"email-track-opens"],[24,4,"checkbox"],[4,[38,9],["click",[30,[36,0],[[32,0],"toggleEmailTrackOpens"],null]],null],[12],[13],[2,"\\n                                "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"    "],[10,"section"],[14,0,"gh-main-section gh-setting-email-section"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Enable newsletter sending"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Newsletter features are active, posts can be sent by email"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                        "],[11,"label"],[24,0,"switch"],[24,"for","email-newsletter-enabled"],[4,[38,9],["click",[30,[36,0],[[32,0],"toggleEmailNewsletterEnabled"],null]],null],[12],[2,"\\n                            "],[11,"input"],[16,"checked",[32,0,["emailNewsletterEnabled"]]],[24,0,"gh-input"],[24,3,"email-newsletter-enabled"],[24,4,"checkbox"],[4,[38,9],["click",[30,[36,0],[[32,0],"toggleEmailNewsletterEnabled"],null]],null],[12],[13],[2,"\\n                            "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["emailNewsletterEnabled"]]],null,[["default"],[{"statements":[[2,"\\n        "],[10,"section"],[14,0,"gh-main-section gh-setting-email-section"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Email design"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Customize the look and feel of your newsletters"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,4,"button"],[4,[38,9],["click",[32,4]],null],[12],[10,"span"],[12],[2," Customize design →"],[13],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"hr"],[12],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section gh-setting-email-section content-preview"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-setting-richdd-container gh-setting-rich-dropdown"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                            "],[10,"div"],[12],[2,"\\n                                "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Default newsletter recipients"],[13],[2,"\\n                                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"When you publish new content, who do you usually want to send it to?"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[8,"settings/members-email/default-recipients-select",[],[["@recipients","@segment","@onRecipientsChange","@onSegmentChange"],[[32,0,["recipientsSelectValue"]],[32,0,["settings","editorDefaultEmailRecipientsFilter"]],[30,[36,0],[[32,0],"setDefaultEmailRecipients"],null],[30,[36,0],[[32,0],"setDefaultEmailRecipientsFilter"],null]]],null],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                            "],[10,"div"],[12],[2,"\\n                                "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Email addresses"],[13],[2,"\\n                                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Contact information used for newsletters and member login emails"],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,2],["membersFromOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,3],[[32,0,["membersFromOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,4],[[32,0,["membersFromOpen"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[12],[2,"\\n                                    "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Newsletter email address"],[13],[2,"\\n                                        "],[10,"div"],[14,0,"flex items-center justify-center mt1"],[12],[2,"\\n                                            "],[8,"gh-text-input",[],[["@value","@input","@class"],[[30,[36,1],[[32,0,["fromAddress"]]],null],[30,[36,0],[[32,0],"setFromAddress"],[["value"],["target.value"]]],"gh-labs-members-emailinput"]],null],[2,"\\n                                            "],[8,"gh-task-button",[],[["@buttonText","@runningText","@successText","@disabled","@task","@class"],["Update newsletter address","Sending...","Confirmation email sent",[32,0,["disableUpdateFromAddressButton"]],[32,0,["updateFromAddress"]],"gh-btn gh-btn-icon gh-btn-green gh-btn-textfield-group gh-labs-members-emaildropdown"]],null],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"p"],[12],[2,"The address your newsletter posts are sent from"],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["showFromAddressConfirmation"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"flex items-center green-d1 nt3 lh-1"],[12],[2,"\\n                                        "],[1,[30,[36,6],["check-circle"],[["class"],["w4 h4 mr1 stroke-green-d1"]]]],[2," "],[10,"span"],[14,0,"nudge-left--2"],[12],[2,"Check your inbox and confirm before saving your settings"],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                                "],[8,"gh-form-group",[],[["@class"],["for-select gh-members-defaultemaildd"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,0,"fw6 f8"],[14,"for","reply-address"],[12],[2,"Newsletter replies go to"],[13],[2,"\\n                                    "],[10,"span"],[14,0,"gh-select mt1"],[12],[2,"\\n                                        "],[1,[30,[36,7],[[32,0,["selectedReplyAddress"]]],[["id","name","options","optionValuePath","optionLabelPath","update"],["reply-address","reply-address",[30,[36,1],[[32,0,["replyAddresses"]]],null],"value","label",[30,[36,0],[[32,0],"setReplyAddress"],null]]]]],[2,"\\n                                        "],[1,[30,[36,6],["arrow-down-small"],null]],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"flex justify-between"],[12],[2,"\\n                                        "],[10,"p"],[12],[2,"Where you receive responses to newsletters"],[13],[2,"\\n"],[6,[37,3],[[30,[36,8],[[32,0,["settings","membersReplyAddress"]],"support"],null]],null,[["default"],[{"statements":[[2,"                                            "],[8,"link-to",[[24,0,"gh-update-support-address"],[24,4,"button"]],[["@route","@query"],["settings.membership",[30,[36,5],null,[["showPortalSettings"],[true]]]]],[["default"],[{"statements":[[2,"Change support email address"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                            "],[10,"div"],[12],[2,"\\n                                "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Enable newsletter open-rate"],[13],[2,"\\n                                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Track how many members are reading your emails"],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                                "],[11,"label"],[24,0,"switch"],[24,"for","email-track-opens"],[4,[38,9],["click",[30,[36,0],[[32,0],"toggleEmailTrackOpens"],null]],null],[12],[2,"\\n                                    "],[11,"input"],[16,"checked",[32,0,["settings","emailTrackOpens"]]],[24,0,"gh-input"],[24,3,"email-track-opens"],[24,4,"checkbox"],[4,[38,9],["click",[30,[36,0],[[32,0],"toggleEmailTrackOpens"],null]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-email-publishmenu-preview"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Preview"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-publishmenu-dropdown-container"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-publishmenu-dropdown"],[12],[2,"\\n                        "],[10,"header"],[14,0,"gh-publishmenu-heading"],[12],[2,"Ready to "],[10,"span"],[14,0,"gh-publishmenu-heading-dropdown"],[12],[6,[37,3],[[32,0,["emailPreviewVisible"]]],null,[["default","else"],[{"statements":[[2," publish & send "]],"parameters":[]},{"statements":[[2," publish "]],"parameters":[]}]]],[1,[30,[36,6],["arrow-down"],null]],[13],[2," this post?"],[13],[2,"\\n                        "],[10,"section"],[14,0,"gh-publishmenu-content"],[12],[2,"\\n                            "],[10,"div"],[15,0,[31,["gh-publishmenu-section ",[30,[36,3],[[32,0,["emailPreviewVisible"]],"","mb7"],null]]]],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-publishmenu-radio active"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-publishmenu-radio-button"],[12],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-publishmenu-radio-content"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-publishmenu-radio-label"],[12],[2,"Set it live now"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-publishmenu-radio"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-publishmenu-radio-button"],[12],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-publishmenu-radio-content"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-publishmenu-radio-label"],[12],[2,"Schedule it for later"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,3],[[32,0,["emailPreviewVisible"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-publishmenu-section"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-publishmenu-email"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-publishmenu-email-label"],[12],[2,"\\n                                            "],[10,"label"],[14,0,"gh-publishmenu-radio-label mb3"],[12],[2,"Send by email to"],[13],[2,"\\n                                            "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                                "],[8,"gh-members-recipient-select",[],[["@filter"],[[32,0,["settings","editorDefaultEmailRecipientsFilter"]]]],null],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n"],[6,[37,10],[[32,0,["config","mailgunIsConfigured"]]],null,[["default"],[{"statements":[[2,"            "],[10,"hr"],[12],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Advanced"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                            "],[10,"div"],[12],[2,"\\n                                "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Mailgun configuration"],[13],[2,"\\n                                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"The Mailgun API is used for bulk email newsletter delivery. "],[10,"a"],[14,6,"https://ghost.org/docs/faq/mailgun-newsletters/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Why is this required?"],[13],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,2],["membersEmailOpen",[32,0]],null]],null],[12],[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,3],[[32,0,["membersEmailOpen"]],"Close","Expand"],null]],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,4],[[32,0,["membersEmailOpen"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"flex flex-column flex"],[12],[2,"\\n                                    "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                            "],[8,"gh-form-group",[],[["@class"],["gh-mailgun-region no-margin"]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Mailgun region"],[13],[2,"\\n                                                "],[10,"div"],[14,0,"mt1"],[12],[2,"\\n                                                    "],[8,"power-select",[],[["@options","@selected","@onChange","@class","@searchEnabled","@triggerComponent"],[[32,0,["mailgunRegions"]],[32,0,["mailgunRegion"]],[30,[36,0],[[32,0],"setMailgunRegion"],null],"gh-select",false,"gh-power-select/trigger"]],[["default"],[{"statements":[[2,"\\n                                                        "],[1,[32,1,["flag"]]],[2," "],[1,[32,1,["name"]]],[2,"\\n                                                    "]],"parameters":[1]}]]],[2,"\\n                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                            "],[8,"gh-form-group",[],[["@class"],["no-margin"]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Mailgun domain"],[13],[2,"\\n                                                "],[8,"gh-text-input",[],[["@value","@input","@class"],[[30,[36,1],[[32,0,["mailgunSettings","domain"]]],null],[30,[36,0],[[32,0],"setMailgunDomain"],null],"mt1"]],null],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"p"],[12],[2,"Find your Mailgun region and domain\\n                                            "],[10,"a"],[14,6,"https://app.mailgun.com/app/sending/domains"],[14,"target","_blank"],[14,0,"fw5"],[14,"rel","noopener noreferrer"],[12],[2,"here"],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Mailgun Private API key"],[13],[2,"\\n                                        "],[8,"gh-text-input",[],[["@type","@value","@input","@class","@autocomplete"],["password",[30,[36,1],[[32,0,["mailgunSettings","apiKey"]]],null],[30,[36,0],[[32,0],"setMailgunApiKey"],null],"mt1 password","new-password"]],null],[2,"\\n                                        "],[10,"p"],[12],[2,"Find your Mailgun API keys\\n                                            "],[10,"a"],[14,6,"https://app.mailgun.com/app/account/security/api_keys"],[14,"target","_blank"],[14,0,"fw5"],[14,"rel","noopener noreferrer"],[12],[2,"here"],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","readonly","toggle","if","liquid-if","hash","svg-jar","one-way-select","eq","on","unless","gt","fn","not","not-eq","-track-array","each","feature"]}',moduleName:"ghost-admin/components/settings/members-email.hbs"}),F={flag:"🇺🇸",name:"US",baseUrl:"https://api.mailgun.net/v3"},B={flag:"🇪🇺",name:"EU",baseUrl:"https://api.eu.mailgun.net/v3"}
let V=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.computed("settings.editorDefaultEmailRecipients"),l=Ember.computed("recipientsSelectValue"),u=Ember.computed("settings.membersReplyAddress"),d=Ember.computed("fromAddress"),c=Ember.computed("settings.mailgunBaseUrl"),p=Ember.computed("settings.{mailgunBaseUrl,mailgunApiKey,mailgunDomain}"),m=Ember.computed("newsletters.newsletters.@each.status"),h=Ember.computed("newsletters.newsletters.@each.status"),g=Ember._action,b=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,E=Ember._action,k=Ember._action,P=Ember._action,O=Ember._action,j=Ember._action,_=Ember._action,z=Ember._action,x=(0,t.task)((function*(){let e=this.get("ghostPaths.url").api("/settings/members/email")
try{const t=yield this.ajax.post(e,{data:{email:this.fromAddress,type:"fromAddressUpdate"}})
return this.toggleProperty("showFromAddressConfirmation"),t}catch(t){return!1}})).drop(),T=class extends Ember.Component{constructor(){super(...arguments),L(this,"config",S,this),L(this,"ghostPaths",M,this),L(this,"ajax",C,this),L(this,"settings",D,this),L(this,"newsletters",A,this),R(this,"replyAddresses",null),R(this,"recipientsSelectValue",null),R(this,"showFromAddressConfirmation",!1),R(this,"showEmailDesignSettings",!1),L(this,"updateFromAddress",I,this)}get emailNewsletterEnabled(){return"disabled"!==this.get("settings.editorDefaultEmailRecipients")}get emailPreviewVisible(){return"none"!==this.recipientsSelectValue}get selectedReplyAddress(){return this.replyAddresses.findBy("value",this.get("settings.membersReplyAddress"))}get disableUpdateFromAddressButton(){const e=this.get("settings.membersFromAddress")||""
return!e.includes("@")&&this.config.emailDomain?!this.fromAddress||this.fromAddress===`${e}@${this.config.emailDomain}`:!this.fromAddress||this.fromAddress===e}get mailgunRegion(){return this.settings.get("mailgunBaseUrl")?[F,B].find((e=>e.baseUrl===this.settings.get("mailgunBaseUrl"))):F}get mailgunSettings(){return{apiKey:this.get("settings.mailgunApiKey")||"",domain:this.get("settings.mailgunDomain")||"",baseUrl:this.get("settings.mailgunBaseUrl")||""}}get activeNewsletterCount(){return this.newsletters.newsletters.filter((e=>"active"===e.status)).length}get archivedNewsletterCount(){return this.newsletters.newsletters.filter((e=>"archived"===e.status)).length}init(){super.init(...arguments),this.set("mailgunRegions",[F,B]),this.set("replyAddresses",[{label:"Newsletter email address ("+this.fromAddress+")",value:"newsletter"},{label:"Support email address ("+this.supportAddress+")",value:"support"}]),this.set("recipientsSelectValue",this._getDerivedRecipientsSelectValue())}toggleFromAddressConfirmation(){this.toggleProperty("showFromAddressConfirmation")}closeEmailDesignSettings(){this.set("showEmailDesignSettings",!1)}setMailgunDomain(e){this.set("settings.mailgunDomain",e.target.value),this.get("settings.mailgunBaseUrl")||this.set("settings.mailgunBaseUrl",this.mailgunRegion.baseUrl)}setMailgunApiKey(e){this.set("settings.mailgunApiKey",e.target.value),this.get("settings.mailgunBaseUrl")||this.set("settings.mailgunBaseUrl",this.mailgunRegion.baseUrl)}setMailgunRegion(e){this.set("settings.mailgunBaseUrl",e.baseUrl)}setFromAddress(e){this.setEmailAddress("fromAddress",e)}toggleEmailTrackOpens(e){e&&e.preventDefault(),this.set("settings.emailTrackOpens",!this.settings.get("emailTrackOpens"))}toggleEmailNewsletterEnabled(e){e&&e.preventDefault()
!this.emailNewsletterEnabled?this.set("settings.editorDefaultEmailRecipients","visibility"):(this.set("settings.editorDefaultEmailRecipients","disabled"),this.set("settings.editorDefaultEmailRecipientsFilter",null)),this.set("recipientsSelectValue",this._getDerivedRecipientsSelectValue())}setReplyAddress(e){const t=e.value
this.set("settings.membersReplyAddress",t)}setDefaultEmailRecipients(e){["visibility","disabled"].includes(e)?(this.settings.set("editorDefaultEmailRecipients",e),this.settings.set("editorDefaultEmailRecipientsFilter",null)):this.settings.set("editorDefaultEmailRecipients","filter"),"all-members"===e&&this.settings.set("editorDefaultEmailRecipientsFilter","status:free,status:-free"),"paid-only"===e&&this.settings.set("editorDefaultEmailRecipientsFilter","status:-free"),"none"===e&&this.settings.set("editorDefaultEmailRecipientsFilter",null),this.set("recipientsSelectValue",e)}setDefaultEmailRecipientsFilter(e){this.settings.set("editorDefaultEmailRecipientsFilter",e)}archiveNewsletter(e){this.newsletters.archive(e)}addNewsletter(){this.newsletters.add()}_getDerivedRecipientsSelectValue(){const e=this.settings.get("editorDefaultEmailRecipients"),t=this.settings.get("editorDefaultEmailRecipientsFilter")
return"filter"===e?"status:free,status:-free"===t?"all-members":"status:-free"===t?"paid-only":null===t?"none":"segment":e}},S=U(T.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=U(T.prototype,"ghostPaths",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=U(T.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=U(T.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=U(T.prototype,"newsletters",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U(T.prototype,"emailNewsletterEnabled",[o],Object.getOwnPropertyDescriptor(T.prototype,"emailNewsletterEnabled"),T.prototype),U(T.prototype,"emailPreviewVisible",[l],Object.getOwnPropertyDescriptor(T.prototype,"emailPreviewVisible"),T.prototype),U(T.prototype,"selectedReplyAddress",[u],Object.getOwnPropertyDescriptor(T.prototype,"selectedReplyAddress"),T.prototype),U(T.prototype,"disableUpdateFromAddressButton",[d],Object.getOwnPropertyDescriptor(T.prototype,"disableUpdateFromAddressButton"),T.prototype),U(T.prototype,"mailgunRegion",[c],Object.getOwnPropertyDescriptor(T.prototype,"mailgunRegion"),T.prototype),U(T.prototype,"mailgunSettings",[p],Object.getOwnPropertyDescriptor(T.prototype,"mailgunSettings"),T.prototype),U(T.prototype,"activeNewsletterCount",[m],Object.getOwnPropertyDescriptor(T.prototype,"activeNewsletterCount"),T.prototype),U(T.prototype,"archivedNewsletterCount",[h],Object.getOwnPropertyDescriptor(T.prototype,"archivedNewsletterCount"),T.prototype),U(T.prototype,"toggleFromAddressConfirmation",[g],Object.getOwnPropertyDescriptor(T.prototype,"toggleFromAddressConfirmation"),T.prototype),U(T.prototype,"closeEmailDesignSettings",[b],Object.getOwnPropertyDescriptor(T.prototype,"closeEmailDesignSettings"),T.prototype),U(T.prototype,"setMailgunDomain",[f],Object.getOwnPropertyDescriptor(T.prototype,"setMailgunDomain"),T.prototype),U(T.prototype,"setMailgunApiKey",[v],Object.getOwnPropertyDescriptor(T.prototype,"setMailgunApiKey"),T.prototype),U(T.prototype,"setMailgunRegion",[y],Object.getOwnPropertyDescriptor(T.prototype,"setMailgunRegion"),T.prototype),U(T.prototype,"setFromAddress",[w],Object.getOwnPropertyDescriptor(T.prototype,"setFromAddress"),T.prototype),U(T.prototype,"toggleEmailTrackOpens",[E],Object.getOwnPropertyDescriptor(T.prototype,"toggleEmailTrackOpens"),T.prototype),U(T.prototype,"toggleEmailNewsletterEnabled",[k],Object.getOwnPropertyDescriptor(T.prototype,"toggleEmailNewsletterEnabled"),T.prototype),U(T.prototype,"setReplyAddress",[P],Object.getOwnPropertyDescriptor(T.prototype,"setReplyAddress"),T.prototype),U(T.prototype,"setDefaultEmailRecipients",[O],Object.getOwnPropertyDescriptor(T.prototype,"setDefaultEmailRecipients"),T.prototype),U(T.prototype,"setDefaultEmailRecipientsFilter",[j],Object.getOwnPropertyDescriptor(T.prototype,"setDefaultEmailRecipientsFilter"),T.prototype),U(T.prototype,"archiveNewsletter",[_],Object.getOwnPropertyDescriptor(T.prototype,"archiveNewsletter"),T.prototype),U(T.prototype,"addNewsletter",[z],Object.getOwnPropertyDescriptor(T.prototype,"addNewsletter"),T.prototype),I=U(T.prototype,"updateFromAddress",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T)
e.default=V,Ember._setComponentTemplate(N,V)})),define("ghost-admin/components/settings/members-email/default-recipients-select",["exports","@glimmer/component"],(function(e,t){var n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"Vp2i/UD3",block:'{"symbols":["option","@segment","@onSegmentChange","@recipients"],"statements":[[8,"power-select",[],[["@options","@selected","@onChange","@triggerClass","@dropdownClass"],[[32,0,["options"]],[32,0,["selectedOption"]],[32,0,["setRecipients"]],"gh-setting-dropdown","gh-setting-dropdown-list"]],[["default"],[{"statements":[[2,"\\n    "],[10,"div"],[14,0,"gh-setting-dropdown-content"],[12],[2,"\\n        "],[1,[30,[36,2],[[32,1,["icon"]]],[["class"],[[30,[36,1],["w8 h8 mr2 fill-",[30,[36,0],[[32,1,["icon_color"]],"green"],null]],null]]]]],[2,"\\n        "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"\\n            "],[1,[32,1,["name"]]],[10,"br"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-desc"],[12],[1,[32,1,["description"]]],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,4],[[30,[36,3],[[32,4],"segment"],null]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-setting-large-dropdown mt2"],[12],[2,"\\n        "],[8,"gh-members-segment-select",[],[["@segment","@onChange","@enforcedCountFilter"],[[32,2],[32,3],"subscribed:true"]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["or","concat","svg-jar","eq","if"]}',moduleName:"ghost-admin/components/settings/members-email/default-recipients-select.hbs"})
let a=(n=Ember._action,i=class extends t.default{get options(){return[{name:"Whoever has access to the post",description:"Free posts to everyone, premium posts sent to paid members",value:"visibility",icon:"members-post",icon_color:"green"},{name:"All members",description:"Everyone who is subscribed to newsletter updates, whether free or paid members",value:"all-members",icon:"members-all",icon_color:"blue"},{name:"Paid-members only",description:"People who have a premium subscription",value:"paid-only",icon:"members-paid",icon_color:"pink"},{name:"Specific people",description:"Only people with any of the selected tiers or labels",value:"segment",icon:"members-segment",icon_color:"yellow"},{name:"Usually nobody",description:"Newsletters are off for new posts, but can be enabled when needed",value:"none",icon:"no-members",icon_color:"midlightgrey-d2"}]}get selectedOption(){return this.options.find((e=>e.value===this.args.recipients))}setRecipients(e){this.args.onRecipientsChange(e.value)}},s=i.prototype,o="setRecipients",l=[n],u=Object.getOwnPropertyDescriptor(i.prototype,"setRecipients"),d=i.prototype,c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),i)
var s,o,l,u,d,c
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/settings/members-subscription-access",["exports","@glimmer/component"],(function(e,t){var n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"McpDxjLN",block:'{"symbols":["option"],"statements":[[10,"div"],[14,0,"gh-setting-richdd-container"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Subscription access"],[13],[2,"\\n            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Who should be able to subscribe to your site?"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[8,"power-select",[],[["@options","@selected","@onChange","@triggerClass","@dropdownClass"],[[32,0,["options"]],[32,0,["selectedOption"]],[32,0,["setSignupAccess"]],"gh-setting-dropdown","gh-setting-dropdown-list"]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"gh-setting-dropdown-content"],[12],[2,"\\n            "],[1,[30,[36,2],[[32,1,["icon"]]],[["class"],[[30,[36,1],["w8 h8 mr2 fill-",[30,[36,0],[[32,1,["icon_color"]],"green"],null]],null]]]]],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"\\n                "],[1,[32,1,["name"]]],[10,"br"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[1,[32,1,["description"]]],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["or","concat","svg-jar"]}',moduleName:"ghost-admin/components/settings/members-subscription-access.hbs"})
let l=(n=Ember.inject.service,i=Ember._action,r=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="settings",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get options(){return[{name:"Anyone can sign up",description:"All visitors will be able to subscribe and sign in",value:"all",icon:"globe",icon_color:"green"},{name:"Only people I invite",description:"People can sign in from your site but won't be able to sign up",value:"invite",icon:"email-love-letter",icon_color:"blue"},{name:"Nobody",description:"Disable all member features, including newsletters",value:"none",icon:"no-members",icon_color:"midlightgrey-d2"}]}get selectedOption(){return this.options.find((e=>e.value===this.settings.get("membersSignupAccess")))}setSignupAccess(e){this.settings.set("membersSignupAccess",e.value),this.args.onChange?.(e.value),"none"===e.value&&this.settings.set("defaultContentVisibility","public")}},a=s(r.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"setSignupAccess",[i],Object.getOwnPropertyDescriptor(r.prototype,"setSignupAccess"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/settings/members/archive-tier",["exports","@glimmer/component"],(function(e,t){var n,i,r,a,s,o,l,u,d
function c(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function p(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"sGWoXcGM",block:'{"symbols":[],"statements":[[6,[37,2],[[32,0,["product","active"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["product","isNew"]]],null,[["default"],[{"statements":[[2,"        "],[11,"button"],[24,4,"button"],[4,[38,0],["click",[32,0,["handleArchiveTier"]]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Archive"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"    "],[11,"button"],[24,4,"button"],[4,[38,0],["click",[32,0,["handleUnarchiveTier"]]],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"Reactivate"],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","unless","if"]}',moduleName:"ghost-admin/components/settings/members/archive-tier.hbs"})
let h=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(){super(...arguments),c(this,"notifications",l,this),c(this,"router",u,this),c(this,"modals",d,this)}get isActive(){const{product:e}=this.args
return!!e.active}get product(){return this.args.product}handleArchiveTier(){this.product.isNew||this.modals.open("modals/tiers/archive",{product:this.product,onArchive:this.args.onArchive},{className:"fullscreen-modal fullscreen-modal-action fullscreen-modal-wide"})}handleUnarchiveTier(){this.product.isNew||this.modals.open("modals/tiers/unarchive",{product:this.product,onUnarchive:this.args.onUnarchive},{className:"fullscreen-modal fullscreen-modal-action fullscreen-modal-wide"})}},l=p(o.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=p(o.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(o.prototype,"handleArchiveTier",[a],Object.getOwnPropertyDescriptor(o.prototype,"handleArchiveTier"),o.prototype),p(o.prototype,"handleUnarchiveTier",[s],Object.getOwnPropertyDescriptor(o.prototype,"handleUnarchiveTier"),o.prototype),o)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/sortable-objects",["exports","ember-drag-drop/components/sortable-objects"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default
e.default=n})),define("ghost-admin/components/tiers/segment-select",["exports","@glimmer/component","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p
function m(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"joYVilTu",block:'{"symbols":["option","@segment","@enforcedCountFilter","@onSegmentCountChange","@disabled","@showMemberCount"],"statements":[[8,"gh-token-input",[],[["@options","@selected","@disabled","@optionsComponent","@allowCreation","@renderInPlace","@onChange","@class","@placeholder"],[[32,0,["options"]],[32,0,["selectedOptions"]],[30,[36,0],[[32,5],[32,0,["fetchOptionsTask","isRunning"]]],null],"power-select/options",false,[32,0,["renderInPlace"]],[32,0,["setSegment"]],"select-members gh-tier-token-input","Select a tier"]],[["default"],[{"statements":[[2,"\\n    "],[10,"span"],[12],[1,[32,1,["name"]]],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,1],[[32,6]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-members-segment-count",[],[["@segment","@enforcedFilter","@onSegmentCountChange"],[[32,2],[32,3],[32,4]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["or","if"]}',moduleName:"ghost-admin/components/tiers/segment-select.hbs"})
let b=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=class extends t.default{get renderInPlace(){return void 0!==this.args.renderInPlace&&this.args.renderInPlace}constructor(){super(...arguments),m(this,"store",u,this),m(this,"feature",d,this),m(this,"_options",c,this),m(this,"products",p,this),this.fetchOptionsTask.perform()}get options(){return this._options}get flatOptions(){const e=[]
return this._options.forEach((function t(n){if(n.options)return n.options.forEach(t)
e.push(n)})),e}get selectedOptions(){const e=(this.args.tiers||[]).map((e=>this.products.find((t=>t.id===e.id||t.slug===e.slug)))).filter((e=>!!e)).map((e=>e.id))
return this.flatOptions.filter((t=>e.includes(t.id)))}setSegment(e){let t=e.mapBy("id").map((e=>{let t=this.products.find((t=>t.id===e))
return{id:t.id,slug:t.slug,name:t.name}}))||[]
this.args.onChange?.(t)}*fetchOptionsTask(){const e=yield[]
if(this.feature.get("multipleProducts")){const t=yield this.store.query("product",{filter:"type:paid",limit:"all",include:"monthly_price,yearly_price,benefits"})
if(this.products=t,t.length>0){const n={groupName:"Tiers",options:[]}
t.forEach((e=>{n.options.push({name:e.name,id:e.id,count:e.count?.members,class:"segment-product"})})),e.push(n),this.args.selectDefaultProduct&&!this.args.tiers&&this.setSegment([n.options[0]])}}this._options=e}},u=h(l.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"_options",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=h(l.prototype,"products",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h(l.prototype,"setSegment",[o],Object.getOwnPropertyDescriptor(l.prototype,"setSegment"),l.prototype),h(l.prototype,"fetchOptionsTask",[n.task],Object.getOwnPropertyDescriptor(l.prototype,"fetchOptionsTask"),l.prototype),l)
e.default=b,Ember._setComponentTemplate(g,b)})),define("ghost-admin/components/vertical-collection",["exports","@html-next/vertical-collection/components/vertical-collection/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/x-file-input",["exports","emberx-file-input/components/x-file-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/controllers/application",["exports"],(function(e){var t,n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w
function E(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function k(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let P=(t=Ember.inject.service,n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.computed.reads("config.hostSettings.billing.enabled"),d=Ember.computed("router.currentRouteName","session.{isAuthenticated,user}","ui.isFullScreen"),c=class extends Ember.Controller{constructor(){super(...arguments),E(this,"billing",p,this),E(this,"config",m,this),E(this,"dropdown",h,this),E(this,"feature",g,this),E(this,"router",b,this),E(this,"session",f,this),E(this,"settings",v,this),E(this,"ui",y,this),E(this,"showBilling",w,this)}get showNavMenu(){let{router:e,session:t,ui:n}=this
return!n.isFullScreen&&(!(!t.isAuthenticated||!t.user)&&(("error404"!==e.currentRouteName||t.isAuthenticated)&&!e.currentRouteName.match(/(signin|signup|setup|reset)/)))}},p=k(c.prototype,"billing",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=k(c.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(c.prototype,"dropdown",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(c.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=k(c.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k(c.prototype,"session",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=k(c.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=k(c.prototype,"ui",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=k(c.prototype,"showBilling",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k(c.prototype,"showNavMenu",[d],Object.getOwnPropertyDescriptor(c.prototype,"showNavMenu"),c.prototype),c)
e.default=P})),define("ghost-admin/controllers/billing",["exports"],(function(e){var t,n,i
function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(t=Ember.computed.alias("model"),n=class extends Ember.Controller{constructor(){var e,t,n,a
super(...arguments),r(this,"queryParams",["action"]),r(this,"action",null),e=this,t="guid",a=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}},s=n.prototype,o="guid",l=[t],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),i=c,n)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/controllers/dashboard",["exports","ember-concurrency"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z
function x(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function T(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let S=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._action,g=class extends Ember.Controller{constructor(){super(...arguments),x(this,"feature",b,this),x(this,"session",f,this),x(this,"membersStats",v,this),x(this,"store",y,this),x(this,"settings",w,this),x(this,"whatsNew",E,this),x(this,"topMembersData",k,this),x(this,"topMembersError",P,this),x(this,"topMembersLoading",O,this),x(this,"whatsNewEntries",j,this),x(this,"whatsNewEntriesLoading",_,this),x(this,"whatsNewEntriesError",z,this)}get topMembersDataHasOpenRates(){return this.topMembersData&&this.topMembersData.find((e=>null!==e.emailOpenRate))}get showMembersData(){return"none"!==this.settings.get("membersSignupAccess")}get showMembersGraphs(){if(!this.feature.improvedOnboarding)return this.showMembersData
const e=this.store.peekAll("member").length>0
return this.showMembersData&&this.checkMemberCountTask.performCount>0&&e}initialise(){this.loadTopMembers(),this.loadWhatsNew(),this.checkMemberCountTask.perform()}loadTopMembers(){if(this.feature.membersActivityFeed)return
this.topMembersLoading=!0
this.store.query("member",{filter:"email_open_rate:-null",order:"email_open_rate desc",limit:5}).then((e=>e.length?e:this.store.query("member",{filter:"status:paid",order:"created_at asc",limit:5}))).then((e=>{this.topMembersData=e,this.topMembersLoading=!1})).catch((e=>{this.topMembersError=e,this.topMembersLoading=!1}))}loadWhatsNew(){this.whatsNewEntriesLoading=!0,this.whatsNew.fetchLatest.perform().then((()=>{this.whatsNewEntriesLoading=!1,this.whatsNewEntries=this.whatsNew.entries.slice(0,3)}),(e=>{this.whatsNewEntriesError=e,this.whatsNewEntriesLoading=!1}))}dismissLaunchBanner(){this.settings.set("editorIsLaunchComplete",!0),this.settings.save()}*checkMemberCountTask(){0===this.store.peekAll("member").length&&(yield this.store.query("member",{limit:1}))}},b=T(g.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=T(g.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=T(g.prototype,"membersStats",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=T(g.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=T(g.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=T(g.prototype,"whatsNew",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=T(g.prototype,"topMembersData",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=T(g.prototype,"topMembersError",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=T(g.prototype,"topMembersLoading",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=T(g.prototype,"whatsNewEntries",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=T(g.prototype,"whatsNewEntriesLoading",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=T(g.prototype,"whatsNewEntriesError",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T(g.prototype,"dismissLaunchBanner",[h],Object.getOwnPropertyDescriptor(g.prototype,"dismissLaunchBanner"),g.prototype),T(g.prototype,"checkMemberCountTask",[t.task],Object.getOwnPropertyDescriptor(g.prototype,"checkMemberCountTask"),g.prototype),g)
e.default=S}))
define("ghost-admin/controllers/designsandbox",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Controller{}e.default=t})),define("ghost-admin/controllers/editor",["exports","ghost-admin/components/modals/editor/confirm-leave","ghost-admin/components/modals/delete-post","ghost-admin/models/post","ghost-admin/components/modals/post-preview","ghost-admin/utils/bound-one-way","ghost-admin/config/environment","ghost-admin/utils/isNumber","moment","ember-concurrency","ghost-admin/services/ajax","ember-ajax/errors"],(function(e,t,n,i,r,a,s,o,l,u,d,c){var p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L,R,U,N,F,B,V,H,q,$,Y,W,K,G,Z,J,X,Q,ee,te,ne,ie,re,ae,se,oe,le,ue,de,ce,pe,me,he,ge,be,fe,ve,ye,we,Ee,ke,Pe,Oe,je,_e,ze,xe
function Te(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const Ce="(Untitled)"
let De=["post.scratch","post.titleScratch","post.hasDirtyAttributes","post.tags.[]","post.isError"]
i.default.eachAttribute((function(e){De.push(`post.${e}`)}))
const Ae={errors:{post:{published:{published:"Update failed",draft:"Saving failed",scheduled:"Scheduling failed"},draft:{published:"Publish failed",draft:"Saving failed",scheduled:"Scheduling failed"},scheduled:{scheduled:"Update failed",draft:"Unscheduling failed",published:"Publish failed"}}},success:{post:{published:{published:"Updated",draft:"Saved",scheduled:"Scheduled",sent:"Sent"},draft:{published:"Published",draft:"Saved",scheduled:"Scheduled",sent:"Sent"},scheduled:{scheduled:"Updated",draft:"Unscheduled",published:"Published",sent:"Sent"},sent:{sent:"Updated"}}}}
let Ie=(p=Ember.inject.controller,m=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,v=Ember.inject.service,y=Ember.inject.service,w=Ember.inject.service,E=Ember.inject.service,k=Ember.inject.service,P=Ember.computed.alias("model"),O=(0,a.default)("post.isPublished"),j=(0,a.default)("post.isScheduled"),_=(0,u.taskGroup)().enqueue(),z=Ember.computed.mapBy("post.tags","name"),x=Ember.computed(...De),T=Ember.computed,S=Ember.computed("_snippets.@each.{name,isNew}"),M=Ember.computed("session.user.{isAdmin,isEditor}"),C=Ember.computed("_autosaveTask.isRunning","_timedSaveTask.isRunning"),D=Ember.computed("post.isDraft"),A=Ember._action,I=Ember._action,L=Ember._action,R=Ember._action,U=Ember._action,N=Ember._action,F=Ember._action,B=Ember._action,V=Ember._action,H=Ember._action,q=Ember._action,$=Ember._action,Y=Ember._action,W=Ember._action,K=Ember._action,G=Ember._action,Z=Ember._action,J=Ember._action,X=Ember._action,Q=Ember._action,ee=Ember._action,te=Ember._action,ne=Ember._action,ie=Ember._action,re=Ember._action,ae=(0,u.task)({group:"saveTasks"}),se=(0,u.task)({group:"saveTasks"}),oe=(0,u.task)({group:"saveTasks"}),le=(0,u.task)((function*(){if(this._canAutosave){if(this.get("post.isNew"))return this.autosaveTask.perform()
yield(0,u.timeout)(3e3),this.autosaveTask.perform()}})).restartable(),ue=(0,u.task)((function*(){if(this._canAutosave)for(;"test"!==s.default.environment;)yield(0,u.timeout)(6e4),this.autosaveTask.perform()})).drop(),de=class extends Ember.Controller{constructor(){super(...arguments),Te(this,"application",ce,this),Te(this,"config",pe,this),Te(this,"feature",me,this),Te(this,"membersCountCache",he,this),Te(this,"modals",ge,this),Te(this,"notifications",be,this),Te(this,"router",fe,this),Te(this,"slugGenerator",ve,this),Te(this,"session",ye,this),Te(this,"settings",we,this),Te(this,"ui",Ee,this),Se(this,"shouldFocusTitle",!1),Se(this,"showReAuthenticateModal",!1),Se(this,"showPostPreviewModal",!1),Se(this,"showUpgradeModal",!1),Se(this,"showDeleteSnippetModal",!1),Se(this,"showSettingsMenu",!1),Se(this,"hostLimitError",null),Se(this,"wordcount",null),Se(this,"_leaveConfirmed",!1),Se(this,"_previousTagNames",null),Te(this,"post",ke,this),Te(this,"willPublish",Pe,this),Te(this,"willSchedule",Oe,this),Te(this,"saveTasks",je,this),Te(this,"_tagNames",_e,this),Te(this,"_autosaveTask",ze,this),Te(this,"_timedSaveTask",xe,this)}get hasDirtyAttributes(){return this._hasDirtyAttributes()}set hasDirtyAttributes(e){return e}get _snippets(){return this.store.peekAll("snippet")}get snippets(){return this._snippets.reject((e=>e.get("isNew"))).sort(((e,t)=>e.name.localeCompare(t.name)))}get canManageSnippets(){let{user:e}=this.session
return!(!e.get("isAdmin")&&!e.get("isEditor"))}get _autosaveRunning(){let e=this.get("_autosaveTask.isRunning"),t=this.get("_timedSaveTask.isRunning")
return e||t}get _canAutosave(){return"test"!==s.default.environment&&this.get("post.isDraft")}updateScratch(e){this.set("post.scratch",e),this._autosaveTask.perform(),this._timedSaveTask.perform()}updateTitleScratch(e){this.set("post.titleScratch",e)}setSaveType(e){"publish"===e?(this.set("willPublish",!0),this.set("willSchedule",!1)):"draft"===e?(this.set("willPublish",!1),this.set("willSchedule",!1)):"schedule"===e&&(this.set("willSchedule",!0),this.set("willPublish",!1))}save(e){return this.saveTask.perform(e)}cancelAutosave(){this._autosaveTask.cancelAll(),this._timedSaveTask.cancelAll()}leaveEditor(){let e=this.leaveEditorTransition
if(e)return this.reset(),e.retry()
this.notifications.showAlert("Sorry, there was an error in the application. Please let the Ghost team know what happened.",{type:"error"})}openDeletePostModal(){this.get("post.isNew")||this.modals.open(n.default,{post:this.post})}openPostPreview(e){e?.preventDefault(),this.post.isDraft?this.send("openPostPreviewModal"):window.open(this.post.previewUrl,"_blank","noopener")}openPostPreviewModal(){this.modals.open(r.default,{post:this.post,saveTask:this.saveTask,hasDirtyAttributes:this.hasDirtyAttributes,setEditorSaveType:this.setSaveType,memberCount:this.memberCount})}toggleReAuthenticateModal(){this.showReAuthenticateModal&&(this._reauthSave&&this.saveTask.perform(this._reauthSaveOptions),this._reauthSave=!1,this._reauthSaveOptions=null),this.toggleProperty("showReAuthenticateModal")}openUpgradeModal(){this.set("showUpgradeModal",!0)}closeUpgradeModal(){this.set("showUpgradeModal",!1)}setKoenigEditor(e){this._koenig=e,this.post.isDraft&&this._koenig.cleanup()}updateWordCount(e){this.set("wordCount",e)}setFeatureImage(e){this.post.set("featureImage",e),this.post.isDraft&&this.autosaveTask.perform()}clearFeatureImage(){this.post.set("featureImage",null),this.post.set("featureImageAlt",null),this.post.set("featureImageCaption",null),this.post.isDraft&&this.autosaveTask.perform()}setFeatureImageAlt(e){this.post.set("featureImageAlt",e),this.post.isDraft&&this.autosaveTask.perform()}setFeatureImageCaption(e){this.post.set("featureImageCaption",e),this.post.isDraft&&this.autosaveTask.perform()}toggleSettingsMenu(){this.set("showSettingsMenu",!this.showSettingsMenu)}closeSettingsMenu(){this.set("showSettingsMenu",!1)}saveSnippet(e){let t=this.store.createRecord("snippet",e)
return t.save().then((()=>(this.notifications.closeAlerts("snippet.save"),this.notifications.showNotification(`Snippet saved as "${e.name}"`,{type:"success"}),t))).catch((e=>{throw t.errors.isEmpty||this.notifications.showAlert(`Snippet save failed: ${t.errors.messages.join(". ")}`,{type:"error",key:"snippet.save"}),t.rollbackAttributes(),e}))}toggleUpdateSnippetModal(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
e?this.set("snippetToUpdate",{snippetRecord:e,updatedProperties:t}):this.set("snippetToUpdate",null)}updateSnippet(){if(!this.snippetToUpdate)return Promise.reject()
const{snippetRecord:e,updatedProperties:{mobiledoc:t}}=this.snippetToUpdate
return e.set("mobiledoc",t),e.save().then((()=>(this.set("snippetToUpdate",null),this.notifications.closeAlerts("snippet.save"),this.notifications.showNotification(`Snippet "${e.name}" updated`,{type:"success"}),e))).catch((t=>{throw e.errors.isEmpty||this.notifications.showAlert(`Snippet save failed: ${e.errors.messages.join(". ")}`,{type:"error",key:"snippet.save"}),e.rollbackAttributes(),t}))}toggleDeleteSnippetModal(e){this.set("snippetToDelete",e)}deleteSnippet(e){return e.destroyRecord()}*autosaveTask(){if(!this.get("saveTask.isRunning"))return yield this.saveTask.perform({silent:!0,backgroundSave:!0})}*saveTask(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.get("post.status"),i=this.get("post.isNew")
if(this.send("cancelAutosave"),!t.backgroundSave||this.hasDirtyAttributes){if(t.backgroundSave)e="draft"
else{e=this.get("post.pastScheduledTime")?this.willSchedule||this.willPublish?"published":"draft":this.willPublish&&!this.get("post.isScheduled")?"published":this.willSchedule&&!this.get("post.isPublished")?"scheduled":this.get("post.isSent")?"sent":"draft"
let n="published"===e&&!this.post.isPublished,i="scheduled"===e&&!this.post.isScheduled
t.sendEmailWhenPublished&&(n||i)&&(t.adapterOptions=Object.assign({},t.adapterOptions,{sendEmailWhenPublished:t.sendEmailWhenPublished}))}t.backgroundSave||this._koenig&&(this._koenig.cleanup(),this.set("hasDirtyAttributes",!0)),this.set("post.mobiledoc",JSON.parse(JSON.stringify(this.post.scratch||null))),this.set("post.status",e),this.get("post.titleScratch").trim()||this.set("post.titleScratch",Ce),this.set("post.title",this.get("post.titleScratch")),this.set("post.customExcerpt",this.get("post.customExcerptScratch")),this.set("post.footerInjection",this.get("post.footerExcerptScratch")),this.set("post.headerInjection",this.get("post.headerExcerptScratch")),this.set("post.metaTitle",this.get("post.metaTitleScratch")),this.set("post.metaDescription",this.get("post.metaDescriptionScratch")),this.set("post.ogTitle",this.get("post.ogTitleScratch")),this.set("post.ogDescription",this.get("post.ogDescriptionScratch")),this.set("post.twitterTitle",this.get("post.twitterTitleScratch")),this.set("post.twitterDescription",this.get("post.twitterDescriptionScratch")),this.set("post.emailSubject",this.get("post.emailSubjectScratch")),this.get("post.slug")||(this.saveTitleTask.cancelAll(),yield this.generateSlugTask.perform())
try{let e=yield this._savePostTask.perform(t)
return e.set("statusScratch",null),t.silent||(this.set("showPostPreviewModal",!1),this._showSaveNotification(n,e.get("status"),!!i)),i&&e.get("id")?(this.leaveEditorTransition||this.replaceRoute("editor.edit",e),!0):e}catch(r){if(this.showReAuthenticateModal)return this._reauthSave=!0,void(this._reauthSaveOptions=t)
if(this.set("post.status",n),void 0===r&&0===this.post.errors.length)return
if((0,d.isHostLimitError)(r))return this.post.rollbackAttributes(),this.set("hostLimitError",r.payload.errors[0]),void this.set("showUpgradeModal",!0)
if(r&&!(0,c.isInvalidError)(r))return void this.send("error",r)
if(!t.silent){let e=r||this.get("post.errors.messages")
throw void this._showErrorAlert(n,this.get("post.status"),e)}return this.post}}}*updateSlugTask(e){let t,n,i=this.get("post.slug")
if(t=e||i,t=t&&t.trim(),!t||i===t)return void this.set("slugValue",i)
if(n=yield this.slugGenerator.generateSlug("post",t),n===i)return
let r=n.split("-"),a=Number(r.pop())
if((0,o.default)(a)&&a>0&&i===r.join("-")&&n!==t)this.set("slugValue",i)
else if(this.set("post.slug",n),!this.get("post.isNew"))return yield this._savePostTask.perform()}*savePostTask(){try{return yield this._savePostTask.perform()}catch(e){if(void 0===e)return
if(e){let t=this.get("post.status")
this._showErrorAlert(t,t,e)}throw e}}*_savePostTask(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{post:t}=this
const n=this.post.emailOnly
Object.prototype.hasOwnProperty.call(e,"emailOnly")&&this.post.set("emailOnly",e.emailOnly)
try{yield t.save(e)}catch(a){if(this.post.set("emailOnly",n),(0,d.isServerUnreachableError)(a)){const[e,t]=this.post.changedAttributes().status||[this.post.status,this.post.status]
throw void this._showErrorAlert(e,t,a)}throw a}this.notifications.closeAlerts("post.save"),t.updateTags(),this._previousTagNames=this._tagNames,t.scratch||t.set("scratch",JSON.parse(JSON.stringify(t.get("mobiledoc"))))
let i=t.get("titleScratch")===t.get("title"),r=JSON.stringify(t.get("scratch"))===JSON.stringify(t.get("mobiledoc"))
return i&&r&&this.set("hasDirtyAttributes",!1),t}*saveTitleTask(){let e=this.post,t=e.get("title"),n=e.get("titleScratch").trim()
t&&n&&n===t||!t&&!n||(this.set("hasDirtyAttributes",!0),(e.get("isNew")&&!t||t===Ce)&&(yield this.generateSlugTask.perform()),this.get("post.isDraft")&&(yield this.autosaveTask.perform()),this.ui.updateDocumentTitle())}*generateSlugTask(){let e=this.get("post.titleScratch")
if(e!==Ce||!this.get("post.slug"))try{let t=yield this.slugGenerator.generateSlug("post",e)
Ember.isBlank(t)||this.set("post.slug",t)}catch(t){(0,d.isVersionMismatchError)(t)&&this.notifications.showAPIError(t)}}*backgroundLoaderTask(){try{let e=yield this.store.query("member",{limit:1,filter:"subscribed:true"})
this.set("memberCount",Ember.get(e,"meta.pagination.total"))}catch(e){this.set("memberCount",0)}yield this.store.query("snippet",{limit:"all"})}setPost(e){e!==this.post?(this.reset(),this.set("post",e),this.backgroundLoaderTask.perform(),this.set("shouldFocusTitle",e.get("isNew")),e.set("titleScratch",e.get("title")),e.set("scratch",e.get("mobiledoc")),this._previousTagNames=this._tagNames,window.onbeforeunload=()=>{if(this.hasDirtyAttributes)return"==============================\n\nHey there! It looks like you're in the middle of writing something and you haven't saved all of your content.\n\nSave before you go!\n\n=============================="}):this.set("shouldFocusTitle",e.get("isNew"))}async willTransition(e){let n=this.post
if(!n)return
this._koenig&&n.isDraft&&this._koenig.cleanup()
let i=this.hasDirtyAttributes,r=n.getProperties("isDeleted","isSaving","hasDirtyAttributes","isNew"),a="editor.new"===this.router.currentRouteName&&"editor.edit"===e.targetName&&e.intent.contexts&&e.intent.contexts[0]&&e.intent.contexts[0].id===n.id,s=r.isDeleted&&(r.isSaving||!r.hasDirtyAttributes)
if(!this._leaveConfirmed&&!a&&!s&&i){if(e.abort(),this.saveTasks.isRunning)return await this.saveTasks.last,e.retry()
if(this._autosaveRunning)return this.send("cancelAutosave"),this.autosaveTask.cancelAll(),await this.autosaveTask.perform(),e.retry()
this.post&&Object.assign(this._leaveModalReason,{status:this.post.status}),console.log("showing leave editor modal",this._leaveModalReason)
if(!0!==await this.modals.open(t.default))return
this._leaveConfirmed=!0,e.retry()}a||"editor.edit"===e.targetName||this.reset()}reset(){let e=this.post
this.send("cancelAutosave"),e&&(e.updateTags(),e.get("isNew")?e.deleteRecord():e.rollbackAttributes()),this._previousTagNames=[],this._leaveConfirmed=!1,this.set("post",null),this.set("hasDirtyAttributes",!1),this.set("shouldFocusTitle",!1),this.set("showPostPreviewModal",!1),this.set("showSettingsMenu",!1),this.set("wordCount",null),window.onbeforeunload=null}_hasDirtyAttributes(){let e=this.post
if(!e)return!1
if(e.get("isError"))return this._leaveModalReason={reason:"isError",context:e.errors.messages},!0
let t=(this._tagNames||[]).join(", "),n=(this._previousTagNames||[]).join(", ")
if(t!==n)return this._leaveModalReason={reason:"tags are different",context:{currentTags:t,previousTags:n}},!0
if(this.titleScratch!==this.title)return this._leaveModalReason={reason:"title is different",context:{current:this.title,scratch:this.titleScratch}},!0
let i=e.get("mobiledoc"),r=e.get("scratch")
if(r||i){let e=JSON.stringify(i),t=JSON.stringify(r)
if(t!==e)return this._leaveModalReason={reason:"mobiledoc is different",context:{current:e,scratch:t}},!0}if(e.get("isNew")){let t=Object.keys(e.changedAttributes())
return t.length&&(this._leaveModalReason={reason:"post.changedAttributes.length > 0",context:e.changedAttributes()}),!!t.length}let{hasDirtyAttributes:a}=e
return a&&(this._leaveModalReason={reason:"post.hasDirtyAttributes === true",context:e.changedAttributes()}),a}_showSaveNotification(e,t,n){if("scheduled"===t)return this._showScheduledNotification(n)
let i,r,a,s=this.notifications,o=Ae.success.post[e][t]
"published"!==t&&"scheduled"!==t||(r=Ember.String.capitalize(this.get("post.displayName")),a=this.get("post.url"),i=`<a href="${a}" target="_blank">View ${r}</a>`),s.showNotification(o,{type:"success",actions:i&&Ember.String.htmlSafe(i),delayed:n})}async _showScheduledNotification(e){let{publishedAtUTC:t,emailRecipientFilter:n,previewUrl:i,emailOnly:r}=this.post,a=l.default.tz(t,this.settings.get("timezone")),s=r?["Will be sent"]:["Will be published"]
if(n&&"none"!==n){const e=await this.membersCountCache.countString(`subscribed:true+(${n})`)
s.push(`${r?"":"and delivered "}to <span><strong>${e}</strong></span>`)}s.push(`on <span><strong>${a.format("MMM Do")}</strong></span>`),s.push(`at <span><strong>${a.format("HH:mm")}</strong>`),0===a.utcOffset()?s.push("(UTC)</span>"):s.push(`(UTC${a.format("Z").replace(/([+-])0/,"$1").replace(/:00/,"")})</span>`),s=Ember.String.htmlSafe(s.join(" "))
let o=Ember.String.htmlSafe(`<a href="${i}" target="_blank">View Preview</a>`)
return this.notifications.showNotification("Scheduled",{description:s,actions:o,type:"success",delayed:e})}_showErrorAlert(e,t,n,i){let r,a=Ae.errors.post[e][t],s=this.notifications
if((0,d.isServerUnreachableError)(n))r="Unable to connect, please check your connection and try again"
else if(n&&(o=n,"[object String]"===toString.call(o)))r=n
else if(n&&Ember.isArray(n))r=n[0]
else{if(n&&n.payload&&n.payload.errors&&n.payload.errors[0].message)return this.notifications.showAPIError(n,{key:"post.save"})
r="Unknown Error"}var o
a+=`: ${r}`,a=Ember.String.htmlSafe(a),s.showAlert(a,{type:"error",delayed:i,key:"post.save"})}},ce=Me(de.prototype,"application",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=Me(de.prototype,"config",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=Me(de.prototype,"feature",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=Me(de.prototype,"membersCountCache",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=Me(de.prototype,"modals",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=Me(de.prototype,"notifications",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=Me(de.prototype,"router",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=Me(de.prototype,"slugGenerator",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Me(de.prototype,"session",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=Me(de.prototype,"settings",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=Me(de.prototype,"ui",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=Me(de.prototype,"post",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=Me(de.prototype,"willPublish",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=Me(de.prototype,"willSchedule",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=Me(de.prototype,"saveTasks",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=Me(de.prototype,"_tagNames",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me(de.prototype,"hasDirtyAttributes",[x],Object.getOwnPropertyDescriptor(de.prototype,"hasDirtyAttributes"),de.prototype),Me(de.prototype,"_snippets",[T],Object.getOwnPropertyDescriptor(de.prototype,"_snippets"),de.prototype),Me(de.prototype,"snippets",[S],Object.getOwnPropertyDescriptor(de.prototype,"snippets"),de.prototype),Me(de.prototype,"canManageSnippets",[M],Object.getOwnPropertyDescriptor(de.prototype,"canManageSnippets"),de.prototype),Me(de.prototype,"_autosaveRunning",[C],Object.getOwnPropertyDescriptor(de.prototype,"_autosaveRunning"),de.prototype),Me(de.prototype,"_canAutosave",[D],Object.getOwnPropertyDescriptor(de.prototype,"_canAutosave"),de.prototype),Me(de.prototype,"updateScratch",[A],Object.getOwnPropertyDescriptor(de.prototype,"updateScratch"),de.prototype),Me(de.prototype,"updateTitleScratch",[I],Object.getOwnPropertyDescriptor(de.prototype,"updateTitleScratch"),de.prototype),Me(de.prototype,"setSaveType",[L],Object.getOwnPropertyDescriptor(de.prototype,"setSaveType"),de.prototype),Me(de.prototype,"save",[R],Object.getOwnPropertyDescriptor(de.prototype,"save"),de.prototype),Me(de.prototype,"cancelAutosave",[U],Object.getOwnPropertyDescriptor(de.prototype,"cancelAutosave"),de.prototype),Me(de.prototype,"leaveEditor",[N],Object.getOwnPropertyDescriptor(de.prototype,"leaveEditor"),de.prototype),Me(de.prototype,"openDeletePostModal",[F],Object.getOwnPropertyDescriptor(de.prototype,"openDeletePostModal"),de.prototype),Me(de.prototype,"openPostPreview",[B],Object.getOwnPropertyDescriptor(de.prototype,"openPostPreview"),de.prototype),Me(de.prototype,"openPostPreviewModal",[V],Object.getOwnPropertyDescriptor(de.prototype,"openPostPreviewModal"),de.prototype),Me(de.prototype,"toggleReAuthenticateModal",[H],Object.getOwnPropertyDescriptor(de.prototype,"toggleReAuthenticateModal"),de.prototype),Me(de.prototype,"openUpgradeModal",[q],Object.getOwnPropertyDescriptor(de.prototype,"openUpgradeModal"),de.prototype),Me(de.prototype,"closeUpgradeModal",[$],Object.getOwnPropertyDescriptor(de.prototype,"closeUpgradeModal"),de.prototype),Me(de.prototype,"setKoenigEditor",[Y],Object.getOwnPropertyDescriptor(de.prototype,"setKoenigEditor"),de.prototype),Me(de.prototype,"updateWordCount",[W],Object.getOwnPropertyDescriptor(de.prototype,"updateWordCount"),de.prototype),Me(de.prototype,"setFeatureImage",[K],Object.getOwnPropertyDescriptor(de.prototype,"setFeatureImage"),de.prototype),Me(de.prototype,"clearFeatureImage",[G],Object.getOwnPropertyDescriptor(de.prototype,"clearFeatureImage"),de.prototype),Me(de.prototype,"setFeatureImageAlt",[Z],Object.getOwnPropertyDescriptor(de.prototype,"setFeatureImageAlt"),de.prototype),Me(de.prototype,"setFeatureImageCaption",[J],Object.getOwnPropertyDescriptor(de.prototype,"setFeatureImageCaption"),de.prototype),Me(de.prototype,"toggleSettingsMenu",[X],Object.getOwnPropertyDescriptor(de.prototype,"toggleSettingsMenu"),de.prototype),Me(de.prototype,"closeSettingsMenu",[Q],Object.getOwnPropertyDescriptor(de.prototype,"closeSettingsMenu"),de.prototype),Me(de.prototype,"saveSnippet",[ee],Object.getOwnPropertyDescriptor(de.prototype,"saveSnippet"),de.prototype),Me(de.prototype,"toggleUpdateSnippetModal",[te],Object.getOwnPropertyDescriptor(de.prototype,"toggleUpdateSnippetModal"),de.prototype),Me(de.prototype,"updateSnippet",[ne],Object.getOwnPropertyDescriptor(de.prototype,"updateSnippet"),de.prototype),Me(de.prototype,"toggleDeleteSnippetModal",[ie],Object.getOwnPropertyDescriptor(de.prototype,"toggleDeleteSnippetModal"),de.prototype),Me(de.prototype,"deleteSnippet",[re],Object.getOwnPropertyDescriptor(de.prototype,"deleteSnippet"),de.prototype),Me(de.prototype,"autosaveTask",[u.dropTask],Object.getOwnPropertyDescriptor(de.prototype,"autosaveTask"),de.prototype),Me(de.prototype,"saveTask",[ae],Object.getOwnPropertyDescriptor(de.prototype,"saveTask"),de.prototype),Me(de.prototype,"updateSlugTask",[se],Object.getOwnPropertyDescriptor(de.prototype,"updateSlugTask"),de.prototype),Me(de.prototype,"savePostTask",[oe],Object.getOwnPropertyDescriptor(de.prototype,"savePostTask"),de.prototype),Me(de.prototype,"_savePostTask",[u.task],Object.getOwnPropertyDescriptor(de.prototype,"_savePostTask"),de.prototype),Me(de.prototype,"saveTitleTask",[u.task],Object.getOwnPropertyDescriptor(de.prototype,"saveTitleTask"),de.prototype),Me(de.prototype,"generateSlugTask",[u.enqueueTask],Object.getOwnPropertyDescriptor(de.prototype,"generateSlugTask"),de.prototype),Me(de.prototype,"backgroundLoaderTask",[u.restartableTask],Object.getOwnPropertyDescriptor(de.prototype,"backgroundLoaderTask"),de.prototype),ze=Me(de.prototype,"_autosaveTask",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=Me(de.prototype,"_timedSaveTask",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de)
e.default=Ie})),define("ghost-admin/controllers/editor/edit-loading",["exports"],(function(e){var t,n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,n=class extends Ember.Controller{constructor(){var e,t,n,r
super(...arguments),e=this,t="ui",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},a=n.prototype,s="ui",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(l).forEach((function(e){d[e]=l[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,s,d),d=null),i=d,n)
var a,s,o,l,u,d
e.default=r})),define("ghost-admin/controllers/error",["exports"],(function(e){var t,n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(t=Ember.computed.readOnly("model"),n=Ember.computed("error.status"),i=Ember.computed("error.statusText"),r=class extends Ember.Controller{constructor(){var e,t,n,i
super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"stack",!1),e=this,t="error",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}get code(){return this.get("error.status")>200?this.get("error.status"):500}get message(){return 404===this.code?"Page not found":"error"!==this.get("error.statusText")?this.get("error.statusText"):"Internal Server Error"}},a=s(r.prototype,"error",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"code",[n],Object.getOwnPropertyDescriptor(r.prototype,"code"),r.prototype),s(r.prototype,"message",[i],Object.getOwnPropertyDescriptor(r.prototype,"message"),r.prototype),r)
e.default=o})),define("ghost-admin/controllers/home",["exports"],(function(e){var t,n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember._tracked,n=class extends Ember.Controller{constructor(){var e,t,n,r
super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"queryParams",["firstStart"]),e=this,t="firstStart",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},a=n.prototype,s="firstStart",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}},d={},Object.keys(l).forEach((function(e){d[e]=l[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,s,d),d=null),i=d,n)
var a,s,o,l,u,d
e.default=r})),define("ghost-admin/controllers/launch",["exports","ghost-admin/config/environment"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x
function T(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const C={"customise-design":{title:"Customise your site",position:"Step 1",next:"connect-stripe"},"connect-stripe":{title:"Connect to Stripe",position:"Step 2",next:"set-pricing",back:"customise-design",skip:"finalise"},"set-pricing":{title:"Set up subscriptions",position:"Step 3",next:"finalise",back:"connect-stripe"},finalise:{title:"Launch your site",position:"Final step",back:"set-pricing"}}
let D=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._action,d=Ember._action,c=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,E=class extends Ember.Controller{constructor(){super(...arguments),T(this,"config",k,this),T(this,"router",P,this),T(this,"settings",O,this),S(this,"queryParams",["step"]),T(this,"previewGuid",j,this),T(this,"previewSrc",_,this),T(this,"step",z,this),T(this,"data",x,this),S(this,"steps",C),S(this,"skippedSteps",[])
const e=this.config.get("blogUrl")
"development"===t.default.environment||/^https:/.test(e)?this.steps=C:this.steps={"customise-design":{title:"Customise your site",position:"Step 1",next:"set-pricing"},"set-pricing":{title:"Set up subscriptions",position:"Step 2",next:"finalise",back:"customise-design"},finalise:{title:"Launch your site",position:"Final step",back:"set-pricing"}}}get currentStep(){return this.steps[this.step]}storeData(e){this.data=e}getData(){return this.data}goToStep(e){e&&(this.step=e)}goNextStep(){this.step=this.currentStep.next}goBackStep(){let e=this.currentStep.back
for(;this.skippedSteps.includes(e);)this.skippedSteps=this.skippedSteps.filter((t=>t!==e)),e=this.steps[e].back
this.step=e}skipStep(){let e=this.currentStep.next,t=this.currentStep.skip
for(;e!==t;)this.skippedSteps.push(e),e=this.steps[e].next
this.step=e}registerPreviewIframe(e){this.previewIframe=e}refreshPreview(){this.previewGuid=(new Date).valueOf()}updatePreview(e){this.previewSrc=e}replacePreviewContents(e){this.previewIframe&&(this.previewIframe.contentWindow.document.open(),this.previewIframe.contentWindow.document.write(e),this.previewIframe.contentWindow.document.close())}close(){this.router.transitionTo("dashboard")}reset(){this.data=null,this.step="customise-design",this.skippedSteps=[]}},k=M(E.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=M(E.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=M(E.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=M(E.prototype,"previewGuid",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(new Date).valueOf()}}),_=M(E.prototype,"previewSrc",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=M(E.prototype,"step",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"customise-design"}}),x=M(E.prototype,"data",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M(E.prototype,"storeData",[u],Object.getOwnPropertyDescriptor(E.prototype,"storeData"),E.prototype),M(E.prototype,"getData",[d],Object.getOwnPropertyDescriptor(E.prototype,"getData"),E.prototype),M(E.prototype,"goToStep",[c],Object.getOwnPropertyDescriptor(E.prototype,"goToStep"),E.prototype),M(E.prototype,"goNextStep",[p],Object.getOwnPropertyDescriptor(E.prototype,"goNextStep"),E.prototype),M(E.prototype,"goBackStep",[m],Object.getOwnPropertyDescriptor(E.prototype,"goBackStep"),E.prototype),M(E.prototype,"skipStep",[h],Object.getOwnPropertyDescriptor(E.prototype,"skipStep"),E.prototype),M(E.prototype,"registerPreviewIframe",[g],Object.getOwnPropertyDescriptor(E.prototype,"registerPreviewIframe"),E.prototype),M(E.prototype,"refreshPreview",[b],Object.getOwnPropertyDescriptor(E.prototype,"refreshPreview"),E.prototype),M(E.prototype,"updatePreview",[f],Object.getOwnPropertyDescriptor(E.prototype,"updatePreview"),E.prototype),M(E.prototype,"replacePreviewContents",[v],Object.getOwnPropertyDescriptor(E.prototype,"replacePreviewContents"),E.prototype),M(E.prototype,"close",[y],Object.getOwnPropertyDescriptor(E.prototype,"close"),E.prototype),M(E.prototype,"reset",[w],Object.getOwnPropertyDescriptor(E.prototype,"reset"),E.prototype),E)
e.default=D})),define("ghost-admin/controllers/member",["exports","ghost-admin/utils/bound-one-way","moment","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L,R,U,N,F
function B(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function V(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const H=["name","email","note"]
let q=(r=Ember.inject.controller,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember.inject.service,c=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,g=Ember._tracked,b=Ember._tracked,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,E=Ember._action,k=Ember._action,P=Ember._action,O=Ember._action,j=Ember._action,_=(0,i.task)({drop:!0}),z=class extends Ember.Controller{constructor(){super(...arguments),B(this,"members",x,this),B(this,"session",T,this),B(this,"dropdown",S,this),B(this,"membersStats",M,this),B(this,"notifications",C,this),B(this,"router",D,this),B(this,"store",A,this),B(this,"isLoading",I,this),B(this,"showDeleteMemberModal",L,this),B(this,"showImpersonateMemberModal",R,this),B(this,"showUnsavedChangesModal",U,this),B(this,"modalLabel",N,this),B(this,"showLabelModal",F,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"leaveScreenTransition",null),this._availableLabels=this.store.peekAll("label")}get member(){return this.model}get labelModalData(){return{label:this.modalLabel,labels:this.availableLabels}}get availableLabels(){let e=this._availableLabels.filter((e=>!e.isNew)).filter((e=>null!==e.id)).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{ignorePunctuation:!0}))).toArray()
return e.unshiftObject({name:"All labels",slug:null}),e}set member(e){this.model=e}get scratchMember(){let e=Ember.Object.create({member:this.member})
return H.forEach((n=>Ember.defineProperty(e,n,(0,t.default)(`member.${n}`)))),e}get subscribedAt(){let e=(0,n.default)(this.member.get("createdAtUTC")).from((0,n.default)())
return`${(0,n.default)(this.member.get("createdAtUTC")).format("D MMM YYYY")} (${e})`}toggleLabelModal(){this.showLabelModal=!this.showLabelModal}editLabel(e,t){t&&(t.preventDefault(),t.stopPropagation())
let n=this.availableLabels.findBy("slug",e)
this.modalLabel=n,this.showLabelModal=!this.showLabelModal}setProperty(e,t){this._saveMemberProperty(e,t)}toggleDeleteMemberModal(){this.showDeleteMemberModal=!this.showDeleteMemberModal}toggleImpersonateMemberModal(){this.showImpersonateMemberModal=!this.showImpersonateMemberModal}save(){return this.saveTask.perform()}deleteMember(){let e={adapterOptions:{cancel:arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}
return this.member.destroyRecord(e).then((()=>{this.members.refreshData(),this.transitionToRoute("members")}),(e=>this.notifications.showAPIError(e,{key:"member.delete"})))}toggleUnsavedChangesModal(e){let t=this.leaveScreenTransition
if(!e&&this.showUnsavedChangesModal)return this.leaveScreenTransition=null,void(this.showUnsavedChangesModal=!1)
if(!t||e.targetName===t.targetName){if(this.leaveScreenTransition=e,this.save.isRunning)return this.save.last.then((()=>{e.retry()}))
this.showUnsavedChangesModal=!0}}leaveScreen(){return this.member.rollbackAttributes(),this.leaveScreenTransition.retry()}*saveTask(){let{member:e,scratchMember:t}=this,n=t.getProperties(H)
e.setProperties(n)
try{return yield e.save(),e.updateLabels(),this.members.refreshData(),this.replaceRoute("member",e),e}catch(i){i&&this.notifications.showAPIError(i,{key:"member.save"})}}*fetchMemberTask(e){this.isLoading=!0,this.member=yield this.store.queryRecord("member",{id:e,include:"email_recipients,products"}),this.isLoading=!1}_saveMemberProperty(e,t){let n=this.member.get(e)
t&&"string"==typeof t&&(t=t.trim()),(!1===t||t||n)&&this.member.set(e,t)}},x=V(z.prototype,"members",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=V(z.prototype,"session",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=V(z.prototype,"dropdown",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=V(z.prototype,"membersStats",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=V(z.prototype,"notifications",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=V(z.prototype,"router",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=V(z.prototype,"store",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=V(z.prototype,"isLoading",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=V(z.prototype,"showDeleteMemberModal",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=V(z.prototype,"showImpersonateMemberModal",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=V(z.prototype,"showUnsavedChangesModal",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=V(z.prototype,"modalLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=V(z.prototype,"showLabelModal",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V(z.prototype,"toggleLabelModal",[f],Object.getOwnPropertyDescriptor(z.prototype,"toggleLabelModal"),z.prototype),V(z.prototype,"editLabel",[v],Object.getOwnPropertyDescriptor(z.prototype,"editLabel"),z.prototype),V(z.prototype,"setProperty",[y],Object.getOwnPropertyDescriptor(z.prototype,"setProperty"),z.prototype),V(z.prototype,"toggleDeleteMemberModal",[w],Object.getOwnPropertyDescriptor(z.prototype,"toggleDeleteMemberModal"),z.prototype),V(z.prototype,"toggleImpersonateMemberModal",[E],Object.getOwnPropertyDescriptor(z.prototype,"toggleImpersonateMemberModal"),z.prototype),V(z.prototype,"save",[k],Object.getOwnPropertyDescriptor(z.prototype,"save"),z.prototype),V(z.prototype,"deleteMember",[P],Object.getOwnPropertyDescriptor(z.prototype,"deleteMember"),z.prototype),V(z.prototype,"toggleUnsavedChangesModal",[O],Object.getOwnPropertyDescriptor(z.prototype,"toggleUnsavedChangesModal"),z.prototype),V(z.prototype,"leaveScreen",[j],Object.getOwnPropertyDescriptor(z.prototype,"leaveScreen"),z.prototype),V(z.prototype,"saveTask",[_],Object.getOwnPropertyDescriptor(z.prototype,"saveTask"),z.prototype),V(z.prototype,"fetchMemberTask",[i.task],Object.getOwnPropertyDescriptor(z.prototype,"fetchMemberTask"),z.prototype),z)
e.default=q})),define("ghost-admin/controllers/members-activity",["exports","ghost-admin/helpers/members-event-filter"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h
function g(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function b(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let f=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=Ember._action,u=class extends Ember.Controller{constructor(){super(...arguments),g(this,"router",d,this),g(this,"settings",c,this),g(this,"store",p,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"queryParams",["excludedEvents","member"]),g(this,"excludedEvents",m,this),g(this,"member",h,this)}get hiddenEvents(){const e=[]
return this.member||e.push(...t.EMAIL_EVENTS),"disabled"===this.settings.get("editorDefaultEmailRecipients")&&e.push(...t.EMAIL_EVENTS,...t.NEWSLETTER_EVENTS),e}get fullExcludedEvents(){return(this.excludedEvents||"").split(",").concat(this.hiddenEvents)}get memberRecord(){return this.member?this.store.findRecord("member",this.member,{reload:!0}):null}changeExcludedEvents(e){this.router.transitionTo({queryParams:{excludedEvents:e}})}changeMember(e){this.router.transitionTo({queryParams:{member:e?.id}})}},d=b(u.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(u.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(u.prototype,"excludedEvents",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=b(u.prototype,"member",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b(u.prototype,"changeExcludedEvents",[o],Object.getOwnPropertyDescriptor(u.prototype,"changeExcludedEvents"),u.prototype),b(u.prototype,"changeMember",[l],Object.getOwnPropertyDescriptor(u.prototype,"changeMember"),u.prototype),u)
e.default=f})),define("ghost-admin/controllers/members",["exports","ghost-admin/components/modals/members/bulk-add-label","ghost-admin/components/modals/members/bulk-delete","ghost-admin/components/modals/members/bulk-remove-label","ghost-admin/components/modals/members/bulk-unsubscribe","ghost-admin/utils/ghost-paths","moment","ghost-admin/helpers/gh-pluralize","ghost-admin/helpers/reset-query-params","ember-concurrency"],(function(e,t,n,i,r,a,s,o,l,u){var d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L,R,U,N,F,B,V,H,q,$,Y,W,K,G,Z,J,X,Q,ee,te,ne,ie,re,ae,se,oe,le,ue,de,ce,pe,me,he,ge,be,fe,ve,ye,we,Ee,ke,Pe
function Oe(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const ze=[{name:"All members",value:null},{name:"Free members",value:"false"},{name:"Paid members",value:"true"}]
let xe=(d=Ember.inject.service,c=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,b=Ember.inject.service,f=Ember.inject.service,v=Ember.inject.service,y=Ember.inject.service,w=Ember.inject.service,E=Ember._tracked,k=Ember._tracked,P=Ember._tracked,O=Ember._tracked,j=Ember._tracked,_=Ember._tracked,z=Ember._tracked,x=Ember._tracked,T=Ember._tracked,S=Ember._tracked,M=Ember._tracked,C=Ember._tracked,D=Ember._tracked,A=Ember._action,I=Ember._action,L=Ember._action,R=Ember._action,U=Ember._action,N=Ember._action,F=Ember._action,B=Ember._action,V=Ember._action,H=Ember._action,q=Ember._action,$=Ember._action,Y=Ember._action,W=Ember._action,K=Ember._action,G=Ember._action,Z=Ember._action,J=(0,u.task)({restartable:!0}),X=(0,u.task)({restartable:!0}),Q=class extends Ember.Controller{constructor(){super(...arguments),Oe(this,"ajax",ee,this),Oe(this,"config",te,this),Oe(this,"ellaSparse",ne,this),Oe(this,"feature",ie,this),Oe(this,"ghostPaths",re,this),Oe(this,"membersStats",ae,this),Oe(this,"modals",se,this),Oe(this,"router",oe,this),Oe(this,"store",le,this),Oe(this,"utils",ue,this),Oe(this,"settings",de,this),je(this,"queryParams",["label",{paidParam:"paid"},{searchParam:"search"},{orderParam:"order"},{filterParam:"filter"}]),Oe(this,"members",ce,this),Oe(this,"searchParam",pe,this),Oe(this,"searchIsFocused",me,this),Oe(this,"filterParam",he,this),Oe(this,"softFilterParam",ge,this),Oe(this,"paidParam",be,this),Oe(this,"label",fe,this),Oe(this,"orderParam",ve,this),Oe(this,"modalLabel",ye,this),Oe(this,"showLabelModal",we,this),Oe(this,"filters",Ee,this),Oe(this,"softFilters",ke,this),Oe(this,"_availableLabels",Pe,this),je(this,"paidParams",ze),this._availableLabels=this.store.peekAll("label")}get listHeader(){let{searchParam:e,selectedLabel:t,members:n}=this
if(n.loading)return"Loading..."
if(e)return"Search result"
let i=(0,o.ghPluralize)(n.length,"member")
return t&&t.slug?n.length>1?`${i} match current filter`:`${i} matches current filter`:i}get hideSearchBar(){return!this.members.length&&!this.searchParam&&!this.searchIsFocused}get showingAll(){return!(this.searchParam||this.paidParam||this.label||this.filterParam||this.softFilterParam)}get availableOrders(){return this.feature.get("emailAnalytics")?[{name:"Newest",value:null},{name:"Open rate",value:"email_open_rate"}]:[]}get selectedOrder(){return this.availableOrders.find((e=>e.value===this.orderParam))}get availableLabels(){let e=this._availableLabels.filter((e=>!e.isNew)).filter((e=>null!==e.id)).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{ignorePunctuation:!0}))).toArray()
return e.unshiftObject({name:"All labels",slug:null}),e}get selectedLabel(){let{label:e,availableLabels:t}=this
return t.findBy("slug",e)}get labelModalData(){return{label:this.modalLabel,labels:this.availableLabels}}get selectedPaidParam(){return this.paidParams.findBy("value",this.paidParam)||{value:"!unknown"}}get isFiltered(){return!!(this.label||this.paidParam||this.searchParam||this.filterParam)}get filterColumns(){const e=["name","email","email_open_rate","created_at"]
this.feature.get("membersTableStatus")&&e.push("status","product")
return(this.filters.length?this.filters:this.softFilters).map((e=>e.type)).filter(((e,t,n)=>n.indexOf(e)===t)).filter((t=>!e.includes(t)))}get filterColumnLabels(){const e={subscribed:"Subscribed to email","subscriptions.plan_interval":"Billing period","subscriptions.status":"Subscription Status","subscriptions.start_date":"Paid start date","subscriptions.current_period_end":"Next billing date",product:"Membership tier"}
return this.filterColumns.map((t=>({name:t,label:e[t]?e[t]:Ember.String.capitalize(t.replace(/_/g," "))})))}includeProductQuery(){return(this.filters.length?this.filters:this.softFilters).some((e=>"product"===e.type))}getApiQueryObject(){let{params:e,extraFilters:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{label:n,paidParam:i,searchParam:r,filterParam:a}=e||this,s=[]
s=s.concat(t),n&&s.push(`label:'${n}'`),null!==i&&("true"===i?s.push("status:-free"):s.push("status:free")),a&&s.push(a)
let o=r?{search:r}:{}
return Object.assign({},{filter:s.join("+")},o)}refreshData(){this.fetchMembersTask.perform(),this.fetchLabelsTask.perform(),this.membersStats.invalidate(),this.membersStats.fetchCounts()}changeOrder(e){this.orderParam=e.value}applyFilter(e,t){this.softFilters=Ember.A([]),this.filterParam=e||null,this.filters=t}applySoftFilter(e,t){this.softFilters=t,this.softFilterParam=e||null
let{label:n,paidParam:i,searchParam:r,orderParam:a}=this
this.fetchMembersTask.perform({label:n,paidParam:i,searchParam:r,orderParam:a,filterParam:e})}resetSoftFilter(){(this.softFilters.length>0||this.softFilterParam)&&(this.softFilters=Ember.A([]),this.softFilterParam=null,this.fetchMembersTask.perform())}resetFilter(){this.softFilters=Ember.A([]),this.softFilterParam=null,this.filters=Ember.A([]),this.filterParam=null,this.fetchMembersTask.perform()}search(e){this.searchTask.perform(e.target.value)}exportData(){let e=(0,a.default)().url.api("members/upload"),t=new URLSearchParams(this.getApiQueryObject())
t.set("limit","all"),this.utils.downloadFile(`${e}?${t.toString()}`)}changeLabel(e,t){t&&(t.preventDefault(),t.stopPropagation()),this.label=e.slug}editLabel(e,t){t&&(t.preventDefault(),t.stopPropagation())
let n=this.availableLabels.findBy("slug",e)
this.modalLabel=n,this.showLabelModal=!this.showLabelModal}toggleLabelModal(){this.showLabelModal=!this.showLabelModal}bulkAddLabel(){this.modals.open(t.default,{query:this.getApiQueryObject(),onComplete:this.resetAndReloadMembers})}bulkRemoveLabel(){this.modals.open(i.default,{query:this.getApiQueryObject(),onComplete:this.resetAndReloadMembers})}bulkUnsubscribe(){this.modals.open(r.default,{query:this.getApiQueryObject(),onComplete:this.resetAndReloadMembers})}resetAndReloadMembers(){this.store.unloadAll("member"),this.reload()}bulkDelete(){this.modals.open(n.default,{query:this.getApiQueryObject(),onComplete:()=>{this.store.unloadAll("member"),this.router.transitionTo("members.index",{queryParams:Object.assign((0,l.resetQueryParams)("members.index"))}),this.membersStats.invalidate(),this.membersStats.fetchCounts()}})}changePaidParam(e){this.paidParam=e.value}*searchTask(e){yield(0,u.timeout)(250),this.searchParam=e}*fetchLabelsTask(){yield this.store.query("label",{limit:"all"})}*fetchMembersTask(e){var t=this
let{label:n,paidParam:i,searchParam:r,orderParam:a,filterParam:o}=void 0===e?this:e,l=new Date,u=!e||n!==this._lastLabel||i!==this._lastPaidParam||r!==this._lastSearchParam||a!==this._lastOrderParam||o!==this._lastFilterParam
if(this._lastLabel=n,this._lastPaidParam=i,this._lastSearchParam=r,this._lastOrderParam=a,this._lastFilterParam=o,!u&&this._startDate&&!(this._startDate-l>6e4))return this.members
this._startDate=l,this.members=yield this.ellaSparse.array((function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const r=t.getApiQueryObject({params:e,extraFilters:[`created_at:<='${s.default.utc(t._startDate).format("YYYY-MM-DD HH:mm:ss")}'`]}),o=a?`${a} desc`:"created_at desc",l=["labels","products"]
return i=Object.assign({include:l.join(","),order:o,limit:n.length,page:n.page},r,i),t.store.query("member",i).then((e=>({data:e,total:e.meta.pagination.total})))}),{limit:50})}resetFilters(e){e?.filterParam||(this.filters=Ember.A([]),this.softFilterParam=null,this.softFilters=Ember.A([]))}reload(e){this.membersStats.invalidate(),this.membersStats.fetchCounts(),this.fetchMembersTask.perform(e)}},ee=_e(Q.prototype,"ajax",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=_e(Q.prototype,"config",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=_e(Q.prototype,"ellaSparse",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=_e(Q.prototype,"feature",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=_e(Q.prototype,"ghostPaths",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=_e(Q.prototype,"membersStats",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=_e(Q.prototype,"modals",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=_e(Q.prototype,"router",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=_e(Q.prototype,"store",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=_e(Q.prototype,"utils",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=_e(Q.prototype,"settings",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=_e(Q.prototype,"members",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ember.A([])}}),pe=_e(Q.prototype,"searchParam",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),me=_e(Q.prototype,"searchIsFocused",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=_e(Q.prototype,"filterParam",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=_e(Q.prototype,"softFilterParam",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=_e(Q.prototype,"paidParam",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=_e(Q.prototype,"label",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=_e(Q.prototype,"orderParam",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=_e(Q.prototype,"modalLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=_e(Q.prototype,"showLabelModal",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ee=_e(Q.prototype,"filters",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ember.A([])}}),ke=_e(Q.prototype,"softFilters",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ember.A([])}}),Pe=_e(Q.prototype,"_availableLabels",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ember.A([])}}),_e(Q.prototype,"refreshData",[A],Object.getOwnPropertyDescriptor(Q.prototype,"refreshData"),Q.prototype),_e(Q.prototype,"changeOrder",[I],Object.getOwnPropertyDescriptor(Q.prototype,"changeOrder"),Q.prototype),_e(Q.prototype,"applyFilter",[L],Object.getOwnPropertyDescriptor(Q.prototype,"applyFilter"),Q.prototype),_e(Q.prototype,"applySoftFilter",[R],Object.getOwnPropertyDescriptor(Q.prototype,"applySoftFilter"),Q.prototype),_e(Q.prototype,"resetSoftFilter",[U],Object.getOwnPropertyDescriptor(Q.prototype,"resetSoftFilter"),Q.prototype),_e(Q.prototype,"resetFilter",[N],Object.getOwnPropertyDescriptor(Q.prototype,"resetFilter"),Q.prototype),_e(Q.prototype,"search",[F],Object.getOwnPropertyDescriptor(Q.prototype,"search"),Q.prototype),_e(Q.prototype,"exportData",[B],Object.getOwnPropertyDescriptor(Q.prototype,"exportData"),Q.prototype),_e(Q.prototype,"changeLabel",[V],Object.getOwnPropertyDescriptor(Q.prototype,"changeLabel"),Q.prototype),_e(Q.prototype,"editLabel",[H],Object.getOwnPropertyDescriptor(Q.prototype,"editLabel"),Q.prototype),_e(Q.prototype,"toggleLabelModal",[q],Object.getOwnPropertyDescriptor(Q.prototype,"toggleLabelModal"),Q.prototype),_e(Q.prototype,"bulkAddLabel",[$],Object.getOwnPropertyDescriptor(Q.prototype,"bulkAddLabel"),Q.prototype),_e(Q.prototype,"bulkRemoveLabel",[Y],Object.getOwnPropertyDescriptor(Q.prototype,"bulkRemoveLabel"),Q.prototype),_e(Q.prototype,"bulkUnsubscribe",[W],Object.getOwnPropertyDescriptor(Q.prototype,"bulkUnsubscribe"),Q.prototype),_e(Q.prototype,"resetAndReloadMembers",[K],Object.getOwnPropertyDescriptor(Q.prototype,"resetAndReloadMembers"),Q.prototype),_e(Q.prototype,"bulkDelete",[G],Object.getOwnPropertyDescriptor(Q.prototype,"bulkDelete"),Q.prototype),_e(Q.prototype,"changePaidParam",[Z],Object.getOwnPropertyDescriptor(Q.prototype,"changePaidParam"),Q.prototype),_e(Q.prototype,"searchTask",[J],Object.getOwnPropertyDescriptor(Q.prototype,"searchTask"),Q.prototype),_e(Q.prototype,"fetchLabelsTask",[u.task],Object.getOwnPropertyDescriptor(Q.prototype,"fetchLabelsTask"),Q.prototype),_e(Q.prototype,"fetchMembersTask",[X],Object.getOwnPropertyDescriptor(Q.prototype,"fetchMembersTask"),Q.prototype),Q)
e.default=xe})),define("ghost-admin/controllers/members/import",["exports","ghost-admin/helpers/reset-query-params"],(function(e,t){var n,i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(n=Ember.inject.service,i=Ember.inject.controller,r=Ember._action,a=Ember._action,s=class extends Ember.Controller{constructor(){super(...arguments),u(this,"router",o,this),u(this,"members",l,this)}refreshMembers(){let{label:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if(e){let n=Object.assign((0,t.resetQueryParams)("members.index"),{filter:`label:[${e.slug}]`})
this.router.transitionTo({queryParams:n})}this.members.refreshData()}close(){this.router.transitionTo("members")}},o=d(s.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"members",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"refreshMembers",[r],Object.getOwnPropertyDescriptor(s.prototype,"refreshMembers"),s.prototype),d(s.prototype,"close",[a],Object.getOwnPropertyDescriptor(s.prototype,"close"),s.prototype),s)
e.default=c})),define("ghost-admin/controllers/offer",["exports","ghost-admin/components/modals/offers/archive","ghost-admin/components/modals/offers/unarchive","ghost-admin/config/environment","ghost-admin/utils/copy-text-to-clipboard","ghost-admin/utils/currency","ghost-admin/helpers/gh-price-amount","@tryghost/string","ember-concurrency"],(function(e,t,n,i,r,a,s,o,l){var u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L,R,U,N,F,B,V,H,q,$,Y,W,K,G,Z,J,X,Q,ee,te,ne,ie,re,ae,se,oe,le,ue,de,ce,pe
function me(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let be=(u=Ember.inject.controller,d=Ember.inject.service,c=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember.inject.service,g=Ember.inject.service,b=Ember.inject.service,f=Ember._tracked,v=Ember._tracked,y=Ember._tracked,w=Ember._tracked,E=Ember._tracked,k=Ember._tracked,P=Ember._tracked,O=Ember._tracked,j=Ember._tracked,_=(0,l.task)({drop:!0}),z=(0,l.task)({drop:!0}),x=(0,l.task)({drop:!0}),T=Ember._action,S=Ember._action,M=Ember._action,C=Ember._action,D=Ember._action,A=Ember._action,I=Ember._action,L=Ember._action,R=Ember._action,U=Ember._action,N=Ember._action,F=Ember._action,B=Ember._action,V=Ember._action,H=Ember._action,q=Ember._action,$=Ember._action,Y=Ember._action,W=Ember._action,K=Ember._action,G=class extends Ember.Controller{constructor(){super(...arguments),me(this,"offers",Z,this),me(this,"config",J,this),me(this,"settings",X,this),me(this,"store",Q,this),me(this,"modals",ee,this),me(this,"feature",te,this),me(this,"membersUtils",ne,this),me(this,"notifications",ie,this),me(this,"cadences",re,this),me(this,"products",ae,this),me(this,"portalPreviewUrl",se,this),me(this,"showUnsavedChangesModal",oe,this),me(this,"defaultSiteUrl",le,this),me(this,"durations",ue,this),me(this,"offertypes",de,this),me(this,"defaultProps",ce,this),me(this,"isDisplayTitleEdited",pe,this),he(this,"leaveScreenTransition",null),he(this,"portalPreviewGuid",Date.now().valueOf()),void 0===this.isTesting&&(this.isTesting="test"===i.default.environment)}get offer(){return this.model}set offer(e){this.model=e}get scratchOffer(){return{...this.offer}}get cadence(){if(this.offer.tier&&this.offer.cadence){const e=this.products.findBy("id",this.offer.tier.id)
return`${this.offer.tier.id}-${this.offer.cadence}-${e?.monthlyPrice?.currency}`}if(this.defaultProps){const e=this.products.findBy("id",this.defaultProps.tier.id)
return`${this.defaultProps.tier.id}-${this.defaultProps.cadence}-${e?.monthlyPrice?.currency}`}return""}get isDiscountSectionDisabled(){return!this.offer.isNew}*fetchProducts(){this.products=yield this.store.query("product",{filter:"type:paid+active:true",include:"monthly_price,yearly_price"}),this.products=this.products.filter((e=>e.monthlyPrice&&e.yearlyPrice))
const e=[]
this.products.forEach((t=>{let n,i
const r=t.monthlyPrice.currency,a=r.toUpperCase()
this.feature.get("multipleProducts")?(n=`${t.name} - Monthly (${(0,s.ghPriceAmount)(t.monthlyPrice.amount)} ${a})`,i=`${t.name} - Yearly (${(0,s.ghPriceAmount)(t.yearlyPrice.amount)} ${a})`):(n=`Monthly (${(0,s.ghPriceAmount)(t.monthlyPrice.amount)} ${a})`,i=`Yearly (${(0,s.ghPriceAmount)(t.yearlyPrice.amount)} ${a})`),e.push({label:n,name:`${t.id}-month-${r}`}),e.push({label:i,name:`${t.id}-year-${r}`})})),this.cadences=e
const t=this.cadences[0]?.name,[,n,i]=(t||"").split("-")
this.updateDurations(n),this.offer&&!this.offer.tier?(this.defaultProps={},this.updateCadence(t,this.defaultProps),this.updatePortalPreview({forceRefresh:!1})):t&&(this.offertypes=[{label:"%",offertype:"percent"},{label:i.toUpperCase(),offertype:"fixed"}],this.updatePortalPreview({forceRefresh:!1}))}*copyOfferUrl(){return(0,r.default)(this.offerUrl),yield(0,l.timeout)(this.isTesting?50:500),!0}*saveTask(){let{offer:e}=this
!e.tier&&this.defaultProps&&(this.offer.tier={id:this.defaultProps?.tier.id},this.offer.cadence=this.defaultProps.cadence,this.offer.currency=this.defaultProps.currency)
try{return yield this.offer.validate(),yield e.save(),this.replaceRoute("offer",e),e}catch(t){t&&this.notifications.showAPIError(t,{key:"offer.save"})}}*fetchOfferTask(e){this.isLoading=!0,this.offer=yield this.store.queryRecord("offer",{id:e}),this.isLoading=!1}portalPreviewInserted(e){this.portalPreviewIframe=e,this.portalMessageListener||(this.portalMessageListener=e=>{["portal-ready","portal-preview-updated"].includes(e.data.type)&&e.data.payload?.height&&this.portalPreviewIframe?.parentNode&&(this.portalPreviewIframe.parentNode.style.height=`${e.data.payload.height}px`)},window.addEventListener("message",this.portalMessageListener,!0))}portalPreviewDestroyed(){this.portalPreviewIframe=null,this.portalMessageListener&&window.removeEventListener("message",this.portalMessageListener)}updatePortalPreview(){let{forceRefresh:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{forceRefresh:!1}
const t=new URL(this.membersUtils.getOfferPortalPreviewUrl({name:this.offer.name||"No Name",code:this.offer.code||"no-code",displayTitle:this.offer.displayTitle,displayDescription:this.offer.displayDescription,type:this.offer.type,cadence:this.offer.cadence||this.defaultProps?.cadence,amount:this.offer.amount,duration:this.offer.duration,durationInMonths:this.offer.durationInMonths,currency:this.offer.currency||this.defaultProps?.currency,status:this.offer.currency,tierId:this.offer?.tier?.id||this.defaultProps?.tier?.id}))
e&&(this.portalPreviewGuid=Date.now().valueOf()),t.searchParams.set("v",`${this.portalPreviewGuid}`),this.portalPreviewUrl=t}save(){return this.saveTask.perform()}leaveScreen(){return this.offer.rollbackAttributes(),this.leaveScreenTransition.retry()}toggleUnsavedChangesModal(e){let t=this.leaveScreenTransition
if(!e&&this.showUnsavedChangesModal)return this.leaveScreenTransition=null,void(this.showUnsavedChangesModal=!1)
if(!t||e.targetName===t.targetName){if(this.leaveScreenTransition=e,this.save.isRunning)return this.save.last.then((()=>{e.retry()}))
this.showUnsavedChangesModal=!0}}setup(){this.fetchProducts.perform()}setProperty(e,t){this._saveOfferProperty(e,t)}setDiscountType(e){if(!this.isDiscountSectionDisabled){const t=this.offer.amount||0
this._saveOfferProperty("type",e),"fixed"===this.offer.type&&""!==this.offer.amount?this.offer.amount=100*t:""!==this.offer.amount&&(this.offer.amount=t/100),this.updatePortalPreview({forceRefresh:!1})}}setDiscountAmount(e){let t=e.target.value
"fixed"===this.offer.type&&""!==t&&(t=100*parseFloat(t)),this._saveOfferProperty("amount",t)}setOfferName(e){this._saveOfferProperty("name",e.target.value),!this.isDisplayTitleEdited&&this.offer.isNew&&this._saveOfferProperty("displayTitle",e.target.value)}setPortalTitle(e){this.isDisplayTitleEdited=!0,this._saveOfferProperty("displayTitle",e.target.value)}setPortalDescription(e){this._saveOfferProperty("displayDescription",e.target.value)}setOfferCode(e){this._saveOfferProperty("code",e.target.value)}setDurationInMonths(e){this._saveOfferProperty("durationInMonths",e.target.value)}openConfirmArchiveModal(){this.offer.isNew||this.modals.open(t.default,{offer:this.offer})}openConfirmUnarchiveModal(){this.offer.isNew||this.modals.open(n.default,{offer:this.offer})}get offerUrl(){const e=this.offer?.code||""
if(e){return`${this.config.get("blogUrl")}/${(0,o.slugify)(e)}`}return""}get displayCurrency(){const e=this.offer?.tier?.id
if(!e)return"$"
const t=this.products.findBy("id",e)?.monthlyPrice?.currency||"usd"
return(0,a.getSymbol)(t)}get currencyLength(){return this.displayCurrency.length}updateDurations(e){e&&("month"===e?this.durations=[{label:"First-payment",duration:"once"},{label:"Multiple-months",duration:"repeating"},{label:"Forever",duration:"forever"}]:(this.durations=[{label:"First-payment",duration:"once"},{label:"Forever",duration:"forever"}],"repeating"===this.offer.duration&&this._saveOfferProperty("duration","once")))}updateCadence(e,t){if(t=t||this.offer,e){const[n,i,r]=e.split("-")
t.tier={id:n},t.cadence=i,t.currency=r,this.offertypes=[{label:"%",offertype:"percent"},{label:r.toUpperCase(),offertype:"fixed"}],this.updateDurations(i),this.updatePortalPreview({forceRefresh:!1})}}updateDuration(e){this._saveOfferProperty("duration",e)}_saveOfferProperty(e,t){let n=this.offer[e];(!1===t||t||n)&&(this.offer[e]=t,this.updatePortalPreview({forceRefresh:!1}))}},Z=ge(G.prototype,"offers",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=ge(G.prototype,"config",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=ge(G.prototype,"settings",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=ge(G.prototype,"store",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=ge(G.prototype,"modals",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=ge(G.prototype,"feature",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=ge(G.prototype,"membersUtils",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=ge(G.prototype,"notifications",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=ge(G.prototype,"cadences",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=ge(G.prototype,"products",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=ge(G.prototype,"portalPreviewUrl",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),oe=ge(G.prototype,"showUnsavedChangesModal",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=ge(G.prototype,"defaultSiteUrl",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.config.get("blogUrl")}}),ue=ge(G.prototype,"durations",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{label:"Forever",duration:"forever"},{label:"First-payment",duration:"once"},{label:"Multiple-months",duration:"repeating"}]}}),de=ge(G.prototype,"offertypes",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{label:"%",offertype:"percent"},{label:"USD",offertype:"fixed"}]}}),ce=ge(G.prototype,"defaultProps",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=ge(G.prototype,"isDisplayTitleEdited",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ge(G.prototype,"fetchProducts",[_],Object.getOwnPropertyDescriptor(G.prototype,"fetchProducts"),G.prototype),ge(G.prototype,"copyOfferUrl",[z],Object.getOwnPropertyDescriptor(G.prototype,"copyOfferUrl"),G.prototype),ge(G.prototype,"saveTask",[x],Object.getOwnPropertyDescriptor(G.prototype,"saveTask"),G.prototype),ge(G.prototype,"fetchOfferTask",[l.task],Object.getOwnPropertyDescriptor(G.prototype,"fetchOfferTask"),G.prototype),ge(G.prototype,"portalPreviewInserted",[T],Object.getOwnPropertyDescriptor(G.prototype,"portalPreviewInserted"),G.prototype),ge(G.prototype,"portalPreviewDestroyed",[S],Object.getOwnPropertyDescriptor(G.prototype,"portalPreviewDestroyed"),G.prototype),ge(G.prototype,"updatePortalPreview",[M],Object.getOwnPropertyDescriptor(G.prototype,"updatePortalPreview"),G.prototype),ge(G.prototype,"save",[C],Object.getOwnPropertyDescriptor(G.prototype,"save"),G.prototype),ge(G.prototype,"leaveScreen",[D],Object.getOwnPropertyDescriptor(G.prototype,"leaveScreen"),G.prototype),ge(G.prototype,"toggleUnsavedChangesModal",[A],Object.getOwnPropertyDescriptor(G.prototype,"toggleUnsavedChangesModal"),G.prototype),ge(G.prototype,"setup",[I],Object.getOwnPropertyDescriptor(G.prototype,"setup"),G.prototype),ge(G.prototype,"setProperty",[L],Object.getOwnPropertyDescriptor(G.prototype,"setProperty"),G.prototype),ge(G.prototype,"setDiscountType",[R],Object.getOwnPropertyDescriptor(G.prototype,"setDiscountType"),G.prototype),ge(G.prototype,"setDiscountAmount",[U],Object.getOwnPropertyDescriptor(G.prototype,"setDiscountAmount"),G.prototype),ge(G.prototype,"setOfferName",[N],Object.getOwnPropertyDescriptor(G.prototype,"setOfferName"),G.prototype),ge(G.prototype,"setPortalTitle",[F],Object.getOwnPropertyDescriptor(G.prototype,"setPortalTitle"),G.prototype),ge(G.prototype,"setPortalDescription",[B],Object.getOwnPropertyDescriptor(G.prototype,"setPortalDescription"),G.prototype),ge(G.prototype,"setOfferCode",[V],Object.getOwnPropertyDescriptor(G.prototype,"setOfferCode"),G.prototype),ge(G.prototype,"setDurationInMonths",[H],Object.getOwnPropertyDescriptor(G.prototype,"setDurationInMonths"),G.prototype),ge(G.prototype,"openConfirmArchiveModal",[q],Object.getOwnPropertyDescriptor(G.prototype,"openConfirmArchiveModal"),G.prototype),ge(G.prototype,"openConfirmUnarchiveModal",[$],Object.getOwnPropertyDescriptor(G.prototype,"openConfirmUnarchiveModal"),G.prototype),ge(G.prototype,"updateDurations",[Y],Object.getOwnPropertyDescriptor(G.prototype,"updateDurations"),G.prototype),ge(G.prototype,"updateCadence",[W],Object.getOwnPropertyDescriptor(G.prototype,"updateCadence"),G.prototype),ge(G.prototype,"updateDuration",[K],Object.getOwnPropertyDescriptor(G.prototype,"updateDuration"),G.prototype),G)
e.default=be})),define("ghost-admin/controllers/offers",["exports","ghost-admin/components/modals/offers/link","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g,b
function f(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function v(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=[{name:"Active",value:"active"},{name:"Archived",value:"archived"}]
let w=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._action,u=Ember._action,d=(0,n.task)({restartable:!0}),c=class extends Ember.Controller{constructor(){super(...arguments),f(this,"modals",p,this),f(this,"router",m,this),f(this,"offers",h,this),f(this,"products",g,this),f(this,"type",b,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"queryParams",["type"]),this.availableTypes=y}get filteredOffers(){return this.offers.filter((e=>{const t=this.products.find((t=>t.id===e.tier.id)),n="month"===e.cadence?t.monthlyPrice:t.yearlyPrice
return e.status===this.type&&!!n})).map((e=>{const t=this.products.find((t=>t.id===e.tier.id)),n="month"===e.cadence?t.monthlyPrice:t.yearlyPrice
return e.finalCurrency=e.currency||n.currency,e.originalPrice=n.amount,e.updatedPrice="fixed"===e.type?n.amount-e.amount:n.amount-n.amount*e.amount/100,e}))}get offersExist(){return this.offers.length>0}get selectedType(){return this.type?y.find((e=>this.type===e.value)):y[0]}onTypeChange(e){this.type=e.value}openLinkDialog(e){this.advancedModal=this.modals.open(t.default,{offer:e})}*fetchOffersTask(){return this.products=yield this.store.query("product",{filter:"type:paid",include:"monthly_price,yearly_price"}),this.offers=yield this.store.query("offer",{limit:"all"}),this.offers}},p=v(c.prototype,"modals",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(c.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(c.prototype,"offers",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=v(c.prototype,"products",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=v(c.prototype,"type",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"active"}}),v(c.prototype,"onTypeChange",[l],Object.getOwnPropertyDescriptor(c.prototype,"onTypeChange"),c.prototype),v(c.prototype,"openLinkDialog",[u],Object.getOwnPropertyDescriptor(c.prototype,"openLinkDialog"),c.prototype),v(c.prototype,"fetchOffersTask",[d],Object.getOwnPropertyDescriptor(c.prototype,"fetchOffersTask"),c.prototype),c)
e.default=w})),define("ghost-admin/controllers/pages-loading",["exports","ghost-admin/controllers/posts-loading"],(function(e,t){var n,i,r,a,s
function o(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function l(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(n=Ember.inject.controller("pages"),i=Ember.inject.service,r=class extends t.default{constructor(){super(...arguments),o(this,"postsController",a,this),o(this,"ui",s,this)}},a=l(r.prototype,"postsController",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"ui",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/controllers/pages",["exports","ghost-admin/controllers/posts"],(function(e,t){var n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=[{name:"All pages",value:null},{name:"Draft pages",value:"draft"},{name:"Published pages",value:"published"},{name:"Scheduled pages",value:"scheduled"},{name:"Featured pages",value:"featured"}],a=[{name:"Newest",value:null},{name:"Oldest",value:"published_at asc"},{name:"Recently updated",value:"updated_at desc"}]
let s=(n=Ember._action,i=class extends t.default{init(){super.init(...arguments),this.availableTypes=r,this.availableOrders=a}openEditor(e){this.transitionToRoute("editor.edit","page",e.get("id"))}},o=i.prototype,l="openEditor",u=[n],d=Object.getOwnPropertyDescriptor(i.prototype,"openEditor"),c=i.prototype,p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),i)
var o,l,u,d,c,p
e.default=s})),define("ghost-admin/controllers/posts-loading",["exports"],(function(e){var t,n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T
function S(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function M(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let C=(t=Ember.inject.controller("posts"),n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.computed.readOnly("postsController.availableTypes"),s=Ember.computed.readOnly("postsController.selectedType"),o=Ember.computed.readOnly("postsController.selectedVisibility"),l=Ember.computed.readOnly("postsController.availableVisibilities"),u=Ember.computed.readOnly("postsController.availableTags"),d=Ember.computed.readOnly("postsController.selectedTag"),c=Ember.computed.readOnly("postsController.availableAuthors"),p=Ember.computed.readOnly("postsController.selectedAuthor"),m=Ember.computed.readOnly("postsController.availableOrders"),h=Ember.computed.readOnly("postsController.selectedOrder"),g=class extends Ember.Controller{constructor(){super(...arguments),S(this,"postsController",b,this),S(this,"session",f,this),S(this,"ui",v,this),S(this,"config",y,this),S(this,"availableTypes",w,this),S(this,"selectedType",E,this),S(this,"selectedVisibility",k,this),S(this,"availableVisibilities",P,this),S(this,"availableTags",O,this),S(this,"selectedTag",j,this),S(this,"availableAuthors",_,this),S(this,"selectedAuthor",z,this),S(this,"availableOrders",x,this),S(this,"selectedOrder",T,this)}},b=M(g.prototype,"postsController",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=M(g.prototype,"session",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=M(g.prototype,"ui",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=M(g.prototype,"config",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=M(g.prototype,"availableTypes",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M(g.prototype,"selectedType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=M(g.prototype,"selectedVisibility",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=M(g.prototype,"availableVisibilities",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=M(g.prototype,"availableTags",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=M(g.prototype,"selectedTag",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=M(g.prototype,"availableAuthors",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=M(g.prototype,"selectedAuthor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=M(g.prototype,"availableOrders",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=M(g.prototype,"selectedOrder",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g)
e.default=C})),define("ghost-admin/controllers/posts",["exports","ghost-admin/helpers/reset-query-params"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M
function C(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const I=[{name:"All posts",value:null},{name:"Draft posts",value:"draft"},{name:"Published posts",value:"published"},{name:"Scheduled posts",value:"scheduled"},{name:"Featured posts",value:"featured"}],L=[{name:"All access",value:null},{name:"Public",value:"public"},{name:"Members-only",value:"members"},{name:"Paid members-only",value:"paid"}],R=[{name:"Newest",value:null},{name:"Oldest",value:"published_at asc"},{name:"Recently updated",value:"updated_at desc"}]
let U=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.computed.alias("model"),l=Ember.computed("type","author","tag"),u=Ember.computed("type"),d=Ember.computed("visibility"),c=Ember.computed("order"),p=Ember.computed,m=Ember.computed("_availableTags.[]"),h=Ember.computed("tag","_availableTags.[]"),g=Ember.computed,b=Ember.computed("_availableAuthors.[]"),f=Ember.computed("author","availableAuthors.[]"),v=Ember.computed,y=Ember._action,w=Ember._action,E=Ember._action,k=Ember._action,P=Ember._action,O=Ember._action,j=class extends Ember.Controller{constructor(){super(...arguments),C(this,"feature",_,this),C(this,"session",z,this),C(this,"store",x,this),C(this,"settings",T,this),C(this,"config",S,this),D(this,"queryParams",["type","access","author","tag","order"]),D(this,"_hasLoadedTags",!1),D(this,"_hasLoadedAuthors",!1),D(this,"_hasLoadedSnippets",!1),D(this,"availableTypes",null),D(this,"availableVisibilities",null),D(this,"availableOrders",null),C(this,"postsInfinityModel",M,this)}init(){super.init(...arguments),this.availableTypes=I,this.availableOrders=R,this.availableVisibilities=L,this.setProperties(t.DEFAULT_QUERY_PARAMS.posts),this.feature.get("emailAnalytics")&&!this.availableOrders.findBy("name","Open rate")&&this.availableOrders.push({name:"Open rate",value:"email.open_rate desc"})}get showingAll(){let{type:e,author:t,tag:n,visibility:i}=this
return!(e||i||t||n)}get selectedType(){return this.availableTypes.findBy("value",this.type)||{value:"!unknown"}}get selectedVisibility(){return this.availableVisibilities.findBy("value",this.visibility)||{value:"!unknown"}}get selectedOrder(){return this.availableOrders.findBy("value",this.order)||{value:"!unknown"}}get _availableTags(){return this.store.peekAll("tag")}get availableTags(){let e=this._availableTags.filter((e=>null!==e.get("id"))).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{ignorePunctuation:!0}))).toArray()
return e.unshiftObject({name:"All tags",slug:null}),e}get selectedTag(){let e=this.tag
return this.availableTags.findBy("slug",e)||{slug:"!unknown"}}get _availableAuthors(){return this.store.peekAll("user")}get availableAuthors(){let e=this._availableAuthors.toArray()
return e.unshiftObject({name:"All authors",slug:null}),e}get selectedAuthor(){let e=this.author
return this.availableAuthors.findBy("slug",e)||{slug:"!unknown"}}get snippets(){return this.store.peekAll("snippet")}changeType(e){this.set("type",Ember.get(e,"value"))}changeVisibility(e){this.set("visibility",Ember.get(e,"value"))}changeAuthor(e){this.set("author",Ember.get(e,"slug"))}changeTag(e){this.set("tag",Ember.get(e,"slug"))}changeOrder(e){this.set("order",Ember.get(e,"value"))}openEditor(e){this.transitionToRoute("editor.edit","post",e.get("id"))}},_=A(j.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A(j.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=A(j.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=A(j.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=A(j.prototype,"config",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=A(j.prototype,"postsInfinityModel",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A(j.prototype,"showingAll",[l],Object.getOwnPropertyDescriptor(j.prototype,"showingAll"),j.prototype),A(j.prototype,"selectedType",[u],Object.getOwnPropertyDescriptor(j.prototype,"selectedType"),j.prototype),A(j.prototype,"selectedVisibility",[d],Object.getOwnPropertyDescriptor(j.prototype,"selectedVisibility"),j.prototype),A(j.prototype,"selectedOrder",[c],Object.getOwnPropertyDescriptor(j.prototype,"selectedOrder"),j.prototype),A(j.prototype,"_availableTags",[p],Object.getOwnPropertyDescriptor(j.prototype,"_availableTags"),j.prototype),A(j.prototype,"availableTags",[m],Object.getOwnPropertyDescriptor(j.prototype,"availableTags"),j.prototype),A(j.prototype,"selectedTag",[h],Object.getOwnPropertyDescriptor(j.prototype,"selectedTag"),j.prototype),A(j.prototype,"_availableAuthors",[g],Object.getOwnPropertyDescriptor(j.prototype,"_availableAuthors"),j.prototype),A(j.prototype,"availableAuthors",[b],Object.getOwnPropertyDescriptor(j.prototype,"availableAuthors"),j.prototype),A(j.prototype,"selectedAuthor",[f],Object.getOwnPropertyDescriptor(j.prototype,"selectedAuthor"),j.prototype),A(j.prototype,"snippets",[v],Object.getOwnPropertyDescriptor(j.prototype,"snippets"),j.prototype),A(j.prototype,"changeType",[y],Object.getOwnPropertyDescriptor(j.prototype,"changeType"),j.prototype),A(j.prototype,"changeVisibility",[w],Object.getOwnPropertyDescriptor(j.prototype,"changeVisibility"),j.prototype),A(j.prototype,"changeAuthor",[E],Object.getOwnPropertyDescriptor(j.prototype,"changeAuthor"),j.prototype),A(j.prototype,"changeTag",[k],Object.getOwnPropertyDescriptor(j.prototype,"changeTag"),j.prototype),A(j.prototype,"changeOrder",[P],Object.getOwnPropertyDescriptor(j.prototype,"changeOrder"),j.prototype),A(j.prototype,"openEditor",[O],Object.getOwnPropertyDescriptor(j.prototype,"openEditor"),j.prototype),j)
e.default=U})),define("ghost-admin/controllers/reset",["exports","ghost-admin/mixins/validation-engine","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Controller.extend(t.default,{ghostPaths:Ember.inject.service(),notifications:Ember.inject.service(),session:Ember.inject.service(),ajax:Ember.inject.service(),config:Ember.inject.service(),newPassword:"",ne2Password:"",token:"",flowErrors:"",validationType:"reset",email:Ember.computed("token",(function(){return atob(this.token).split("|")[1]})),actions:{submit(){return this.resetPassword.perform()}},clearData(){this.setProperties({newPassword:"",ne2Password:"",token:""})},resetPassword:(0,n.task)((function*(){let e=this.getProperties("newPassword","ne2Password","token"),t=this.get("ghostPaths.url").api("authentication","passwordreset")
this.set("flowErrors",""),this.hasValidated.addObjects(["newPassword","ne2Password"])
try{yield this.validate()
try{let n=yield this.ajax.put(t,{data:{passwordreset:[e]}})
return this.notifications.showAlert(n.passwordreset[0].message,{type:"warn",delayed:!0,key:"password.reset"}),this.session.authenticate("authenticator:cookie",this.email,e.newPassword),!0}catch(n){this.notifications.showAPIError(n,{key:"password.reset"})}}catch(n){if(this.get("errors.newPassword")&&this.set("flowErrors",this.get("errors.newPassword")[0].message),this.get("errors.ne2Password")&&this.set("flowErrors",this.get("errors.ne2Password")[0].message),n&&0===this.get("errors.length"))throw n}})).drop()})
e.default=i})),define("ghost-admin/controllers/settings",["exports"],(function(e){var t,n,i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(t=Ember.inject.service,n=Ember.inject.service,i=Ember._action,r=Ember._action,a=Ember._action,s=class extends Ember.Controller{constructor(){super(...arguments),u(this,"settings",o,this),u(this,"session",l,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"showLeaveSettingsModal",!1)}openStripeSettings(){this.set("membersStripeOpen",!0)}closeLeaveSettingsModal(){this.set("showLeaveSettingsModal",!1)}async leavePortalSettings(){this.settings.rollbackAttributes(),this.set("showLeaveSettingsModal",!1)}},o=d(s.prototype,"settings",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"session",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"openStripeSettings",[i],Object.getOwnPropertyDescriptor(s.prototype,"openStripeSettings"),s.prototype),d(s.prototype,"closeLeaveSettingsModal",[r],Object.getOwnPropertyDescriptor(s.prototype,"closeLeaveSettingsModal"),s.prototype),d(s.prototype,"leavePortalSettings",[a],Object.getOwnPropertyDescriptor(s.prototype,"leavePortalSettings"),s.prototype),s)
e.default=c})),define("ghost-admin/controllers/settings/code-injection",["exports","ember-concurrency"],(function(e,t){var n,i,r,a,s,o,l,u,d,c
function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=(n=Ember.inject.service,i=Ember.inject.service,r=Ember._action,a=Ember._action,s=Ember._action,o=(0,t.task)((function*(){let e=this.notifications
try{return yield this.settings.save()}catch(t){throw e.showAPIError(t,{key:"code-injection.save"}),t}})),l=class extends Ember.Controller{constructor(){super(...arguments),p(this,"notifications",u,this),p(this,"settings",d,this),p(this,"saveTask",c,this)}save(){this.saveTask.perform()}toggleLeaveSettingsModal(e){let t=this.leaveSettingsTransition
if(!e&&this.showLeaveSettingsModal)return this.set("leaveSettingsTransition",null),void this.set("showLeaveSettingsModal",!1)
if(!t||e.targetName===t.targetName){if(this.set("leaveSettingsTransition",e),this.saveTask.isRunning)return this.saveTask.last.then((()=>{e.retry()}))
this.set("showLeaveSettingsModal",!0)}}leaveSettings(){let e=this.leaveSettingsTransition,t=this.settings
if(e)return t.rollbackAttributes(),e.retry()
this.notifications.showAlert("Sorry, there was an error in the application. Please let the Ghost team know what happened.",{type:"error"})}},u=m(l.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(l.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(l.prototype,"save",[r],Object.getOwnPropertyDescriptor(l.prototype,"save"),l.prototype),m(l.prototype,"toggleLeaveSettingsModal",[a],Object.getOwnPropertyDescriptor(l.prototype,"toggleLeaveSettingsModal"),l.prototype),m(l.prototype,"leaveSettings",[s],Object.getOwnPropertyDescriptor(l.prototype,"leaveSettings"),l.prototype),c=m(l.prototype,"saveTask",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=h})),define("ghost-admin/controllers/settings/design",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Controller{}e.default=t})),define("ghost-admin/controllers/settings/design/change-theme",["exports"],(function(e){var t,n,i,r,a,s,o,l,u,d,c
function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let g=(t=Ember.inject.service,n=Ember.inject.service,i=Ember.inject.service,r=Ember._tracked,a=Ember._action,s=Ember._action,o=class extends Ember.Controller{constructor(){super(...arguments),p(this,"router",l,this),p(this,"store",u,this),p(this,"themeManagement",d,this),p(this,"showAdvanced",c,this),m(this,"themes",this.store.peekAll("theme")),m(this,"officialThemes",[{name:"Casper",category:"Blog",previewUrl:"https://demo.ghost.io/",ref:"default",image:"assets/img/themes/Casper-c7e784d7188cc5d7f097d9b6c97b0263.jpg"},{name:"Edition",category:"Newsletter",url:"https://github.com/TryGhost/Edition",previewUrl:"https://edition.ghost.io/",ref:"TryGhost/Edition",image:"assets/img/themes/Edition-d8f508e93bc24bdf2716ae6f8b3d44f8.png"},{name:"Headline",category:"News",url:"https://github.com/TryGhost/Headline",previewUrl:"https://headline.ghost.io",ref:"TryGhost/Headline",image:"assets/img/themes/Headline-c5070cf549e797a6a72b87237caa1617.jpg"},{name:"Journal",category:"Newsletter",url:"https://github.com/TryGhost/Journal",previewUrl:"https://journal.ghost.io/",ref:"TryGhost/Journal",image:"assets/img/themes/Journal-accf0031bbae0919900a049061e65a04.png"},{name:"Digest",category:"Newsletter",url:"https://github.com/TryGhost/Digest",previewUrl:"https://digest.ghost.io/",ref:"TryGhost/Digest",image:"assets/img/themes/Digest-d3467ac22a290e1ad3a543014758286e.png"},{name:"Bulletin",category:"Newsletter",url:"https://github.com/TryGhost/Bulletin",previewUrl:"https://bulletin.ghost.io/",ref:"TryGhost/Bulletin",image:"assets/img/themes/Bulletin-57d45b992ff0e26e0acdce7ed4cccd67.png"},{name:"Dawn",category:"Newsletter",url:"https://github.com/TryGhost/Dawn",previewUrl:"https://dawn.ghost.io/",ref:"TryGhost/Dawn",image:"assets/img/themes/Dawn-be81aa8c8caae8fcfb5d5fbec823fdcc.png"},{name:"Alto",category:"Blog",url:"https://github.com/TryGhost/Alto",previewUrl:"https://alto.ghost.io",ref:"TryGhost/Alto",image:"assets/img/themes/Alto-f4db5af43ca9771c7ac1f754de3ddf2f.png"},{name:"Edge",category:"Photography",url:"https://github.com/TryGhost/Edge",previewUrl:"https://edge.ghost.io",ref:"TryGhost/Edge",image:"assets/img/themes/Edge-0258906309e11fd075a1d9880aa09b20.png"},{name:"Ease",category:"Documentation",url:"https://github.com/TryGhost/Ease",previewUrl:"https://ease.ghost.io",ref:"TryGhost/Ease",image:"assets/img/themes/Ease-9c279ea6cec3c0f1823f81c9dd24b116.png"},{name:"Ruby",category:"Magazine",url:"https://github.com/TryGhost/Ruby",previewUrl:"https://ruby.ghost.io",ref:"TryGhost/Ruby",image:"assets/img/themes/Ruby-11a53c62015612f4b3aca8f503121225.png"},{name:"Dope",category:"Magazine",url:"https://github.com/TryGhost/Dope",previewUrl:"https://dope.ghost.io",ref:"TryGhost/Dope",image:"assets/img/themes/Dope-6f8e0bbc199ce4af9a60859e9e6a74ad.png"},{name:"Wave",category:"Podcast",url:"https://github.com/TryGhost/Wave",previewUrl:"https://wave.ghost.io",ref:"TryGhost/Wave",image:"assets/img/themes/Wave-86e8044c2d76cb57a9030e4c24ac9520.png"},{name:"London",category:"Photography",url:"https://github.com/TryGhost/London",previewUrl:"https://london.ghost.io",ref:"TryGhost/London",image:"assets/img/themes/London-3f07efcee9e5bfb9a33827064eb77e70.jpg"}])}get themesList(){const e=this.themes.findBy("active",!0)
let t=this.officialThemes.map((t=>{const n=Object.assign({},t)
return"default"===t.ref&&(n.isDefault=!0),t.name.toLowerCase()===e.name&&(n.isActive=!0),n}))
t.sort(((e,t)=>t.isDefault?1:0))
const n=t.find((e=>e.isActive)),i=t.indexOf(n)
return i>0&&(t.splice(i,1),t.unshift(n)),t}startThemeUpload(e){e?.preventDefault(),this.themeManagement.upload({onActivationSuccess:()=>{this.router.transitionTo("settings.design")}})}toggleAdvanced(e){if(this.showAdvanced=!this.showAdvanced,this.showAdvanced){const t=e?.target.closest(".gh-main")
t&&(t.scrollTop=0)}}reset(){this.showAdvanced=!1}},l=h(o.prototype,"router",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=h(o.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(o.prototype,"themeManagement",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(o.prototype,"showAdvanced",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h(o.prototype,"startThemeUpload",[a],Object.getOwnPropertyDescriptor(o.prototype,"startThemeUpload"),o.prototype),h(o.prototype,"toggleAdvanced",[s],Object.getOwnPropertyDescriptor(o.prototype,"toggleAdvanced"),o.prototype),o)
e.default=g})),define("ghost-admin/controllers/settings/design/change-theme/install",["exports"],(function(e){var t,n,i,r,a
function s(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=(t=Ember._tracked,n=Ember._tracked,i=class extends Ember.Controller{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"queryParams",["source","ref"]),s(this,"source",r,this),s(this,"ref",a,this)}},r=o(i.prototype,"source",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=o(i.prototype,"ref",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i)
e.default=l})),define("ghost-admin/controllers/settings/design/index",["exports","ember-concurrency"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b
function f(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function v(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let y=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._action,u=Ember._action,d=class extends Ember.Controller{constructor(){super(...arguments),f(this,"config",c,this),f(this,"customThemeSettings",p,this),f(this,"notifications",m,this),f(this,"settings",h,this),f(this,"themeManagement",g,this),f(this,"previewSize",b,this)}get isDesktopPreview(){return"desktop"===this.previewSize}get isMobilePreview(){return"mobile"===this.previewSize}setPreviewSize(e){this.previewSize=e}saveFromKeyboard(){return document.activeElement.blur?.(),this.saveTask.perform()}*saveTask(){try{if(0!==this.settings.get("errors").length)return
return yield Promise.all([this.settings.save(),this.customThemeSettings.save()]),!0}catch(e){if(e)throw this.notifications.showAPIError(e),e}}reset(){this.previewSize="desktop",this.themeManagement.setPreviewType("homepage")}},c=v(d.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=v(d.prototype,"customThemeSettings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(d.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(d.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(d.prototype,"themeManagement",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(d.prototype,"previewSize",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"desktop"}}),v(d.prototype,"setPreviewSize",[l],Object.getOwnPropertyDescriptor(d.prototype,"setPreviewSize"),d.prototype),v(d.prototype,"saveFromKeyboard",[u],Object.getOwnPropertyDescriptor(d.prototype,"saveFromKeyboard"),d.prototype),v(d.prototype,"saveTask",[t.task],Object.getOwnPropertyDescriptor(d.prototype,"saveTask"),d.prototype),d)
e.default=y})),define("ghost-admin/controllers/settings/general",["exports","jquery","ghost-admin/utils/password-generator","validator","ghost-admin/components/gh-image-uploader","ember-concurrency"],(function(e,t,n,i,r,a){var s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D
function A(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let R=(s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember.inject.service,c=Ember.inject.service,p=Ember.inject.service,m=Ember.computed("config.blogUrl","settings.publicHash"),h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,E=Ember._action,k=Ember._action,P=Ember._action,O=(0,a.task)((function*(){let e=this.notifications,t=this.config
this.settings.get("twitter")!==this._scratchTwitter&&this.send("validateTwitterUrl"),this.settings.get("facebook")!==this._scratchFacebook&&this.send("validateFacebookUrl")
try{let e=this.settings.changedAttributes(),n=yield this.settings.save()
return t.set("blogTitle",n.get("title")),e.password&&this.frontend.loginIfNeeded(),this.ui.updateDocumentTitle(),n}catch(n){throw n&&e.showAPIError(n,{key:"settings.save"}),n}})),j=class extends Ember.Controller{constructor(){super(...arguments),A(this,"config",_,this),A(this,"ghostPaths",z,this),A(this,"notifications",x,this),A(this,"session",T,this),A(this,"settings",S,this),A(this,"frontend",M,this),A(this,"ui",C,this),I(this,"availableTimezones",null),I(this,"imageExtensions",r.IMAGE_EXTENSIONS),I(this,"imageMimeTypes",r.IMAGE_MIME_TYPES),I(this,"_scratchFacebook",null),I(this,"_scratchTwitter",null),A(this,"saveTask",D,this)}get privateRSSUrl(){return`${this.get("config.blogUrl")}/${this.get("settings.publicHash")}/rss`}save(){this.saveTask.perform()}setTimezone(e){this.set("settings.timezone",e.name)}removeImage(e){this.settings.set(e,"")}triggerFileDialog(e){(0,t.default)(e.target).closest(".gh-setting-action").find('input[type="file"]').click()}imageUploaded(e,t){if(t[0])return this.settings.set(e,t[0].url)}toggleIsPrivate(e){let t=this.settings
t.set("isPrivate",e),t.get("errors").remove("password")
let i=t.changedAttributes()
e&&i.isPrivate?t.set("password",(0,n.default)(6)+Math.floor(1e3*Math.random())):i.password&&t.set("password",i.password[0])}toggleLeaveSettingsModal(e){let t=this.leaveSettingsTransition
if(!e&&this.showLeaveSettingsModal)return this.set("leaveSettingsTransition",null),void this.set("showLeaveSettingsModal",!1)
if(!t||e.targetName===t.targetName){if(this.set("leaveSettingsTransition",e),this.saveTask.isRunning)return this.saveTask.last.then((()=>{e.retry()}))
this.set("showLeaveSettingsModal",!0)}}leaveSettings(){let e=this.leaveSettingsTransition,t=this.settings
if(e)return t.rollbackAttributes(),e.retry()
this.notifications.showAlert("Sorry, there was an error in the application. Please let the Ghost team know what happened.",{type:"error"})}validateFacebookUrl(){let e=this._scratchFacebook,t=this.get("settings.facebook"),n=""
if(this.get("settings.errors").remove("facebook"),this.get("settings.hasValidated").removeObject("facebook"),""!==e){e||(e=t)
try{if(e=e.replace(/(https?:\/\/)?(www\.)?facebook\.com/i,""),e.match(/^(http|\/\/)/i))throw"invalid url"
if(e=e.replace(/^\//,""),e=`https://www.facebook.com/${e}`,!i.default.isURL(e))throw"invalid url"
this.settings.set("facebook",e),this.settings.notifyPropertyChange("facebook")}catch(r){if("invalid url"===r)return n="The URL must be in a format like https://www.facebook.com/yourPage",void this.get("settings.errors").add("facebook",n)
throw r}finally{this.get("settings.hasValidated").pushObject("facebook")}}else this.set("settings.facebook","")}validateTwitterUrl(){let e=this._scratchTwitter,t=this.get("settings.twitter"),n=""
if(this.get("settings.errors").remove("twitter"),this.get("settings.hasValidated").removeObject("twitter"),""!==e){if(e||(e=t),!e.match(/(?:twitter\.com\/)(\S+)/)&&!e.match(/([a-z\d.]+)/i))return n="The URL must be in a format like https://twitter.com/yourUsername",this.get("settings.errors").add("twitter",n),void this.get("settings.hasValidated").pushObject("twitter")
{let t=[]
if(e.match(/(?:twitter\.com\/)(\S+)/)?[,t]=e.match(/(?:twitter\.com\/)(\S+)/):[t]=e.match(/([^/]+)\/?$/im),t.match(/^(http|www)|(\/)/)||!t.match(/^[a-z\d._]{1,15}$/im))return n=t.match(/^[a-z\d._]{1,15}$/im)?"The URL must be in a format like https://twitter.com/yourUsername":"Your Username is not a valid Twitter Username",this.get("settings.errors").add("twitter",n),void this.get("settings.hasValidated").pushObject("twitter")
e=`https://twitter.com/${t}`,this.settings.get("hasValidated").pushObject("twitter"),this.settings.set("twitter",e),this.settings.notifyPropertyChange("twitter")}}else this.set("settings.twitter","")}_deleteTheme(){let e=this.store.peekRecord("theme",this.themeToDelete.name)
if(e)return e.destroyRecord().catch((e=>{this.notifications.showAPIError(e)}))}},_=L(j.prototype,"config",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=L(j.prototype,"ghostPaths",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=L(j.prototype,"notifications",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=L(j.prototype,"session",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=L(j.prototype,"settings",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=L(j.prototype,"frontend",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=L(j.prototype,"ui",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L(j.prototype,"privateRSSUrl",[m],Object.getOwnPropertyDescriptor(j.prototype,"privateRSSUrl"),j.prototype),L(j.prototype,"save",[h],Object.getOwnPropertyDescriptor(j.prototype,"save"),j.prototype),L(j.prototype,"setTimezone",[g],Object.getOwnPropertyDescriptor(j.prototype,"setTimezone"),j.prototype),L(j.prototype,"removeImage",[b],Object.getOwnPropertyDescriptor(j.prototype,"removeImage"),j.prototype),L(j.prototype,"triggerFileDialog",[f],Object.getOwnPropertyDescriptor(j.prototype,"triggerFileDialog"),j.prototype),L(j.prototype,"imageUploaded",[v],Object.getOwnPropertyDescriptor(j.prototype,"imageUploaded"),j.prototype),L(j.prototype,"toggleIsPrivate",[y],Object.getOwnPropertyDescriptor(j.prototype,"toggleIsPrivate"),j.prototype),L(j.prototype,"toggleLeaveSettingsModal",[w],Object.getOwnPropertyDescriptor(j.prototype,"toggleLeaveSettingsModal"),j.prototype),L(j.prototype,"leaveSettings",[E],Object.getOwnPropertyDescriptor(j.prototype,"leaveSettings"),j.prototype),L(j.prototype,"validateFacebookUrl",[k],Object.getOwnPropertyDescriptor(j.prototype,"validateFacebookUrl"),j.prototype),L(j.prototype,"validateTwitterUrl",[P],Object.getOwnPropertyDescriptor(j.prototype,"validateTwitterUrl"),j.prototype),D=L(j.prototype,"saveTask",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j)
e.default=R})),define("ghost-admin/controllers/settings/integration",["exports","ghost-admin/config/environment","ghost-admin/utils/copy-text-to-clipboard","ghost-admin/components/gh-image-uploader","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L,R
function U(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let B=(a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._tracked,m=Ember._action,h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,E=Ember._action,k=Ember._action,P=Ember._action,O=Ember._action,j=Ember._action,_=Ember._action,z=Ember._action,x=Ember._action,T=class extends Ember.Controller{constructor(){super(...arguments),U(this,"config",S,this),U(this,"ghostPaths",M,this),N(this,"imageExtensions",i.IMAGE_EXTENSIONS),N(this,"imageMimeTypes",i.IMAGE_MIME_TYPES),U(this,"showDeleteIntegrationModal",C,this),U(this,"showRegenerateKeyModal",D,this),U(this,"showUnsavedChangesModal",A,this),U(this,"selectedApiKey",I,this),U(this,"isApiKeyRegenerated",L,this),U(this,"webhookToDelete",R,this),void 0===this.isTesting&&(this.isTesting="test"===t.default.environment)}get integration(){return this.model}get apiUrl(){let e=window.location.origin,t=this.ghostPaths.subdir
return this.ghostPaths.url.join(e,t).replace(/\/$/,"")}get regeneratedKeyType(){return this.isApiKeyRegenerated?this.selectedApiKey.type:null}get allWebhooks(){return this.store.peekAll("webhook")}get filteredWebhooks(){return this.allWebhooks.filter((e=>e.belongsTo("integration").id()===this.integration.id&&!e.isNew&&!e.isDeleted))}get iconImageStyle(){let e=this.integration.iconImage
if(e){let t=[`background-image: url(${e})`,"background-size: 50%","background-position: 50%","background-repeat: no-repeat"]
return Ember.String.htmlSafe(t.join("; "))}return Ember.String.htmlSafe("")}triggerIconFileDialog(e){e.preventDefault(),document.querySelector('input[type="file"][name="iconImage"]').click()}updateProperty(e,t){this.integration.set(e,t.target.value)}validateProperty(e){this.integration.validate({property:e})}setIconImage(e){let[t]=e
this.integration.set("iconImage",t.url)}save(){return this.saveTask.perform()}toggleUnsavedChangesModal(e){let t=this.leaveScreenTransition
if(!e&&this.showUnsavedChangesModal)return this.leaveScreenTransition=null,void(this.showUnsavedChangesModal=!1)
if(!t||e.targetName===t.targetName){if(this.leaveScreenTransition=e,this.saveTask.isRunning)return this.saveTask.last.then((()=>{e.retry()}))
this.showUnsavedChangesModal=!0}}leaveScreen(e){e?.preventDefault()
let t=this.leaveScreenTransition
if(t)return this.integration.rollbackAttributes(),t.retry()
this.notifications.showAlert("Sorry, there was an error in the application. Please let the Ghost team know what happened.",{type:"error"})}deleteIntegration(e){e?.preventDefault(),this.integration.destroyRecord()}confirmIntegrationDeletion(e){e?.preventDefault(),this.showDeleteIntegrationModal=!0}cancelIntegrationDeletion(e){e?.preventDefault(),this.showDeleteIntegrationModal=!1}confirmRegenerateKeyModal(e,t){t?.preventDefault(),this.showRegenerateKeyModal=!0,this.isApiKeyRegenerated=!1,this.selectedApiKey=e}cancelRegenerateKeyModal(e){e?.preventDefault(),this.showRegenerateKeyModal=!1}regenerateKey(e){e?.preventDefault(),this.isApiKeyRegenerated=!0}confirmWebhookDeletion(e,t){t?.preventDefault(),this.webhookToDelete=e}cancelWebhookDeletion(e){e?.preventDefault(),this.webhookToDelete=null}deleteWebhook(e){return e?.preventDefault(),this.webhookToDelete.destroyRecord()}*saveTask(){try{return yield this.integration.save()}catch(e){if(void 0===e)return!1
throw e}}*copyContentKey(){(0,n.default)(this.integration.contentKey.secret),yield(0,r.timeout)(this.isTesting?50:3e3)}*copyAdminKey(){(0,n.default)(this.integration.adminKey.secret),yield(0,r.timeout)(this.isTesting?50:3e3)}*copyApiUrl(){(0,n.default)(this.apiUrl),yield(0,r.timeout)(this.isTesting?50:3e3)}},S=F(T.prototype,"config",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=F(T.prototype,"ghostPaths",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=F(T.prototype,"showDeleteIntegrationModal",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=F(T.prototype,"showRegenerateKeyModal",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=F(T.prototype,"showUnsavedChangesModal",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=F(T.prototype,"selectedApiKey",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=F(T.prototype,"isApiKeyRegenerated",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=F(T.prototype,"webhookToDelete",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F(T.prototype,"triggerIconFileDialog",[m],Object.getOwnPropertyDescriptor(T.prototype,"triggerIconFileDialog"),T.prototype),F(T.prototype,"updateProperty",[h],Object.getOwnPropertyDescriptor(T.prototype,"updateProperty"),T.prototype),F(T.prototype,"validateProperty",[g],Object.getOwnPropertyDescriptor(T.prototype,"validateProperty"),T.prototype),F(T.prototype,"setIconImage",[b],Object.getOwnPropertyDescriptor(T.prototype,"setIconImage"),T.prototype),F(T.prototype,"save",[f],Object.getOwnPropertyDescriptor(T.prototype,"save"),T.prototype),F(T.prototype,"toggleUnsavedChangesModal",[v],Object.getOwnPropertyDescriptor(T.prototype,"toggleUnsavedChangesModal"),T.prototype),F(T.prototype,"leaveScreen",[y],Object.getOwnPropertyDescriptor(T.prototype,"leaveScreen"),T.prototype),F(T.prototype,"deleteIntegration",[w],Object.getOwnPropertyDescriptor(T.prototype,"deleteIntegration"),T.prototype),F(T.prototype,"confirmIntegrationDeletion",[E],Object.getOwnPropertyDescriptor(T.prototype,"confirmIntegrationDeletion"),T.prototype),F(T.prototype,"cancelIntegrationDeletion",[k],Object.getOwnPropertyDescriptor(T.prototype,"cancelIntegrationDeletion"),T.prototype),F(T.prototype,"confirmRegenerateKeyModal",[P],Object.getOwnPropertyDescriptor(T.prototype,"confirmRegenerateKeyModal"),T.prototype),F(T.prototype,"cancelRegenerateKeyModal",[O],Object.getOwnPropertyDescriptor(T.prototype,"cancelRegenerateKeyModal"),T.prototype),F(T.prototype,"regenerateKey",[j],Object.getOwnPropertyDescriptor(T.prototype,"regenerateKey"),T.prototype),F(T.prototype,"confirmWebhookDeletion",[_],Object.getOwnPropertyDescriptor(T.prototype,"confirmWebhookDeletion"),T.prototype),F(T.prototype,"cancelWebhookDeletion",[z],Object.getOwnPropertyDescriptor(T.prototype,"cancelWebhookDeletion"),T.prototype),F(T.prototype,"deleteWebhook",[x],Object.getOwnPropertyDescriptor(T.prototype,"deleteWebhook"),T.prototype),F(T.prototype,"saveTask",[r.task],Object.getOwnPropertyDescriptor(T.prototype,"saveTask"),T.prototype),F(T.prototype,"copyContentKey",[r.task],Object.getOwnPropertyDescriptor(T.prototype,"copyContentKey"),T.prototype),F(T.prototype,"copyAdminKey",[r.task],Object.getOwnPropertyDescriptor(T.prototype,"copyAdminKey"),T.prototype),F(T.prototype,"copyApiUrl",[r.task],Object.getOwnPropertyDescriptor(T.prototype,"copyApiUrl"),T.prototype),T)
e.default=B})),define("ghost-admin/controllers/settings/integration/webhooks/edit",["exports"],(function(e){var t,n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(t=Ember.computed.alias("model"),n=Ember._action,i=Ember._action,r=class extends Ember.Controller{constructor(){var e,t,n,i
super(...arguments),e=this,t="webhook",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}save(){return this.webhook.save()}cancel(){return this.webhook.get("integration").then((e=>{this.transitionToRoute("settings.integration",e)}))}reset(){this.webhook.rollbackAttributes(),this.webhook.errors.clear()}},a=s(r.prototype,"webhook",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"save",[n],Object.getOwnPropertyDescriptor(r.prototype,"save"),r.prototype),s(r.prototype,"cancel",[i],Object.getOwnPropertyDescriptor(r.prototype,"cancel"),r.prototype),r)
e.default=o})),define("ghost-admin/controllers/settings/integration/webhooks/new",["exports"],(function(e){var t,n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(t=Ember.computed.alias("model"),n=Ember._action,i=Ember._action,r=class extends Ember.Controller{constructor(){var e,t,n,i
super(...arguments),e=this,t="webhook",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}save(){return this.webhook.save()}cancel(){return this.webhook.get("integration").then((e=>{this.transitionToRoute("settings.integration",e)}))}},a=s(r.prototype,"webhook",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"save",[n],Object.getOwnPropertyDescriptor(r.prototype,"save"),r.prototype),s(r.prototype,"cancel",[i],Object.getOwnPropertyDescriptor(r.prototype,"cancel"),r.prototype),r)
e.default=o})),define("ghost-admin/controllers/settings/integrations",["exports","ember-concurrency"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p
function m(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let g=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.computed("config.hostSettings.limits"),s=Ember.computed("_allIntegrations.@each.{isNew,type}"),o=(0,t.task)((function*(){return yield this.store.findAll("integration")})),l=class extends Ember.Controller{constructor(){super(...arguments),m(this,"settings",u,this),m(this,"store",d,this),m(this,"config",c,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_allIntegrations",null),m(this,"fetchIntegrations",p,this)}init(){super.init(...arguments),this._allIntegrations=this.store.peekAll("integration")}get zapierDisabled(){return this.config.get("hostSettings.limits.customIntegrations.disabled")}get integrations(){return this._allIntegrations.reject((e=>e.isNew||"custom"!==e.type))}integrationModelHook(e,t,n,i){let r=this.store.peekAll("integration").findBy(e,t)
return r||this.fetchIntegrations.perform().then((r=>{let a=r.findBy(e,t)
if(!a){let e=i.intent.url.replace(/^\//,"")
return n.replaceWith("error404",{path:e,status:404})}return a}))}},u=h(l.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"config",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(l.prototype,"zapierDisabled",[a],Object.getOwnPropertyDescriptor(l.prototype,"zapierDisabled"),l.prototype),h(l.prototype,"integrations",[s],Object.getOwnPropertyDescriptor(l.prototype,"integrations"),l.prototype),p=h(l.prototype,"fetchIntegrations",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=g})),define("ghost-admin/controllers/settings/integrations/amp",["exports","ember-concurrency"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p
function m(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let g=(n=Ember.inject.service,i=Ember.inject.service,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=(0,t.task)((function*(){try{return yield this.settings.validate(),yield this.settings.save()}catch(e){throw this.notifications.showAPIError(e),e}})).drop(),u=class extends Ember.Controller{constructor(){super(...arguments),m(this,"notifications",d,this),m(this,"settings",c,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"leaveSettingsTransition",null),m(this,"saveTask",p,this)}update(e){this.settings.set("amp",e)}save(){this.saveTask.perform()}toggleLeaveSettingsModal(e){let t=this.leaveSettingsTransition
if(!e&&this.showLeaveSettingsModal)return this.set("leaveSettingsTransition",null),void this.set("showLeaveSettingsModal",!1)
if(!t||e.targetName===t.targetName){if(this.set("leaveSettingsTransition",e),this.saveTask.isRunning)return this.saveTask.last.then((()=>{e.retry()}))
this.set("showLeaveSettingsModal",!0)}}leaveSettings(){let e=this.leaveSettingsTransition,t=this.settings
if(e)return t.rollbackAttributes(),e.retry()
this.notifications.showAlert("Sorry, there was an error in the application. Please let the Ghost team know what happened.",{type:"error"})}},d=h(u.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(u.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(u.prototype,"update",[r],Object.getOwnPropertyDescriptor(u.prototype,"update"),u.prototype),h(u.prototype,"save",[a],Object.getOwnPropertyDescriptor(u.prototype,"save"),u.prototype),h(u.prototype,"toggleLeaveSettingsModal",[s],Object.getOwnPropertyDescriptor(u.prototype,"toggleLeaveSettingsModal"),u.prototype),h(u.prototype,"leaveSettings",[o],Object.getOwnPropertyDescriptor(u.prototype,"leaveSettings"),u.prototype),p=h(u.prototype,"saveTask",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=g})),define("ghost-admin/controllers/settings/integrations/firstpromoter",["exports","ember-concurrency"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p
function m(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let g=(n=Ember.inject.service,i=Ember.inject.service,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=(0,t.task)((function*(){try{return yield this.settings.validate(),yield this.settings.save()}catch(e){throw this.notifications.showAPIError(e),e}})).drop(),u=class extends Ember.Controller{constructor(){super(...arguments),m(this,"notifications",d,this),m(this,"settings",c,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"leaveSettingsTransition",null),m(this,"saveTask",p,this)}update(e){this.settings.set("firstpromoter",e)}save(){this.saveTask.perform()}toggleLeaveSettingsModal(e){let t=this.leaveSettingsTransition
if(!e&&this.showLeaveSettingsModal)return this.set("leaveSettingsTransition",null),void this.set("showLeaveSettingsModal",!1)
if(!t||e.targetName===t.targetName){if(this.set("leaveSettingsTransition",e),this.saveTask.isRunning)return this.saveTask.last.then((()=>{e.retry()}))
this.set("showLeaveSettingsModal",!0)}}leaveSettings(){let e=this.leaveSettingsTransition,t=this.settings
if(e)return t.rollbackAttributes(),e.retry()
this.notifications.showAlert("Sorry, there was an error in the application. Please let the Ghost team know what happened.",{type:"error"})}},d=h(u.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(u.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(u.prototype,"update",[r],Object.getOwnPropertyDescriptor(u.prototype,"update"),u.prototype),h(u.prototype,"save",[a],Object.getOwnPropertyDescriptor(u.prototype,"save"),u.prototype),h(u.prototype,"toggleLeaveSettingsModal",[s],Object.getOwnPropertyDescriptor(u.prototype,"toggleLeaveSettingsModal"),u.prototype),h(u.prototype,"leaveSettings",[o],Object.getOwnPropertyDescriptor(u.prototype,"leaveSettings"),u.prototype),p=h(u.prototype,"saveTask",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=g}))
define("ghost-admin/controllers/settings/integrations/slack",["exports","ghost-admin/utils/bound-one-way","ember-ajax/errors","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_
function z(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let S=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=(0,t.default)("settings.slack.firstObject"),u=Ember.computed.empty("slackSettings.url"),d=Ember._action,c=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,g=Ember._action,b=(0,i.task)((function*(){let e=this.slackSettings,t=this.settings,n=this.slackArray
try{return yield e.validate(),n.clear().pushObject(e),yield t.set("slack",n),yield t.save()}catch(i){if(i)throw this.notifications.showAPIError(i),i}})).drop(),f=(0,i.task)((function*(){let e=this.notifications,t=this.get("ghostPaths.url").api("slack","test")
try{return yield this.saveTask.perform(),yield this.ajax.post(t),e.showNotification("Test notification sent",{type:"info",key:"slack-test.send.success",description:"Check your Slack channel for the test message"}),!0}catch(i){if(e.showAPIError(i,{key:"slack-test:send"}),!(0,n.isInvalidError)(i))throw i}})).drop(),v=class extends Ember.Controller{constructor(){super(...arguments),z(this,"ghostPaths",y,this),z(this,"ajax",w,this),z(this,"notifications",E,this),z(this,"settings",k,this),x(this,"leaveSettingsTransition",null),x(this,"slackArray",null),z(this,"slackSettings",P,this),z(this,"testNotificationDisabled",O,this),z(this,"saveTask",j,this),z(this,"sendTestNotification",_,this)}init(){super.init(...arguments),this.slackArray=[]}save(){this.saveTask.perform()}updateURL(e){e="string"==typeof e?e.trim():e,this.set("slackSettings.url",e),this.get("slackSettings.errors").clear()}updateUsername(e){e="string"==typeof e?e.trimLeft():e,this.set("slackSettings.username",e),this.get("slackSettings.errors").clear()}triggerDirtyState(){let e=this.slackSettings,t=this.slackArray,n=this.settings
t.clear().pushObject(e),n.set("slack",t)}toggleLeaveSettingsModal(e){let t=this.leaveSettingsTransition
if(!e&&this.showLeaveSettingsModal)return this.set("leaveSettingsTransition",null),void this.set("showLeaveSettingsModal",!1)
if(!t||e.targetName===t.targetName){if(this.set("leaveSettingsTransition",e),this.saveTask.isRunning)return this.saveTask.last.then((()=>{e.retry()}))
this.set("showLeaveSettingsModal",!0)}}leaveSettings(){let e=this.leaveSettingsTransition,t=this.settings,n=this.slackArray
if(e)return t.rollbackAttributes(),n.clear(),e.retry()
this.notifications.showAlert("Sorry, there was an error in the application. Please let the Ghost team know what happened.",{type:"error"})}},y=T(v.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=T(v.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=T(v.prototype,"notifications",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=T(v.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T(v.prototype,"slackSettings",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=T(v.prototype,"testNotificationDisabled",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T(v.prototype,"save",[d],Object.getOwnPropertyDescriptor(v.prototype,"save"),v.prototype),T(v.prototype,"updateURL",[c],Object.getOwnPropertyDescriptor(v.prototype,"updateURL"),v.prototype),T(v.prototype,"updateUsername",[p],Object.getOwnPropertyDescriptor(v.prototype,"updateUsername"),v.prototype),T(v.prototype,"triggerDirtyState",[m],Object.getOwnPropertyDescriptor(v.prototype,"triggerDirtyState"),v.prototype),T(v.prototype,"toggleLeaveSettingsModal",[h],Object.getOwnPropertyDescriptor(v.prototype,"toggleLeaveSettingsModal"),v.prototype),T(v.prototype,"leaveSettings",[g],Object.getOwnPropertyDescriptor(v.prototype,"leaveSettings"),v.prototype),j=T(v.prototype,"saveTask",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=T(v.prototype,"sendTestNotification",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v)
e.default=S})),define("ghost-admin/controllers/settings/integrations/unsplash",["exports","ember-concurrency"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p
function m(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let g=(n=Ember.inject.service,i=Ember.inject.service,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=(0,t.task)((function*(){try{return yield this.settings.validate(),yield this.settings.save()}catch(e){throw this.notifications.showAPIError(e),e}})).drop(),u=class extends Ember.Controller{constructor(){super(...arguments),m(this,"notifications",d,this),m(this,"settings",c,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"leaveSettingsTransition",null),m(this,"saveTask",p,this)}update(e){this.settings.set("unsplash",e)}save(){this.saveTask.perform()}toggleLeaveSettingsModal(e){let t=this.leaveSettingsTransition
if(!e&&this.showLeaveSettingsModal)return this.set("leaveSettingsTransition",null),void this.set("showLeaveSettingsModal",!1)
if(!t||e.targetName===t.targetName){if(this.set("leaveSettingsTransition",e),this.saveTask.isRunning)return this.saveTask.last.then((()=>{e.retry()}))
this.set("showLeaveSettingsModal",!0)}}leaveSettings(){let e=this.leaveSettingsTransition,t=this.settings
if(e)return t.rollbackAttributes(),e.retry()
this.notifications.showAlert("Sorry, there was an error in the application. Please let the Ghost team know what happened.",{type:"error"})}},d=h(u.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(u.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(u.prototype,"update",[r],Object.getOwnPropertyDescriptor(u.prototype,"update"),u.prototype),h(u.prototype,"save",[a],Object.getOwnPropertyDescriptor(u.prototype,"save"),u.prototype),h(u.prototype,"toggleLeaveSettingsModal",[s],Object.getOwnPropertyDescriptor(u.prototype,"toggleLeaveSettingsModal"),u.prototype),h(u.prototype,"leaveSettings",[o],Object.getOwnPropertyDescriptor(u.prototype,"leaveSettings"),u.prototype),p=h(u.prototype,"saveTask",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=g})),define("ghost-admin/controllers/settings/integrations/zapier",["exports","ghost-admin/config/environment","ghost-admin/utils/copy-text-to-clipboard","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f
function v(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let E=(r=Ember.inject.service,a=Ember.computed.alias("model"),s=Ember.computed,o=Ember.computed("isApiKeyRegenerated","selectedApiKey"),l=Ember._action,u=Ember._action,d=Ember._action,c=(0,i.task)((function*(){(0,n.default)(this.integration.adminKey.secret),yield(0,i.timeout)(this.isTesting?50:3e3)})),p=(0,i.task)((function*(){(0,n.default)(this.apiUrl),yield(0,i.timeout)(this.isTesting?50:3e3)})),m=class extends Ember.Controller{constructor(){super(...arguments),v(this,"ghostPaths",h,this),y(this,"selectedApiKey",null),y(this,"isApiKeyRegenerated",!1),v(this,"integration",g,this),v(this,"copyAdminKey",b,this),v(this,"copyApiUrl",f,this)}init(){super.init(...arguments),void 0===this.isTesting&&(this.isTesting="test"===t.default.environment)}get apiUrl(){let e=window.location.origin,t=this.ghostPaths.subdir
return this.ghostPaths.url.join(e,t).replace(/\/$/,"")}get regeneratedKeyType(){return this.isApiKeyRegenerated?this.get("selectedApiKey.type"):null}confirmRegenerateKeyModal(e){this.set("showRegenerateKeyModal",!0),this.set("isApiKeyRegenerated",!1),this.set("selectedApiKey",e)}cancelRegenerateKeyModal(){this.set("showRegenerateKeyModal",!1)}regenerateKey(){this.set("isApiKeyRegenerated",!0)}},h=w(m.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w(m.prototype,"integration",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w(m.prototype,"apiUrl",[s],Object.getOwnPropertyDescriptor(m.prototype,"apiUrl"),m.prototype),w(m.prototype,"regeneratedKeyType",[o],Object.getOwnPropertyDescriptor(m.prototype,"regeneratedKeyType"),m.prototype),w(m.prototype,"confirmRegenerateKeyModal",[l],Object.getOwnPropertyDescriptor(m.prototype,"confirmRegenerateKeyModal"),m.prototype),w(m.prototype,"cancelRegenerateKeyModal",[u],Object.getOwnPropertyDescriptor(m.prototype,"cancelRegenerateKeyModal"),m.prototype),w(m.prototype,"regenerateKey",[d],Object.getOwnPropertyDescriptor(m.prototype,"regenerateKey"),m.prototype),b=w(m.prototype,"copyAdminKey",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w(m.prototype,"copyApiUrl",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m)
e.default=E})),define("ghost-admin/controllers/settings/labs",["exports","jquery","ghost-admin/config/environment","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D
function A(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{Promise:R}=Ember.RSVP,U=["application/json","application/zip","application/x-zip-compressed"],N=["json"],F=["application/json"],B=["yaml"],V=["text/vnd.yaml","application/vnd.yaml","text/x-yaml","application/x-yaml"]
let H=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember.inject.service,c=Ember.inject.service,p=Ember.inject.service,m=Ember._action,h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,E=(0,r.task)((function*(e){return this.set("redirectSuccess",e),this.set("redirectFailure",!e),yield(0,r.timeout)("test"===n.default.environment?100:5e3),this.set("redirectSuccess",null),this.set("redirectFailure",null),!0})).drop(),k=(0,r.task)((function*(e){return this.set("routesSuccess",e),this.set("routesFailure",!e),yield(0,r.timeout)("test"===n.default.environment?100:5e3),this.set("routesSuccess",null),this.set("routesFailure",null),!0})).drop(),P=class extends Ember.Controller{constructor(){super(...arguments),A(this,"ajax",O,this),A(this,"config",j,this),A(this,"feature",_,this),A(this,"ghostPaths",z,this),A(this,"notifications",x,this),A(this,"session",T,this),A(this,"settings",S,this),A(this,"utils",M,this),I(this,"importErrors",null),I(this,"importSuccessful",!1),I(this,"showDeleteAllModal",!1),I(this,"showEarlyAccessModal",!1),I(this,"showEnableTiersModal",!1),I(this,"submitting",!1),I(this,"uploadButtonText","Import"),I(this,"importMimeType",null),I(this,"redirectsFileExtensions",null),I(this,"redirectsFileMimeTypes",null),I(this,"yamlExtension",null),I(this,"yamlMimeType",null),I(this,"yamlAccept",null),I(this,"isOAuthConfigurationOpen",!1),A(this,"redirectUploadResult",C,this),A(this,"routesUploadResult",D,this)}init(){super.init(...arguments),this.importMimeType=U,this.redirectsFileExtensions=[...N,...B],this.redirectsFileMimeTypes=[...F,...V,".yaml"],this.yamlExtension=B,this.yamlMimeType=V,this.yamlAccept=[...this.yamlMimeType,...Array.from(this.yamlExtension,(e=>"."+e))]}onUpload(e){let t=new FormData,n=this.notifications,r=this.get("session.user.id"),a=this.get("ghostPaths.url").api("db")
return this.set("uploadButtonText","Importing"),this.set("importErrors",null),this.set("importSuccessful",!1),this._validate(e).then((()=>(t.append("importfile",e),this.ajax.post(a,{data:t,dataType:"json",cache:!1,contentType:!1,processData:!1})))).then((e=>{let t=this.store
this.set("importSuccessful",!0),e.problems&&this.set("importErrors",e.problems),t.unloadAll(),Ember.run.schedule("destroy",this,(()=>(this.session.populateUser({id:r}),n.showNotification("Import successful",{key:"import.upload.success"}),this.settings.reload().then((e=>{this.feature.fetch(),this.config.set("blogTitle",e.get("title"))})))))})).catch((e=>{throw(0,i.isUnsupportedMediaTypeError)(e)||(0,i.isRequestEntityTooLargeError)(e)?this.set("importErrors",[e]):e&&e.payload.errors&&Ember.isArray(e.payload.errors)?this.set("importErrors",e.payload.errors):this.set("importErrors",[{message:"Import failed due to an unknown error. Check the Web Inspector console and network tabs for errors."}]),e})).finally((()=>{this.set("uploadButtonText","Import")}))}downloadFile(e){this.utils.downloadFile(this.ghostPaths.url.api(e))}async saveOAuthSettings(){await this.settings.save()}toggleDeleteAllModal(){this.toggleProperty("showDeleteAllModal")}toggleEarlyAccessModal(){this.toggleProperty("showEarlyAccessModal")}toggleEnableTiersModal(){this.toggleProperty("showEnableTiersModal")}async toggleIsOAuthEnabled(){this.isOAuthEnabled?(this.settings.set("oauthClientId",""),this.settings.set("oauthClientSecret",""),Ember.set(this,"isOAuthConfigurationOpen",!1),await this.settings.save()):Ember.set(this,"isOAuthConfigurationOpen",!0)}triggerFileDialog(e){(0,t.default)(e.target).closest(".gh-setting-action").find('input[type="file"]').click()}_validate(e){if(""===e.type){let[,t]=/(?:\.([^.]+))?$/.exec(e.name)
return t&&"json"===t.toLowerCase()?new R(((t,n)=>{let r=new FileReader
r.onload=function(){let{result:e}=r
try{return JSON.parse(e),t()}catch(a){return n(new i.UnsupportedMediaTypeError)}},r.readAsText(e)})):Ember.RSVP.reject(new i.UnsupportedMediaTypeError)}let t=this.importMimeType
return!Ember.isBlank(t)&&e&&-1===t.indexOf(e.type)?Ember.RSVP.reject(new i.UnsupportedMediaTypeError):Ember.RSVP.resolve()}reset(){this.set("importErrors",null),this.set("importSuccessful",!1)}},O=L(P.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=L(P.prototype,"config",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=L(P.prototype,"feature",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=L(P.prototype,"ghostPaths",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=L(P.prototype,"notifications",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=L(P.prototype,"session",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=L(P.prototype,"settings",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=L(P.prototype,"utils",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L(P.prototype,"onUpload",[m],Object.getOwnPropertyDescriptor(P.prototype,"onUpload"),P.prototype),L(P.prototype,"downloadFile",[h],Object.getOwnPropertyDescriptor(P.prototype,"downloadFile"),P.prototype),L(P.prototype,"saveOAuthSettings",[g],Object.getOwnPropertyDescriptor(P.prototype,"saveOAuthSettings"),P.prototype),L(P.prototype,"toggleDeleteAllModal",[b],Object.getOwnPropertyDescriptor(P.prototype,"toggleDeleteAllModal"),P.prototype),L(P.prototype,"toggleEarlyAccessModal",[f],Object.getOwnPropertyDescriptor(P.prototype,"toggleEarlyAccessModal"),P.prototype),L(P.prototype,"toggleEnableTiersModal",[v],Object.getOwnPropertyDescriptor(P.prototype,"toggleEnableTiersModal"),P.prototype),L(P.prototype,"toggleIsOAuthEnabled",[y],Object.getOwnPropertyDescriptor(P.prototype,"toggleIsOAuthEnabled"),P.prototype),L(P.prototype,"triggerFileDialog",[w],Object.getOwnPropertyDescriptor(P.prototype,"triggerFileDialog"),P.prototype),C=L(P.prototype,"redirectUploadResult",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=L(P.prototype,"routesUploadResult",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P)
e.default=H})),define("ghost-admin/controllers/settings/members-email",["exports","ember-concurrency"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E
function k(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function P(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let O=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._action,d=Ember._action,c=Ember._action,p=Ember._action,m=(0,t.task)({drop:!0}),h=class extends Ember.Controller{constructor(){super(...arguments),k(this,"config",g,this),k(this,"session",b,this),k(this,"settings",f,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"queryParams",["showEmailDesignSettings"]),k(this,"fromAddress",v,this),k(this,"supportAddress",y,this),k(this,"showEmailDesignSettings",w,this),k(this,"showLeaveSettingsModal",E,this)}setEmailAddress(e,t){this[e]=t}toggleEmailDesignSettings(){this.showEmailDesignSettings=!this.showEmailDesignSettings}leaveRoute(e){this.settings.get("hasDirtyAttributes")&&(e.abort(),this.leaveSettingsTransition=e,this.showLeaveSettingsModal=!0),this.showEmailDesignSettings=!1}async confirmLeave(){this.settings.rollbackAttributes(),this.showLeaveSettingsModal=!1,this.leaveSettingsTransition.retry()}cancelLeave(){this.showLeaveSettingsModal=!1,this.leaveSettingsTransition=null}parseEmailAddress(e){const t=e||"noreply"
return t.indexOf("@")<0&&this.config.emailDomain?`${t}@${this.config.emailDomain}`:t}resetEmailAddresses(){this.fromAddress=this.parseEmailAddress(this.settings.get("membersFromAddress")),this.supportAddress=this.parseEmailAddress(this.settings.get("membersSupportAddress"))}*saveSettings(){const e=yield this.settings.save()
return this.resetEmailAddresses(),e}},g=P(h.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=P(h.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=P(h.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P(h.prototype,"fromAddress",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=P(h.prototype,"supportAddress",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=P(h.prototype,"showEmailDesignSettings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=P(h.prototype,"showLeaveSettingsModal",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P(h.prototype,"setEmailAddress",[u],Object.getOwnPropertyDescriptor(h.prototype,"setEmailAddress"),h.prototype),P(h.prototype,"toggleEmailDesignSettings",[d],Object.getOwnPropertyDescriptor(h.prototype,"toggleEmailDesignSettings"),h.prototype),P(h.prototype,"confirmLeave",[c],Object.getOwnPropertyDescriptor(h.prototype,"confirmLeave"),h.prototype),P(h.prototype,"cancelLeave",[p],Object.getOwnPropertyDescriptor(h.prototype,"cancelLeave"),h.prototype),P(h.prototype,"saveSettings",[m],Object.getOwnPropertyDescriptor(h.prototype,"saveSettings"),h.prototype),h)
e.default=O})),define("ghost-admin/controllers/settings/membership",["exports","ghost-admin/config/environment","ghost-admin/utils/currency","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L,R,U,N,F,B,V,H,q,$,Y,W,K,G,Z,J,X,Q,ee,te,ne,ie,re,ae,se,oe,le,ue,de,ce,pe,me,he,ge,be,fe,ve,ye,we,Ee
function ke(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const je=n.currencies.map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode})))
let _e=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember._tracked,c=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,g=Ember._tracked,b=Ember._tracked,f=Ember._tracked,v=Ember._tracked,y=Ember._tracked,w=Ember._tracked,E=Ember._tracked,k=Ember._tracked,P=Ember._tracked,O=Ember._tracked,j=Ember._tracked,_=Ember._action,z=Ember._action,x=Ember._action,T=Ember._action,S=Ember._action,M=Ember._action,C=Ember._action,D=Ember._action,A=Ember._action,I=Ember._action,L=Ember._action,R=Ember._action,U=Ember._action,N=Ember._action,F=Ember._action,B=Ember._action,V=Ember._action,H=Ember._action,q=Ember._action,$=Ember._action,Y=Ember._action,W=Ember._action,K=Ember._action,G=Ember._action,Z=Ember._action,J=(0,i.task)({drop:!0}),X=(0,i.task)({drop:!0}),Q=class extends Ember.Controller{constructor(){super(...arguments),ke(this,"config",ee,this),ke(this,"feature",te,this),ke(this,"membersUtils",ne,this),ke(this,"settings",ie,this),ke(this,"store",re,this),ke(this,"session",ae,this),ke(this,"showLeavePortalModal",se,this),ke(this,"showLeaveRouteModal",oe,this),ke(this,"showPortalSettings",le,this),ke(this,"showStripeConnect",ue,this),ke(this,"showProductModal",de,this),ke(this,"product",ce,this),ke(this,"products",pe,this),ke(this,"productModel",me,this),ke(this,"paidSignupRedirect",he,this),ke(this,"freeSignupRedirect",ge,this),ke(this,"welcomePageURL",be,this),ke(this,"stripeMonthlyAmount",fe,this),ke(this,"stripeYearlyAmount",ve,this),ke(this,"currency",ye,this),ke(this,"stripePlanError",we,this),ke(this,"portalPreviewUrl",Ee,this),Pe(this,"portalPreviewGuid",Date.now().valueOf()),Pe(this,"queryParams",["showPortalSettings"])}get freeProduct(){return this.products?.find((e=>"free"===e.type))}get paidProducts(){return this.products?.filter((e=>"paid"===e.type))}get allCurrencies(){return(0,n.getCurrencyOptions)()}get siteUrl(){return this.config.get("blogUrl")}get selectedCurrency(){return je.findBy("value",this.currency)}get isConnectDisallowed(){const e=this.config.get("blogUrl")
return"development"!==t.default.environment&&!/^https:/.test(e)}get hasChangedPrices(){if(this.product){const e=this.product.get("monthlyPrice"),t=this.product.get("yearlyPrice")
if(e?.amount&&parseFloat(this.stripeMonthlyAmount)!==e.amount/100)return!0
if(t?.amount&&parseFloat(this.stripeYearlyAmount)!==t.amount/100)return!0}return!1}setup(){this.fetchProducts.perform(),this.updatePortalPreview()}leaveRoute(e){(this.settings.get("hasDirtyAttributes")||this.hasChangedPrices)&&(e.abort(),this.leaveSettingsTransition=e,this.showLeaveRouteModal=!0)}async confirmLeave(){this.settings.rollbackAttributes(),this.resetPrices(),this.leaveSettingsTransition.retry()}cancelLeave(){this.showLeaveRouteModal=!1,this.leaveSettingsTransition=null}async membersSubscriptionAccessChanged(){const e=this.settings.changedAttributes().membersSignupAccess?.[0]
"none"===e?await this.switchFromNoneTask.perform():this.updatePortalPreview()}setStripePlansCurrency(e){const t=e.value
this.currency=t}setPaidSignupRedirect(e){this.paidSignupRedirect=e}setFreeSignupRedirect(e){this.freeSignupRedirect=e}setWelcomePageURL(e){this.welcomePageURL=e}validatePaidSignupRedirect(){return this._validateSignupRedirect(this.paidSignupRedirect,"membersPaidSignupRedirect")}validateFreeSignupRedirect(){return this._validateSignupRedirect(this.freeSignupRedirect,"membersFreeSignupRedirect")}validateWelcomePageURL(){const e=this.siteUrl
if(void 0!==this.welcomePageURL)if(this.welcomePageURL.href.startsWith(e)){const t=this.welcomePageURL.href.replace(e,"")
this.freeProduct.welcomePageURL=t}else this.freeProduct.welcomePageURL=this.welcomePageURL.href}validateStripePlans(){let{updatePortalPreview:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.stripePlanError=void 0
try{const t=this.stripeYearlyAmount,i=this.stripeMonthlyAmount,r=(0,n.getSymbol)(this.currency)
if(!t||t<1||!i||i<1)throw new TypeError(`Subscription amount must be at least ${r}1.00`)
e&&this.updatePortalPreview()}catch(t){this.stripePlanError=t.message}}openStripeConnect(){this.stripeEnabledOnOpen=this.membersUtils.isStripeEnabled,this.showStripeConnect=!0}async closeStripeConnect(){this.stripeEnabledOnOpen!==this.membersUtils.isStripeEnabled&&await this.saveSettingsTask.perform({forceRefresh:!0}),this.showStripeConnect=!1}async openEditProduct(e){this.productModel=e,this.showProductModal=!0}async openNewProduct(){this.productModel=this.store.createRecord("product"),this.showProductModal=!0}closeProductModal(){this.showProductModal=!1}openPortalSettings(){this.saveSettingsTask.perform(),this.showPortalSettings=!0}closePortalSettings(){const e=this.settings.changedAttributes()
e&&Object.keys(e).length>0?this.showLeavePortalModal=!0:(this.showPortalSettings=!1,this.updatePortalPreview())}async confirmClosePortalSettings(){this.settings.rollbackAttributes(),this.showPortalSettings=!1,this.showLeavePortalModal=!1,this.updatePortalPreview()}cancelClosePortalSettings(){this.showLeavePortalModal=!1}updatePortalPreview(){let{forceRefresh:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{forceRefresh:!1}
const t=Math.round(100*this.stripeMonthlyAmount),n=Math.round(100*this.stripeYearlyAmount)
let i=this.settings.get("portalPlans")||[],r=i.includes("monthly"),a=i.includes("yearly")
const s=this.store.peekAll("product")?.filter((e=>"public"===e.get("visibility")&&!0===e.get("active")&&"paid"===e.get("type"))).map((e=>e.id)),o=new URL(this.membersUtils.getPortalPreviewUrl({button:!1,monthlyPrice:t,yearlyPrice:n,portalProducts:s,currency:this.currency,isMonthlyChecked:r,isYearlyChecked:a,portalPlans:null}))
e&&(this.portalPreviewGuid=Date.now().valueOf()),o.searchParams.set("v",this.portalPreviewGuid),this.portalPreviewUrl=o}portalPreviewInserted(e){this.portalPreviewIframe=e,this.portalMessageListener||(this.portalMessageListener=e=>{if(this.showPortalSettings)return;["portal-ready","portal-preview-updated"].includes(e.data.type)&&e.data.payload?.height&&this.portalPreviewIframe?.parentNode&&(this.portalPreviewIframe.parentNode.style.height=`${e.data.payload.height}px`)},window.addEventListener("message",this.portalMessageListener,!0))}portalPreviewDestroyed(){this.portalPreviewIframe=null,this.portalMessageListener&&window.removeEventListener("message",this.portalMessageListener)}confirmProductSave(){return this.updatePortalPreview({forceRefresh:!0}),this.fetchProducts.perform()}*switchFromNoneTask(){return yield this.saveSettingsTask.perform({forceRefresh:!0})}setupPortalProduct(e){if(e){const t=e.get("monthlyPrice"),n=e.get("yearlyPrice")
t&&t.amount&&(this.stripeMonthlyAmount=t.amount/100,this.currency=t.currency),n&&n.amount&&(this.stripeYearlyAmount=n.amount/100),this.updatePortalPreview()}}*fetchProducts(){this.products=yield this.store.query("product",{include:"monthly_price,yearly_price,benefits"}),this.product=this.paidProducts.firstObject,this.setupPortalProduct(this.product)}*saveSettingsTask(e){if(this.feature.get("multipleProducts")){if(0!==this.settings.get("errors").length)return
if(!this.settings.get("defaultContentVisibility"))return
const t=yield this.settings.save()
return yield this.freeProduct.save(),this.updatePortalPreview(e),t}{if(yield this.validateStripePlans({updatePortalPreview:!1}),this.stripePlanError)return
if(0!==this.settings.get("errors").length)return
yield this.saveProduct()
const t=yield this.settings.save()
return this.updatePortalPreview(e),t}}async saveProduct(){const e=this.settings.get("stripeConnectAccountId")
if(this.product&&e){const e=Math.round(100*this.stripeMonthlyAmount),t=Math.round(100*this.stripeYearlyAmount)
this.product.set("monthlyPrice",{nickname:"Monthly",amount:e,active:!0,currency:this.currency,interval:"month",type:"recurring"}),this.product.set("yearlyPrice",{nickname:"Yearly",amount:t,active:!0,currency:this.currency,interval:"year",type:"recurring"})
return await this.product.save()}}resetPrices(){const e=this.product.get("monthlyPrice"),t=this.product.get("yearlyPrice")
this.stripeMonthlyAmount=e?e.amount/100:5,this.stripeYearlyAmount=t?t.amount/100:50}reset(){this.showLeaveRouteModal=!1,this.showLeavePortalModal=!1,this.showPortalSettings=!1}_validateSignupRedirect(e,t){const n=this.config.get("blogUrl")
if(this.settings.get("errors").remove(t),this.settings.get("hasValidated").removeObject(t),null===e)return this.settings.get("errors").add(t,"Please enter a valid URL"),this.settings.get("hasValidated").pushObject(t),!1
if(void 0!==e)if(e.href.startsWith(n)){const i=e.href.replace(n,"")
this.settings.set(t,i)}else this.settings.set(t,e.href)}},ee=Oe(Q.prototype,"config",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=Oe(Q.prototype,"feature",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=Oe(Q.prototype,"membersUtils",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=Oe(Q.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=Oe(Q.prototype,"store",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=Oe(Q.prototype,"session",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=Oe(Q.prototype,"showLeavePortalModal",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=Oe(Q.prototype,"showLeaveRouteModal",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=Oe(Q.prototype,"showPortalSettings",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue=Oe(Q.prototype,"showStripeConnect",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),de=Oe(Q.prototype,"showProductModal",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=Oe(Q.prototype,"product",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=Oe(Q.prototype,"products",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=Oe(Q.prototype,"productModel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=Oe(Q.prototype,"paidSignupRedirect",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=Oe(Q.prototype,"freeSignupRedirect",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=Oe(Q.prototype,"welcomePageURL",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=Oe(Q.prototype,"stripeMonthlyAmount",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),ve=Oe(Q.prototype,"stripeYearlyAmount",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ye=Oe(Q.prototype,"currency",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"usd"}}),we=Oe(Q.prototype,"stripePlanError",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ee=Oe(Q.prototype,"portalPreviewUrl",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Oe(Q.prototype,"setup",[_],Object.getOwnPropertyDescriptor(Q.prototype,"setup"),Q.prototype),Oe(Q.prototype,"confirmLeave",[z],Object.getOwnPropertyDescriptor(Q.prototype,"confirmLeave"),Q.prototype),Oe(Q.prototype,"cancelLeave",[x],Object.getOwnPropertyDescriptor(Q.prototype,"cancelLeave"),Q.prototype),Oe(Q.prototype,"membersSubscriptionAccessChanged",[T],Object.getOwnPropertyDescriptor(Q.prototype,"membersSubscriptionAccessChanged"),Q.prototype),Oe(Q.prototype,"setStripePlansCurrency",[S],Object.getOwnPropertyDescriptor(Q.prototype,"setStripePlansCurrency"),Q.prototype),Oe(Q.prototype,"setPaidSignupRedirect",[M],Object.getOwnPropertyDescriptor(Q.prototype,"setPaidSignupRedirect"),Q.prototype),Oe(Q.prototype,"setFreeSignupRedirect",[C],Object.getOwnPropertyDescriptor(Q.prototype,"setFreeSignupRedirect"),Q.prototype),Oe(Q.prototype,"setWelcomePageURL",[D],Object.getOwnPropertyDescriptor(Q.prototype,"setWelcomePageURL"),Q.prototype),Oe(Q.prototype,"validatePaidSignupRedirect",[A],Object.getOwnPropertyDescriptor(Q.prototype,"validatePaidSignupRedirect"),Q.prototype),Oe(Q.prototype,"validateFreeSignupRedirect",[I],Object.getOwnPropertyDescriptor(Q.prototype,"validateFreeSignupRedirect"),Q.prototype),Oe(Q.prototype,"validateWelcomePageURL",[L],Object.getOwnPropertyDescriptor(Q.prototype,"validateWelcomePageURL"),Q.prototype),Oe(Q.prototype,"validateStripePlans",[R],Object.getOwnPropertyDescriptor(Q.prototype,"validateStripePlans"),Q.prototype),Oe(Q.prototype,"openStripeConnect",[U],Object.getOwnPropertyDescriptor(Q.prototype,"openStripeConnect"),Q.prototype),Oe(Q.prototype,"closeStripeConnect",[N],Object.getOwnPropertyDescriptor(Q.prototype,"closeStripeConnect"),Q.prototype),Oe(Q.prototype,"openEditProduct",[F],Object.getOwnPropertyDescriptor(Q.prototype,"openEditProduct"),Q.prototype),Oe(Q.prototype,"openNewProduct",[B],Object.getOwnPropertyDescriptor(Q.prototype,"openNewProduct"),Q.prototype),Oe(Q.prototype,"closeProductModal",[V],Object.getOwnPropertyDescriptor(Q.prototype,"closeProductModal"),Q.prototype),Oe(Q.prototype,"openPortalSettings",[H],Object.getOwnPropertyDescriptor(Q.prototype,"openPortalSettings"),Q.prototype),Oe(Q.prototype,"closePortalSettings",[q],Object.getOwnPropertyDescriptor(Q.prototype,"closePortalSettings"),Q.prototype),Oe(Q.prototype,"confirmClosePortalSettings",[$],Object.getOwnPropertyDescriptor(Q.prototype,"confirmClosePortalSettings"),Q.prototype),Oe(Q.prototype,"cancelClosePortalSettings",[Y],Object.getOwnPropertyDescriptor(Q.prototype,"cancelClosePortalSettings"),Q.prototype),Oe(Q.prototype,"updatePortalPreview",[W],Object.getOwnPropertyDescriptor(Q.prototype,"updatePortalPreview"),Q.prototype),Oe(Q.prototype,"portalPreviewInserted",[K],Object.getOwnPropertyDescriptor(Q.prototype,"portalPreviewInserted"),Q.prototype),Oe(Q.prototype,"portalPreviewDestroyed",[G],Object.getOwnPropertyDescriptor(Q.prototype,"portalPreviewDestroyed"),Q.prototype),Oe(Q.prototype,"confirmProductSave",[Z],Object.getOwnPropertyDescriptor(Q.prototype,"confirmProductSave"),Q.prototype),Oe(Q.prototype,"switchFromNoneTask",[i.task],Object.getOwnPropertyDescriptor(Q.prototype,"switchFromNoneTask"),Q.prototype),Oe(Q.prototype,"fetchProducts",[J],Object.getOwnPropertyDescriptor(Q.prototype,"fetchProducts"),Q.prototype),Oe(Q.prototype,"saveSettingsTask",[X],Object.getOwnPropertyDescriptor(Q.prototype,"saveSettingsTask"),Q.prototype),Q)
e.default=_e})),define("ghost-admin/controllers/settings/navigation",["exports","jquery","ghost-admin/models/navigation-item","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P
function O(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let z=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.computed("config.blogUrl"),d=Ember._action,c=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,v=class extends Ember.Controller{constructor(){super(...arguments),O(this,"config",y,this),O(this,"ghostPaths",w,this),O(this,"notifications",E,this),O(this,"session",k,this),O(this,"settings",P,this),j(this,"dirtyAttributes",!1),j(this,"newNavItem",null),j(this,"newSecondaryNavItem",null)}init(){super.init(...arguments),this.set("newNavItem",n.default.create({isNew:!0})),this.set("newSecondaryNavItem",n.default.create({isNew:!0,isSecondary:!0}))}get blogUrl(){let e=this.get("config.blogUrl")
return"/"!==e.slice(-1)?`${e}/`:e}save(){this.saveTask.perform()}addNavItem(e){return""===e.get("url")&&e.set("url","/"),e.validate().then((()=>{this.addNewNavItem(e)}))}deleteNavItem(e){if(!e)return;(e.isSecondary?this.get("settings.secondaryNavigation"):this.get("settings.navigation")).removeObject(e),this.set("dirtyAttributes",!0)}updateLabel(e,t){t&&t.get("label")!==e&&(t.set("label",e),this.set("dirtyAttributes",!0))}updateUrl(e,t){if(t)return t.get("url")!==e&&(t.set("url",e),this.set("dirtyAttributes",!0)),e}toggleLeaveSettingsModal(e){let t=this.leaveSettingsTransition
if(!e&&this.showLeaveSettingsModal)return this.set("leaveSettingsTransition",null),void this.set("showLeaveSettingsModal",!1)
if(!t||e.targetName===t.targetName){if(this.set("leaveSettingsTransition",e),this.save.isRunning)return this.save.last.then((()=>{e.retry()}))
this.set("showLeaveSettingsModal",!0)}}leaveSettings(){let e=this.leaveSettingsTransition,t=this.settings
if(e)return t.rollbackAttributes(),this.set("dirtyAttributes",!1),e.retry()
this.notifications.showAlert("Sorry, there was an error in the application. Please let the Ghost team know what happened.",{type:"error"})}reset(){this.set("newNavItem",n.default.create({isNew:!0})),this.set("newSecondaryNavItem",n.default.create({isNew:!0,isSecondary:!0}))}addNewNavItem(e){let i=e.isSecondary?this.get("settings.secondaryNavigation"):this.get("settings.navigation")
e.set("isNew",!1),i.pushObject(e),this.set("dirtyAttributes",!0),e.isSecondary?(this.set("newSecondaryNavItem",n.default.create({isNew:!0,isSecondary:!0})),(0,t.default)(".gh-blognav-container:last .gh-blognav-line:last input:first").focus()):(this.set("newNavItem",n.default.create({isNew:!0})),(0,t.default)(".gh-blognav-container:first .gh-blognav-line:last input:first").focus())}*saveTask(){let e=this.get("settings.navigation"),t=this.get("settings.secondaryNavigation"),n=this.notifications,i=[]
this.newNavItem.get("isBlank")||i.pushObject(this.send("addNavItem",this.newNavItem)),this.newSecondaryNavItem.get("isBlank")||i.pushObject(this.send("addNavItem",this.newSecondaryNavItem)),e.map((e=>{i.pushObject(e.validate())})),t.map((e=>{i.pushObject(e.validate())}))
try{return yield Ember.RSVP.all(i),this.set("dirtyAttributes",!1),yield this.settings.save()}catch(r){if(r)throw n.showAPIError(r),r}}},y=_(v.prototype,"config",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=_(v.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=_(v.prototype,"notifications",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=_(v.prototype,"session",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_(v.prototype,"settings",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_(v.prototype,"blogUrl",[u],Object.getOwnPropertyDescriptor(v.prototype,"blogUrl"),v.prototype),_(v.prototype,"save",[d],Object.getOwnPropertyDescriptor(v.prototype,"save"),v.prototype),_(v.prototype,"addNavItem",[c],Object.getOwnPropertyDescriptor(v.prototype,"addNavItem"),v.prototype),_(v.prototype,"deleteNavItem",[p],Object.getOwnPropertyDescriptor(v.prototype,"deleteNavItem"),v.prototype),_(v.prototype,"updateLabel",[m],Object.getOwnPropertyDescriptor(v.prototype,"updateLabel"),v.prototype),_(v.prototype,"updateUrl",[h],Object.getOwnPropertyDescriptor(v.prototype,"updateUrl"),v.prototype),_(v.prototype,"toggleLeaveSettingsModal",[g],Object.getOwnPropertyDescriptor(v.prototype,"toggleLeaveSettingsModal"),v.prototype),_(v.prototype,"leaveSettings",[b],Object.getOwnPropertyDescriptor(v.prototype,"leaveSettings"),v.prototype),_(v.prototype,"reset",[f],Object.getOwnPropertyDescriptor(v.prototype,"reset"),v.prototype),_(v.prototype,"saveTask",[i.task],Object.getOwnPropertyDescriptor(v.prototype,"saveTask"),v.prototype),v)
e.default=z})),define("ghost-admin/controllers/settings/product",["exports","ember-concurrency"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D
function A(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function I(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let L=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._action,c=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,E=Ember._action,k=Ember._action,P=Ember._action,O=(0,t.task)({restartable:!0}),j=class extends Ember.Controller{constructor(){super(...arguments),A(this,"config",_,this),A(this,"membersUtils",z,this),A(this,"settings",x,this),A(this,"showLeaveSettingsModal",T,this),A(this,"showPriceModal",S,this),A(this,"priceModel",M,this),A(this,"showUnsavedChangesModal",C,this),A(this,"paidSignupRedirect",D,this),this.siteUrl=this.config.get("blogUrl")}get product(){return this.model}get stripePrices(){return(this.model.stripePrices||[]).map((e=>({...e,amount:e.amount/100}))).sort(((e,t)=>e.amount-t.amount)).sort(((e,t)=>e.currency.localeCompare(t.currency,void 0,{ignorePunctuation:!0}))).sort(((e,t)=>e.active===t.active?0:e.active?-1:1))}get noOfPrices(){return(this.product.stripePrices||[]).length}toggleUnsavedChangesModal(e){let t=this.leaveScreenTransition
if(!e&&this.showUnsavedChangesModal)return this.leaveScreenTransition=null,void(this.showUnsavedChangesModal=!1)
if(!t||e.targetName===t.targetName){if(this.leaveScreenTransition=e,this.saveTask.isRunning)return this.saveTask.last.then((()=>{e.retry()}))
this.showUnsavedChangesModal=!0}}leaveScreen(){return this.product.rollbackAttributes(),this.leaveScreenTransition.retry()}async openEditPrice(e){this.priceModel=e,this.showPriceModal=!0}async openNewPrice(){this.priceModel=null,this.showPriceModal=!0}async archivePrice(e){e.active=!1,e.amount=100*e.amount,this.send("savePrice",e)}async activatePrice(e){e.active=!0,e.amount=100*e.amount,this.send("savePrice",e)}openStripeConnect(){alert("Update to use stripe-connect modal (see memberships screen)")}async confirmLeave(){this.settings.rollbackAttributes(),this.showLeaveSettingsModal=!1,this.leaveSettingsTransition.retry()}cancelLeave(){this.showLeaveSettingsModal=!1,this.leaveSettingsTransition=null}save(){return this.saveTask.perform()}savePrice(e){const t=this.product.stripePrices.map((t=>t.id===e.id?Ember.Object.create({...e,active:!!e.active}):{...t,active:!!t.active}))
e.id||t.push(Ember.Object.create({...e,active:!!e.active})),this.product.set("stripePrices",t),this.saveTask.perform()}closePriceModal(){this.showPriceModal=!1}setPaidSignupRedirect(e){this.paidSignupRedirect=e}validatePaidSignupRedirect(){return this._validateSignupRedirect(this.paidSignupRedirect,"membersPaidSignupRedirect")}*saveTask(){if(this.send("validatePaidSignupRedirect"),this.product.validate(),0!==this.product.get("errors").length)return
if(0!==this.settings.get("errors").length)return
yield this.settings.save()
const e=yield this.product.save()
return this.showPriceModal&&this.closePriceModal(),e}_validateSignupRedirect(e,t){if(this.settings.get("errors").remove(t),this.settings.get("hasValidated").removeObject(t),null===e)return this.settings.get("errors").add(t,"Please enter a valid URL"),this.settings.get("hasValidated").pushObject(t),!1
if(void 0!==e)if(e.href.startsWith(this.siteUrl)){const n=e.href.replace(this.siteUrl,"")
this.settings.set(t,n)}else this.settings.set(t,e.href)}},_=I(j.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=I(j.prototype,"membersUtils",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=I(j.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=I(j.prototype,"showLeaveSettingsModal",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=I(j.prototype,"showPriceModal",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=I(j.prototype,"priceModel",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=I(j.prototype,"showUnsavedChangesModal",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=I(j.prototype,"paidSignupRedirect",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I(j.prototype,"toggleUnsavedChangesModal",[d],Object.getOwnPropertyDescriptor(j.prototype,"toggleUnsavedChangesModal"),j.prototype),I(j.prototype,"leaveScreen",[c],Object.getOwnPropertyDescriptor(j.prototype,"leaveScreen"),j.prototype),I(j.prototype,"openEditPrice",[p],Object.getOwnPropertyDescriptor(j.prototype,"openEditPrice"),j.prototype),I(j.prototype,"openNewPrice",[m],Object.getOwnPropertyDescriptor(j.prototype,"openNewPrice"),j.prototype),I(j.prototype,"archivePrice",[h],Object.getOwnPropertyDescriptor(j.prototype,"archivePrice"),j.prototype),I(j.prototype,"activatePrice",[g],Object.getOwnPropertyDescriptor(j.prototype,"activatePrice"),j.prototype),I(j.prototype,"openStripeConnect",[b],Object.getOwnPropertyDescriptor(j.prototype,"openStripeConnect"),j.prototype),I(j.prototype,"confirmLeave",[f],Object.getOwnPropertyDescriptor(j.prototype,"confirmLeave"),j.prototype),I(j.prototype,"cancelLeave",[v],Object.getOwnPropertyDescriptor(j.prototype,"cancelLeave"),j.prototype),I(j.prototype,"save",[y],Object.getOwnPropertyDescriptor(j.prototype,"save"),j.prototype),I(j.prototype,"savePrice",[w],Object.getOwnPropertyDescriptor(j.prototype,"savePrice"),j.prototype),I(j.prototype,"closePriceModal",[E],Object.getOwnPropertyDescriptor(j.prototype,"closePriceModal"),j.prototype),I(j.prototype,"setPaidSignupRedirect",[k],Object.getOwnPropertyDescriptor(j.prototype,"setPaidSignupRedirect"),j.prototype),I(j.prototype,"validatePaidSignupRedirect",[P],Object.getOwnPropertyDescriptor(j.prototype,"validatePaidSignupRedirect"),j.prototype),I(j.prototype,"saveTask",[O],Object.getOwnPropertyDescriptor(j.prototype,"saveTask"),j.prototype),j)
e.default=L})),define("ghost-admin/controllers/settings/products",["exports"],(function(e){var t,n,i,r,a,s,o,l,u,d
function c(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function p(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(t=Ember.inject.service,n=Ember.inject.service,i=Ember._tracked,r=Ember._tracked,a=Ember._action,s=class extends Ember.Controller{constructor(){super(...arguments),c(this,"settings",o,this),c(this,"config",l,this),c(this,"iconStyle",u,this),c(this,"showFreeMembershipModal",d,this),this.iconStyle=this.setIconStyle()}get products(){return this.model.sortBy("name")}setIconStyle(){let e=this.config.get("icon")
return e||(e="https://static.ghost.org/v4.0.0/images/ghost-orb-2.png"),Ember.String.htmlSafe(`background-image: url(${e})`)}closeFreeMembershipModal(){this.showFreeMembershipModal=!1}},o=p(s.prototype,"settings",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(s.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(s.prototype,"iconStyle",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=p(s.prototype,"showFreeMembershipModal",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p(s.prototype,"closeFreeMembershipModal",[a],Object.getOwnPropertyDescriptor(s.prototype,"closeFreeMembershipModal"),s.prototype),s)
e.default=m})),define("ghost-admin/controllers/settings/staff/index",["exports","ember-concurrency"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x
function T(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let C=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.computed.alias("model"),a=Ember.computed.sort("filteredInvites","inviteOrder"),s=Ember.computed.sort("activeUsers","userOrder"),o=Ember.computed.sort("suspendedUsers","userOrder"),l=Ember.computed.filterBy("invites","isNew",!1),u=Ember.computed,d=Ember.computed,c=Ember.computed("allUsers.@each.status"),p=Ember.computed("allUsers.@each.status"),m=Ember._action,h=Ember._action,g=(0,t.task)((function*(){let e=this.fetchUsers.perform(),t=this.fetchInvites.perform()
try{yield Ember.RSVP.all([e,t])}catch(n){this.send("error",n)}})),b=(0,t.task)((function*(){yield this.store.query("user",{limit:"all"})})),f=(0,t.task)((function*(){if(!this.currentUser.isAuthorOrContributor)return yield this.store.query("role",{limit:"all"}),yield this.store.query("invite",{limit:"all"})})),v=class extends Ember.Controller{constructor(){super(...arguments),T(this,"session",y,this),T(this,"store",w,this),S(this,"showInviteUserModal",!1),S(this,"showResetAllPasswordsModal",!1),S(this,"inviteOrder",null),S(this,"userOrder",null),T(this,"currentUser",E,this),T(this,"sortedInvites",k,this),T(this,"sortedActiveUsers",P,this),T(this,"sortedSuspendedUsers",O,this),T(this,"filteredInvites",j,this),T(this,"backgroundUpdate",_,this),T(this,"fetchUsers",z,this),T(this,"fetchInvites",x,this)}init(){super.init(...arguments),this.inviteOrder=["email"],this.userOrder=["name","email"]}get invites(){return this.store.peekAll("invite")}get allUsers(){return this.store.peekAll("user")}get activeUsers(){return this.allUsers.filter((e=>"inactive"!==e.status))}get suspendedUsers(){return this.allUsers.filter((e=>"inactive"===e.status))}toggleInviteUserModal(){this.toggleProperty("showInviteUserModal")}toggleResetAllPasswordsModal(){this.toggleProperty("showResetAllPasswordsModal")}},y=M(v.prototype,"session",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=M(v.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M(v.prototype,"currentUser",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=M(v.prototype,"sortedInvites",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=M(v.prototype,"sortedActiveUsers",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=M(v.prototype,"sortedSuspendedUsers",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=M(v.prototype,"filteredInvites",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M(v.prototype,"invites",[u],Object.getOwnPropertyDescriptor(v.prototype,"invites"),v.prototype),M(v.prototype,"allUsers",[d],Object.getOwnPropertyDescriptor(v.prototype,"allUsers"),v.prototype),M(v.prototype,"activeUsers",[c],Object.getOwnPropertyDescriptor(v.prototype,"activeUsers"),v.prototype),M(v.prototype,"suspendedUsers",[p],Object.getOwnPropertyDescriptor(v.prototype,"suspendedUsers"),v.prototype),M(v.prototype,"toggleInviteUserModal",[m],Object.getOwnPropertyDescriptor(v.prototype,"toggleInviteUserModal"),v.prototype),M(v.prototype,"toggleResetAllPasswordsModal",[h],Object.getOwnPropertyDescriptor(v.prototype,"toggleResetAllPasswordsModal"),v.prototype),_=M(v.prototype,"backgroundUpdate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=M(v.prototype,"fetchUsers",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=M(v.prototype,"fetchInvites",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v)
e.default=C})),define("ghost-admin/controllers/settings/staff/user-loading",["exports"],(function(e){var t,n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,n=class extends Ember.Controller{constructor(){var e,t,n,r
super(...arguments),e=this,t="session",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},a=n.prototype,s="session",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(l).forEach((function(e){d[e]=l[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,s,d),d=null),i=d,n)
var a,s,o,l,u,d
e.default=r})),define("ghost-admin/controllers/settings/staff/user",["exports","ghost-admin/utils/bound-one-way","ghost-admin/utils/copy-text-to-clipboard","ghost-admin/utils/isNumber","validator","ghost-admin/utils/window-proxy","ember-concurrency"],(function(e,t,n,i,r,a,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var o=Ember.Controller.extend({ajax:Ember.inject.service(),config:Ember.inject.service(),dropdown:Ember.inject.service(),ghostPaths:Ember.inject.service(),limit:Ember.inject.service(),notifications:Ember.inject.service(),session:Ember.inject.service(),slugGenerator:Ember.inject.service(),utils:Ember.inject.service(),personalToken:null,limitErrorMessage:null,personalTokenRegenerated:!1,leaveSettingsTransition:null,dirtyAttributes:!1,showDeleteUserModal:!1,showSuspendUserModal:!1,showTransferOwnerModal:!1,showUploadCoverModal:!1,showUploadImageModal:!1,showRegenerateTokenModal:!1,showRoleSelectionModal:!1,_scratchFacebook:null,_scratchTwitter:null,saveHandlers:(0,s.taskGroup)().enqueue(),user:Ember.computed.alias("model"),currentUser:Ember.computed.alias("session.user"),email:Ember.computed.readOnly("user.email"),slugValue:(0,t.default)("user.slug"),canChangeEmail:Ember.computed.not("isAdminUserOnOwnerProfile"),canChangePassword:Ember.computed.not("isAdminUserOnOwnerProfile"),canMakeOwner:Ember.computed.and("currentUser.isOwnerOnly","isNotOwnProfile","user.isAdminOnly","isNotSuspended"),isAdminUserOnOwnerProfile:Ember.computed.and("currentUser.isAdminOnly","user.isOwnerOnly"),isNotOwnersProfile:Ember.computed.not("user.isOwnerOnly"),isNotSuspended:Ember.computed.not("user.isSuspended"),rolesDropdownIsVisible:Ember.computed.and("currentUser.isAdmin","isNotOwnProfile","isNotOwnersProfile"),userActionsAreVisible:Ember.computed.or("deleteUserActionIsVisible","canMakeOwner"),isNotOwnProfile:Ember.computed.not("isOwnProfile"),isOwnProfile:Ember.computed("user.id","currentUser.id",(function(){return this.get("user.id")===this.get("currentUser.id")})),deleteUserActionIsVisible:Ember.computed("currentUser.{isAdmin,isEditor}","user.{isOwnerOnly,isAuthorOrContributor}","isOwnProfile",(function(){return!this.isOwnProfile&&!!(this.currentUser.get("isAdmin")&&!this.user.isOwnerOnly||this.currentUser.get("isEditor")&&this.user.isAuthorOrContributor)})),coverTitle:Ember.computed("user.name",(function(){return`${this.get("user.name")}'s Cover Image`})),roles:Ember.computed((function(){return this.store.query("role",{permissions:"assign"})})),actions:{toggleRoleSelectionModal(e){e?.preventDefault?.(),this.toggleProperty("showRoleSelectionModal")},changeRole(e){this.user.set("role",e),this.set("dirtyAttributes",!0)},toggleDeleteUserModal(){this.deleteUserActionIsVisible&&this.toggleProperty("showDeleteUserModal")},suspendUser(){return this.user.set("status","inactive"),this.save.perform()},toggleSuspendUserModal(){this.deleteUserActionIsVisible&&this.toggleProperty("showSuspendUserModal")},unsuspendUser(){return this.user.set("status","active"),this.save.perform()},toggleUnsuspendUserModal(){this.deleteUserActionIsVisible&&("Contributor"!==this.user.role.name&&this.limit.limiter&&this.limit.limiter.isLimited("staff")?this.limit.limiter.errorIfWouldGoOverLimit("staff").then((()=>{this.toggleProperty("showUnsuspendUserModal")})).catch((e=>{"HostLimitError"===e.errorType?(this.limitErrorMessage=e.message,this.toggleProperty("showUnsuspendUserModal")):this.notifications.showAPIError(e,{key:"staff.limit"})})):this.toggleProperty("showUnsuspendUserModal"))},validateFacebookUrl(){let e=this._scratchFacebook,t=this.get("user.facebook"),n=""
if(this.get("user.errors").remove("facebook"),this.get("user.hasValidated").removeObject("facebook"),""!==e){e||(e=t)
try{if(e=e.replace(/(https?:\/\/)?(www\.)?facebook\.com/i,""),e.match(/^(http|\/\/)/i))throw"invalid url"
if(e=e.replace(/^\//,""),e=`https://www.facebook.com/${e}`,!r.default.isURL(e))throw"invalid url"
this.set("user.facebook",""),Ember.run.schedule("afterRender",this,(function(){this.set("user.facebook",e)}))}catch(i){if("invalid url"===i)return n="The URL must be in a format like https://www.facebook.com/yourPage",void this.get("user.errors").add("facebook",n)
throw i}finally{this.get("user.hasValidated").pushObject("facebook")}}else this.set("user.facebook","")},validateTwitterUrl(){let e=this._scratchTwitter,t=this.get("user.twitter"),n=""
if(this.get("user.errors").remove("twitter"),this.get("user.hasValidated").removeObject("twitter"),""!==e){if(e||(e=t),!e.match(/(?:twitter\.com\/)(\S+)/)&&!e.match(/([a-z\d.]+)/i))return n="The URL must be in a format like https://twitter.com/yourUsername",this.get("user.errors").add("twitter",n),void this.get("user.hasValidated").pushObject("twitter")
{let t=[]
if(e.match(/(?:twitter\.com\/)(\S+)/)?[,t]=e.match(/(?:twitter\.com\/)(\S+)/):[t]=e.match(/([^/]+)\/?$/im),t.match(/^(http|www)|(\/)/)||!t.match(/^[a-z\d._]{1,15}$/im))return n=t.match(/^[a-z\d._]{1,15}$/im)?"The URL must be in a format like https://twitter.com/yourUsername":"Your Username is not a valid Twitter Username",this.get("user.errors").add("twitter",n),void this.get("user.hasValidated").pushObject("twitter")
e=`https://twitter.com/${t}`,this.get("user.hasValidated").pushObject("twitter"),this.set("user.twitter",""),Ember.run.schedule("afterRender",this,(function(){this.set("user.twitter",e)}))}}else this.set("user.twitter","")},transferOwnership(){let e=this.user,t=this.get("ghostPaths.url").api("users","owner")
return this.dropdown.closeDropdowns(),this.ajax.put(t,{data:{owner:[{id:e.get("id")}]}}).then((t=>{t&&Ember.isArray(t.users)&&t.users.forEach((e=>{let t=this.store.peekRecord("user",e.id),n=this.store.peekRecord("role",e.roles[0].id)
t.set("role",n)})),this.notifications.showAlert(`Ownership successfully transferred to ${e.get("name")}`,{type:"success",key:"owner.transfer.success"})})).catch((e=>{this.notifications.showAPIError(e,{key:"owner.transfer"})}))},toggleLeaveSettingsModal(e){let t=this.leaveSettingsTransition
if(!e&&this.showLeaveSettingsModal)return this.set("leaveSettingsTransition",null),void this.set("showLeaveSettingsModal",!1)
if(!t||e.targetName===t.targetName){if(this.set("leaveSettingsTransition",e),this.get("saveHandlers.isRunning"))return this.get("saveHandlers.last").then((()=>{e.retry()}))
this.set("showLeaveSettingsModal",!0)}},leaveSettings(){let e=this.leaveSettingsTransition,t=this.user
if(e)return t.rollbackAttributes(),this.dirtyAttributes&&(this.set("slugValue",t.get("slug")),this.set("dirtyAttributes",!1)),e.retry()
this.notifications.showAlert("Sorry, there was an error in the application. Please let the Ghost team know what happened.",{type:"error"})},toggleTransferOwnerModal(){this.canMakeOwner&&this.toggleProperty("showTransferOwnerModal")},toggleUploadCoverModal(){this.toggleProperty("showUploadCoverModal")},toggleUploadImageModal(){this.toggleProperty("showUploadImageModal")},updatePassword(e){this.set("user.password",e),this.get("user.hasValidated").removeObject("password"),this.get("user.errors").remove("password")},updateNewPassword(e){this.set("user.newPassword",e),this.get("user.hasValidated").removeObject("newPassword"),this.get("user.errors").remove("newPassword")},updateNe2Password(e){this.set("user.ne2Password",e),this.get("user.hasValidated").removeObject("ne2Password"),this.get("user.errors").remove("ne2Password")},confirmRegenerateTokenModal(){this.set("showRegenerateTokenModal",!0)},cancelRegenerateTokenModal(){this.set("showRegenerateTokenModal",!1)},regenerateToken(){let e=this.get("ghostPaths.url").api("users","me","token")
return this.ajax.put(e,{data:{}}).then((e=>{let{apiKey:t}=e
this.set("personalToken",t.id+":"+t.secret),this.set("personalTokenRegenerated",!0)})).catch((e=>{this.notifications.showAPIError(e,{key:"token.regenerate"})}))}},_exportDb(e){this.utils.downloadFile(`${this.ghostPaths.url.api("db")}?filename=${e}`)},deleteUser:(0,s.task)((function*(){try{const e=yield this.user.destroyRecord()
e._meta&&e._meta.filename&&(this._exportDb(e._meta.filename),yield(0,s.timeout)(300)),this.notifications.closeAlerts("user.delete"),this.store.unloadAll("post"),this.transitionToRoute("settings.staff")}catch(e){throw this.notifications.showAlert("The user could not be deleted. Please try again.",{type:"error",key:"user.delete.failed"}),e}})),updateSlug:(0,s.task)((function*(e){let t=this.get("user.slug")
if(!(e=(e=e||t).trim())||t===e)return this.set("slugValue",t),!0
let n=yield this.slugGenerator.generateSlug("user",e)
if(n===t)return!0
let r=n.split("-"),a=Number(r.pop())
return(0,i.default)(a)&&a>0&&t===r.join("-")&&n!==e?(this.set("slugValue",t),!0):(this.set("slugValue",n),this.set("dirtyAttributes",!0),!0)})).group("saveHandlers"),save:(0,s.task)((function*(){let e,t=this.user,n=this.slugValue
t.get("slug")!==n&&(e=!0,t.set("slug",n))
try{if(t=yield t.save({format:!1}),e){let e=window.location.hash.split("/")
e[e.length-1]=t.get("slug"),e=e.join("/"),a.default.replaceState({path:e},"",e)}return this.set("dirtyAttributes",!1),this.notifications.closeAlerts("user.update"),t}catch(i){i&&this.notifications.showAPIError(i,{key:"user.update"})}})).group("saveHandlers"),copyContentKey:(0,s.task)((function*(){(0,n.default)(this.personalToken),yield(0,s.timeout)(this.isTesting?50:3e3)}))})
e.default=o})),define("ghost-admin/controllers/setup",["exports","ghost-admin/mixins/validation-engine","ember-ajax/errors","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_
function z(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let S=(a=Ember.inject.controller,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember.inject.service,c=Ember.inject.service,p=Ember._action,m=Ember._action,h=Ember._action,g=(0,r.task)((function*(){return yield this._passwordSetup()})),b=(0,r.task)((function*(e,t){this.session.skipAuthSuccessHandler=!0
try{let n=yield this.session.authenticate(e,...t)
return this.errors.remove("session"),n}catch(n){if(n&&n.payload&&n.payload.errors){if((0,i.isVersionMismatchError)(n))return this.notifications.showAPIError(n)
n.payload.errors.forEach((e=>{e.message=Ember.String.htmlSafe(e.message)})),this.set("flowErrors",n.payload.errors[0].message.string)}else this.notifications.showAlert("There was a problem on the server.",{type:"error",key:"session.authenticate.failed"})}})),f=class extends(Ember.Controller.extend(t.default)){constructor(){super(...arguments),z(this,"application",v,this),z(this,"ajax",y,this),z(this,"config",w,this),z(this,"ghostPaths",E,this),z(this,"notifications",k,this),z(this,"router",P,this),z(this,"session",O,this),x(this,"validationType","setup"),x(this,"blogCreated",!1),x(this,"blogTitle",null),x(this,"email",""),x(this,"flowErrors",""),x(this,"profileImage",null),x(this,"name",null),x(this,"password",null),z(this,"setupTask",j,this),z(this,"authenticate",_,this)}setup(){this.setupTask.perform()}preValidate(e){if(this.get(e))return this.validate({property:e})}setImage(e){this.set("profileImage",e)}_sendImage(e){let t=new FormData,n=this.profileImage,i=this.get("ghostPaths.url").api("images","upload")
return t.append("file",n,n.name),t.append("purpose","profile_image"),this.ajax.post(i,{data:t,processData:!1,contentType:!1,dataType:"text"}).then((t=>{let[n]=Ember.get(JSON.parse(t),"images"),i=n.url,r=this.get("ghostPaths.url").api("users",e.id.toString())
return e.profile_image=i,this.ajax.put(r,{data:{users:[e]}})}))}_passwordSetup(){let e=["blogTitle","name","email","password"],t=this.getProperties(e),n=this.config,i=this.blogCreated?"put":"post"
return this.set("flowErrors",""),this.hasValidated.addObjects(e),this.validate().then((()=>{let e=this.get("ghostPaths.url").api("authentication","setup")
return this.ajax[i](e,{data:{setup:[{name:t.name,email:t.email,password:t.password,blogTitle:t.blogTitle}]}}).then((e=>(n.set("blogTitle",t.blogTitle),this.get("session.isAuthenticated")?this._afterAuthentication(e):(this.session.skipAuthSuccessHandler=!0,this.session.authenticate("authenticator:cookie",t.email,t.password).then((()=>(this.set("blogCreated",!0),this._afterAuthentication(e)))).catch((e=>{this._handleAuthenticationError(e)})))))).catch((e=>{this._handleSaveError(e)}))})).catch((()=>{this.set("flowErrors","Please fill out every field correctly to set up your site.")}))}_handleSaveError(e){if((0,n.isInvalidError)(e)){let[t]=e.payload.errors
this.set("flowErrors",[t.message,t.context].join(" "))}else this.notifications.showAPIError(e,{key:"setup.blog-details"})}_handleAuthenticationError(e){if(e&&e.payload&&e.payload.errors){let[t]=e.payload.errors
this.set("flowErrors",[t.message,t.context].join(" "))}else this.notifications.showAlert("There was a problem on the server.",{type:"error",key:"setup.authenticate.failed"})}async _afterAuthentication(e){return await this.session.handleAuthentication(),this.profileImage?this._sendImage(e.users[0]).then((()=>this.router.transitionTo("setup.done"))).catch((e=>{this.notifications.showAPIError(e,{key:"setup.blog-details"})})):this.router.transitionTo("setup.done")}},v=T(f.prototype,"application",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=T(f.prototype,"ajax",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=T(f.prototype,"config",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=T(f.prototype,"ghostPaths",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=T(f.prototype,"notifications",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T(f.prototype,"router",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=T(f.prototype,"session",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T(f.prototype,"setup",[p],Object.getOwnPropertyDescriptor(f.prototype,"setup"),f.prototype),T(f.prototype,"preValidate",[m],Object.getOwnPropertyDescriptor(f.prototype,"preValidate"),f.prototype),T(f.prototype,"setImage",[h],Object.getOwnPropertyDescriptor(f.prototype,"setImage"),f.prototype),j=T(f.prototype,"setupTask",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=T(f.prototype,"authenticate",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f)
e.default=S})),define("ghost-admin/controllers/setup/done",["exports","ember-concurrency"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P
function O(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const z={casper:["description","color","coverImage"],edition:["description","color","coverImage"],dawn:["description","color","icon"],dope:["description","color","logo"],bulletin:["description","color","logo"],alto:["description","color","logo"],journal:["description","color","logo"],wave:["description","color","logo","coverImage"],edge:["description","color","logo"],ease:["description","color","logo","coverImage"],ruby:["description","color","logo","coverImage"],london:["description","color","logo"],digest:["description","color","logo"]}
let x=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=(0,t.task)({drop:!0}),m=class extends Ember.Controller{constructor(){super(...arguments),O(this,"modals",h,this),O(this,"router",g,this),O(this,"settings",b,this),O(this,"store",f,this),O(this,"themeManagement",v,this),O(this,"descriptionVisible",y,this),O(this,"colorVisible",w,this),O(this,"logoVisible",E,this),O(this,"iconVisible",k,this),O(this,"coverImageVisible",P,this),j(this,"themes",null),j(this,"themeProperties",["description","color","coverImage"]),this.initThemeProperties.perform()}*initThemeProperties(){this.themes=yield this.store.peekAll("theme"),Ember.isEmpty(this.themes)&&(this.themes=yield this.store.findAll("theme"))
const e=this.themes.findBy("active",!0)
e&&z[e.name]&&(this.themeProperties=z[e.name]),this.descriptionVisible=this.themeProperties.includes("description"),this.logoVisible=this.themeProperties.includes("logo"),this.iconVisible=this.themeProperties.includes("icon"),this.colorVisible=this.themeProperties.includes("color"),this.coverImageVisible=this.themeProperties.includes("coverImage")}*saveAndContinueTask(){yield this.settings.save(),this.router.transitionTo("home")}},h=_(m.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=_(m.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=_(m.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_(m.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=_(m.prototype,"themeManagement",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=_(m.prototype,"descriptionVisible",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=_(m.prototype,"colorVisible",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=_(m.prototype,"logoVisible",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=_(m.prototype,"iconVisible",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_(m.prototype,"coverImageVisible",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_(m.prototype,"initThemeProperties",[p],Object.getOwnPropertyDescriptor(m.prototype,"initThemeProperties"),m.prototype),_(m.prototype,"saveAndContinueTask",[t.task],Object.getOwnPropertyDescriptor(m.prototype,"saveAndContinueTask"),m.prototype),m)
e.default=x})),define("ghost-admin/controllers/signin",["exports","jquery","ghost-admin/mixins/validation-engine","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x
function T(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let C=(a=Ember.inject.controller,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember.inject.service,c=Ember.inject.service,p=Ember.computed.alias("model"),m=Ember._action,h=(0,r.task)((function*(e,t){try{return yield this.session.authenticate(e,...t).then((()=>!0))}catch(n){if((0,i.isVersionMismatchError)(n))return this.notifications.showAPIError(n)
if(n&&n.payload&&n.payload.errors){let[e]=n.payload.errors
e.message=Ember.String.htmlSafe(e.message||""),e.context=Ember.String.htmlSafe(e.context||""),this.set("flowErrors",e.context.string||e.message.string),"PasswordResetRequiredError"===e.type&&this.set("passwordResetEmailSent",!0),e.context.string.match(/user with that email/i)&&this.get("signin.errors").add("identification",""),e.context.string.match(/password is incorrect/i)&&this.get("signin.errors").add("password","")}else console.error(n),this.notifications.showAlert("There was a problem on the server.",{type:"error",key:"session.authenticate.failed"})
return!1}})).drop(),g=(0,r.task)((function*(){let e=this.signin
this.set("flowErrors",""),(0,t.default)("#login").find("input").trigger("change"),this.hasValidated.addObjects(this.authProperties)
try{return yield this.validate({property:"signin"}),yield this.authenticateTask.perform("authenticator:cookie",[e.get("identification"),e.get("password")])}catch(n){this.set("flowErrors","Please fill out the form to sign in.")}})).drop(),b=(0,r.task)((function*(){let e=this.get("signin.identification"),t=this.get("ghostPaths.url").api("authentication","passwordreset"),n=this.notifications
this.set("flowErrors",""),this.hasValidated.addObject("identification")
try{return yield this.validate({property:"forgotPassword"}),yield this.ajax.post(t,{data:{passwordreset:[{email:e}]}}),n.showAlert("Please check your email for instructions.",{type:"info",key:"forgot-password.send.success"}),!0}catch(r){if(!r)return this.set("flowErrors","We need your email address to reset your password!")
if((0,i.isVersionMismatchError)(r))return n.showAPIError(r)
if(r&&r.payload&&r.payload.errors&&Ember.isArray(r.payload.errors)){let[{message:e}]=r.payload.errors
this.set("flowErrors",e),e.match(/no user|not found/)&&this.get("signin.errors").add("identification","")}else n.showAPIError(r,{defaultErrorText:"There was a problem with the reset, please try again.",key:"forgot-password.send"})}})),f=class extends(Ember.Controller.extend(n.default)){constructor(){super(...arguments),T(this,"application",v,this),T(this,"ajax",y,this),T(this,"config",w,this),T(this,"ghostPaths",E,this),T(this,"notifications",k,this),T(this,"session",P,this),T(this,"settings",O,this),S(this,"submitting",!1),S(this,"loggingIn",!1),S(this,"authProperties",null),S(this,"flowErrors",""),S(this,"passwordResetEmailSent",!1),S(this,"validationType","signin"),T(this,"signin",j,this),T(this,"authenticateTask",_,this),T(this,"validateAndAuthenticate",z,this),T(this,"forgotten",x,this)}init(){super.init(...arguments),this.authProperties=["identification","password"]}authenticate(){return this.validateAndAuthenticate.perform()}},v=M(f.prototype,"application",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=M(f.prototype,"ajax",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=M(f.prototype,"config",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M(f.prototype,"ghostPaths",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=M(f.prototype,"notifications",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=M(f.prototype,"session",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=M(f.prototype,"settings",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=M(f.prototype,"signin",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M(f.prototype,"authenticate",[m],Object.getOwnPropertyDescriptor(f.prototype,"authenticate"),f.prototype),_=M(f.prototype,"authenticateTask",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=M(f.prototype,"validateAndAuthenticate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=M(f.prototype,"forgotten",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f)
e.default=C})),define("ghost-admin/controllers/signup",["exports","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Controller.extend({ajax:Ember.inject.service(),config:Ember.inject.service(),ghostPaths:Ember.inject.service(),notifications:Ember.inject.service(),session:Ember.inject.service(),settings:Ember.inject.service(),flowErrors:"",profileImage:null,signupDetails:Ember.computed.alias("model"),actions:{validate(e){return this.signupDetails.validate({property:e})},setImage(e){this.set("profileImage",e)},submit(e){e.preventDefault(),this.signup.perform()}},signup:(0,n.task)((function*(){let e=this.notifications
this.set("flowErrors",""),this.get("signupDetails.hasValidated").addObjects(["name","email","password","token"])
try{yield this.signupDetails.validate(),yield this._completeInvitation()
try{yield this._authenticateWithPassword(),yield this._sendImage.perform()}catch(n){e.showAPIError(n,{key:"signup.complete"})}}catch(n){if(!n)return this.set("flowErrors","Please fill out the form to complete your signup"),!1
n&&n.payload&&n.payload.errors&&Ember.isArray(n.payload.errors)?((0,t.isVersionMismatchError)(n)&&e.showAPIError(n),this.set("flowErrors",n.payload.errors[0].message)):e.showAPIError(n,{key:"signup.complete"})}})).drop(),_completeInvitation(){let e=this.get("ghostPaths.url").api("authentication","invitation"),t=this.signupDetails
return this.ajax.post(e,{dataType:"json",data:{invitation:[{name:t.get("name"),email:t.get("email"),password:t.get("password"),token:t.get("token")}]}})},_authenticateWithPassword(){let e=this.get("signupDetails.email"),t=this.get("signupDetails.password")
return this.session.authenticate("authenticator:cookie",e,t)},_sendImage:(0,n.task)((function*(){let e=new FormData,t=this.profileImage,n=this.get("ghostPaths.url").api("images","upload")
if(t){e.append("file",t,t.name),e.append("purpose","profile_image")
let i=this.session.user,r=yield this.ajax.post(n,{data:e,processData:!1,contentType:!1,dataType:"text"}),[a]=Ember.get(JSON.parse(r),"images"),s=a.url
return i.set("profileImage",s),yield i.save()}}))})
e.default=i})),define("ghost-admin/controllers/site",["exports"],(function(e){var t,n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.computed.alias("model"),n=class extends Ember.Controller{constructor(){var e,t,n,r
super(...arguments),e=this,t="guid",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},a=n.prototype,s="guid",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(l).forEach((function(e){d[e]=l[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,s,d),d=null),i=d,n)
var a,s,o,l,u,d
e.default=r})),define("ghost-admin/controllers/tag",["exports","ghost-admin/utils/bound-one-way","@tryghost/string","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k
function P(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function O(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const j=["name","slug","description","metaTitle","metaDescription","ogTitle","ogDescription","twitterTitle","twitterDescription","codeinjectionHead","codeinjectionFoot"]
let _=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.computed.alias("model"),o=Ember.computed("tag"),l=Ember._action,u=Ember._action,d=Ember._action,c=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,g=(0,i.task)((function*(){let{tag:e,scratchTag:t}=this,n=t.getProperties(j)
e.setProperties(n)
try{if(0!==e.get("errors").length)return
return yield e.save(),this.replaceRoute("tag",e),e}catch(i){i&&this.notifications.showAPIError(i,{key:"tag.save"})}})).drop(),b=(0,i.task)((function*(e){this.set("isLoading",!0),yield this.store.queryRecord("tag",{slug:e}).then((e=>(this.set("tag",e),this.set("isLoading",!1),e)))})),f=class extends Ember.Controller{constructor(){super(...arguments),P(this,"notifications",v,this),P(this,"router",y,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"showDeleteTagModal",!1),P(this,"tag",w,this),P(this,"saveTask",E,this),P(this,"fetchTag",k,this)}get scratchTag(){let e=Ember.Object.create({tag:this.tag})
return j.forEach((n=>Ember.defineProperty(e,n,(0,t.default)(`tag.${n}`)))),e}setProperty(e,t){this._saveTagProperty(e,t)}openDeleteTagModal(){this.set("showDeleteTagModal",!0)}closeDeleteTagModal(){this.set("showDeleteTagModal",!1)}deleteTag(){return this.tag.destroyRecord().then((()=>(this.set("showDeleteTagModal",!1),this.transitionToRoute("tags"))),(e=>this.notifications.showAPIError(e,{key:"tag.delete"})))}save(){return this.saveTask.perform()}toggleUnsavedChangesModal(e){let t=this.leaveScreenTransition
if(!e&&this.showUnsavedChangesModal)return this.set("leaveScreenTransition",null),void this.set("showUnsavedChangesModal",!1)
if(!t||e.targetName===t.targetName){if(this.set("leaveScreenTransition",e),this.saveTask.isRunning)return this.saveTask.last.then((()=>{e.retry()}))
this.set("showUnsavedChangesModal",!0)}}leaveScreen(){return this.tag.rollbackAttributes(),this.leaveScreenTransition.retry()}_saveTagProperty(e,t){let i=this.tag,r=i.get(e)
if(t&&(t=t.trim()),(!1===t||t||r)&&t!==r){if(i.set(e,t),"name"===e&&!i.slug&&i.isNew){let e=(0,n.slugify)(t);/^#/.test(t)&&(e="hash-"+e),i.set("slug",e)}i.get("hasValidated").addObject(e)}}},v=O(f.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=O(f.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=O(f.prototype,"tag",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O(f.prototype,"scratchTag",[o],Object.getOwnPropertyDescriptor(f.prototype,"scratchTag"),f.prototype),O(f.prototype,"setProperty",[l],Object.getOwnPropertyDescriptor(f.prototype,"setProperty"),f.prototype),O(f.prototype,"openDeleteTagModal",[u],Object.getOwnPropertyDescriptor(f.prototype,"openDeleteTagModal"),f.prototype),O(f.prototype,"closeDeleteTagModal",[d],Object.getOwnPropertyDescriptor(f.prototype,"closeDeleteTagModal"),f.prototype),O(f.prototype,"deleteTag",[c],Object.getOwnPropertyDescriptor(f.prototype,"deleteTag"),f.prototype),O(f.prototype,"save",[p],Object.getOwnPropertyDescriptor(f.prototype,"save"),f.prototype),O(f.prototype,"toggleUnsavedChangesModal",[m],Object.getOwnPropertyDescriptor(f.prototype,"toggleUnsavedChangesModal"),f.prototype),O(f.prototype,"leaveScreen",[h],Object.getOwnPropertyDescriptor(f.prototype,"leaveScreen"),f.prototype),E=O(f.prototype,"saveTask",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=O(f.prototype,"fetchTag",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f)
e.default=_})),define("ghost-admin/controllers/tags",["exports"],(function(e){var t,n,i,r,a,s,o,l,u,d
function c(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=(t=Ember.inject.service,n=Ember.computed.alias("model"),i=Ember.computed("tags.@each.isNew","type"),r=Ember.computed.sort("filteredTags",(function(e,t){return e.name.localeCompare(t.name,void 0,{ignorePunctuation:!0})})),a=Ember._action,s=Ember._action,o=class extends Ember.Controller{constructor(){super(...arguments),c(this,"router",l,this),p(this,"queryParams",["type"]),p(this,"type","public"),c(this,"tags",u,this),c(this,"sortedTags",d,this)}get filteredTags(){return this.tags.filter((e=>!(e.isNew||this.type&&e.visibility!==this.type)))}changeType(e){this.set("type",e)}newTag(){this.router.transitionTo("tag.new")}},l=m(o.prototype,"router",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(o.prototype,"tags",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(o.prototype,"filteredTags",[i],Object.getOwnPropertyDescriptor(o.prototype,"filteredTags"),o.prototype),d=m(o.prototype,"sortedTags",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(o.prototype,"changeType",[a],Object.getOwnPropertyDescriptor(o.prototype,"changeType"),o.prototype),m(o.prototype,"newTag",[s],Object.getOwnPropertyDescriptor(o.prototype,"newTag"),o.prototype),o)
e.default=h})),define("ghost-admin/controllers/whatsnew",["exports"],(function(e){var t,n,i,r,a,s,o
function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(t=Ember.inject.service,n=Ember.inject.service,i=Ember.inject.service,r=class extends Ember.Controller{constructor(){super(...arguments),l(this,"config",a,this),l(this,"upgradeStatus",s,this),l(this,"whatsNew",o,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"queryParams",["entry"])}get copyrightYear(){return(new Date).getFullYear()}get showDatabaseWarning(){const e=!!this.config.get("environment").match?.(/production/i),t=!!this.config.get("hostSettings")?.siteId,n=this.config.get("database")
return!t&&(!(!e||"mysql8"===n)||!e&&"mysql5"===n)}},a=u(r.prototype,"config",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u(r.prototype,"upgradeStatus",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(r.prototype,"whatsNew",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=d})),define("ghost-admin/data-adapter",["exports","@ember-data/debug"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/errors/email-failed-error",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Error{constructor(e){super(e),this.name="EmailFailedError"}}e.default=t})),define("ghost-admin/errors/member-import-error",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Error{constructor(e){let{message:t,context:n,type:i="error"}=e
super(t),this.name="MemberImportError",this.context=n,this.type=i}}e.default=t})),define("ghost-admin/helpers/-element",["exports","ember-element-helper/helpers/-element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/accent-color-background",["exports"],(function(e){var t,n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,n=class extends Ember.Helper{constructor(){var e,t,n,r
super(...arguments),e=this,t="config",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}compute(){const e=this.get("config.accent_color")
return Ember.String.htmlSafe(`background: ${e};`)}},a=n.prototype,s="config",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(l).forEach((function(e){d[e]=l[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,s,d),d=null),i=d,n)
var a,s,o,l,u,d
e.default=r})),define("ghost-admin/helpers/and",["exports","ember-truth-helpers/helpers/and"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"and",{enumerable:!0,get:function(){return t.and}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/app-version",["exports","ghost-admin/config/environment","ember-cli-app-version/utils/regexp"],(function(e,t,n){function i(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const r=t.default.APP.version
let a=i.versionOnly||i.hideSha,s=i.shaOnly||i.hideVersion,o=null
return a&&(i.showExtended&&(o=r.match(n.versionExtendedRegExp)),o||(o=r.match(n.versionRegExp))),s&&(o=r.match(n.shaRegExp)),o?o[0]:r}Object.defineProperty(e,"__esModule",{value:!0}),e.appVersion=i,e.default=void 0
var r=Ember.Helper.helper(i)
e.default=r})),define("ghost-admin/helpers/assign",["exports","ember-assign-helper/helpers/assign"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"assign",{enumerable:!0,get:function(){return t.assign}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/author-names",["exports"],(function(e){function t(e){let[t]=e
if(t&&!Ember.isEmpty(t))return t.mapBy("name").join(", ")}Object.defineProperty(e,"__esModule",{value:!0}),e.authorNames=t,e.default=void 0
var n=Ember.Helper.helper(t)
e.default=n})),define("ghost-admin/helpers/background-image-style",["exports"],(function(e){function t(e){let[t]=e
if(t){let e=encodeURI(decodeURI(t))
return Ember.String.htmlSafe(`background-image: url(${e});`)}return""}Object.defineProperty(e,"__esModule",{value:!0}),e.backgroundImageStyle=t,e.default=void 0
var n=Ember.Helper.helper(t)
e.default=n}))
define("ghost-admin/helpers/camelize",["exports","ember-cli-string-helpers/helpers/camelize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"camelize",{enumerable:!0,get:function(){return t.camelize}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/cancel-all",["exports","ember-concurrency/helpers/cancel-all"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/capitalize",["exports","ember-cli-string-helpers/helpers/capitalize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"capitalize",{enumerable:!0,get:function(){return t.capitalize}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/card-is-available",["exports","koenig-editor/helpers/card-is-available"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/classify",["exports","ember-cli-string-helpers/helpers/classify"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"classify",{enumerable:!0,get:function(){return t.classify}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/clean-basic-html",["exports","koenig-editor/helpers/clean-basic-html"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/currency-symbol",["exports","ghost-admin/utils/currency"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(n=Ember.inject.service,i=class extends Ember.Helper{constructor(){var e,t,n,i
super(...arguments),e=this,t="feature",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}compute(e){let[n]=e
return n?(0,t.getSymbol)(n):""}},s=i.prototype,o="feature",l=[n],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),r=c,i)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/helpers/dasherize",["exports","ember-cli-string-helpers/helpers/dasherize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"dasherize",{enumerable:!0,get:function(){return t.dasherize}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/element",["exports","ember-element-helper/helpers/element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/ember-power-calendar-day-classes",["exports","ember-power-calendar/helpers/ember-power-calendar-day-classes"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"emberPowerCalendarDayClasses",{enumerable:!0,get:function(){return t.emberPowerCalendarDayClasses}})})),define("ghost-admin/helpers/ember-power-select-is-group",["exports","ember-power-select/helpers/ember-power-select-is-group"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"emberPowerSelectIsGroup",{enumerable:!0,get:function(){return t.emberPowerSelectIsGroup}})})),define("ghost-admin/helpers/ember-power-select-is-selected",["exports","ember-power-select/helpers/ember-power-select-is-selected"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"emberPowerSelectIsSelected",{enumerable:!0,get:function(){return t.emberPowerSelectIsSelected}})})),define("ghost-admin/helpers/enable-developer-experiments",["exports"],(function(e){var t,n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,n=class extends Ember.Helper{constructor(){var e,t,n,r
super(...arguments),e=this,t="config",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}compute(){return this.config.get("enableDeveloperExperiments")}},a=n.prototype,s="config",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(l).forEach((function(e){d[e]=l[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,s,d),d=null),i=d,n)
var a,s,o,l,u,d
e.default=r})),define("ghost-admin/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})})),define("ghost-admin/helpers/eq",["exports","ember-truth-helpers/helpers/equal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"equal",{enumerable:!0,get:function(){return t.equal}})})),define("ghost-admin/helpers/event-name",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.AVAILABLE_EVENTS=void 0,e.eventName=n
const t=[{event:"site.changed",name:"Site changed (rebuild)",group:"Global"},{event:"post.added",name:"Post created",group:"Posts"},{event:"post.deleted",name:"Post deleted",group:"Posts"},{event:"post.edited",name:"Post updated",group:"Posts"},{event:"post.published",name:"Post published",group:"Posts"},{event:"post.published.edited",name:"Published post updated",group:"Posts"},{event:"post.unpublished",name:"Post unpublished",group:"Posts"},{event:"post.tag.attached",name:"Tag added to post",group:"Posts"},{event:"post.tag.detached",name:"Tag removed from post",group:"Posts"},{event:"page.added",name:"Page created",group:"Pages"},{event:"page.deleted",name:"Page deleted",group:"Pages"},{event:"page.edited",name:"Page updated",group:"Pages"},{event:"page.published",name:"Page published",group:"Pages"},{event:"page.published.edited",name:"Published page updated",group:"Pages"},{event:"page.unpublished",name:"Page unpublished",group:"Pages"},{event:"page.tag.attached",name:"Tag added to page",group:"Pages"},{event:"page.tag.detached",name:"Tag removed from page",group:"Pages"},{event:"tag.added",name:"Tag created",group:"Tags"},{event:"tag.edited",name:"Tag updated",group:"Tags"},{event:"tag.deleted",name:"Tag deleted",group:"Tags"},{event:"member.added",name:"Member added",group:"Members"},{event:"member.edited",name:"Member updated",group:"Members"},{event:"member.deleted",name:"Member deleted",group:"Members"}]
function n(e){let[n]=e,i=t.findBy("event",n)
return i?i.name:n}e.AVAILABLE_EVENTS=t
var i=Ember.Helper.helper(n)
e.default=i})),define("ghost-admin/helpers/feature",["exports"],(function(e){var t,n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,n=class extends Ember.Helper{constructor(){var e,t,n,r
super(...arguments),e=this,t="feature",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}compute(e){let[t]=e
return this.feature.get(t)}},a=n.prototype,s="feature",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(l).forEach((function(e){d[e]=l[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,s,d),d=null),i=d,n)
var a,s,o,l,u,d
e.default=r})),define("ghost-admin/helpers/first-name",["exports"],(function(e){function t(e){let[t=""]=e
return t.split(" ")[0]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.firstName=t
var n=Ember.Helper.helper(t)
e.default=n})),define("ghost-admin/helpers/format-number",["exports"],(function(e){function t(e){return Number(e).toLocaleString()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.formatNumber=t
var n=Ember.Helper.helper((function(e){let[n]=e
return t(n)}))
e.default=n})),define("ghost-admin/helpers/full-email-address",["exports"],(function(e){var t,n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,n=class extends Ember.Helper{constructor(){var e,t,n,r
super(...arguments),e=this,t="config",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}compute(e){let[t]=e
return t.indexOf("@")>-1?t:`${t}@${this.config.emailDomain}`}},a=n.prototype,s="config",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(l).forEach((function(e){d[e]=l[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,s,d),d=null),i=d,n)
var a,s,o,l,u,d
e.default=r})),define("ghost-admin/helpers/gh-count-characters",["exports"],(function(e){function t(e){if(!e||!e.length)return
let t=document.createElement("span"),n=e[0]||"",{length:i}=Array.from(n)
return t.className="word-count",t.style.color=i>180?"#f05230":"#45C32E",t.innerHTML=200-i,Ember.String.htmlSafe(t.outerHTML)}Object.defineProperty(e,"__esModule",{value:!0}),e.countCharacters=t,e.default=void 0
var n=Ember.Helper.helper((function(e){return t(e)}))
e.default=n})),define("ghost-admin/helpers/gh-count-down-characters",["exports"],(function(e){function t(e){if(!e||e.length<2)return
let t=document.createElement("span"),[n,i]=e,{length:r}=Array.from(n||"")
return t.className="word-count",t.style.color=r>i?"#E25440":"#30CF43",t.innerHTML=r,Ember.String.htmlSafe(t.outerHTML)}Object.defineProperty(e,"__esModule",{value:!0}),e.countDownCharacters=t,e.default=void 0
var n=Ember.Helper.helper((function(e){return t(e)}))
e.default=n})),define("ghost-admin/helpers/gh-format-post-time",["exports","moment"],(function(e,t){var n,i,r
function a(e,n){let{timezone:i="etc/UTC",draft:r,scheduled:a,published:s}=n
if(r)return(0,t.default)(e).from(t.default.utc())
let o,l=t.default.tz(e,i),u=t.default.tz(t.default.utc(),i)
if(o=0===l.utcOffset()?"(UTC)":`(UTC${l.format("Z").replace(/([+-])0/,"$1").replace(/:00/,"")})`,Math.abs(u.diff(l,"hours"))<=12)return l.from(u)
if(l.isSame(u,"day")){let e=l.format(`HH:mm [${o}] [Today]`)
return a?`at ${e}`:e}if(s&&l.isSame(u.clone().subtract(1,"days").startOf("day"),"day"))return l.format(`HH:mm [${o}] [Yesterday]`)
if(a&&l.isSame(u.clone().add(1,"days").startOf("day"),"day"))return l.format(`[at] HH:mm [${o}] [tomorrow]`)
let d=a?`[at] HH:mm [${o}] [on] DD MMM YYYY`:"DD MMM YYYY"
return l.format(d)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.formatPostTime=a
let s=(n=Ember.inject.service,i=class extends Ember.Helper{constructor(){var e,t,n,i
super(...arguments),e=this,t="settings",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}compute(e,t){let[n]=e
return a(n,Object.assign({},t,{timezone:this.settings.get("timezone")}))}},o=i.prototype,l="settings",u=[n],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,i)
var o,l,u,d,c,p
e.default=s})),define("ghost-admin/helpers/gh-pluralize",["exports","ghost-admin/helpers/format-number","ember-inflector"],(function(e,t,n){function i(e,i){let{withoutCount:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[]
return Ember.isBlank(e)||!0===r||a.push((0,t.formatNumber)(e)),Ember.isBlank(e)?a.push((0,n.pluralize)(i)):a.push((0,n.pluralize)(e,i,{withoutCount:!0})),a.join(" ")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.ghPluralize=i
var r=Ember.Helper.helper((function(e){let[t,n]=e,{"without-count":r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return i(t,n,{withoutCount:r})}))
e.default=r})),define("ghost-admin/helpers/gh-price-amount",["exports","ghost-admin/helpers/format-number"],(function(e,t){function n(e){if(e){let n=e/100
return n%1==0?(0,t.formatNumber)(n):(0,t.formatNumber)(Math.round(100*n)/100)}return 0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.ghPriceAmount=n
var i=Ember.Helper.helper((function(e){let[t]=e
return n(t)}))
e.default=i})),define("ghost-admin/helpers/gh-user-can-admin",["exports"],(function(e){function t(e){return!!e[0].get("isAdmin")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.ghUserCanAdmin=t
var n=Ember.Helper.helper((function(e){return t(e)}))
e.default=n})),define("ghost-admin/helpers/gravatar",["exports","blueimp-md5"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(n=Ember.inject.service,i=class extends Ember.Helper{constructor(){var e,t,n,i
super(...arguments),e=this,t="config",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}compute(e,n){let[i]=e,{size:r=180,d:a="blank"}=n
if(this.get("config.useGravatar")&&i&&!Ember.isEmpty(i))return`https://www.gravatar.com/avatar/${(0,t.default)(i)}?s=${r}&d=${a}`}},s=i.prototype,o="config",l=[n],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),r=c,i)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/helpers/gt",["exports","ember-truth-helpers/helpers/gt"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"gt",{enumerable:!0,get:function(){return t.gt}})})),define("ghost-admin/helpers/gte",["exports","ember-truth-helpers/helpers/gte"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"gte",{enumerable:!0,get:function(){return t.gte}})})),define("ghost-admin/helpers/hex-adjust",["exports","@tryghost/color-utils"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Helper.helper((function(e){let[n]=e,{s:i=0,l:r=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const a=(0,t.Color)(n)
let s=a
return 0!==i&&(s=s.saturationl(s.saturationl()+i)),0!==r&&(s=s.lightness(s.lightness()+r)),s.hex()}))
e.default=n}))
define("ghost-admin/helpers/hex-contrast",["exports","@tryghost/color-utils"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Helper.helper((function(e){let[n]=e
return(0,t.textColorForBackgroundColor)((0,t.Color)(n)).hex()}))
e.default=n})),define("ghost-admin/helpers/highlighted-text",["exports"],(function(e){function t(e){let[t,n]=e,i=n.replace(new RegExp(/\W/gi),"\\$&")
return Ember.String.htmlSafe(t.replace(new RegExp(i,"ig"),'<span class="highlight">$&</span>'))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.highlightedText=t
var n=Ember.Helper.helper(t)
e.default=n})),define("ghost-admin/helpers/html-safe",["exports","ember-cli-string-helpers/helpers/html-safe"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"htmlSafe",{enumerable:!0,get:function(){return t.htmlSafe}})})),define("ghost-admin/helpers/humanize-setting-key",["exports","ember-cli-string-helpers/helpers/humanize"],(function(e,t){function n(e){let[n]=e,i=(0,t.humanize)([n])
return["API","CTA","RSS"].forEach((e=>{const t=new RegExp(`(^| )(${e})( |$)`,"gi")
i=i.replace(t,`$1${e}$3`)})),i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.humanizeSettingKey=n
var i=Ember.Helper.helper(n)
e.default=i})),define("ghost-admin/helpers/humanize",["exports","ember-cli-string-helpers/helpers/humanize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"humanize",{enumerable:!0,get:function(){return t.humanize}})})),define("ghost-admin/helpers/if-key",["exports","ember-keyboard/helpers/if-key"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/integration-icon-style",["exports"],(function(e){function t(e){let[t]=e
if(t.iconImage){let e=`background-image:url(${t.iconImage});background-size:36px;`
return Ember.String.htmlSafe(e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.integrationLogoStyle=t
var n=Ember.Helper.helper(t)
e.default=n})),define("ghost-admin/helpers/is-after",["exports","ember-moment/helpers/is-after"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/is-array",["exports","ember-truth-helpers/helpers/is-array"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return t.isArray}})})),define("ghost-admin/helpers/is-before",["exports","ember-moment/helpers/is-before"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/is-between",["exports","ember-moment/helpers/is-between"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/is-empty",["exports","ember-truth-helpers/helpers/is-empty"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/is-equal",["exports","ember-truth-helpers/helpers/is-equal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"isEqual",{enumerable:!0,get:function(){return t.isEqual}})})),define("ghost-admin/helpers/is-same-or-after",["exports","ember-moment/helpers/is-same-or-after"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/is-same-or-before",["exports","ember-moment/helpers/is-same-or-before"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/is-same",["exports","ember-moment/helpers/is-same"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/kg-style",["exports","koenig-editor/helpers/kg-style"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"kgStyle",{enumerable:!0,get:function(){return t.kgStyle}})})),define("ghost-admin/helpers/lf-lock-model",["exports","liquid-fire/helpers/lf-lock-model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lfLockModel",{enumerable:!0,get:function(){return t.lfLockModel}})})),define("ghost-admin/helpers/lf-or",["exports","liquid-fire/helpers/lf-or"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lfOr",{enumerable:!0,get:function(){return t.lfOr}})})),define("ghost-admin/helpers/loc",["exports","@ember/string/helpers/loc"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"loc",{enumerable:!0,get:function(){return t.loc}})})),define("ghost-admin/helpers/lowercase",["exports","ember-cli-string-helpers/helpers/lowercase"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lowercase",{enumerable:!0,get:function(){return t.lowercase}})})),define("ghost-admin/helpers/lt",["exports","ember-truth-helpers/helpers/lt"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lt",{enumerable:!0,get:function(){return t.lt}})})),define("ghost-admin/helpers/lte",["exports","ember-truth-helpers/helpers/lte"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lte",{enumerable:!0,get:function(){return t.lte}})})),define("ghost-admin/helpers/members-count-fetcher",["exports","ember-could-get-used-to-this","ember-concurrency"],(function(e,t,n){var i,r,a,s,o
function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(i=Ember.inject.service,r=Ember._tracked,a=class extends t.Resource{constructor(){super(...arguments),l(this,"store",s,this),l(this,"count",o,this)}get value(){return{isLoading:this.fetchMembersTask.isRunning,count:this.count}}setup(){const e=this.args.named.query||{}
this._query=e,this.fetchMembersTask.perform({query:e})}update(){if(this.args.named.query!==this._query){const e=this.args.named.query||{}
this._query=e,this.fetchMembersTask.perform({query:e})}}*fetchMembersTask(){let{query:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const t=yield this.store.query("member",{...e,limit:1})
this.count=t.meta.pagination.total}},s=u(a.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"count",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u(a.prototype,"fetchMembersTask",[n.task],Object.getOwnPropertyDescriptor(a.prototype,"fetchMembersTask"),a.prototype),a)
e.default=d})),define("ghost-admin/helpers/members-event-fetcher",["exports","moment","ember-could-get-used-to-this","tracked-built-ins","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w
function E(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function k(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let P=(a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._action,m=class extends n.Resource{constructor(){super(...arguments),E(this,"ajax",h,this),E(this,"ghostPaths",g,this),E(this,"data",b,this),E(this,"isLoading",f,this),E(this,"isError",v,this),E(this,"errorMessage",y,this),E(this,"hasReachedEnd",w,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"cursor",null)}get value(){return{isLoading:this.isLoading,isError:this.isError,errorMessage:this.errorMessage,data:this.data,loadNextPage:this.loadNextPage,hasReachedEnd:this.hasReachedEnd}}async setup(){this.cursor=t.default.utc().format("YYYY-MM-DD HH:mm:ss")
let e=`data.created_at:<'${this.cursor}'`
return this.args.named.filter&&(e+=`+${this.args.named.filter}`),this.loadEventsTask.perform({filter:e})}loadNextPage(){const e=this.data[this.data.length-1]
if(!e?.data?.created_at)return void(this.hasReachedEnd=!0)
const n=t.default.utc(e.data.created_at).format("YYYY-MM-DD HH:mm:ss")
if(n===this.cursor)return void(this.hasReachedEnd=!0)
this.cursor=n
let i=`data.created_at:<'${this.cursor}'`
this.args.named.filter&&(i+=`+${this.args.named.filter}`),this.loadEventsTask.perform({filter:i})}*loadEventsTask(e){try{this.isLoading=!0
const t=this.ghostPaths.url.api("members/events"),n=Object.assign({},e,{limit:this.args.named.pageSize}),{events:i}=yield this.ajax.request(t,{data:n})
i.length<n.limit&&(this.hasReachedEnd=!0),this.data.push(...i)}catch(t){this.isError=!0
const e=t.payload?.errors?.[0]?.message
e&&(this.errorMessage=e),console.error(t)}finally{this.isLoading=!1}}},h=k(m.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(m.prototype,"ghostPaths",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=k(m.prototype,"data",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i.TrackedArray([])}}),f=k(m.prototype,"isLoading",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=k(m.prototype,"isError",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=k(m.prototype,"errorMessage",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=k(m.prototype,"hasReachedEnd",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k(m.prototype,"loadNextPage",[p],Object.getOwnPropertyDescriptor(m.prototype,"loadNextPage"),m.prototype),k(m.prototype,"loadEventsTask",[r.task],Object.getOwnPropertyDescriptor(m.prototype,"loadEventsTask"),m.prototype),m)
e.default=P})),define("ghost-admin/helpers/members-event-filter",["exports"],(function(e){var t,n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.NEWSLETTER_EVENTS=e.EMAIL_EVENTS=void 0
const r=["email_delivered_event","email_opened_event","email_failed_event"]
e.EMAIL_EVENTS=r
const a=["newsletter_event"]
e.NEWSLETTER_EVENTS=a
let s=(t=Ember.inject.service,n=class extends Ember.Helper{constructor(){var e,t,n,r
super(...arguments),e=this,t="settings",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}compute(e,t){let{excludedEvents:n=[],member:i="",excludeEmailEvents:s=!1}=t
const o=new Set
"disabled"===this.settings.get("editorDefaultEmailRecipients")&&[...r,...a].forEach((e=>o.add(e))),s&&r.forEach((e=>o.add(e))),n.length&&n.forEach((e=>o.add(e)))
let l=[]
const u=Array.from(o).reject(Ember.isBlank)
return u.length>0&&l.push(`type:-[${u.join(",")}]`),i&&l.push(`data.member_id:${i}`),l.join("+")}},o=n.prototype,l="settings",u=[t],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),i=p,n)
var o,l,u,d,c,p
e.default=s})),define("ghost-admin/helpers/moment-add",["exports","ember-moment/helpers/moment-add"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-calendar",["exports","ember-moment/helpers/moment-calendar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-diff",["exports","ember-moment/helpers/moment-diff"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-duration",["exports","ember-moment/helpers/moment-duration"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("ghost-admin/helpers/moment-format",["exports","ember-moment/helpers/moment-format"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-from-now",["exports","ember-moment/helpers/moment-from-now"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-from",["exports","ember-moment/helpers/moment-from"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-site-tz",["exports","moment"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(n=Ember.inject.service,i=class extends Ember.Helper{constructor(){var e,t,n,i
super(...arguments),e=this,t="settings",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}compute(e){let[n]=e
return t.default.tz(n,this.settings.get("timezone"))}},s=i.prototype,o="settings",l=[n],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),r=c,i)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/helpers/moment-subtract",["exports","ember-moment/helpers/moment-subtract"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-to-date",["exports","ember-moment/helpers/moment-to-date"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-to-now",["exports","ember-moment/helpers/moment-to-now"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-to",["exports","ember-moment/helpers/moment-to"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-unix",["exports","ember-moment/helpers/unix"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment",["exports","ember-moment/helpers/moment"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/most-recently-updated",["exports","moment"],(function(e,t){function n(e){const n=[...e||[]]
return(n||[]).sort(((e,n)=>{const i=(0,t.default)(e.updatedAtUTC||e.updatedAt||e.updated_at)
return(0,t.default)(n.updatedAtUTC||n.updatedAt||n.updated_at).valueOf()-i.valueOf()})),n[0]||null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.mostRecentlyUpdated=n
var i=Ember.Helper.helper((function(e){let[t=[]]=e
return n(t)}))
e.default=i})),define("ghost-admin/helpers/noop",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Helper.helper((function(){return()=>{}}))
e.default=t})),define("ghost-admin/helpers/not-eq",["exports","ember-truth-helpers/helpers/not-equal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"notEqualHelper",{enumerable:!0,get:function(){return t.notEqualHelper}})})),define("ghost-admin/helpers/not",["exports","ember-truth-helpers/helpers/not"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"not",{enumerable:!0,get:function(){return t.not}})})),define("ghost-admin/helpers/now",["exports","ember-moment/helpers/now"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/on-key",["exports","ember-keyboard/helpers/on-key"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/one-way-select/contains",["exports","ember-one-way-select/helpers/one-way-select/contains"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"contains",{enumerable:!0,get:function(){return t.contains}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/optional",["exports","ember-composable-helpers/helpers/optional"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"optional",{enumerable:!0,get:function(){return t.optional}})})),define("ghost-admin/helpers/or",["exports","ember-truth-helpers/helpers/or"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"or",{enumerable:!0,get:function(){return t.or}})})),define("ghost-admin/helpers/parse-member-event",["exports","moment","ghost-admin/utils/currency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){let i=e.data.member.name||e.data.member.email,r=function(e){let t
"signup_event"===e.type&&(t="signed-up")
"login_event"===e.type&&(t="logged-in")
"payment_event"===e.type&&(t="subscriptions")
"newsletter_event"===e.type&&(t=e.data.subscribed?"subscribed-to-email":"unsubscribed-from-email")
"subscription_event"===e.type&&(t="subscriptions",null===e.data.from_plan&&(t="subscriptions"),null===e.data.to_plan&&(t="canceled-subscription"))
"email_opened_event"===e.type&&(t="opened-email")
"email_delivered_event"===e.type&&(t="received-email")
"email_failed_event"===e.type&&(t="email-delivery-failed")
return"event-"+t}(e),a=function(e){if("signup_event"===e.type)return"signed up"
if("login_event"===e.type)return"logged in"
if("payment_event"===e.type)return"made a payment"
if("newsletter_event"===e.type)return e.data.subscribed?"subscribed to":"unsubscribed from"
if("subscription_event"===e.type)return null===e.data.from_plan?"started":null===e.data.to_plan?"cancelled":"changed"
if("email_opened_event"===e.type)return"opened"
if("email_delivered_event"===e.type)return"received"
if("email_failed_event"===e.type)return"failed to receive"}(e),s=function(e){if("newsletter_event"===e.type)return"emails"
if("subscription_event"===e.type)return"their subscription"
if(e.type.match?.(/^email_/))return"an email"
return""}(e),o=function(e){if("subscription_event"===e.type){let t=(0,n.getNonDecimal)(e.data.mrr_delta,e.data.currency)
if(0===t)return
return`(MRR ${t>0?"+":"-"}${(0,n.getSymbol)(e.data.currency)}${Math.abs(t)})`}return}(e),l=(0,t.default)(e.data.created_at)
return{memberId:e.data.member_id,member:e.data.member,emailId:e.data.email_id,email:e.data.email,icon:r,subject:i,action:a,object:s,info:o,timestamp:l}}})),define("ghost-admin/helpers/perform",["exports","ember-concurrency/helpers/perform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default
e.default=n})),define("ghost-admin/helpers/power-calendar-format-date",["exports","ember-power-calendar/helpers/power-calendar-format-date"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"powerCalendarFormatDate",{enumerable:!0,get:function(){return t.powerCalendarFormatDate}})})),define("ghost-admin/helpers/query-selector",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){const t=document.querySelector(e)
t||console.warn(`{{query-selector}} could not find an element matching "${e}"`)
return t}})),define("ghost-admin/helpers/reset-query-params",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.DEFAULT_QUERY_PARAMS=void 0,e.resetQueryParams=n
const t={posts:{type:null,visibility:null,author:null,tag:null,order:null},pages:{type:null,visibility:null,author:null,tag:null,order:null},"members.index":{label:null,paid:null,search:null,filter:null,order:null},"members-activity":{excludedEvents:null,member:null}}
function n(e,n){return Object.assign({},t[e],n)}e.DEFAULT_QUERY_PARAMS=t
var i=Ember.Helper.helper((function(e){return n(...e)}))
e.default=i})),define("ghost-admin/helpers/route-action",["exports","ember-route-action-helper/helpers/route-action"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/sanitize-html",["exports","koenig-editor/helpers/sanitize-html"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"sanitizeHtml",{enumerable:!0,get:function(){return t.sanitizeHtml}})})),define("ghost-admin/helpers/set-has",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Helper.helper((function(e){let[t,n]=e
return t.has(n)}))
e.default=t})),define("ghost-admin/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default
e.default=n})),define("ghost-admin/helpers/site-icon-style",["exports"],(function(e){var t,n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,n=class extends Ember.Helper{constructor(){var e,t,n,r
super(...arguments),e=this,t="config",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}compute(){const e=this.get("config.icon")||"https://static.ghost.org/v4.0.0/images/ghost-orb-2.png"
return Ember.String.htmlSafe(`background-image: url(${e})`)}},a=n.prototype,s="config",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(l).forEach((function(e){d[e]=l[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,s,d),d=null),i=d,n)
var a,s,o,l,u,d
e.default=r}))
define("ghost-admin/helpers/svg-jar",["exports","ember-svg-jar/utils/make-helper","ember-svg-jar/utils/make-svg"],(function(e,t,n){function i(e){try{return require(`ember-svg-jar/inlined/${e}`).default}catch(t){return null}}function r(e,t){return(0,n.default)(e,t,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.svgJar=r
var a=(0,t.default)(r)
e.default=a})),define("ghost-admin/helpers/task",["exports","ember-concurrency/helpers/task"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/titleize",["exports","ember-cli-string-helpers/helpers/titleize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"titleize",{enumerable:!0,get:function(){return t.titleize}})})),define("ghost-admin/helpers/toggle-action",["exports","ember-composable-helpers/helpers/toggle-action"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/toggle-feature",["exports"],(function(e){var t,n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,n=class extends Ember.Helper{constructor(){var e,t,n,r
super(...arguments),e=this,t="feature",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}compute(e){let[t]=e
return()=>{const e=!!this.feature.get(t)
this.feature.set(t,!e)}}},a=n.prototype,s="feature",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(l).forEach((function(e){d[e]=l[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,s,d),d=null),i=d,n)
var a,s,o,l,u,d
e.default=r})),define("ghost-admin/helpers/toggle",["exports","ember-composable-helpers/helpers/toggle"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"toggle",{enumerable:!0,get:function(){return t.toggle}})})),define("ghost-admin/helpers/trim",["exports","ember-cli-string-helpers/helpers/trim"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"trim",{enumerable:!0,get:function(){return t.trim}})})),define("ghost-admin/helpers/truncate",["exports","ember-cli-string-helpers/helpers/truncate"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"truncate",{enumerable:!0,get:function(){return t.truncate}})})),define("ghost-admin/helpers/ui-btn-span",["exports","ghost-admin/helpers/ui-btn"],(function(e,t){function n(e,n){let[i]=e
return(0,t.btnStyles)(Object.assign({},{style:i},n)).span}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.uiBtnSpan=n
var i=Ember.Helper.helper(n)
e.default=i})),define("ghost-admin/helpers/ui-btn",["exports"],(function(e){function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="dib midgrey btn-base br3 ba b--lightgrey-l1 pointer glow",n="f8 fw5 tracked-2 dib pt0 pb0 tc"
if(e.style){switch(e.style){case"outline-white":case"outline-white--s":t="bg-transparent dib white btn-base br3 ba b--white-60 pointer highlight-white",n="f8 fw5 tracked-2 dib pt0 pb0 tc"
break
case"outline-blue":case"outline-blue--s":t="bg-transparent dib blue btn-base br3 ba b--lightgrey pointer glow",n="f8 fw5 tracked-2 dib pt0 pb0 tc"
break
case"blue":case"blue--s":t="dib bw0 white br3 btn-base btn-blue pointer",n="f8 fw5 tracked-2 dib pt0 pb0 tc"
break
case"green":case"green--s":t="dib bw0 white br3 btn-base btn-green pointer",n="f8 fw5 tracked-2 dib pt0 pb0 tc"
break
case"red":case"red--s":t="dib bw0 white br3 btn-base btn-red pointer",n="f8 fw5 tracked-2 dib pt0 pb0 tc"}"--s"===e.style.substr(e.style.length-3)&&(t=`${t} btn-small`)}return e.class&&(t=`${t} ${e.class}`),t=`sans-serif ${t} flex-shrink-0`,n=`${n} inline-flex items-center`,{button:t,span:n}}function n(e,n){let[i]=e
return t(Object.assign({},{style:i},n)).button}Object.defineProperty(e,"__esModule",{value:!0}),e.btnStyles=t,e.default=void 0,e.uiBtn=n
var i=Ember.Helper.helper(n)
e.default=i})),define("ghost-admin/helpers/ui-text",["exports"],(function(e){function t(e){let[t]=e,n=""
switch(t){case"h1":n="f-subheadline fw7 tracked-3 lh-heading ma0 pa0"
break
case"h2":n="f2 fw6 tracked-2 tracked-3 lh-title ma0 pa0"
break
case"h3":n="f5 fw6 tracked-2 lh-title ma0 pa0"
break
case"h4":n="f7 fw6 tracked-2 lh-copy ma0 pa0"
break
case"h5":n="f8 fw6 tracked-2 lh-copy ma0 pa0"
break
case"h6":n="f-small ttu fw4 tracked-3 lh-copy ma0 pa0"
break
case"tl":n="f6 fw3 lh-copy tracked-1 ma0 pa0"
break
case"t":n="f7 fw3 lh-copy tracked-1 ma0 pa0"
break
case"ts":n="f8 fw3 lh-copy tracked-2 ma0 pa0"
break
case"txs":n="f-small fw3 lh-copy tracked-3 ma0 pa0"}return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.uiText=t
var n=Ember.Helper.helper(t)
e.default=n})),define("ghost-admin/helpers/underscore",["exports","ember-cli-string-helpers/helpers/underscore"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"underscore",{enumerable:!0,get:function(){return t.underscore}})})),define("ghost-admin/helpers/unix",["exports","ember-moment/helpers/unix"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/uppercase",["exports","ember-cli-string-helpers/helpers/uppercase"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"uppercase",{enumerable:!0,get:function(){return t.uppercase}})})),define("ghost-admin/helpers/utc",["exports","ember-moment/helpers/utc"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"utc",{enumerable:!0,get:function(){return t.utc}})})),define("ghost-admin/helpers/w",["exports","ember-cli-string-helpers/helpers/w"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"w",{enumerable:!0,get:function(){return t.w}})})),define("ghost-admin/helpers/xor",["exports","ember-truth-helpers/helpers/xor"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"xor",{enumerable:!0,get:function(){return t.xor}})})),define("ghost-admin/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","ghost-admin/config/environment"],(function(e,t,n){let i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n.default.APP&&(i=n.default.APP.name,r=n.default.APP.version)
var a={name:"App Version",initialize:(0,t.default)(i,r)}
e.default=a})),define("ghost-admin/initializers/container-debug-adapter",["exports","ember-resolver/resolvers/classic/container-debug-adapter"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n={name:"container-debug-adapter",initialize(){(arguments[1]||arguments[0]).register("container-debug-adapter:main",t.default)}}
e.default=n})),define("ghost-admin/initializers/coordinator-setup",["exports","ghost-admin/models/coordinator"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n={name:"setup coordinator",initialize:function(){let e=arguments[1]||arguments[0]
e.register("drag:coordinator",t.default),e.inject("component","coordinator","drag:coordinator")}}
e.default=n})),define("ghost-admin/initializers/ember-cli-mirage",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={name:"ember-cli-mirage",initialize(){}}
e.default=t})),define("ghost-admin/initializers/ember-concurrency",["exports","ember-concurrency/initializers/ember-concurrency"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/initializers/ember-data-data-adapter",["exports","@ember-data/debug/setup"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/initializers/ember-data",["exports","ember-data","ember-data/setup-container"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i={name:"ember-data",initialize:n.default}
e.default=i})),define("ghost-admin/initializers/ember-simple-auth",["exports","ember-simple-auth/configuration","ghost-admin/config/environment","ghost-admin/utils/ghost-paths","ember-simple-auth/initializers/setup-session"],(function(e,t,n,i,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var a={name:"ember-simple-auth",initialize(e){let a=n.default["ember-simple-auth"]||{}
a.rootURL=(0,i.default)().adminRoot,t.default.load(a),(0,r.default)(e)}}
e.default=a})),define("ghost-admin/initializers/export-application-global",["exports","ghost-admin/config/environment"],(function(e,t){function n(){var e=arguments[1]||arguments[0]
if(!1!==t.default.exportApplicationGlobal){var n
if("undefined"!=typeof window)n=window
else if("undefined"!=typeof global)n=global
else{if("undefined"==typeof self)return
n=self}var i,r=t.default.exportApplicationGlobal
i="string"==typeof r?r:Ember.String.classify(t.default.modulePrefix),n[i]||(n[i]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete n[i]}}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.initialize=n
var i={name:"export-application-global",initialize:n}
e.default=i})),define("ghost-admin/initializers/hide-loading-screen",["exports","ghost-admin/instance-initializers/hide-loading-screen"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.initialize=r
const n=/^([0-9]+)\.([0-9]+)\.([0-9]+)(?:(?:-(alpha|beta)\.([0-9]+)(?:\.([0-9]+))?)?)?(?:\+(canary))?(?:\.([0-9abcdef]+))?(?:-([A-Za-z0-9.-]+))?(?:\+([A-Za-z0-9.-]+))?$/.exec(Ember.VERSION),i=parseInt(n[1],10)<2&&parseInt(n[2],10)<12
function r(){if(i){let[e,n]=arguments
t.default.initialize(e,n)}}var a={name:"hide-loading-screen",initialize:r}
e.default=a})),define("ghost-admin/initializers/liquid-fire",["exports","liquid-fire/velocity-ext"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"liquid-fire",initialize:function(){}}})),define("ghost-admin/initializers/trailing-hash",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let t=Ember.HashLocation.extend({formatURL(){let e=this._super(...arguments)
return e.indexOf("?")>0?e.replace(/([^/])\?/,"$1/?"):e.replace(/\/?$/,"/")}})
var n={name:"registerTrailingHashLocation",initialize(e){e.register("location:trailing-hash",t)}}
e.default=n})),define("ghost-admin/initializers/upgrade-status",["exports"],(function(e){function t(e){e.inject("route","upgradeStatus","service:upgrade-status")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.initialize=t
var n={name:"upgrade-status",initialize:t}
e.default=n}))
define("ghost-admin/initializers/usable-function-manager",["exports","ember-could-get-used-to-this/initializers/usable-function-manager"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("ghost-admin/initializers/viewport-config",["exports","ember-in-viewport/initializers/viewport-config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("ghost-admin/instance-initializers/ella-sparse-array",["exports","ember-ella-sparse/instance-initializers/ella-sparse-array"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("ghost-admin/instance-initializers/ember-data",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={name:"ember-data",initialize(){}}
e.default=t})),define("ghost-admin/instance-initializers/ember-simple-auth",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={name:"ember-simple-auth",initialize(){}}
e.default=t})),define("ghost-admin/instance-initializers/hide-loading-screen",["exports","ghost-admin/config/environment"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.initialize=i
const n=t.default["ember-load"]||{}
function i(){let e=arguments[1]||arguments[0],t=arguments[1]?arguments[0]:e.container
if(Ember.View){(t.lookupFactory?t.lookupFactory("view:application"):e.resolveRegistration("view:application")).reopen({didInsertElement(){this._super(...arguments)
let e=n.loadingIndicatorClass||"ember-load-indicator"
document.querySelectorAll(`.${e}`).forEach((e=>e.remove()))}})}}var r={name:"hide-loading-screen-instance",initialize:i}
e.default=r})),define("ghost-admin/instance-initializers/sentry-performance",["exports","@sentry/ember/instance-initializers/sentry-performance"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("ghost-admin/mixins/body-event-listener",["exports","jquery"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Mixin.create({bodyElementSelector:"html",bodyClick:function(){return this},init(){return this._super(...arguments),Ember.run.next(this,this._setupDocumentHandlers)},willDestroy(){return this._super(...arguments),this._removeDocumentHandlers()},_setupDocumentHandlers(){if(!this._clickHandler)return this._clickHandler=e=>this.bodyClick(e),(0,t.default)(this.bodyElementSelector).on("click",this._clickHandler)},_removeDocumentHandlers(){(0,t.default)(this.bodyElementSelector).off("click",this._clickHandler),this._clickHandler=null},click:e=>e.stopPropagation()})
e.default=n})),define("ghost-admin/mixins/dropdown-mixin",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Mixin.create(Ember.Evented,{classNameBindings:["isOpen:open:closed"],isOpen:!1,click(e){return this._super(e),e.stopPropagation()}})
e.default=t})),define("ghost-admin/mixins/shortcuts-route",["exports","ghost-admin/mixins/shortcuts"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Mixin.create(t.default,{activate(){this._super(...arguments),this.registerShortcuts()},deactivate(){this._super(...arguments),this.removeShortcuts()}})
e.default=n})),define("ghost-admin/mixins/shortcuts",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,key.filter=function(){return!0},key.setScope("default")
var t=Ember.Mixin.create({registerShortcuts(){let e=this.shortcuts
Object.keys(e).forEach((t=>{let n,i=e[t].scope||"default",r=e[t]
"string"!==Ember.typeOf(r)&&(n=r.options,r=r.action),key(t,i,(e=>{e.preventDefault(),Ember.run(this,(function(){this.send(r,n)}))}))}))},removeShortcuts(){let e=this.shortcuts
Object.keys(e).forEach((t=>{let n=e[t].scope||"default"
key.unbind(t,n)}))},willDestroy(){this._super(...arguments),this.removeShortcuts()}})
e.default=t})),define("ghost-admin/mixins/text-input",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t={13:"Enter",9:"Tab"}
var n=Ember.Mixin.create({attributeBindings:["autofocus"],selectOnClick:!1,shouldFocus:!1,stopEnterKeyDownPropagation:!1,constructor(){this._super(...arguments),this._isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},autofocus:Ember.computed((function(){return!!this.shouldFocus&&(!this._isIOS&&"autofocus")})),didInsertElement(){this._super(...arguments),this._focus()},click(e){this.selectOnClick&&e.currentTarget.select()},input(e){this["on-input"]?.(e)},keyDown(e){if(13===e.keyCode&&this.stopEnterKeyDownPropagation)return e.stopPropagation(),!0
9===e.keyCode&&"function"==typeof this.get("keyEvents.Tab")&&e.preventDefault(),this._super(...arguments)},keyPress(e){13===e.keyCode&&"function"==typeof this.get("keyEvents.Enter")&&e.preventDefault(),this._super(...arguments)},keyUp(e){if(e.keyCode){let t=this._getMethodFromKeyCode(e.keyCode),n=this.get(`keyEvents.${t}`)
n&&n(e.target.value)}},_focus(){this.shouldFocus&&!this._isIOS&&this.element.focus()},_getMethodFromKeyCode:e=>t[e.toString()]})
e.default=n})),define("ghost-admin/mixins/validation-engine",["exports","ghost-admin/validators/custom-view","ember-data","ghost-admin/validators/integration","ghost-admin/validators/invite-user","ghost-admin/validators/label","ghost-admin/validators/member","@ember-data/model","ghost-admin/validators/nav-item","ghost-admin/validators/offer","ghost-admin/validators/post","ghost-admin/validators/product-benefit-item","ghost-admin/validators/product","ghost-admin/validators/reset","ghost-admin/validators/setting","ghost-admin/validators/setup","ghost-admin/validators/signin","ghost-admin/validators/signup","ghost-admin/validators/slack-integration","ghost-admin/validators/snippet","ghost-admin/validators/tag-settings","ghost-admin/validators/user","ghost-admin/validators/webhook"],(function(e,t,n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{Errors:P}=n.default
var O=Ember.Mixin.create({validators:null,errors:null,hasValidated:null,init(){this._super(...arguments),this.set("errors",P.create()),this.set("hasValidated",Ember.A()),this.validators={customView:t.default,inviteUser:r.default,navItem:l.default,productBenefitItem:c.default,post:d.default,reset:m.default,setting:h.default,setup:g.default,signin:b.default,signup:f.default,slackIntegration:v.default,tag:w.default,user:E.default,member:s.default,integration:i.default,webhook:k.default,label:a.default,snippet:y.default,product:p.default,offer:u.default}},validate(e){let t,n,i,r=this
return(e=e||{}).model?r=e.model:this instanceof o.default?r=this:this.model&&(r=this.model),n=this.validationType||r.get("validationType"),i=this.get(`validators.${n}`)||r.get(`validators.${n}`),t=this.hasValidated,e.validationType=n,new Ember.RSVP.Promise(((a,s)=>{let o
return n&&i?(e.property?(t.addObject(e.property),r.get("errors").remove(e.property)):r.get("errors").clear(),o=i.check(r,e.property),o?a():s()):s([`The validator specified, "${n}", did not exist!`])}))},save(e){let{_super:t}=this
return(e=e||{}).wasSave=!0,this.isDeleted?this._super(...arguments):this.validate(e).then((()=>("function"==typeof this.beforeSave&&this.beforeSave(),t.call(this,e)))).catch((e=>{if(e&&!Ember.isArray(e))throw e
return Ember.RSVP.reject(e)}))},actions:{validate(e){this.validate({property:e})}}})
e.default=O})),define("ghost-admin/mixins/validation-state",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Mixin.create({errors:null,property:"",hasValidated:Ember.A(),hasError:!1,setHasError(){let e=this.property,t=this.errors,n=this.hasValidated
e||!t||t.get("isEmpty")?n&&n.includes(e)?!t||Ember.isEmpty(t.errorsFor(e))?this.set("hasError",!1):this.set("hasError",!0):this.set("hasError",!1):this.set("hasError",!0)},hasErrorObserver:Ember.on("init",Ember.observer("errors.[]","property","hasValidated.[]",(function(){Ember.run.once(this,"setHasError")})))})
e.default=t})),define("ghost-admin/models/action",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({resourceId:(0,t.attr)("string"),resourceType:(0,t.attr)("string"),actorId:(0,t.attr)("string"),actorType:(0,t.attr)("string"),event:(0,t.attr)("string"),context:(0,t.attr)("json-string"),createdAtUTC:(0,t.attr)("moment-utc")})
e.default=n})),define("ghost-admin/models/api-key",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({type:(0,t.attr)("string"),secret:(0,t.attr)("string"),lastSeenAtUTC:(0,t.attr)("moment-utc"),createdAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedAtUTC:(0,t.attr)("moment-utc"),updatedBy:(0,t.attr)("number"),integration:(0,t.belongsTo)("integration")})
e.default=n})),define("ghost-admin/models/base",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({get _meta(){return this._internalModel.type.___meta}})
e.default=n})),define("ghost-admin/models/coordinator",["exports","ghost-admin/models/obj-hash"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Object.extend(Ember.Evented,{objectMap:Ember.computed((function(){return t.default.create()})),getObject:function(e,t){t=t||{}
var n=this.get("objectMap").getObj(e)
return n.ops.source&&n.ops.source.sendAction("action",n.obj),n.ops.target&&n.ops.target.sendAction("action",n.obj),this.trigger("objectMoved",{obj:n.obj,source:n.ops.source,target:t.target}),n.obj},setObject:function(e,t){return t=t||{},this.get("objectMap").add({obj:e,ops:t})}})
e.default=n})),define("ghost-admin/models/custom-theme-setting-list",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({customThemeSettings:(0,t.hasMany)("custom-theme-setting")})
e.default=n})),define("ghost-admin/models/custom-theme-setting",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({key:(0,t.attr)("string"),type:(0,t.attr)("string"),options:(0,t.attr)(),default:(0,t.attr)("string"),value:(0,t.attr)(),group:(0,t.attr)("string")})
e.default=n})),define("ghost-admin/models/email-recipient",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({processedAtUTC:(0,t.attr)("moment-utc"),deliveredAtUTC:(0,t.attr)("moment-utc"),openedAtUTC:(0,t.attr)("moment-utc"),failedAtUTC:(0,t.attr)("moment-utc"),memberEmail:(0,t.attr)("string"),memberName:(0,t.attr)("string"),email:(0,t.belongsTo)("email",{embedded:"always",async:!1})})
e.default=n})),define("ghost-admin/models/email",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({error:(0,t.attr)("string"),html:(0,t.attr)("string"),plaintext:(0,t.attr)("string"),stats:(0,t.attr)("json-string"),status:(0,t.attr)("string"),subject:(0,t.attr)("string"),submittedAtUTC:(0,t.attr)("moment-utc"),uuid:(0,t.attr)("string"),recipientFilter:(0,t.attr)("string"),emailCount:(0,t.attr)("number",{defaultValue:0}),deliveredCount:(0,t.attr)("number",{defaultValue:0}),openedCount:(0,t.attr)("number",{defaultValue:0}),failedCount:(0,t.attr)("number",{defaultValue:0}),trackOpens:(0,t.attr)("boolean"),createdAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("string"),updatedAtUTC:(0,t.attr)("moment-utc"),updatedBy:(0,t.attr)("string"),post:(0,t.belongsTo)("post"),isSuccess:Ember.computed.equal("status","submitted"),isFailure:Ember.computed.equal("status","failed"),openRate:Ember.computed("emailCount","openedCount",(function(){let{emailCount:e,openedCount:t}=this
return 0===e?0:Math.round(t/e*100)})),retry(){return this.store.adapterFor("email").retry(this)}})
e.default=n})),define("ghost-admin/models/integration",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend(n.default,{validationType:"integration",name:(0,t.attr)("string"),slug:(0,t.attr)("string"),type:(0,t.attr)("string"),iconImage:(0,t.attr)("string"),description:(0,t.attr)("string"),createdAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedAtUTC:(0,t.attr)("moment-utc"),updatedBy:(0,t.attr)("number"),apiKeys:(0,t.hasMany)("api-key",{embedded:"always",async:!1}),webhooks:(0,t.hasMany)("webhook",{embedded:"always",async:!1}),adminKey:Ember.computed("apiKeys.[]",(function(){return this.apiKeys.findBy("type","admin")})),contentKey:Ember.computed("apiKeys.[]",(function(){return this.apiKeys.findBy("type","content")}))})
e.default=i})),define("ghost-admin/models/invite",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({token:(0,t.attr)("string"),email:(0,t.attr)("string"),expires:(0,t.attr)("number"),createdAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedAtUTC:(0,t.attr)("moment-utc"),updatedBy:(0,t.attr)("number"),status:(0,t.attr)("string"),role:(0,t.belongsTo)("role",{async:!1}),ajax:Ember.inject.service(),ghostPaths:Ember.inject.service(),resend(){let e={email:this.email,role_id:this.role.id},t=this.get("ghostPaths.url").api("invites")
return this.ajax.del(`${t}${this.id}`).then((()=>this.ajax.post(t,{data:JSON.stringify({invites:[e]}),contentType:"application/json"})))}})
e.default=n})),define("ghost-admin/models/label",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend(n.default,{validationType:"label",name:(0,t.attr)("string"),slug:(0,t.attr)("string"),createdAtUTC:(0,t.attr)("moment-utc"),updatedAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedBy:(0,t.attr)("number"),count:(0,t.attr)("raw"),feature:Ember.inject.service()})
e.default=i})),define("ghost-admin/models/member-product",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Object.extend({name:"Name of the product",slug:"Slug for the product"})
e.default=t})),define("ghost-admin/models/member-subscription",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Object.extend({customer:"customer_id",subscription:"subscription_id",plan:"plan_id",status:"subscription status",name:'plan nickname e.g. "Monthly"',interval:'how often plan charges e.g "month", "year"',amount:"amount in smallest denomination e.g. cents, so value for 5 dollars would be 500",currency:"e.g. usd",last4:"last four digits of card OR null",validUntil:"epoch timestamp of when current interval ends IN SECONDS"})
e.default=t})),define("ghost-admin/models/member",["exports","@ember-data/model","ghost-admin/mixins/validation-engine","ember-concurrency"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=t.default.extend(n.default,{validationType:"member",name:(0,t.attr)("string"),email:(0,t.attr)("string"),note:(0,t.attr)("string"),status:(0,t.attr)("string"),createdAtUTC:(0,t.attr)("moment-utc"),lastSeenAtUTC:(0,t.attr)("moment-utc"),subscriptions:(0,t.attr)("member-subscription"),subscribed:(0,t.attr)("boolean",{defaultValue:!0}),comped:(0,t.attr)("boolean",{defaultValue:!1}),geolocation:(0,t.attr)("json-string"),emailCount:(0,t.attr)("number",{defaultValue:0}),emailOpenedCount:(0,t.attr)("number",{defaultValue:0}),emailOpenRate:(0,t.attr)("number"),products:(0,t.attr)("member-product"),labels:(0,t.hasMany)("label",{embedded:"always",async:!1}),emailRecipients:(0,t.hasMany)("emailRecipient",{async:!0}),ghostPaths:Ember.inject.service(),ajax:Ember.inject.service(),updateLabels(){let e=this.labels,t=e.filterBy("id",null)
e.removeObjects(t),t.invoke("deleteRecord")},fetchSigninUrl:(0,i.task)((function*(){let e=this.get("ghostPaths.url").api("members",this.id,"signin_urls")
return(yield this.ajax.request(e)).member_signin_urls[0]})).drop()})
e.default=r})),define("ghost-admin/models/navigation-item",["exports","ghost-admin/mixins/validation-engine"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Object.extend(t.default,{label:"",url:"",isNew:!1,isSecondary:!1,validationType:"navItem",isComplete:Ember.computed("label","url",(function(){let{label:e,url:t}=this
return!Ember.isBlank(e)&&!Ember.isBlank(t)})),isBlank:Ember.computed("label","url",(function(){let{label:e,url:t}=this
return Ember.isBlank(e)&&Ember.isBlank(t)}))})
e.default=n})),define("ghost-admin/models/notification",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({custom:(0,t.attr)("boolean"),dismissible:(0,t.attr)("boolean"),key:(0,t.attr)("string"),message:(0,t.attr)("string"),status:(0,t.attr)("string"),type:(0,t.attr)("string")})
e.default=n}))
define("ghost-admin/models/obj-hash",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Object.extend({contentLength:0,length:Ember.computed.alias("contentLength"),init:function(){this._super(),this.content={}},add:function(e){var t=this.generateId()
return this.get("content")[t]=e,this.incrementProperty("contentLength"),t},getObj:function(e){var t=this.get("content")[e]
if(!t)throw"no obj for key "+e
return t},generateId:function(){var e=1e12*Math.random()
return e=""+(e=parseInt(e))},keys:function(){var e=[]
for(var t in this.get("content"))e.push(t)
return Ember.A(e)}})
e.default=t})),define("ghost-admin/models/offer",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend(n.default,{validationType:"offer",name:(0,t.attr)("string"),code:(0,t.attr)("string"),cadence:(0,t.attr)("string"),status:(0,t.attr)("string",{defaultValue:"active"}),tier:(0,t.attr)(),stripeCouponId:(0,t.attr)("string"),redemptionCount:(0,t.attr)("number"),currency:(0,t.attr)("string"),type:(0,t.attr)("string",{defaultValue:"percent"}),amount:(0,t.attr)("number"),duration:(0,t.attr)("string",{defaultValue:"once"}),durationInMonths:(0,t.attr)("number"),displayTitle:(0,t.attr)("string"),displayDescription:(0,t.attr)("string"),createdAtUTC:(0,t.attr)("moment-utc"),updatedAtUTC:(0,t.attr)("moment-utc")})
e.default=i})),define("ghost-admin/models/page",["exports","ghost-admin/models/post"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({displayName:"page"})
e.default=n})),define("ghost-admin/models/post",["exports","@ember-data/model","ghost-admin/mixins/validation-engine","ghost-admin/utils/bound-one-way","moment","koenig-editor/components/koenig-editor"],(function(e,t,n,i,r,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{Comparable:s}=Ember
var o=t.default.extend(s,n.default,{config:Ember.inject.service(),feature:Ember.inject.service(),ghostPaths:Ember.inject.service(),clock:Ember.inject.service(),settings:Ember.inject.service(),displayName:"post",validationType:"post",createdAtUTC:(0,t.attr)("moment-utc"),excerpt:(0,t.attr)("string"),customExcerpt:(0,t.attr)("string"),featured:(0,t.attr)("boolean",{defaultValue:!1}),canonicalUrl:(0,t.attr)("string"),codeinjectionFoot:(0,t.attr)("string",{defaultValue:""}),codeinjectionHead:(0,t.attr)("string",{defaultValue:""}),customTemplate:(0,t.attr)("string"),ogImage:(0,t.attr)("string"),ogTitle:(0,t.attr)("string"),ogDescription:(0,t.attr)("string"),twitterImage:(0,t.attr)("string"),twitterTitle:(0,t.attr)("string"),twitterDescription:(0,t.attr)("string"),emailSubject:(0,t.attr)("string"),html:(0,t.attr)("string"),visibility:(0,t.attr)("string"),metaDescription:(0,t.attr)("string"),metaTitle:(0,t.attr)("string"),mobiledoc:(0,t.attr)("json-string",{defaultValue:()=>JSON.parse(JSON.stringify(a.BLANK_DOC))}),plaintext:(0,t.attr)("string"),publishedAtUTC:(0,t.attr)("moment-utc"),slug:(0,t.attr)("string"),status:(0,t.attr)("string",{defaultValue:"draft"}),title:(0,t.attr)("string",{defaultValue:""}),updatedAtUTC:(0,t.attr)("moment-utc"),updatedBy:(0,t.attr)("number"),url:(0,t.attr)("string"),uuid:(0,t.attr)("string"),emailRecipientFilter:(0,t.attr)("members-segment-string",{defaultValue:null}),emailOnly:(0,t.attr)("boolean",{defaultValue:!1}),featureImage:(0,t.attr)("string"),featureImageAlt:(0,t.attr)("string"),featureImageCaption:(0,t.attr)("string"),authors:(0,t.hasMany)("user",{embedded:"always",async:!1}),createdBy:(0,t.belongsTo)("user",{async:!0}),email:(0,t.belongsTo)("email",{async:!1}),publishedBy:(0,t.belongsTo)("user",{async:!0}),tags:(0,t.hasMany)("tag",{embedded:"always",async:!1}),primaryAuthor:Ember.computed.reads("authors.firstObject"),primaryTag:Ember.computed.reads("tags.firstObject"),scratch:null,titleScratch:null,statusScratch:null,publishedAtBlogDate:"",publishedAtBlogTime:"",canonicalUrlScratch:(0,i.default)("canonicalUrl"),customExcerptScratch:(0,i.default)("customExcerpt"),codeinjectionFootScratch:(0,i.default)("codeinjectionFoot"),codeinjectionHeadScratch:(0,i.default)("codeinjectionHead"),metaDescriptionScratch:(0,i.default)("metaDescription"),metaTitleScratch:(0,i.default)("metaTitle"),ogDescriptionScratch:(0,i.default)("ogDescription"),ogTitleScratch:(0,i.default)("ogTitle"),twitterDescriptionScratch:(0,i.default)("twitterDescription"),twitterTitleScratch:(0,i.default)("twitterTitle"),tiers:(0,t.attr)("member-product"),emailSubjectScratch:(0,i.default)("emailSubject"),isPublished:Ember.computed.equal("status","published"),isDraft:Ember.computed.equal("status","draft"),internalTags:Ember.computed.filterBy("tags","isInternal",!0),isScheduled:Ember.computed.equal("status","scheduled"),isSent:Ember.computed.equal("status","sent"),isPost:Ember.computed.equal("displayName","post"),isPage:Ember.computed.equal("displayName","page"),hasEmail:Ember.computed("email","emailOnly",(function(){return null!==this.email||this.emailOnly})),willEmail:Ember.computed("emailRecipientFilter",(function(){return null!==this.emailRecipientFilter})),previewUrl:Ember.computed("uuid","ghostPaths.url","config.blogUrl",(function(){let e=this.get("config.blogUrl"),t=this.uuid
return t?this.get("ghostPaths.url").join(e,"p",t):""})),isPublic:Ember.computed("visibility",(function(){return"public"===this.visibility})),visibilitySegment:Ember.computed("visibility","isPublic","tiers",(function(){if(this.isPublic)return"paid"===this.settings.get("defaultContentVisibility")?"status:-free":"status:free,status:-free"
if("members"===this.visibility)return"status:free,status:-free"
if("paid"===this.visibility)return"status:-free"
if("tiers"===this.visibility&&this.tiers){return this.tiers.map((e=>`product:${e.slug}`)).join(",")}return this.visibility})),pastScheduledTime:Ember.computed("isScheduled","publishedAtUTC","clock.second",(function(){if(this.isScheduled){let e=r.default.utc(),t=(this.publishedAtUTC||e).diff(e,"hours",!0)<0
return this.get("clock.second"),t}return!1})),publishedAtBlogTZ:Ember.computed("publishedAtBlogDate","publishedAtBlogTime","settings.timezone",{get(){return this._getPublishedAtBlogTZ()},set(e,t){let n=t?(0,r.default)(t):null
return this._setPublishedAtBlogStrings(n),this._getPublishedAtBlogTZ()}}),_getPublishedAtBlogTZ(){let e=this.publishedAtUTC,t=this.publishedAtBlogDate,n=this.publishedAtBlogTime,i=this.get("settings.timezone")
if(!e&&Ember.isBlank(t)&&Ember.isBlank(n))return null
if(t&&n){let a=r.default.tz(`${t} ${n}`,i)
return e&&0===a.diff(e.clone().startOf("minutes"))?e:a}return r.default.tz(this.publishedAtUTC,i)},_setPublishedAtBlogTZ:Ember.on("init",Ember.observer("publishedAtUTC","settings.timezone",(function(){let e=this.publishedAtUTC
this._setPublishedAtBlogStrings(e)}))),_setPublishedAtBlogStrings(e){if(e){let t=this.get("settings.timezone"),n=r.default.tz(e,t)
this.set("publishedAtBlogDate",n.format("YYYY-MM-DD")),this.set("publishedAtBlogTime",n.format("HH:mm"))}else this.set("publishedAtBlogDate",""),this.set("publishedAtBlogTime","")},updateTags(){let e=this.tags,t=e.filterBy("id",null)
e.removeObjects(t),t.invoke("deleteRecord")},isAuthoredByUser(e){return this.authors.includes(e)},compare(e,t){let n,i,r,a,s=e.get("updatedAtUTC"),o=t.get("updatedAtUTC")
return e.get("isNew")||!s?-1:t.get("isNew")||!o?1:(n=Ember.compare(e.get("id"),t.get("id")),r=function(e,t){let n=e.get("status"),i=t.get("status")
return n||i?!n&&i?-1:!i&&n?1:"scheduled"!==n||"draft"!==i&&"published"!==i?"scheduled"!==i||"draft"!==n&&"published"!==n?Ember.compare(n.valueOf(),i.valueOf()):1:-1:0}(e,t),a=Ember.compare(s.valueOf(),o.valueOf()),i=function(e,t){let n=e.get("publishedAtUTC"),i=t.get("publishedAtUTC")
return n||i?!n&&i?-1:!i&&n?1:Ember.compare(n.valueOf(),i.valueOf()):0}(e,t),0===r?0===i?0===a?-1*n:-1*a:-1*i:r)},beforeSave(){let e=this.publishedAtBlogTZ,t=e?e.utc():null
this.set("publishedAtUTC",t)}})
e.default=o})),define("ghost-admin/models/product-benefit-item",["exports","ghost-admin/mixins/validation-engine"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Object.extend(t.default,{name:"",isNew:!1,validationType:"productBenefitItem",isComplete:Ember.computed("name",(function(){let{name:e}=this
return!Ember.isBlank(e)})),isBlank:Ember.computed("name",(function(){let{name:e}=this
return Ember.isBlank(e)}))})
e.default=n})),define("ghost-admin/models/product",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend(n.default,{validationType:"product",name:(0,t.attr)("string"),description:(0,t.attr)("string"),active:(0,t.attr)("boolean"),slug:(0,t.attr)("string"),welcomePageURL:(0,t.attr)("string"),visibility:(0,t.attr)("string",{defaultValue:"none"}),type:(0,t.attr)("string",{defaultValue:"paid"}),monthlyPrice:(0,t.attr)("stripe-price"),yearlyPrice:(0,t.attr)("stripe-price"),benefits:(0,t.attr)("product-benefits")})
e.default=i})),define("ghost-admin/models/role",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({name:(0,t.attr)("string"),description:(0,t.attr)("string"),createdAtUTC:(0,t.attr)("moment-utc"),updatedAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedBy:(0,t.attr)("number"),lowerCaseName:Ember.computed("name",(function(){return(this.name||"").toLocaleLowerCase()}))})
e.default=n})),define("ghost-admin/models/setting",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend(n.default,{validationType:"setting",title:(0,t.attr)("string"),description:(0,t.attr)("string"),logo:(0,t.attr)("string"),coverImage:(0,t.attr)("string"),icon:(0,t.attr)("string"),accentColor:(0,t.attr)("string"),lang:(0,t.attr)("string"),timezone:(0,t.attr)("string",{defaultValue:"Etc/UTC"}),codeinjectionHead:(0,t.attr)("string"),codeinjectionFoot:(0,t.attr)("string"),facebook:(0,t.attr)("facebook-url-user"),twitter:(0,t.attr)("twitter-url-user"),labs:(0,t.attr)("string"),navigation:(0,t.attr)("navigation-settings"),secondaryNavigation:(0,t.attr)("navigation-settings",{isSecondary:!0}),isPrivate:(0,t.attr)("boolean"),publicHash:(0,t.attr)("string"),password:(0,t.attr)("string"),slack:(0,t.attr)("slack-settings"),amp:(0,t.attr)("boolean"),ampGtagId:(0,t.attr)("string"),firstpromoter:(0,t.attr)("boolean"),firstpromoterId:(0,t.attr)("string"),unsplash:(0,t.attr)("boolean"),metaTitle:(0,t.attr)("string"),metaDescription:(0,t.attr)("string"),twitterTitle:(0,t.attr)("string"),twitterDescription:(0,t.attr)("string"),twitterImage:(0,t.attr)("string"),ogTitle:(0,t.attr)("string"),ogDescription:(0,t.attr)("string"),ogImage:(0,t.attr)("string"),mailgunApiKey:(0,t.attr)("string"),mailgunDomain:(0,t.attr)("string"),mailgunBaseUrl:(0,t.attr)("string"),emailTrackOpens:(0,t.attr)("boolean"),portalButton:(0,t.attr)("boolean"),portalName:(0,t.attr)("boolean"),portalPlans:(0,t.attr)("json-string"),portalProducts:(0,t.attr)("json-string"),portalButtonStyle:(0,t.attr)("string"),portalButtonIcon:(0,t.attr)("string"),portalButtonSignupText:(0,t.attr)("string"),sharedViews:(0,t.attr)("string"),membersSignupAccess:(0,t.attr)("string"),defaultContentVisibility:(0,t.attr)("string"),defaultContentVisibilityTiers:(0,t.attr)("json-string"),membersFromAddress:(0,t.attr)("string"),membersSupportAddress:(0,t.attr)("string"),membersReplyAddress:(0,t.attr)("string"),membersPaidSignupRedirect:(0,t.attr)("string"),membersFreeSignupRedirect:(0,t.attr)("string"),membersFreePriceName:(0,t.attr)("string"),membersFreePriceDescription:(0,t.attr)("string"),membersMonthlyPriceId:(0,t.attr)("string"),membersYearlyPriceId:(0,t.attr)("string"),stripeProductName:(0,t.attr)("string"),stripeSecretKey:(0,t.attr)("string"),stripePublishableKey:(0,t.attr)("string"),stripePlans:(0,t.attr)("json-string"),stripeConnectIntegrationToken:(0,t.attr)("string"),stripeConnectPublishableKey:(0,t.attr)("string"),stripeConnectSecretKey:(0,t.attr)("string"),stripeConnectLivemode:(0,t.attr)("boolean"),stripeConnectDisplayName:(0,t.attr)("string"),stripeConnectAccountId:(0,t.attr)("string"),newsletterHeaderImage:(0,t.attr)("string"),newsletterShowHeaderIcon:(0,t.attr)("boolean"),newsletterShowHeaderTitle:(0,t.attr)("boolean"),newsletterTitleFontCategory:(0,t.attr)("string"),newsletterTitleAlignment:(0,t.attr)("string"),newsletterShowFeatureImage:(0,t.attr)("boolean"),newsletterBodyFontCategory:(0,t.attr)("string"),newsletterFooterContent:(0,t.attr)("string"),newsletterShowBadge:(0,t.attr)("boolean"),oauthClientId:(0,t.attr)("string"),oauthClientSecret:(0,t.attr)("string"),editorIsLaunchComplete:(0,t.attr)("boolean"),editorDefaultEmailRecipients:(0,t.attr)("string"),editorDefaultEmailRecipientsFilter:(0,t.attr)("members-segment-string"),emailVerificationRequired:(0,t.attr)("boolean"),mailgunIsConfigured:Ember.computed.and("mailgunApiKey","mailgunDomain","mailgunBaseUrl")})
e.default=i})),define("ghost-admin/models/slack-integration",["exports","ghost-admin/mixins/validation-engine"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Object.extend(t.default,{url:"",username:"",validationType:"slackIntegration",isActive:Ember.computed("url",(function(){let e=this.url
return!Ember.isBlank(e)}))})
e.default=n})),define("ghost-admin/models/snippet",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend(n.default,{validationType:"snippet",name:(0,t.attr)("string"),mobiledoc:(0,t.attr)("json-string"),createdAtUTC:(0,t.attr)("moment-utc"),updatedAtUTC:(0,t.attr)("moment-utc")})
e.default=i})),define("ghost-admin/models/stripe-price",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Object.extend({id:"ID in Ghost",stripe_price_id:"ID of the Stripe Price",stripe_product_id:"ID of the Stripe Product the Stripe Price is associated with",nickname:'price nickname e.g. "Monthly"',description:'price description e.g. "Full access"',amount:"amount in smallest denomination e.g. cents, so value for 5 dollars would be 500",currency:"e.g. usd",type:"either one_time or recurring",interval:'will be `null` if type is one_time, otherwise how often price charges e.g "month", "year"'})
e.default=t})),define("ghost-admin/models/tag",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend(n.default,{validationType:"tag",name:(0,t.attr)("string"),slug:(0,t.attr)("string"),description:(0,t.attr)("string"),parent:(0,t.attr)("string"),metaTitle:(0,t.attr)("string"),metaDescription:(0,t.attr)("string"),twitterImage:(0,t.attr)("string"),twitterTitle:(0,t.attr)("string"),twitterDescription:(0,t.attr)("string"),ogImage:(0,t.attr)("string"),ogTitle:(0,t.attr)("string"),ogDescription:(0,t.attr)("string"),codeinjectionHead:(0,t.attr)("string"),codeinjectionFoot:(0,t.attr)("string"),canonicalUrl:(0,t.attr)("string"),accentColor:(0,t.attr)("string"),featureImage:(0,t.attr)("string"),visibility:(0,t.attr)("string",{defaultValue:"public"}),createdAtUTC:(0,t.attr)("moment-utc"),updatedAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedBy:(0,t.attr)("number"),count:(0,t.attr)("raw"),isInternal:Ember.computed.equal("visibility","internal"),isPublic:Ember.computed.equal("visibility","public"),feature:Ember.inject.service(),updateVisibility(){this.set("visibility",/^#.?/.test(this.name)?"internal":"public")},save(){return this.get("changedAttributes.name")&&!this.isDeleted&&this.updateVisibility(),this._super(...arguments)}})
e.default=i})),define("ghost-admin/models/theme",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({active:(0,t.attr)("boolean"),errors:(0,t.attr)("raw"),name:(0,t.attr)("string"),package:(0,t.attr)("raw"),templates:(0,t.attr)("raw",{defaultValue:()=>[]}),warnings:(0,t.attr)("raw"),customTemplates:Ember.computed("templates.[]",(function(){return(this.templates||[]).filter((function(e){return Ember.isBlank(e.slug)}))})),slugTemplates:Ember.computed("templates.[]",(function(){return(this.templates||[]).filter((function(e){return!Ember.isBlank(e.slug)}))})),activate(){return this.store.adapterFor(this.constructor.modelName).activate(this).then((()=>(this.store.peekAll("theme").filterBy("active",!0).forEach((e=>{e!==this&&this.store.push({data:{id:e.id,type:"theme",attributes:{active:!1}}})})),this)))}})
e.default=n})),define("ghost-admin/models/user",["exports","ghost-admin/models/base","ghost-admin/mixins/validation-engine","@ember-data/model","ember-concurrency"],(function(e,t,n,i,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var a=t.default.extend(n.default,{validationType:"user",name:(0,i.attr)("string"),slug:(0,i.attr)("string"),email:(0,i.attr)("string"),profileImage:(0,i.attr)("string"),coverImage:(0,i.attr)("string"),bio:(0,i.attr)("string"),website:(0,i.attr)("string"),location:(0,i.attr)("string"),accessibility:(0,i.attr)("string"),status:(0,i.attr)("string"),metaTitle:(0,i.attr)("string"),metaDescription:(0,i.attr)("string"),lastLoginUTC:(0,i.attr)("moment-utc"),createdAtUTC:(0,i.attr)("moment-utc"),createdBy:(0,i.attr)("number"),updatedAtUTC:(0,i.attr)("moment-utc"),updatedBy:(0,i.attr)("number"),roles:(0,i.hasMany)("role",{embedded:"always",async:!1}),count:(0,i.attr)("raw"),facebook:(0,i.attr)("facebook-url-user"),twitter:(0,i.attr)("twitter-url-user"),tour:(0,i.attr)("json-string"),ghostPaths:Ember.inject.service(),ajax:Ember.inject.service(),session:Ember.inject.service(),notifications:Ember.inject.service(),config:Ember.inject.service(),isContributor:Ember.computed.equal("role.name","Contributor"),isAuthor:Ember.computed.equal("role.name","Author"),isEditor:Ember.computed.equal("role.name","Editor"),isAdminOnly:Ember.computed.equal("role.name","Administrator"),isOwnerOnly:Ember.computed.equal("role.name","Owner"),isAdmin:Ember.computed.or("isOwnerOnly","isAdminOnly"),isAuthorOrContributor:Ember.computed.or("isAuthor","isContributor"),isLoggedIn:Ember.computed("id","session.user.id",(function(){return this.id===this.get("session.user.id")})),isActive:Ember.computed("status",(function(){return["active","warn-1","warn-2","warn-3","warn-4","locked"].indexOf(this.status)>-1})),isSuspended:Ember.computed.equal("status","inactive"),isLocked:Ember.computed.equal("status","locked"),role:Ember.computed("roles",{get(){return this.get("roles.firstObject")},set(e,t){return this.roles.clear(),this.roles.pushObject(t),t}}),profileImageUrl:Ember.computed("ghostPaths.assetRoot","profileImage",(function(){let e=this.ghostPaths.assetRoot.replace(/\/$/,"")+"/img/user-image-639a88b784fb5f10964be8b975ca9fdf.png"
return this.profileImage||e})),coverImageUrl:Ember.computed("ghostPaths.assetRoot","coverImage",(function(){let e=this.ghostPaths.assetRoot.replace(/\/$/,"")+"/img/user-cover-e8f42b12b5fcba292a8b5dfa81e13dd2.png"
return this.coverImage||e})),saveNewPassword:(0,r.task)((function*(){let e=this.isLoggedIn?"ownPasswordChange":"passwordChange"
try{yield this.validate({property:e})}catch(t){return}try{let e=this.get("ghostPaths.url").api("users","password")
return yield this.ajax.put(e,{data:{password:[{user_id:this.id,oldPassword:this.password,newPassword:this.newPassword,ne2Password:this.ne2Password}]}}),this.setProperties({password:"",newPassword:"",ne2Password:""}),this.notifications.showNotification("Password updated",{type:"success",key:"user.change-password.success"}),this.errors.remove("ne2Password"),!0}catch(n){this.notifications.showAPIError(n,{key:"user.change-password"})}})).drop()})
e.default=a})),define("ghost-admin/models/webhook",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend(n.default,{validationType:"webhook",name:(0,t.attr)("string"),event:(0,t.attr)("string"),targetUrl:(0,t.attr)("string"),secret:(0,t.attr)("string"),lastTriggeredAtUTC:(0,t.attr)("moment-utc"),createdAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedAtUTC:(0,t.attr)("moment-utc"),updatedBy:(0,t.attr)("number"),integration:(0,t.belongsTo)("integration")})
e.default=i})),define("ghost-admin/modifiers/autofocus",["exports","ember-modifier"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,t.modifier)((e=>e.focus()))
e.default=n})),define("ghost-admin/modifiers/css-transition",["exports","ember-css-transitions/modifiers/css-transition"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/modifiers/did-insert",["exports","@ember/render-modifiers/modifiers/did-insert"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/modifiers/did-update",["exports","@ember/render-modifiers/modifiers/did-update"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/modifiers/in-viewport",["exports","ember-in-viewport/modifiers/in-viewport"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/modifiers/movable",["exports","ember-modifier"],(function(e,t){var n,i,r,a,s,o,l
function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(n=Ember.inject.service,i=Ember._action,r=Ember._action,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="dropdown",i=this,(n=l)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),u(this,"moveThreshold",3),u(this,"active",!1),u(this,"currentX",void 0),u(this,"currentY",void 0),u(this,"initialX",void 0),u(this,"initialY",void 0),u(this,"xOffset",0),u(this,"yOffset",0)}didInstall(){this.addStartEventListeners(),this.args.named.adjustOnResize&&(this._resizeObserver=new ResizeObserver((()=>{if(void 0===this.currentX||void 0===this.currentY)return
const{x:e,y:t}=this.args.named.adjustOnResize(this.element,{x:this.currentX,y:this.currentY})
e===this.currentX&&t===this.currentY||(this.currentX=e,this.initialX=e,this.xOffset=e,this.currentY=t,this.initialY=t,this.yOffset=t,this.setTranslate(e,t))})),this._resizeObserver.observe(this.element))}willDestroy(){this.removeEventListeners(),this.removeResizeObserver(),this.enableSelection()}addStartEventListeners(){this.element.addEventListener("touchstart",this.dragStart,!1),this.element.addEventListener("mousedown",this.dragStart,!1)}removeStartEventListeners(){this.element.removeEventListener("touchstart",this.dragStart,!1),this.element.removeEventListener("mousedown",this.dragStart,!1)}addActiveEventListeners(){window.addEventListener("touchend",this.dragEnd,{capture:!0,passive:!1}),window.addEventListener("touchmove",this.drag,{capture:!0,passive:!1}),window.addEventListener("mouseup",this.dragEnd,{capture:!0,passive:!1}),window.addEventListener("mousemove",this.drag,{capture:!0,passive:!1})}removeActiveEventListeners(){window.removeEventListener("touchend",this.dragEnd,{capture:!0,passive:!1}),window.removeEventListener("touchmove",this.drag,{capture:!0,passive:!1}),window.removeEventListener("mouseup",this.dragEnd,{capture:!0,passive:!1}),window.removeEventListener("mousemove",this.drag,{capture:!0,passive:!1}),setTimeout((()=>{window.removeEventListener("click",this.cancelClick,{capture:!0,passive:!1})}),1)}removeEventListeners(){this.removeStartEventListeners(),this.removeActiveEventListeners()}removeResizeObserver(){this._resizeObserver?.disconnect()}dragStart(e){if("touchstart"===e.type||0===e.button){"touchstart"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset)
for(const t of e.path||e.composedPath()){if(t.matches("input, .ember-basic-dropdown-trigger"))break
if(t===this.element){this.addActiveEventListeners()
break}}}}drag(e){let t,n
e.preventDefault(),"touchmove"===e.type?(t=e.touches[0].clientX,n=e.touches[0].clientY):(t=e.clientX,n=e.clientY),this.active||(Math.abs(Math.abs(this.initialX-t)-Math.abs(this.xOffset))>this.moveThreshold||Math.abs(Math.abs(this.initialY-n)-Math.abs(this.yOffset))>this.moveThreshold)&&(this.dropdown.closeDropdowns(),this.disableScroll(),this.disableSelection(),this.disablePointerEvents(),this.active=!0),this.active&&(this.currentX=t-this.initialX,this.currentY=n-this.initialY,this.xOffset=this.currentX,this.yOffset=this.currentY,this.setTranslate(this.currentX,this.currentY))}dragEnd(e){e.preventDefault(),e.stopPropagation(),this.active=!1,this.initialX=this.currentX,this.initialY=this.currentY,this.removeActiveEventListeners(),this.enableScroll(),this.enableSelection(),setTimeout((()=>{this.enablePointerEvents()}),5)}cancelClick(e){e.preventDefault(),e.stopPropagation()}setTranslate(e,t){this.element.style.transform=`translate3d(${e}px, ${t}px, 0)`}disableScroll(){this.originalOverflow=this.element.style.overflow,this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=this.originalOverflow}disableSelection(){window.getSelection().removeAllRanges()
const e=document.createElement("style")
e.id=`stylesheet-${Ember.guidFor(this)}`,document.head.appendChild(e),e.sheet.insertRule("* { user-select: none !important; }",0)}enableSelection(){document.getElementById(`stylesheet-${Ember.guidFor(this)}`)?.remove()}disablePointerEvents(){this.element.style.pointerEvents="none",window.addEventListener("click",this.cancelClick,{capture:!0,passive:!1})}enablePointerEvents(){this.element.style.pointerEvents="",window.removeEventListener("click",this.cancelClick,{capture:!0,passive:!1})}},l=d(o.prototype,"dropdown",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(o.prototype,"dragStart",[i],Object.getOwnPropertyDescriptor(o.prototype,"dragStart"),o.prototype),d(o.prototype,"drag",[r],Object.getOwnPropertyDescriptor(o.prototype,"drag"),o.prototype),d(o.prototype,"dragEnd",[a],Object.getOwnPropertyDescriptor(o.prototype,"dragEnd"),o.prototype),d(o.prototype,"cancelClick",[s],Object.getOwnPropertyDescriptor(o.prototype,"cancelClick"),o.prototype),o)
e.default=c})),define("ghost-admin/modifiers/on-key",["exports","ember-keyboard/modifiers/on-key"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/modifiers/on-resize",["exports","ember-modifier"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="resizeDetector",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}didInstall(){this.resizeDetector.setup(this.element,this.args.positional[0])}willDestroy(){this.resizeDetector.teardown(this.element,this.args.positional[0])}},s=i.prototype,o="resizeDetector",l=[n],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),r=c,i)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/modifiers/ratio-zoom",["exports","ember-modifier"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"resizeHandler",null)}didReceiveArguments(){const{zoomed:e}=this.args.named
e&&this.setZoomedSize()}willDestroy(){this.removeResizeEventListener()}setZoomedSize(){const{ratio:e}=this.args.named
this.element.style.width="100%",this.element.style.height="100%"
const t=this.element.getBoundingClientRect()
let n={width:t.height/e,height:t.height},i={width:t.width,height:t.width*e},r=null
r=e<=1?i.height>t.height?n:i:n.width>t.width?i:n,this.element.style.width=`${r.width}px`,this.element.style.height=`${r.height}px`,this.addResizeEventListener()}handleResize(){Ember.run.throttle(this,this.setZoomedSize,100)}addResizeEventListener(){this.resizeHandler||(this.resizeHandler=Ember.run.bind(this,this.handleResize),window.addEventListener("resize",this.resizeHandler))}removeResizeEventListener(){this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null)}}e.default=n})),define("ghost-admin/modifiers/scroll-into-view",["exports","ghost-admin/utils/get-scroll-parent","ember-modifier"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,n.modifier)(((e,n,i)=>{let[r=!0]=n,{offset:a=0,useViewport:s=!0}=i
if(r){const n=(0,t.default)(e)
if(s){const t=e.getBoundingClientRect(),i=n.getBoundingClientRect()
t.top
if(t.bottom>i.bottom){let e=Math.abs(i.bottom-t.bottom)
if(t.top-e<a){e-=Math.abs(t.top-e-2*a)}const r=n.scrollTop+e+a
n.scrollTo({top:r,behavior:"smooth"})}}if(!s){const t=e.offsetTop<n.scrollTop,i=n.scrollTop+n.offsetHeight<e.offsetTop+e.offsetHeight
if(t){const t=e.offsetTop-a
n.scrollTo({top:t,behavior:"smooth"})}if(i){const t=e.offsetTop-n.offsetHeight+e.offsetHeight+a
n.scrollTo({top:t,behavior:"smooth"})}}}}))
e.default=i})),define("ghost-admin/modifiers/scroll-to",["exports","ghost-admin/utils/get-scroll-parent","ember-modifier"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,n.modifier)(((e,n,i)=>{let{shouldScroll:r=!0}=i
r&&setTimeout((()=>{const n=(0,t.default)(e),i=e.offsetTop
n.scrollTo({top:i,behavior:"smooth"})}),200)}))
e.default=i})),define("ghost-admin/modifiers/scroll-top",["exports","ghost-admin/utils/get-scroll-parent","ember-modifier"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,n.modifier)((e=>{(0,t.default)(e).scrollTop=0}))
e.default=i})),define("ghost-admin/modifiers/style",["exports","ember-style-modifier/modifiers/style"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/modifiers/will-destroy",["exports","@ember/render-modifiers/modifiers/will-destroy"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/router",["exports","ghost-admin/config/environment","ghost-admin/utils/ghost-paths"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.Router.extend({location:t.default.locationType,rootURL:(0,n.default)().adminRoot})
i.map((function(){this.route("home",{path:"/"}),this.route("setup"),this.route("setup.done",{path:"/setup/done"}),this.route("signin"),this.route("signout"),this.route("signup",{path:"/signup/:token"}),this.route("reset",{path:"/reset/:token"}),this.route("whatsnew"),this.route("site"),this.route("dashboard"),this.route("launch"),this.route("pro",(function(){this.route("pro-sub",{path:"/*sub"})})),this.route("posts"),this.route("pages"),this.route("editor",(function(){this.route("new",{path:":type"}),this.route("edit",{path:":type/:post_id"})})),this.route("tags"),this.route("tag.new",{path:"/tags/new"}),this.route("tag",{path:"/tags/:tag_slug"}),this.route("settings"),this.route("settings.general",{path:"/settings/general"}),this.route("settings.membership",{path:"/settings/members"}),this.route("settings.members-email",{path:"/settings/members-email"}),this.route("settings.code-injection",{path:"/settings/code-injection"}),this.route("settings.design",{path:"/settings/design"},(function(){this.route("change-theme",(function(){this.route("view",{path:":theme_name"}),this.route("install")}))})),this.route("settings.theme-install",{path:"/settings/theme/install"}),this.route("settings.staff",{path:"/settings/staff"},(function(){this.route("user",{path:":user_slug"})})),this.route("settings.integrations",{path:"/settings/integrations"},(function(){this.route("new")})),this.route("settings.integration",{path:"/settings/integrations/:integration_id"},(function(){this.route("webhooks.new",{path:"webhooks/new"}),this.route("webhooks.edit",{path:"webhooks/:webhook_id"})})),this.route("settings.integrations.slack",{path:"/settings/integrations/slack"}),this.route("settings.integrations.amp",{path:"/settings/integrations/amp"})
this.route("settings.integrations.firstpromoter",{path:"/settings/integrations/firstpromoter"}),this.route("settings.integrations.unsplash",{path:"/settings/integrations/unsplash"}),this.route("settings.integrations.zapier",{path:"/settings/integrations/zapier"}),this.route("settings.navigation",{path:"/settings/navigation"}),this.route("settings.labs",{path:"/settings/labs"}),this.route("members",(function(){this.route("import")})),this.route("member.new",{path:"/members/new"}),this.route("member",{path:"/members/:member_id"}),this.route("members-activity"),this.route("offers"),this.route("offer.new",{path:"/offers/new"}),this.route("offer",{path:"/offers/:offer_id"}),this.route("error404",{path:"/*path"}),this.route("designsandbox")}))
var r=i
e.default=r}))
define("ghost-admin/routes/admin",["exports","ghost-admin/routes/authenticated"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="session",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}beforeModel(){if(super.beforeModel(...arguments),!this.session.user.isAdmin)return this.transitionTo("home")}},s=i.prototype,o="session",l=[n],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),r=c,i)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/routes/application",["exports","ember-simple-auth/configuration","ghost-admin/mixins/shortcuts-route","ghost-admin/utils/ctrl-or-cmd","ghost-admin/utils/window-proxy","@sentry/ember","ember-ajax/errors","ghost-admin/services/ajax"],(function(e,t,n,i,r,a,s,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l={esc:{action:"closeMenus",scope:"default"}}
l[`${i.default}+s`]={action:"save",scope:"all"}
var u=Ember.Route.extend(n.default,{ajax:Ember.inject.service(),config:Ember.inject.service(),feature:Ember.inject.service(),ghostPaths:Ember.inject.service(),notifications:Ember.inject.service(),router:Ember.inject.service(),session:Ember.inject.service(),settings:Ember.inject.service(),ui:Ember.inject.service(),whatsNew:Ember.inject.service(),billing:Ember.inject.service(),shortcuts:l,routeAfterAuthentication:"home",init(){this._super(...arguments),this.router.on("routeDidChange",(()=>{this.notifications.displayDelayed()})),this.ui.initBodyDragHandlers()},async beforeModel(){return await this.session.setup(),this.prepareApp()},async afterModel(e,t){this._super(...arguments),this.get("session.isAuthenticated")&&(this.session.appLoadTransition=t),this._appLoaded=!0},actions:{closeMenus(){this.ui.closeMenus()},didTransition(){this.session.appLoadTransition=null,this.send("closeMenus")},authorizationFailed(){r.default.replaceLocation(t.default.rootURL)},save:function(){return this},error(e,t){if((0,s.isUnauthorizedError)(e))return!1
if((0,s.isNotFoundError)(e)){t&&t.abort()
let e=t.to,n=this.router,i=[]
for(let t of Object.keys(e.params))i.push(e.params[t])
let r=n.urlFor(e.name,...i).replace(/^#\//,"").replace(/^\//,"").replace(/^ghost\//,"")
return this.replaceWith("error404",r)}return(!(0,o.isVersionMismatchError)(e)||(t&&t.abort(),this.upgradeStatus.requireUpgrade(),!this._appLoaded))&&((!(0,o.isMaintenanceError)(e)||(t&&t.abort(),this.upgradeStatus.maintenanceAlert(),!this._appLoaded))&&!(((0,s.isAjaxError)(e)||e&&e.payload&&Ember.isArray(e.payload.errors))&&(this.notifications.showAPIError(e),!t)))}},willDestroy(){this.ui.cleanupBodyDragHandlers()},async prepareApp(){if(await this.config.fetchUnauthenticated(),this.config.get("sentry_dsn")&&(0,a.InitSentryForEmber)({dsn:this.config.get("sentry_dsn"),environment:this.config.get("sentry_env"),release:`ghost@${this.config.get("version")}`,beforeSend:e=>(e.tags=e.tags||{},e.tags.shown_to_user=e.tags.shown_to_user||!1,e.tags.grammarly=!!document.querySelector("[data-gr-ext-installed]"),e)}),this.session.isAuthenticated){try{await this.session.populateUser()}catch(e){await this.session.invalidate()}await this.session.postAuthPreparation()}this.config.get("hostSettings.forceUpgrade")&&this.billing.openBillingWindow(this.router.currentURL,"/pro")}})
e.default=u})),define("ghost-admin/routes/authenticated",["exports"],(function(e){var t,n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,n=class extends Ember.Route{constructor(){var e,t,n,r
super(...arguments),e=this,t="session",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}beforeModel(e){this.session.requireAuthentication(e,"signin")}},a=n.prototype,s="session",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(l).forEach((function(e){d[e]=l[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,s,d),d=null),i=d,n)
var a,s,o,l,u,d
e.default=r})),define("ghost-admin/routes/dashboard",["exports","ghost-admin/routes/authenticated"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{beforeModel(){return super.beforeModel(...arguments),this.session.user.isContributor?this.transitionTo("posts"):this.session.user.isAdmin?void 0:this.transitionTo("site")}buildRouteInfoMetadata(){return{mainClasses:["gh-main-wide"]}}setupController(){this.controller.initialise()}}e.default=n})),define("ghost-admin/routes/designsandbox",["exports"],(function(e){var t,n,i
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,n=class extends Ember.Route{constructor(){var e,t,n,r
super(...arguments),e=this,t="config",r=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}beforeModel(){if(super.beforeModel(...arguments),!this.config.get("enableDeveloperExperiments"))return this.transitionTo("home")}},a=n.prototype,s="config",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(l).forEach((function(e){d[e]=l[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),d),u&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(u):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,s,d),d=null),i=d,n)
var a,s,o,l,u,d
e.default=r})),define("ghost-admin/routes/editor",["exports","jquery","ghost-admin/routes/authenticated"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=n.default.extend({feature:Ember.inject.service(),notifications:Ember.inject.service(),ui:Ember.inject.service(),classNames:["editor"],activate(){this._super(...arguments),this.ui.set("isFullScreen",!0)},deactivate(){this._super(...arguments),this.ui.set("isFullScreen",!1)},actions:{save(){this._blurAndScheduleAction((function(){this.controller.send("save")}))},authorizationFailed(){this.controller.send("toggleReAuthenticateModal")},willTransition(e){if(this.get("upgradeStatus.isRequired"))return this._super(...arguments)
this.controller.willTransition(e)}},buildRouteInfoMetadata(){return{titleToken:()=>this.get("controller.post.title")||"Editor",bodyClasses:["gh-body-fullscreen"],mainClasses:["gh-main-white"]}},_blurAndScheduleAction(e){let n=(0,t.default)(document.activeElement)
n.is('input[type="text"]')&&n.trigger("focusout"),Ember.run.scheduleOnce("actions",this,e)}})
e.default=i})),define("ghost-admin/routes/editor/edit",["exports","ghost-admin/routes/authenticated","ember-inflector"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{beforeModel(e){if(super.beforeModel(...arguments),"replace"!==e.urlMethod){let e=this.controllerFor("editor")
e.set("post",null),e.reset()}}model(e,t){let{type:n,post_id:i}=e
if(!["post","page"].includes(n)){let e=t.intent.url.replace(/^\//,"")
return this.replaceWith("error404",{path:e,status:404})}let r={id:i}
return this.store.query(n,r).then((e=>e.get("firstObject")))}afterModel(e){super.afterModel(...arguments)
const t=this.session.user,i=(0,n.pluralize)(e.constructor.modelName)
return t.isAuthorOrContributor&&!e.isAuthoredByUser(t)||t.isContributor&&!e.isDraft?this.replaceWith(i):void 0}serialize(e){return{type:e.constructor.modelName,post_id:e.id}}setupController(e,t){this.controllerFor("editor").setPost(t)}}e.default=i})),define("ghost-admin/routes/editor/index",["exports","ghost-admin/routes/authenticated"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{beforeModel(){super.beforeModel(...arguments),this.replaceWith("editor.new","post")}}e.default=n})),define("ghost-admin/routes/editor/new",["exports","ghost-admin/routes/authenticated"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{model(e,t){let{type:n}=e
if(!["post","page"].includes(n)){let e=t.intent.url.replace(/^\//,"")
return this.replaceWith("error404",{path:e,status:404})}return this.store.createRecord(n,{authors:[this.session.user]})}setupController(e,t){this.controllerFor("editor").setPost(t)}buildRouteInfoMetadata(){return{mainClasses:["editor-new"]}}}e.default=n})),define("ghost-admin/routes/error404",["exports"],(function(e){function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends Ember.Route{constructor(){super(...arguments),t(this,"controllerName","error"),t(this,"templateName","error")}model(){return{status:404}}buildRouteInfoMetadata(){return{titleToken:"Error",mainClasses:["gh-main-white"]}}}e.default=n})),define("ghost-admin/routes/home",["exports"],(function(e){var t,n,i,r,a
function s(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=(t=Ember.inject.service,n=Ember.inject.service,i=class extends Ember.Route{constructor(){super(...arguments),s(this,"feature",r,this),s(this,"modals",a,this)}beforeModel(e){if(super.beforeModel(...arguments),this.feature.improvedOnboarding&&"true"===e.to?.queryParams?.firstStart)return this.transitionTo("setup.done")
this.transitionTo("dashboard")}resetController(e){e.firstStart=!1}},r=o(i.prototype,"feature",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=o(i.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i)
e.default=l})),define("ghost-admin/routes/launch",["exports","ghost-admin/routes/authenticated"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="session",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}beforeModel(){if(super.beforeModel(...arguments),!this.session.user.isOwnerOnly)return this.transitionTo("home")}},s=i.prototype,o="session",l=[n],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),r=c,i)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/routes/member",["exports","ghost-admin/routes/admin"],(function(e,t){var n,i,r,a,s,o
function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(n=Ember.inject.service,i=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(){super(...arguments),l(this,"feature",s,this),l(this,"router",o,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_requiresBackgroundRefresh",!0),this.router.on("routeWillChange",(e=>{this.showUnsavedChangesModal(e)}))}model(e){return this._requiresBackgroundRefresh=!1,e.member_id?this.feature.membersActivityFeed?this.store.queryRecord("member",{id:e.member_id,include:"products"}):this.store.queryRecord("member",{id:e.member_id,include:"email_recipients,products"}):this.store.createRecord("member")}setupController(e,t){super.setupController(...arguments),this._requiresBackgroundRefresh&&e.fetchMemberTask.perform(t.get("id"))}deactivate(){super.deactivate(...arguments),this.controller.member.rollbackAttributes(),this._requiresBackgroundRefresh=!0}save(){this.controller.save()}titleToken(){return this.controller.member.name}showUnsavedChangesModal(e){if(e.from&&e.from.name===this.routeName&&e.targetName){let{controller:t}=this,n=Object.keys(t.member.changedAttributes()).length>0
if(!t.member.isDeleted&&n)return e.abort(),void t.toggleUnsavedChangesModal(e)}}},s=u(a.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"save",[r],Object.getOwnPropertyDescriptor(a.prototype,"save"),a.prototype),a)
e.default=d})),define("ghost-admin/routes/member/new",["exports","ghost-admin/routes/member"],(function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{constructor(){super(...arguments),n(this,"controllerName","member"),n(this,"templateName","member")}}e.default=i})),define("ghost-admin/routes/members-activity",["exports","ghost-admin/routes/admin"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="feature",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}beforeModel(){if(super.beforeModel(...arguments),!this.feature.membersActivityFeed)return this.transitionTo("home")}},s=i.prototype,o="feature",l=[n],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),r=c,i)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/routes/members",["exports","ghost-admin/routes/admin"],(function(e,t){var n,i,r,a,s
function o(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function l(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(n=Ember.inject.service,i=Ember.inject.service,r=class extends t.default{constructor(){super(...arguments),o(this,"store",a,this),o(this,"feature",s,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"queryParams",{label:{refreshModel:!0},searchParam:{refreshModel:!0,replace:!0},paidParam:{refreshModel:!0},orderParam:{refreshModel:!0},filterParam:{refreshModel:!0}})}beforeModel(){super.beforeModel(...arguments)}model(e){return this.controllerFor("members").resetFilters(e),this.controllerFor("members").fetchMembersTask.perform(e)}setupController(e){super.setupController(...arguments),e.fetchLabelsTask.perform()}buildRouteInfoMetadata(){return{titleToken:"Members",mainClasses:["gh-main-fullwidth"]}}},a=l(r.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/routes/members/import",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{}e.default=n})),define("ghost-admin/routes/offer",["exports","ghost-admin/routes/admin"],(function(e,t){var n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(n=Ember.inject.service,i=Ember._action,r=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="router",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_requiresBackgroundRefresh",!0),this.router.on("routeWillChange",(e=>{this.showUnsavedChangesModal(e)}))}model(e){return this._requiresBackgroundRefresh=!1,e.offer_id?this.store.queryRecord("offer",{id:e.offer_id}):this.store.createRecord("offer")}setupController(e,t){super.setupController(...arguments),this._requiresBackgroundRefresh&&e.fetchOfferTask.perform(t.get("id"))}deactivate(){super.deactivate(...arguments),this.controller.offer.rollbackAttributes(),this._requiresBackgroundRefresh=!0}save(){this.controller.save()}titleToken(){return this.controller.offer.name}showUnsavedChangesModal(e){if(e.from&&e.from.name===this.routeName&&e.targetName){let{controller:t}=this,n=Object.keys(t.offer.changedAttributes()).length>0
if(!t.offer.isDeleted&&n)return e.abort(),void t.toggleUnsavedChangesModal(e)}}},a=s(r.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"save",[i],Object.getOwnPropertyDescriptor(r.prototype,"save"),r.prototype),r)
e.default=o})),define("ghost-admin/routes/offer/new",["exports","ghost-admin/routes/offer"],(function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{constructor(){super(...arguments),n(this,"controllerName","offer"),n(this,"templateName","offer")}}e.default=i})),define("ghost-admin/routes/offers",["exports","ghost-admin/routes/admin"],(function(e,t){var n,i,r,a,s
function o(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function l(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(n=Ember.inject.service,i=Ember.inject.service,r=class extends t.default{constructor(){super(...arguments),o(this,"store",a,this),o(this,"feature",s,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"queryParams",{type:{refreshModel:!0}})}beforeModel(){super.beforeModel(...arguments)}model(e){return this.controllerFor("offers").fetchOffersTask.perform(e)}setupController(){super.setupController(...arguments)}buildRouteInfoMetadata(){return{titleToken:"Offers"}}},a=l(r.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/routes/pages",["exports","ghost-admin/routes/posts"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"modelName","page")}buildRouteInfoMetadata(){return{titleToken:"Pages"}}}e.default=n})),define("ghost-admin/routes/posts",["exports","ghost-admin/routes/authenticated"],(function(e,t){var n,i,r,a,s,o
function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(n=Ember.inject.service,i=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(){super(...arguments),l(this,"infinity",s,this),l(this,"router",o,this),u(this,"queryParams",{type:{refreshModel:!0},visibility:{refreshModel:!0},access:{refreshModel:!0},author:{refreshModel:!0},tag:{refreshModel:!0},order:{refreshModel:!0}}),u(this,"modelName","post"),u(this,"perPage",30),this.router.on("routeWillChange",(e=>{if(e.to&&("posts"===this.routeName||"pages"===this.routeName)){let t=e.to.find((e=>e.name===this.routeName))
e.from&&e.from.name===this.routeName&&t&&e.method("replace")}}))}model(e){const t=this.session.user
let n={},i={tag:e.tag,visibility:e.visibility}
Ember.assign(i,this._getTypeFilters(e.type)),"featured"===e.type&&(i.featured=!0),t.isAuthor||t.isContributor?i.authors=t.slug:e.author&&(i.authors=e.author)
let r=this._filterString(i)
Ember.isBlank(r)||(n.filter=r),Ember.isBlank(e.order)||(n.order=e.order)
let a=this.perPage,s=Ember.assign({perPage:a,startingPage:1},{perPageParam:"limit",totalPagesParam:"meta.pagination.pages"},n)
return this.infinity.model(this.modelName,s)}setupController(e){super.setupController(...arguments),e._hasLoadedTags||this.store.query("tag",{limit:"all"}).then((()=>{e._hasLoadedTags=!0})),this.session.user.isAuthorOrContributor||e._hasLoadedAuthors||this.store.query("user",{limit:"all"}).then((()=>{e._hasLoadedAuthors=!0})),e._hasLoadedSnippets||this.store.query("snippet",{limit:"all"}).then((()=>{e._hasLoadedSnippets=!0}))}queryParamsDidChange(){let e=document.querySelector(".content-list")
e&&(e.scrollTop=0),super.actions.queryParamsDidChange.call(this,...arguments)}buildRouteInfoMetadata(){return{titleToken:"Posts"}}_getTypeFilters(e){let t="[draft,scheduled,published,sent]"
switch(e){case"draft":t="draft"
break
case"published":t="published"
break
case"scheduled":t="scheduled"
break
case"sent":t="sent"}return{status:t}}_filterString(e){return Object.keys(e).map((t=>{let n=e[t]
if(!Ember.isBlank(n))return`${t}:${e[t]}`})).compact().join("+")}},s=d(a.prototype,"infinity",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(a.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(a.prototype,"queryParamsDidChange",[r],Object.getOwnPropertyDescriptor(a.prototype,"queryParamsDidChange"),a.prototype),a)
e.default=c})),define("ghost-admin/routes/pro",["exports","ghost-admin/routes/authenticated"],(function(e,t){var n,i,r,a,s,o,l,u
function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=class extends t.default{constructor(){super(...arguments),d(this,"billing",o,this),d(this,"session",l,this),d(this,"config",u,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"queryParams",{action:{refreshModel:!0}})}beforeModel(e){if(super.beforeModel(...arguments),!this.session.user.isOwnerOnly&&!this.config.get("hostSettings.forceUpgrade"))return this.transitionTo("home")
this.billing.set("previousTransition",e)}model(e){e.action&&this.billing.set("action",e.action),this.billing.toggleProWindow(!0)}willTransition(e){let t=!1
if(e){("string"==typeof e.to?e.to:e.intent?e.intent.url:"")?.includes("/pro")&&(t=!0)}this.billing.toggleProWindow(t)}buildRouteInfoMetadata(){return{titleToken:"Ghost(Pro)"}}},o=c(s.prototype,"billing",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c(s.prototype,"config",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"willTransition",[a],Object.getOwnPropertyDescriptor(s.prototype,"willTransition"),s.prototype),s)
e.default=p})),define("ghost-admin/routes/reset",["exports","ghost-admin/routes/unauthenticated"],(function(e,t){var n,i,r,a,s
function o(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function l(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(n=Ember.inject.service,i=Ember.inject.service,r=class extends t.default{constructor(){super(...arguments),o(this,"notifications",a,this),o(this,"session",s,this)}beforeModel(){this.session.isAuthenticated&&this.notifications.showAlert("You can't reset your password while you're signed in.",{type:"warn",delayed:!0,key:"password.reset.signed-in"}),super.beforeModel(...arguments)}setupController(e,t){e.token=t.token}deactivate(){super.deactivate(...arguments),this.controller.clearData()}},a=l(r.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/routes/settings",["exports","ghost-admin/routes/authenticated"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="session",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}beforeModel(){super.beforeModel(...arguments)
const e=this.session.user
if(!e.isAdmin)return this.transitionTo("settings.staff.user",e)}},s=i.prototype,o="session",l=[n],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),r=c,i)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/routes/settings/code-injection",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({settings:Ember.inject.service(),model(){return this.settings.reload()},deactivate(){this._super(...arguments),this.controller.set("leaveSettingsTransition",null),this.controller.set("showLeaveSettingsModal",!1)},actions:{save(){this.controller.send("save")},willTransition(e){let t=this.controller
if(this.settings.get("hasDirtyAttributes"))return e.abort(),void t.send("toggleLeaveSettingsModal",e)}},buildRouteInfoMetadata:()=>({titleToken:"Settings - Code injection"})})
e.default=n})),define("ghost-admin/routes/settings/design",["exports","ghost-admin/routes/authenticated"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b
function f(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function v(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let y=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=class extends t.default{constructor(){super(...arguments),f(this,"customThemeSettings",d,this),f(this,"feature",c,this),f(this,"modals",p,this),f(this,"settings",m,this),f(this,"themeManagement",h,this),f(this,"ui",g,this),f(this,"session",b,this)}model(){return this.themeManagement.updatePreviewHtmlTask.perform(),Promise.all([this.settings.reload(),this.customThemeSettings.load()])}beforeModel(){super.beforeModel(...arguments)
const e=this.session.user
if(!e.isAdmin)return this.transitionTo("settings.staff.user",e)}activate(){this.ui.contextualNavMenu="design"}deactivate(){this.ui.contextualNavMenu=null}buildRouteInfoMetadata(){return{titleToken:"Settings - Design",mainClasses:["gh-main-fullwidth"]}}},d=v(u.prototype,"customThemeSettings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=v(u.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=v(u.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(u.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(u.prototype,"themeManagement",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(u.prototype,"ui",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(u.prototype,"session",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=y})),define("ghost-admin/routes/settings/design/change-theme",["exports","ghost-admin/routes/admin"],(function(e,t){var n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(n=Ember.inject.service,i=Ember._action,r=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="store",i=this,(n=a)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}model(){return this.store.findAll("theme")}willTransition(){this.controllerFor("settings.design.change-theme").reset()}},a=s(r.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"willTransition",[i],Object.getOwnPropertyDescriptor(r.prototype,"willTransition"),r.prototype),r)
e.default=o})),define("ghost-admin/routes/settings/design/change-theme/install",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/design/install-theme"],(function(e,t,n){var i,r,a,s,o,l,u
function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(){super(...arguments),d(this,"modals",l,this),d(this,"router",u,this)}redirect(e,t){const{source:n,ref:i}=t.to.queryParams||{}
n&&i||this.transitionTo("settings.design.change-theme")}didTransition(){const e=this.controllerFor("settings.design.change-theme.install"),t=this.controllerFor("settings.design.change-theme").officialThemes.findBy("ref",e.ref)
this.installModal=this.modals.open(n.default,{theme:t,ref:e.ref,onSuccess:()=>{this.showingSuccessModal=!0,this.router.transitionTo("settings.design")}},{beforeClose:this.beforeModalClose})}deactivate(){this.installModal&&!this.showingSuccessModal&&this.installModal.close()}beforeModalClose(){this.showingSuccessModal||this.transitionTo("settings.design.change-theme"),this.showingSuccessModal=!1,this.installModal=null}},l=c(o.prototype,"modals",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c(o.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(o.prototype,"didTransition",[a],Object.getOwnPropertyDescriptor(o.prototype,"didTransition"),o.prototype),c(o.prototype,"beforeModalClose",[s],Object.getOwnPropertyDescriptor(o.prototype,"beforeModalClose"),o.prototype),o)
e.default=p})),define("ghost-admin/routes/settings/design/change-theme/view",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/design/view-theme"],(function(e,t,n){var i,r,a,s
function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=(i=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="modals",i=this,(n=s)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"themeModal",null)}model(e,t){const n=this.controllerFor("settings.design.change-theme").officialThemes.find((t=>t.name===e.theme_name))
if(n)return n
const i=t.intent.url.replace(/^\//,"")
return this.replaceWith("error404",{path:i,status:404})}setupController(e,t){this.themeModal?.close(),this.themeModal=this.modals.open(n.default,{theme:t},{beforeClose:this.beforeModalClose})}deactivate(){this.isLeaving=!0,this.themeModal?.close(),this.isLeaving=!1,this.themeModal=null}beforeModalClose(){this.themeModal&&!this.isLeaving&&this.router.transitionTo("settings.design.change-theme")}},s=o(a.prototype,"modals",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"beforeModalClose",[r],Object.getOwnPropertyDescriptor(a.prototype,"beforeModalClose"),a.prototype),a)
e.default=l}))
define("ghost-admin/routes/settings/design/index",["exports","ghost-admin/routes/authenticated","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,n){var i,r,a,s,o,l,u,d
function c(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=class extends t.default{constructor(){super(...arguments),c(this,"customThemeSettings",l,this),c(this,"modals",u,this),c(this,"settings",d,this),p(this,"confirmModal",null),p(this,"hasConfirmed",!1)}willTransition(e){if(this.hasConfirmed)return!0
e.abort(),this.confirmUnsavedChanges().then((t=>{if(t)return this.hasConfirmed=!0,e.retry()}))}deactivate(){this.confirmModal=null,this.hasConfirmed=!1,this.controllerFor("settings.design.index").reset()}confirmUnsavedChanges(){return this.settings.get("hasDirtyAttributes")||this.customThemeSettings.isDirty?(this.confirmModal||(this.confirmModal=this.modals.open(n.default).then((e=>(!0===e&&(this.settings.rollbackAttributes(),this.customThemeSettings.rollback()),e))).finally((()=>{this.confirmModal=null}))),this.confirmModal):Promise.resolve(!0)}},l=m(o.prototype,"customThemeSettings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(o.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(o.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(o.prototype,"willTransition",[s],Object.getOwnPropertyDescriptor(o.prototype,"willTransition"),o.prototype),o)
e.default=h})),define("ghost-admin/routes/settings/general",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({config:Ember.inject.service(),settings:Ember.inject.service(),model(){return Ember.RSVP.hash({settings:this.settings.reload(),availableTimezones:this.get("config.availableTimezones")})},setupController(e,t){e.set("showLeaveSettingsModal",!1),e.set("leaveSettingsTransition",null),e.set("availableTimezones",t.availableTimezones)},actions:{save(){return this.controller.send("save")},reloadSettings(){return this.settings.reload()},willTransition(e){let t=this.controller
if(this.settings.get("hasDirtyAttributes"))return e.abort(),void t.send("toggleLeaveSettingsModal",e)}},buildRouteInfoMetadata:()=>({titleToken:"Settings - General"})})
e.default=n})),define("ghost-admin/routes/settings/integration",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({router:Ember.inject.service(),init(){this._super(...arguments),this.router.on("routeWillChange",(e=>{this.showUnsavedChangesModal(e),this.controller&&(this.controller.set("selectedApiKey",null),this.controller.set("isApiKeyRegenerated",!1))}))},model(e,t){return this.controllerFor("settings.integrations").integrationModelHook("id",e.integration_id,this,t)},deactivate(){this._super(...arguments),this.controller.set("leaveScreenTransition",null),this.controller.set("showUnsavedChangesModal",!1)},actions:{save(){this.controller.send("save")}},showUnsavedChangesModal(e){if(e.from&&e.from.name.match(/^settings\.integration\./)&&e.targetName){let{controller:t}=this
if((!(e.targetName||"").match(/^integration\./)||e.to.parent.params.integration_id!==t.integration.id)&&!t.integration.isDeleted&&t.integration.hasDirtyAttributes)return e.abort(),void t.send("toggleUnsavedChangesModal",e)}},buildRouteInfoMetadata:()=>({titleToken:"Settings - Integrations"})})
e.default=n})),define("ghost-admin/routes/settings/integration/webhooks/edit",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{model(e){return this.modelFor("settings.integration").webhooks.findBy("id",e.webhook_id)}deactivate(){super.deactivate(...arguments),this.controller.reset()}}e.default=n})),define("ghost-admin/routes/settings/integration/webhooks/new",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{model(){let e=this.modelFor("settings.integration")
return this.store.createRecord("webhook",{integration:e})}deactivate(){super.deactivate(...arguments),this.controller.webhook.rollbackAttributes()}}e.default=n})),define("ghost-admin/routes/settings/integrations",["exports","ghost-admin/routes/admin"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="settings",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}setupController(e){e.fetchIntegrations.perform()}buildRouteInfoMetadata(){return{titleToken:"Settings - Integrations"}}},s=i.prototype,o="settings",l=[n],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),r=c,i)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/routes/settings/integrations/amp",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({settings:Ember.inject.service(),beforeModel(){return this._super(...arguments),this.settings.reload()},actions:{save(){this.controller.send("save")},willTransition(e){let t=this.controller
if(this.settings.get("hasDirtyAttributes"))return e.abort(),void t.send("toggleLeaveSettingsModal",e)}},buildRouteInfoMetadata:()=>({titleToken:"AMP"})})
e.default=n})),define("ghost-admin/routes/settings/integrations/firstpromoter",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({settings:Ember.inject.service(),beforeModel(){return this._super(...arguments),this.settings.reload()},actions:{save(){this.controller.send("save")},willTransition(e){let t=this.controller
if(this.settings.get("hasDirtyAttributes"))return e.abort(),void t.send("toggleLeaveSettingsModal",e)}},buildRouteInfoMetadata:()=>({titleToken:"FirstPromoter"})})
e.default=n})),define("ghost-admin/routes/settings/integrations/new",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/limits/custom-integration","ghost-admin/components/modals/new-custom-integration"],(function(e,t,n,i){var r,a,s,o,l,u,d,c
function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._action,l=class extends t.default{constructor(){super(...arguments),p(this,"limit",u,this),p(this,"modals",d,this),p(this,"router",c,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"modal",null)}async model(){if(this.limit.limiter?.isLimited("customIntegrations"))try{await this.limit.limiter.errorIfWouldGoOverLimit("customIntegrations")}catch(e){return void(this.modal=this.modals.open(n.default,{message:e.message},{beforeClose:this.beforeModalClose}))}this.modal=this.modals.open(i.default,{},{beforeClose:this.beforeModalClose})}deactivate(){this.isLeaving=!0,this.modal?.close(),this.modal=null,this.isLeaving=!1}beforeModalClose(){this.modal&&!this.isLeaving&&this.router.transitionTo("settings.integrations")}},u=m(l.prototype,"limit",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(l.prototype,"modals",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(l.prototype,"router",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(l.prototype,"beforeModalClose",[o],Object.getOwnPropertyDescriptor(l.prototype,"beforeModalClose"),l.prototype),l)
e.default=h})),define("ghost-admin/routes/settings/integrations/slack",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({settings:Ember.inject.service(),beforeModel(){return this._super(...arguments),this.settings.reload()},actions:{save(){this.controller.send("save")},willTransition(e){let t=this.controller
if(this.settings.get("hasDirtyAttributes"))return e.abort(),void t.send("toggleLeaveSettingsModal",e)}},buildRouteInfoMetadata:()=>({titleToken:"Slack"})})
e.default=n})),define("ghost-admin/routes/settings/integrations/unsplash",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({settings:Ember.inject.service(),beforeModel(){return this._super(...arguments),this.settings.reload()},actions:{save(){this.controller.send("save")},willTransition(e){let t=this.controller
if(this.settings.get("hasDirtyAttributes"))return e.abort(),void t.send("toggleLeaveSettingsModal",e)}},buildRouteInfoMetadata:()=>({titleToken:"Unsplash"})})
e.default=n})),define("ghost-admin/routes/settings/integrations/zapier",["exports","ghost-admin/routes/admin"],(function(e,t){var n,i,r,a,s
function o(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function l(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(n=Ember.inject.service,i=Ember.inject.service,r=class extends t.default{constructor(){super(...arguments),o(this,"router",a,this),o(this,"config",s,this),this.router.on("routeWillChange",(()=>{this.controller&&(this.controller.set("selectedApiKey",null),this.controller.set("isApiKeyRegenerated",!1))}))}beforeModel(){if(super.beforeModel(...arguments),this.config.get("hostSettings.limits.customIntegrations.disabled"))return this.transitionTo("settings.integrations")}model(e,t){return this.controllerFor("settings.integrations").integrationModelHook("slug","zapier",this,t)}buildRouteInfoMetadata(){return{titleToken:"Zapier"}}},a=l(r.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"config",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/routes/settings/labs",["exports","ghost-admin/routes/admin"],(function(e,t){var n,i,r,a,s
function o(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function l(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(n=Ember.inject.service,i=Ember.inject.service,r=class extends t.default{constructor(){super(...arguments),o(this,"settings",a,this),o(this,"notifications",s,this)}model(){return this.settings.reload()}resetController(e,t){t&&e.reset()}buildRouteInfoMetadata(){return{titleToken:"Settings - Labs"}}},a=l(r.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/routes/settings/members-email",["exports","ghost-admin/routes/admin"],(function(e,t){var n,i,r,a,s,o
function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(n=Ember.inject.service,i=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(){super(...arguments),l(this,"notifications",s,this),l(this,"settings",o,this)}beforeModel(e){super.beforeModel(...arguments),"success"===e.to.queryParams?.fromAddressUpdate&&this.notifications.showAlert("Newsletter email address has been updated",{type:"success",key:"members.settings.from-address.updated"})}model(){return this.settings.reload()}setupController(e){e.resetEmailAddresses()}willTransition(e){return this.controller.leaveRoute(e)}buildRouteInfoMetadata(){return{titleToken:"Settings - Members"}}},s=u(a.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"willTransition",[r],Object.getOwnPropertyDescriptor(a.prototype,"willTransition"),a.prototype),a)
e.default=d})),define("ghost-admin/routes/settings/membership",["exports","ghost-admin/routes/admin"],(function(e,t){var n,i,r,a,s
function o(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function l(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(n=Ember.inject.service,i=Ember.inject.service,r=class extends t.default{constructor(){super(...arguments),o(this,"notifications",a,this),o(this,"settings",s,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"actions",{willTransition(e){return this.controller.leaveRoute(e)}})}beforeModel(e){super.beforeModel(...arguments),"success"===e.to.queryParams?.supportAddressUpdate&&this.notifications.showAlert("Support email address has been updated",{type:"success",key:"members.settings.support-address.updated"})}model(){this.settings.reload()}buildRouteInfoMetadata(){return{titleToken:"Settings - Membership"}}resetController(e,t){t&&e.reset()}},a=l(r.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/routes/settings/navigation",["exports","jquery","ghost-admin/routes/admin"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=n.default.extend({settings:Ember.inject.service(),model(){return Ember.RSVP.hash({settings:this.settings.reload()})},setupController(){this.controller.send("reset")},deactivate(){this._super(...arguments),this.controller.set("leaveSettingsTransition",null),this.controller.set("showLeaveSettingsModal",!1)},actions:{save(){(0,t.default)(".page-actions .gh-btn-blue").focus(),this.controller.send("save")},willTransition(e){let t=this.controller
if(t.dirtyAttributes)return e.abort(),void t.send("toggleLeaveSettingsModal",e)}},buildRouteInfoMetadata:()=>({titleToken:"Settings - Navigation"})})
e.default=i})),define("ghost-admin/routes/settings/product",["exports","ghost-admin/routes/admin"],(function(e,t){var n,i,r,a,s,o
function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(n=Ember.inject.service,i=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(){super(...arguments),l(this,"store",s,this),l(this,"router",o,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_requiresBackgroundRefresh",!0),this.router.on("routeWillChange",(e=>{this.showUnsavedChangesModal(e)}))}model(e){return e.product_id?this.store.queryRecord("product",{id:e.product_id,include:"stripe_prices"}):this.store.createRecord("product")}setupController(e,t){if(super.setupController(...arguments),this._requiresBackgroundRefresh&&t.get("id"))return this.store.queryRecord("product",{id:t.get("id"),include:"stripe_prices"})}deactivate(){super.deactivate(...arguments),this.controller.product.rollbackAttributes(),this._requiresBackgroundRefresh=!0}save(){this.controller.save()}buildRouteInfoMetadata(){return{titleToken:"Settings - Products"}}showUnsavedChangesModal(e){if(e.from&&e.from.name===this.routeName&&e.targetName){let{controller:t}=this,n=Object.keys(t.product.changedAttributes()).length>0
if(!t.product.isDeleted&&n)return e.abort(),void t.toggleUnsavedChangesModal(e)}}},s=u(a.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"save",[r],Object.getOwnPropertyDescriptor(a.prototype,"save"),a.prototype),a)
e.default=d})),define("ghost-admin/routes/settings/product/new",["exports","ghost-admin/routes/settings/product"],(function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{constructor(){super(...arguments),n(this,"controllerName","settings.product"),n(this,"templateName","settings.product")}}e.default=i})),define("ghost-admin/routes/settings/products",["exports","ghost-admin/routes/admin"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="store",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}buildRouteInfoMetadata(){return{titleToken:"Settings - Products"}}model(){return this.store.findAll("product",{include:"stripe_prices"})}},s=i.prototype,o="store",l=[n],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),r=c,i)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/routes/settings/staff/index",["exports","ghost-admin/routes/authenticated"],(function(e,t){var n,i,r,a,s,o
function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(n=Ember.inject.service,i=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(){super(...arguments),l(this,"infinity",s,this),l(this,"session",o,this)}beforeModel(){super.beforeModel(...arguments)
const e=this.session.user
if(e.isAuthorOrContributor)return this.transitionTo("settings.staff.user",e)}model(){return this.session.user}setupController(e){super.setupController(...arguments),e.backgroundUpdate.perform()}reload(){this.controller.backgroundUpdate.perform()}buildRouteInfoMetadata(){return{titleToken:"Staff"}}},s=u(a.prototype,"infinity",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"reload",[r],Object.getOwnPropertyDescriptor(a.prototype,"reload"),a.prototype),a)
e.default=d})),define("ghost-admin/routes/settings/staff/user",["exports","ghost-admin/routes/authenticated"],(function(e,t){var n,i,r,a
function s(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(n=Ember._action,i=Ember._action,r=Ember._action,a=class extends t.default{model(e){return this.store.queryRecord("user",{slug:e.user_slug,include:"count.posts"})}afterModel(e){super.afterModel(...arguments)
const t=this.session.user
let n=e.get("id")===t.get("id"),i=t.get("isAuthorOrContributor"),r=t.get("isEditor")
i&&!n?this.transitionTo("settings.staff.user",t):!r||n||e.get("isAuthorOrContributor")||this.transitionTo("settings.staff"),n&&this.store.queryRecord("api-key",{id:"me"}).then((e=>{this.controller.set("personalToken",e.id+":"+e.secret),this.controller.set("personalTokenRegenerated",!1)}))}serialize(e){return{user_slug:e.get("slug")}}didTransition(){this.modelFor("settings.staff.user").get("errors").clear()}save(){this.controller.save.perform()}willTransition(e){let t=this.controller,n=t.user,i=t.dirtyAttributes,r=n.get("hasDirtyAttributes")
if(n&&(n.set("password",""),n.set("newPassword",""),n.set("ne2Password","")),r||i)return e.abort(),void t.send("toggleLeaveSettingsModal",e)}buildRouteInfoMetadata(){return{titleToken:"Staff - User"}}},s(a.prototype,"didTransition",[n],Object.getOwnPropertyDescriptor(a.prototype,"didTransition"),a.prototype),s(a.prototype,"save",[i],Object.getOwnPropertyDescriptor(a.prototype,"save"),a.prototype),s(a.prototype,"willTransition",[r],Object.getOwnPropertyDescriptor(a.prototype,"willTransition"),a.prototype),a)
e.default=o})),define("ghost-admin/routes/settings/theme-install",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{redirect(e,t){this.transitionTo("settings.design.change-theme.install",{queryParams:t.to.queryParams})}}e.default=t})),define("ghost-admin/routes/setup",["exports"],(function(e){var t,n,i,r,a,s,o,l,u
function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(t=Ember.inject.service,n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=class extends Ember.Route{constructor(){super(...arguments),d(this,"ghostPaths",s,this),d(this,"session",o,this),d(this,"ajax",l,this),d(this,"config",u,this)}beforeModel(){if(super.beforeModel(...arguments),this.session.isAuthenticated)return this.transitionTo("home")
let e=this.ghostPaths.url.api("authentication","setup")
return this.ajax.request(e).then((e=>{let[t]=e.setup
if(t.status)return this.transitionTo("signin")
{let e=this.controllerFor("setup")
t.title&&e.set("blogTitle",t.title.replace(/&apos;/gim,"'")),t.name&&e.set("name",t.name.replace(/&apos;/gim,"'")),t.email&&e.set("email",t.email)}}))}deactivate(){super.deactivate(...arguments),this.controllerFor("setup").set("password","")}buildRouteInfoMetadata(){return{titleToken:"Setup",bodyClasses:["unauthenticated-route"],mainClasses:["gh-main-white"]}}},s=c(a.prototype,"ghostPaths",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=c(a.prototype,"session",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(a.prototype,"ajax",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c(a.prototype,"config",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=p})),define("ghost-admin/routes/setup/done",["exports"],(function(e){var t,n,i,r,a
function s(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=(t=Ember.inject.service,n=Ember.inject.service,i=class extends Ember.Route{constructor(){super(...arguments),s(this,"settings",r,this),s(this,"themeManagement",a,this)}model(){this.themeManagement.setPreviewType("homepage"),this.themeManagement.updatePreviewHtmlTask.perform()}deactivate(){this.settings.rollbackAttributes()}},r=o(i.prototype,"settings",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=o(i.prototype,"themeManagement",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i)
e.default=l})),define("ghost-admin/routes/setup/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{beforeModel(){super.beforeModel(...arguments),this.transitionTo("setup.one")}}e.default=t})),define("ghost-admin/routes/signin",["exports","ember-data","ghost-admin/routes/unauthenticated"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{Errors:i}=t.default,r=function(){return Ember.Object.create({identification:"",password:"",errors:i.create()})}
class a extends n.default{model(){return r()}deactivate(){let e=this.controllerFor("signin")
super.deactivate(...arguments),e.set("signin",r())}buildRouteInfoMetadata(){return Object.assign(super.buildRouteInfoMetadata(),{titleToken:"Sign In"})}}e.default=a})),define("ghost-admin/routes/signout",["exports","ghost-admin/routes/authenticated"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="notifications",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}afterModel(){this.notifications.clearAll(),this.session.invalidate()}buildRouteInfoMetadata(){return{titleToken:"Sign Out"}}},s=i.prototype,o="notifications",l=[n],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),r=c,i)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/routes/signup",["exports","ember-data","ghost-admin/routes/unauthenticated","ghost-admin/mixins/validation-engine"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h
function g(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function b(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{Promise:f}=Ember.RSVP,{Errors:v}=t.default
let y=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=class extends n.default{constructor(){super(...arguments),g(this,"ghostPaths",d,this),g(this,"notifications",c,this),g(this,"session",p,this),g(this,"ajax",m,this),g(this,"config",h,this)}beforeModel(){this.session.isAuthenticated&&this.notifications.showAlert("You need to sign out to register as a new user.",{type:"warn",delayed:!0,key:"signup.create.already-authenticated"}),super.beforeModel(...arguments)}model(e){class t extends(Ember.Object.extend(i.default)){constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"validationType","signup")}}let n,r,a=t.create(),s=/^(?:[A-Za-z0-9_-]{4})*(?:[A-Za-z0-9_-]{2}|[A-Za-z0-9_-]{3})?$/
return new f((t=>{if(!s.test(e.token))return this.notifications.showAlert("Invalid token.",{type:"error",delayed:!0,key:"signup.create.invalid-token"}),t(this.transitionTo("signin"))
r=atob(e.token),n=r.split("|")[1],a.set("email",""),a.set("token",e.token),a.set("errors",v.create())
let i=this.get("ghostPaths.url").api("authentication","invitation")
return this.ajax.request(i,{dataType:"json",data:{email:n}}).then((e=>{if(e&&e.invitation&&!1===e.invitation[0].valid)return this.notifications.showAlert("The invitation does not exist or is no longer valid.",{type:"warn",delayed:!0,key:"signup.create.invalid-invitation"}),t(this.transitionTo("signin"))
a.set("blogTitle",this.get("config.blogTitle")),t(a)})).catch((()=>{t(a)}))}))}deactivate(){super.deactivate(...arguments),this.controllerFor("signup").get("signupDetails").setProperties({email:"",password:"",token:""})}},d=b(u.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(u.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"session",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(u.prototype,"ajax",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b(u.prototype,"config",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=y})),define("ghost-admin/routes/site",["exports","ghost-admin/routes/authenticated"],(function(e,t){var n,i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=class extends t.default{constructor(){super(...arguments),u(this,"config",s,this),u(this,"settings",o,this),u(this,"ui",l,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_hasLoggedIn",!1)}model(){return(new Date).valueOf()}buildRouteInfoMetadata(){return{titleToken:"Site"}}},s=d(a.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(a.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(a.prototype,"ui",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=c})),define("ghost-admin/routes/tag",["exports","ghost-admin/routes/authenticated"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({router:Ember.inject.service(),session:Ember.inject.service(),_requiresBackgroundRefresh:!0,init(){this._super(...arguments),this.router.on("routeWillChange",(e=>{this.showUnsavedChangesModal(e)}))},beforeModel(){if(this._super(...arguments),this.session.user.isAuthorOrContributor)return this.transitionTo("home")},model(e){return this._requiresBackgroundRefresh=!1,e.tag_slug?this.store.queryRecord("tag",{slug:e.tag_slug}):this.store.createRecord("tag")},serialize:e=>({tag_slug:e.get("slug")}),setupController(e,t){this._super(...arguments),this._requiresBackgroundRefresh&&e.fetchTag.perform(t.get("slug"))},deactivate(){this._super(...arguments),this.controller.tag.rollbackAttributes(),this._requiresBackgroundRefresh=!0},actions:{save(){this.controller.send("save")}},showUnsavedChangesModal(e){if(e.from&&e.from.name===this.routeName&&e.targetName){let{controller:t}=this,n=Object.keys(t.tag.changedAttributes()).length>0
if(!t.tag.isDeleted&&n)return e.abort(),void t.send("toggleUnsavedChangesModal",e)}}})
e.default=n}))
define("ghost-admin/routes/tag/new",["exports","ghost-admin/routes/tag"],(function(e,t){function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{constructor(){super(...arguments),n(this,"controllerName","tag"),n(this,"templateName","tag")}}e.default=i})),define("ghost-admin/routes/tags",["exports","ghost-admin/routes/authenticated"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"queryParams",{type:{refreshModel:!0,replace:!0}})}beforeModel(){if(super.beforeModel(...arguments),this.session.user.isAuthorOrContributor)return this.transitionTo("home")}model(){let e=this.store.query("tag",{limit:"all",include:"count.posts"}),t=this.store.peekAll("tag")
return 0===this.store.peekAll("tag").get("length")?e.then((()=>t)):t}buildRouteInfoMetadata(){return{titleToken:"Tags"}}}e.default=n})),define("ghost-admin/routes/unauthenticated",["exports"],(function(e){var t,n,i,r,a,s,o
function l(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(t=Ember.inject.service,n=Ember.inject.service,i=Ember.inject.service,r=class extends Ember.Route{constructor(){super(...arguments),l(this,"ajax",a,this),l(this,"ghostPaths",s,this),l(this,"session",o,this)}beforeModel(){let e=this.ghostPaths.url.api("authentication","setup")
return this.ajax.request(e).then((e=>{let[t]=e.setup
if(!0===t.status)return this.session.prohibitAuthentication("home")
this.transitionTo("setup")}))}buildRouteInfoMetadata(){return{bodyClasses:["unauthenticated-route"]}}},a=u(r.prototype,"ajax",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u(r.prototype,"ghostPaths",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(r.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=d})),define("ghost-admin/routes/whatsnew",["exports","ghost-admin/routes/authenticated"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{buildRouteInfoMetadata(){return{titleToken:"What's new?"}}}e.default=n})),define("ghost-admin/serializers/-default",["exports","@ember-data/serializer/json"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/serializers/-json-api",["exports","@ember-data/serializer/json-api"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/serializers/-rest",["exports","@ember-data/serializer/rest"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/serializers/action",["exports","ghost-admin/serializers/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{createdAtUTC:{key:"created_at"}})}}e.default=n})),define("ghost-admin/serializers/api-key",["exports","ghost-admin/serializers/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{lastSeenAtUTC:{key:"last_seen_at"},createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}}e.default=n})),define("ghost-admin/serializers/application",["exports","@ember-data/serializer/rest","ember-inflector"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{extractMeta(e,t){let n=super.extractMeta(...arguments)
return t.___meta=n,n}serialize(){let e=super.serialize(...arguments)
return delete e.created_by,delete e.updated_by,e}serializeIntoHash(e,t,i,r){(r=r||{}).includeId=!0
let a=(0,n.pluralize)(t.modelName),s=this.serialize(i,r)
e[a]=[s]}keyForAttribute(e){return Ember.String.decamelize(e)}keyForRelationship(e,t,n){let i="serialize"===n?Ember.String.underscore:Ember.String.camelize
if("belongsTo"===t&&!e.match(/(Id|By)$/)){return`${i(e)}_id`}return i(e)}normalizeQueryRecordResponse(e,t,i){const r=this.keyForAttribute(t.modelName),a=(0,n.pluralize)(r)
return i[a]&&"setting"!==r&&(i[r]=i[a][0],delete i[a]),super.normalizeQueryRecordResponse(...arguments)}}e.default=i})),define("ghost-admin/serializers/custom-theme-setting-list",["exports","ghost-admin/serializers/application","@ember-data/serializer/rest"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends(t.default.extend(n.EmbeddedRecordsMixin)){constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{customThemeSettings:{embedded:"always"}})}serializeIntoHash(e,t,n,i){const r=this.serialize(n,i)
Object.assign(e,r)}normalizeSingleResponse(e,t,n,i,r){const a={customThemeSettingLists:[Object.assign({id:0},n)]}
return super.normalizeSingleResponse(e,t,a,i,r)}}e.default=i})),define("ghost-admin/serializers/email-recipient",["exports","ghost-admin/serializers/application","@ember-data/serializer/rest"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends(t.default.extend(n.EmbeddedRecordsMixin)){constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{processedAtUTC:{key:"processed_at"},deliveredAtUTC:{key:"delivered_at"},openedAtUTC:{key:"opened_at"},failedAtUTC:{key:"failed_at"},email:{embedded:"always"}})}}e.default=i})),define("ghost-admin/serializers/email",["exports","ghost-admin/serializers/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"},submittedAtUTC:{key:"submitted_at"}})}}e.default=n})),define("ghost-admin/serializers/integration",["exports","ghost-admin/serializers/application","@ember-data/serializer/rest"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends(t.default.extend(n.EmbeddedRecordsMixin)){constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{apiKeys:{embedded:"always"},webhooks:{embedded:"always"},createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}}e.default=i})),define("ghost-admin/serializers/invite",["exports","ghost-admin/serializers/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}}e.default=n})),define("ghost-admin/serializers/label",["exports","ghost-admin/serializers/application","ember-inflector"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}serialize(){let e=super.serialize(...arguments)
return delete e.count,e}normalizeResponse(e,t,i,r,a){if("queryRecord"===a){let e=t.modelName,r=(0,n.pluralize)(e)
i[r]&&(i[e]=i[r][0],delete i[r])}return super.normalizeResponse(...arguments)}}e.default=i})),define("ghost-admin/serializers/member",["exports","ghost-admin/serializers/application","@ember-data/serializer/rest"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends(t.default.extend(n.EmbeddedRecordsMixin)){constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{createdAtUTC:{key:"created_at"},lastSeenAtUTC:{key:"last_seen_at"},labels:{embedded:"always"},emailRecipients:{embedded:"always"}})}serialize(){let e=super.serialize(...arguments)
return delete e.stripe,delete e.geolocation,delete e.email_recipients,delete e.status,delete e.last_seen_at,e.name=e.name||"",e.note=e.note||"",e}}e.default=i})),define("ghost-admin/serializers/notification",["exports","ghost-admin/serializers/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{key:{key:"location"}})}}e.default=n})),define("ghost-admin/serializers/page",["exports","ghost-admin/serializers/post"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{serialize(){let e=super.serialize(...arguments)
return delete e.email_subject,delete e.send_email_when_published,delete e.email_recipient_filter,delete e.email_only,delete e.email_id,delete e.email,null===e.visibility&&(delete e.visibility,delete e.visibility_filter,delete e.tiers),"tiers"===e.visibility&&delete e.visibility_filter,"tiers"!==e.visibility||e.tiers?.length||(delete e.visibility,delete e.tiers),e}}e.default=n})),define("ghost-admin/serializers/post",["exports","ghost-admin/serializers/application","@ember-data/serializer/rest"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends(t.default.extend(n.EmbeddedRecordsMixin)){constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{authors:{embedded:"always"},tags:{embedded:"always"},publishedAtUTC:{key:"published_at"},createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"},email:{embedded:"always"}})}serialize(){let e=super.serialize(...arguments)
return delete e.author_id,delete e.uuid,delete e.url,delete e.send_email_when_published,delete e.email_recipient_filter,delete e.author,null===e.visibility&&(delete e.visibility,delete e.visibility_filter,delete e.tiers),"tiers"===e.visibility&&delete e.visibility_filter,"tiers"!==e.visibility||e.tiers?.length||(delete e.visibility,delete e.tiers),e}}e.default=i})),define("ghost-admin/serializers/product",["exports","ghost-admin/serializers/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{serialize(){let e=super.serialize(...arguments)
return e?.monthly_price?.amount&&(e.monthly_price.amount=Math.round(e.monthly_price.amount)),e?.yearly_price?.amount&&(e.yearly_price.amount=Math.round(e.yearly_price.amount)),e}}e.default=n})),define("ghost-admin/serializers/role",["exports","ghost-admin/serializers/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}}e.default=n})),define("ghost-admin/serializers/setting",["exports","ghost-admin/serializers/application","ember-inflector"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{serializeIntoHash(e,t,i,r){(r=r||{}).includeId=!1
let a=(0,n.pluralize)(t.modelName),s=this.serialize(i,r),o=[]
delete s.id,Object.keys(s).forEach((e=>{o.push({key:e,value:s[e]})})),e[a]=o}normalizeArrayResponse(e,t,n,i,r){let a={settings:[this._extractObjectFromArrayPayload(n)]}
return super.normalizeArrayResponse(e,t,a,i,r)}normalizeSingleResponse(e,t,n,i,r){let a={setting:this._extractObjectFromArrayPayload(n)}
return super.normalizeSingleResponse(e,t,a,i,r)}_extractObjectFromArrayPayload(e){let t={id:"0"}
return e.settings.forEach((e=>{t[e.key]=e.value})),t}}e.default=i})),define("ghost-admin/serializers/tag",["exports","ghost-admin/serializers/application","ember-inflector"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}serialize(){let e=super.serialize(...arguments)
return delete e.count,e}normalizeResponse(e,t,i,r,a){if("queryRecord"===a){let e=t.modelName,r=(0,n.pluralize)(e)
i[r]&&(i[e]=i[r][0],delete i[r])}return super.normalizeResponse(...arguments)}}e.default=i})),define("ghost-admin/serializers/theme",["exports","ghost-admin/serializers/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"primaryKey","name")}}e.default=n})),define("ghost-admin/serializers/user",["exports","ghost-admin/serializers/application","@ember-data/serializer/rest","ember-inflector"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends(t.default.extend(n.EmbeddedRecordsMixin)){constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{roles:{embedded:"always"},lastLoginUTC:{key:"last_seen"},createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}extractSingle(e,t,n){let r=this.keyForAttribute(t.modelName),a=(0,i.pluralize)(t.modelName)
return n[r]=n[a][0],delete n[a],super.extractSingle(...arguments)}}e.default=r})),define("ghost-admin/serializers/webhook",["exports","ghost-admin/serializers/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(){super(...arguments),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"attrs",{lastTriggeredAtUTC:{key:"last_triggered_at"},createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}}e.default=n})),define("ghost-admin/services/-ensure-registered",["exports","@embroider/util/services/ensure-registered"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/ajax",["exports","ember-ajax/services/ajax","ghost-admin/config/environment","moment","ember-ajax/errors","@sentry/browser","ember-concurrency"],(function(e,t,n,i,r,a,s){var o,l,u,d,c
function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VersionMismatchError=e.UnsupportedMediaTypeError=e.ThemeValidationError=e.ServerUnreachableError=e.RequestEntityTooLargeError=e.MaintenanceError=e.HostLimitError=e.EmailError=e.AcceptedResponse=void 0,e.isAcceptedResponse=C,e.isEmailError=S,e.isHostLimitError=x,e.isMaintenanceError=O,e.isRequestEntityTooLargeError=w,e.isServerUnreachableError=v,e.isThemeValidationError=_,e.isUnsupportedMediaTypeError=k,e.isVersionMismatchError=b
const h=/\/ghost\/api\//
class g extends r.AjaxError{constructor(e){super(e,"API server is running a newer version of Ghost, please upgrade.")}}function b(e,t){return(0,r.isAjaxError)(e)?e instanceof g:"VersionMismatchError"===Ember.get(t||{},"errors.firstObject.type")}e.VersionMismatchError=g
class f extends r.AjaxError{constructor(e){super(e,"Server was unreachable")}}function v(e){return(0,r.isAjaxError)(e)?e instanceof f:0===e||"0"===e}e.ServerUnreachableError=f
class y extends r.AjaxError{constructor(e){super(e,"Request is larger than the maximum file size the server allows")}}function w(e){return(0,r.isAjaxError)(e)?e instanceof y:413===e}e.RequestEntityTooLargeError=y
class E extends r.AjaxError{constructor(e){super(e,"Request contains an unknown or unsupported file type.")}}function k(e){return(0,r.isAjaxError)(e)?e instanceof E:415===e}e.UnsupportedMediaTypeError=E
class P extends r.AjaxError{constructor(e){super(e,"Ghost is currently undergoing maintenance, please wait a moment then retry.")}}function O(e){return(0,r.isAjaxError)(e)?e instanceof P:503===e}e.MaintenanceError=P
class j extends r.AjaxError{constructor(e){super(e,"Theme is not compatible or contains errors.")}}function _(e,t){return(0,r.isAjaxError)(e)?e instanceof j:"ThemeValidationError"===Ember.get(t||{},"errors.firstObject.type")}e.ThemeValidationError=j
class z extends r.AjaxError{constructor(e){super(e,"A hosting plan limit was reached or exceeded.")}}function x(e,t){return(0,r.isAjaxError)(e)?e instanceof z:"HostLimitError"===Ember.get(t||{},"errors.firstObject.type")}e.HostLimitError=z
class T extends r.AjaxError{constructor(e){super(e,"Please verify your email settings")}}function S(e,t){return(0,r.isAjaxError)(e)?e instanceof T:"EmailError"===Ember.get(t||{},"errors.firstObject.type")}e.EmailError=T
class M{constructor(e){this.data=e}}function C(e){return 202===e}e.AcceptedResponse=M
let D=(o=Ember.inject.service,l=Ember.inject.service,u=class extends t.default{constructor(){super(...arguments),p(this,"config",d,this),p(this,"session",c,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"skipSessionDeletion",!1)}get headers(){return{"X-Ghost-Version":n.default.APP.version,"Accept-Version":"v4","App-Pragma":"no-cache"}}init(){super.init(...arguments),void 0===this.isTesting&&(this.isTesting="test"===n.default.environment)}async _makeRequest(e){var t;(t=e.contentType)&&!Ember.isNone(t)&&0===t.indexOf("application/json")&&"GET"!==e.type&&"object"==typeof e.data&&(e.data=JSON.stringify(e.data)),e.withCredentials=!0
let n=!1,r=null,o=0,l=new Date,u=0
const d=[500,1e3],c=[this.isServerUnreachableError,this.isMaintenanceError],p=()=>{const e={errorName:r,attempts:o,totalSeconds:(0,i.default)().diff((0,i.default)(l),"seconds")}
return this._responseServer&&(e.server=this._responseServer),e},m=super._makeRequest.bind(this)
for(;u<=15e3&&!n;)try{const t=await m(e)
return n=!0,0!==o&&this.config.get("sentry_dsn")&&(0,a.captureMessage)("Request took multiple attempts",{extra:p()}),t}catch(h){if(r=h.response?.constructor?.name,u=new Date-l,this.isTesting)throw h
if(!(c.some((e=>e(h.response)))&&u<=15e3))throw o>0&&this.config.get("sentry_dsn")?((0,a.captureMessage)("Request failed after multiple attempts",{extra:p()}),h):h
await(0,s.timeout)(d[o]||d[d.length-1]),o+=1}}handleResponse(e,t,n,i){if(this.isVersionMismatchError(e,t,n))return new g(n)
if(this.isServerUnreachableError(e,t,n))return new f(n)
if(this.isRequestEntityTooLargeError(e,t,n))return new y(n)
if(this.isUnsupportedMediaTypeError(e,t,n))return new E(n)
if(this.isMaintenanceError(e,t,n))return new P(n)
if(this.isThemeValidationError(e,t,n))return new j(n)
if(this.isHostLimitError(e,t,n))return new z(n)
if(this.isEmailError(e,t,n))return new T(n)
if(this.isAcceptedResponse(e))return new M(n)
let a=h.test(i.url),s=this.get("session.isAuthenticated"),o=this.isUnauthorizedError(e,t,n),l=(0,r.isForbiddenError)(e,t,n)
return a&&(this._responseServer=t.server),s&&a&&(o||l&&"Authorization failed"===n.errors?.[0].message)&&(this.skipSessionDeletion=!0,this.session.invalidate()),super.handleResponse(...arguments)}normalizeErrorResponse(e,t,n){if(n&&"object"==typeof n){let e=n.error||n.errors||n.message||void 0
e&&(Ember.isArray(e)||(e=[e]),n.errors=e.map((function(e){return"string"==typeof e?{message:e}:e})))}return super.normalizeErrorResponse(e,t,n)}isVersionMismatchError(e,t,n){return b(e,n)}isServerUnreachableError(e){return v(e)}isRequestEntityTooLargeError(e){return w(e)}isUnsupportedMediaTypeError(e){return k(e)}isMaintenanceError(e,t,n){return O(e)}isThemeValidationError(e,t,n){return _(e,n)}isHostLimitError(e,t,n){return x(e,n)}isEmailError(e,t,n){return S(e,n)}isAcceptedResponse(e){return C(e)}},d=m(u.prototype,"config",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(u.prototype,"session",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
D.reopen({contentType:"application/json; charset=UTF-8"})
var A=D
e.default=A})),define("ghost-admin/services/billing",["exports"],(function(e){var t,n,i,r,a,s,o,l,u
function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(t=Ember.inject.service,n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=class extends Ember.Service{constructor(){super(...arguments),d(this,"router",s,this),d(this,"config",o,this),d(this,"ghostPaths",l,this),d(this,"store",u,this),c(this,"billingRouteRoot","#/pro"),c(this,"billingWindowOpen",!1),c(this,"subscription",null),c(this,"previousRoute",null),c(this,"action",null),c(this,"ownerUser",null)}init(){super.init(...arguments),this.config.get("hostSettings.billing.url")&&window.addEventListener("message",(e=>{e&&e.data&&e.data.route&&this.handleRouteChangeInIframe(e.data.route)}))}handleRouteChangeInIframe(e){if(this.billingWindowOpen){let t=this.billingRouteRoot
"/"!==e&&(t+=e),window.location.hash!==t&&window.history.replaceState(window.history.state,"",t)}}getIframeURL(){this.getOwnerUser()
let e=this.config.get("hostSettings.billing.url")
if(window.location.hash&&window.location.hash.includes(this.billingRouteRoot)){let t=window.location.hash.replace(this.billingRouteRoot,"")
t&&(e+=t)}return e}async getOwnerUser(){if(!this.ownerUser){let e=this.store.peekAll("user").findBy("isOwnerOnly",!0)
e||(await this.store.findAll("user",{reload:!0}),e=this.store.peekAll("user").findBy("isOwnerOnly",!0)),this.set("ownerUser",e)}return this.ownerUser}sendRouteUpdate(){const e=this.action
e&&("checkout"===e&&this.getBillingIframe().contentWindow.postMessage({query:"routeUpdate",response:this.checkoutRoute},"*"),this.set("action",null))}toggleProWindow(e){this.billingWindowOpen&&e&&!this.action||(this.sendRouteUpdate(),this.set("billingWindowOpen",e))}openBillingWindow(e,t){this.getOwnerUser(),this.billingWindowOpen||(this.set("previousRoute",e),window.location.hash=t||"/pro",this.sendRouteUpdate(),this.router.transitionTo(t||"/pro"))}getBillingIframe(){return document.getElementById("billing-frame")}},s=p(a.prototype,"router",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=p(a.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(a.prototype,"ghostPaths",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(a.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=m}))
define("ghost-admin/services/clock",["exports","ghost-admin/config/environment","moment"],(function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends Ember.Service{constructor(){super(...arguments),i(this,"second",null),i(this,"minute",null),i(this,"hour",null)}init(){super.init(...arguments),this.tick()}tick(){let e=(0,n.default)().utc()
this.setProperties({second:e.seconds(),minute:e.minutes(),hour:e.hours()}),"test"!==t.default.environment&&Ember.run.later((()=>{this.tick()}),1e3)}}e.default=r})),define("ghost-admin/services/config",["exports","@tryghost/timezone-data"],(function(e,t){var n,i,r,a,s,o,l,u,d,c
function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{_ProxyMixin:h}=Ember
let g=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.computed,s=Ember.computed("blogUrl"),o=Ember.computed("blogDomain"),l=class extends(Ember.Service.extend(h)){constructor(){super(...arguments),p(this,"ajax",u,this),p(this,"ghostPaths",d,this),p(this,"session",c,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"content",null)}init(){super.init(...arguments),this.content={}}fetch(){let e=[]
return e.push(this.fetchUnauthenticated()),this.session.isAuthenticated&&e.push(this.fetchAuthenticated()),Ember.RSVP.all(e)}fetchUnauthenticated(){let e=this.ghostPaths.url.api("site")
return this.ajax.request(e).then((e=>{let{site:t}=e
t.blogUrl=t.url.replace(/\/$/,""),t.blogTitle=t.title,delete t.url,delete t.title,Object.assign(this.content,t)})).then((()=>{this.notifyPropertyChange("content")}))}fetchAuthenticated(){let e=this.ghostPaths.url.api("config")
return this.ajax.request(e).then((e=>{let{config:t}=e
Object.assign(this.content,t)})).then((()=>{this.notifyPropertyChange("content")}))}get availableTimezones(){return Ember.RSVP.resolve(t.default)}get blogDomain(){return this.get("blogUrl").replace(/^https?:\/\//,"").replace(/\/?$/,"")}get emailDomain(){const e=(this.blogDomain||"").match(new RegExp("^([^/:?#]+)(?:[/:?#]|$)","i")),t=e&&e[1]||""
return t.startsWith("www.")?t.replace(/^(www)\.(?=[^/]*\..{2,5})/,""):t}getSiteUrl(e){const t=new URL(this.get("blogUrl")),n=`${t.pathname.endsWith("/")?t.pathname:`${t.pathname}/`}${e.replace(/^\//,"")}`
return`${t.origin}${n}`}},u=m(l.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(l.prototype,"ghostPaths",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(l.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(l.prototype,"availableTimezones",[a],Object.getOwnPropertyDescriptor(l.prototype,"availableTimezones"),l.prototype),m(l.prototype,"blogDomain",[s],Object.getOwnPropertyDescriptor(l.prototype,"blogDomain"),l.prototype),m(l.prototype,"emailDomain",[o],Object.getOwnPropertyDescriptor(l.prototype,"emailDomain"),l.prototype),l)
e.default=g})),define("ghost-admin/services/cookies",["exports","ember-cookies/services/cookies"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default
e.default=n})),define("ghost-admin/services/custom-theme-settings",["exports","ember-concurrency"],(function(e,t){var n,i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,i=Ember._tracked,r=Ember._tracked,a=class extends Ember.Service{constructor(){super(...arguments),u(this,"store",s,this),u(this,"settings",o,this),u(this,"settingGroups",l,this),d(this,"_hasLoaded",!1),d(this,"KNOWN_GROUPS",[{key:"homepage",name:"Homepage",icon:"house",previewType:"homepage"},{key:"post",name:"Post",icon:"post",previewType:"post"}])}get isDirty(){return!!this.settings.find((e=>e.hasDirtyAttributes))}get keyValueObject(){const e={}
return this.settings.forEach((t=>{e[t.key]=t.value})),e}load(){return this.loadTask.perform()}reload(){return this._hasLoaded=!1,this.loadTask.perform()}*loadTask(){if(this.hasLoaded)return this.settings
Ember.run((()=>this.store.unloadAll("custom-theme-setting")))
const e=yield this.store.findAll("custom-theme-setting")
return this.settings=e,this.settingGroups=this._buildSettingGroups(e),this._hasLoaded=!0,this.settings}save(){return this.saveTask.perform()}*saveTask(){if(Ember.isEmpty(this.settings))return this.settings
const e=this.store.createRecord("custom-theme-setting-list",{customThemeSettings:this.settings})
return yield e.save(),this.store.unloadRecord(e),this.settings}rollback(){this.settings.forEach((e=>e.rollbackAttributes()))}_buildSettingGroups(e){if(!e||!e.length)return[]
const t=this.KNOWN_GROUPS.map((e=>e.key)),n=[],i=e.filter((e=>!t.includes(e.group)))
return i.length&&n.push({key:"site-wide",name:"Site-wide",icon:"view-site",settings:i}),this.KNOWN_GROUPS.forEach((t=>{const i=e.filter((e=>e.group===t.key))
i.length&&n.push(Object.assign({},t,{settings:i}))})),n}},s=c(a.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=c(a.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=c(a.prototype,"settingGroups",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c(a.prototype,"loadTask",[t.task],Object.getOwnPropertyDescriptor(a.prototype,"loadTask"),a.prototype),c(a.prototype,"saveTask",[t.task],Object.getOwnPropertyDescriptor(a.prototype,"saveTask"),a.prototype),a)
e.default=p})),define("ghost-admin/services/custom-views",["exports","ghost-admin/components/modals/custom-view-form","ghost-admin/mixins/validation-engine","@ember-decorators/object","ember-concurrency"],(function(e,t,n,i,r){var a,s,o,l,u,d,c,p,m,h,g,b,f
function v(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function y(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const w=["midgrey","blue","green","red","teal","purple","yellow","orange","pink"],E=Ember.Object.extend(n.default,{validationType:"customView",name:"",route:"",color:"",filter:null,isNew:!1,isDefault:!1,init(){this._super(...arguments),this.filter||(this.filter={}),this.color||(this.color=w[Math.floor(Math.random()*w.length)])},toJSON(){return{name:this.name,route:this.route,color:this.color,filter:this.filter}}}),k=[{route:"posts",name:"Drafts",color:"midgrey",icon:"pencil",filter:{type:"draft"}},{route:"posts",name:"Scheduled",color:"midgrey",icon:"clockface",filter:{type:"scheduled"}},{route:"posts",name:"Published",color:"midgray",icon:"published-post",filter:{type:"published"}}].map((e=>E.create(Object.assign({},e,{isDefault:!0}))))
let P=function(e,t){let n=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(t)
if(n.length!==i.length)return!1
for(let r=0;r<n.length;r++){let i=n[r]
if(e[i]!==t[i])return!1}return!0},O=function(e,t){return e.route===t.route&&P(e.filter,t.filter)},j=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember._tracked,d=(0,i.observes)("settings.sharedViews","session.{isAuthenticated,user}"),c=Ember._action,p=class extends Ember.Service{constructor(){super(...arguments),v(this,"modals",m,this),v(this,"router",h,this),v(this,"session",g,this),v(this,"settings",b,this),v(this,"viewList",f,this),this.updateViewList()}async updateViewList(){let{settings:e,session:t}=this
if(!t.isAuthenticated||!t.user)return
let n=JSON.parse(e.get("sharedViews")||"[]")
n=Ember.isArray(n)?n:[]
let i=[];(await t.user).isContributor||i.push(...k),i.push(...n.map((e=>E.create(e)))),this.viewList=i}*saveViewTask(e){if(yield e.validate(),this.viewList.find((t=>t.route===e.route&&t.name.trim().toLowerCase()===e.name.trim().toLowerCase()&&!P(t.filter,e.filter))))return e.errors.add("name","Has already been used"),e.hasValidated.pushObject("name"),e.invalidate(),!1
let t=this.viewList.find((t=>O(t,e)))
return t?this.viewList.replace(this.viewList.indexOf(t),1,[e]):this.viewList.push(e),yield this._saveViewSettings(),e.set("isNew",!1),e}*deleteViewTask(e){let t=this.viewList.find((t=>O(t,e)))
if(t&&!t.isDefault)return this.viewList.removeObject(t),yield this._saveViewSettings(),!0}get availableColors(){return w}get forPosts(){return this.viewList.filter((e=>"posts"===e.route))}get forPages(){return this.viewList.filter((e=>"pages"===e.route))}get activeView(){if(this.router.currentRoute)return this.findView(this.router.currentRouteName,this.router.currentRoute.queryParams)}findView(e,t){let n=e.replace(/_loading$/,"")
return this.viewList.find((e=>e.route===n&&P(e.filter,t)))}newView(){return E.create({isNew:!0,route:this.router.currentRouteName,filter:this.router.currentRoute.queryParams})}editView(){const e=E.create(this.activeView||this.newView())
return this.modals.open(t.default,{customView:e})}async _saveViewSettings(){let e=this.viewList.reject((e=>e.isDefault)).map((e=>e.toJSON()))
return this.settings.set("sharedViews",JSON.stringify(e)),this.settings.save()}},m=y(p.prototype,"modals",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y(p.prototype,"router",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y(p.prototype,"session",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(p.prototype,"settings",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y(p.prototype,"viewList",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y(p.prototype,"updateViewList",[d],Object.getOwnPropertyDescriptor(p.prototype,"updateViewList"),p.prototype),y(p.prototype,"saveViewTask",[r.task],Object.getOwnPropertyDescriptor(p.prototype,"saveViewTask"),p.prototype),y(p.prototype,"deleteViewTask",[r.task],Object.getOwnPropertyDescriptor(p.prototype,"deleteViewTask"),p.prototype),y(p.prototype,"editView",[c],Object.getOwnPropertyDescriptor(p.prototype,"editView"),p.prototype),p)
e.default=j})),define("ghost-admin/services/dashboard-mocks",["exports"],(function(e){var t,n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z
function x(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function T(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let S=(t=Ember._tracked,n=Ember._tracked,i=Ember._tracked,r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=class extends Ember.Service{constructor(){super(...arguments),x(this,"enabled",g,this),x(this,"generateDays",b,this),x(this,"siteStatus",f,this),x(this,"memberCounts",v,this),x(this,"memberCountStats",y,this),x(this,"mrrStats",w,this),x(this,"paidMembersByCadence",E,this),x(this,"paidMembersByTier",k,this),x(this,"membersLastSeen30d",P,this),x(this,"membersLastSeen7d",O,this),x(this,"newsletterSubscribers",j,this),x(this,"emailsSent30d",_,this),x(this,"emailOpenRateStats",z,this)}async waitRandom(){return new Promise((e=>{setTimeout((()=>{e()}),100+1e3*Math.random())}))}async loadSiteStatus(){null===this.siteStatus&&(await this.waitRandom(),this.siteStatus={hasPaidTiers:!0,stripeEnabled:!0,newslettersEnabled:!0,membersEnabled:!0})}updateMockedData(e){let{days:t}=e
const n=t,i=new Date
i.setDate(i.getDate()-n+1)
const r=[]
let a=!0,s=0,o=Math.floor(14*Math.random()),l=10
for(let u=0;u<n;u++){const e=new Date(i.getTime())
e.setDate(e.getDate()+u)
const t=r.length?r[r.length-1]:{free:0,paid:0,comped:0},n=0===u?0:Math.max(0,t.paid+Math.round(Math.random()*(l-3)))
r.push({date:e.toISOString().split("T")[0],free:0===u?0:Math.max(0,t.free+Math.round(Math.random()*l)),paid:n,comped:0,newPaid:Math.max(n-t.paid+5,0),canceledPaid:Math.max(t.paid-n,0)+5}),a?(s+=1,s>o&&(a=!1,s=0,o=Math.floor(90*Math.random())+20)):(s+=1,s>o&&(a=!0,s=0,o=Math.floor(90*Math.random())+20)),a?l<Math.min(100,t.free/10)&&(l*=1.01):l>2&&(l*=.99)}this.memberCountStats=r,this.memberCounts={total:0,paid:0,free:0},this.paidMembersByCadence={annual:546,monthly:5162},this.paidMembersByTier=[{tier:{name:"Bronze tier"},members:985},{tier:{name:"Silver tier"},members:459},{tier:{name:"Gold tier"},members:124}],this.newsletterSubscribers={paid:156,free:8459,total:8615},this.emailsSent30d=123,this.membersLastSeen7d=Math.round(Math.random()*this.memberCounts.free/2),this.membersLastSeen30d=this.membersLastSeen7d+Math.round(Math.random()*this.memberCounts.free/2),this.emailOpenRateStats=[{id:"23424",title:"💸 The best way to get paid to create",email:{openedCount:518,deliveredCount:1234}},{id:"23425",title:"🎒How to start a blog and make money",email:{openedCount:100,deliveredCount:900}},{id:"23426",title:"How to turn your amateur blogging into a real business",email:{openedCount:500,deliveredCount:1600}}],this.mrrStats=r.map((e=>({date:e.date,mrr:5*e.paid})))}},g=T(h.prototype,"enabled",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=T(h.prototype,"generateDays",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),f=T(h.prototype,"siteStatus",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=T(h.prototype,"memberCounts",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=T(h.prototype,"memberCountStats",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=T(h.prototype,"mrrStats",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=T(h.prototype,"paidMembersByCadence",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=T(h.prototype,"paidMembersByTier",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=T(h.prototype,"membersLastSeen30d",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=T(h.prototype,"membersLastSeen7d",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=T(h.prototype,"newsletterSubscribers",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=T(h.prototype,"emailsSent30d",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=T(h.prototype,"emailOpenRateStats",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h)
e.default=S})),define("ghost-admin/services/dashboard-stats",["exports","moment","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L,R,U,N,F,B,V
function H(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function q(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let $=(i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,g=Ember._tracked,b=Ember._tracked,f=Ember._tracked,v=(0,n.task)({restartable:!0}),y=(0,n.task)({restartable:!0}),w=(0,n.task)({restartable:!0}),E=(0,n.task)({restartable:!0}),k=(0,n.task)({restartable:!0}),P=(0,n.task)({restartable:!0}),O=(0,n.task)({restartable:!0}),j=(0,n.task)({restartable:!0}),_=(0,n.task)({restartable:!0}),z=class extends Ember.Service{constructor(){super(...arguments),H(this,"dashboardMocks",x,this),H(this,"store",T,this),H(this,"siteStatus",S,this),H(this,"memberCounts",M,this),H(this,"memberCountStats",C,this),H(this,"mrrStats",D,this),H(this,"paidMembersByCadence",A,this),H(this,"paidMembersByTier",I,this),H(this,"membersLastSeen30d",L,this),H(this,"membersLastSeen7d",R,this),H(this,"newsletterSubscribers",U,this),H(this,"emailsSent30d",N,this),H(this,"emailOpenRateStats",F,this),H(this,"chartDays",B,this),H(this,"lastSeenFilterStatus",V,this)}loadSiteStatus(){return this._loadSiteStatus.perform()}*_loadSiteStatus(){if(this.siteStatus=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.loadSiteStatus(),void(this.siteStatus={...this.dashboardMocks.siteStatus})
this.siteStatus={hasPaidTiers:!0,stripeEnabled:!0,newslettersEnabled:!0,membersEnabled:!0}}loadMembersCounts(){return this._loadMembersCounts.perform()}*_loadMembersCounts(){if(this.memberCounts=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),null===this.dashboardMocks.memberCounts?null:void(this.memberCounts={...this.dashboardMocks.memberCounts})}loadMemberCountStats(){return this._loadMemberCountStats.perform()}*_loadMemberCountStats(){if(this.memberCountStats=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),null===this.dashboardMocks.memberCountStats?null:void(this.memberCountStats=this.fillMissingDates(this.dashboardMocks.memberCountStats.slice(-this.chartDays),{paid:0,free:0,comped:0},this.chartDays))}loadMrrStats(){return this._loadMrrStats.perform()}*_loadMrrStats(){if(this.mrrStats=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),null===this.dashboardMocks.mrrStats?null:void(this.mrrStats=this.fillMissingDates(this.dashboardMocks.mrrStats.slice(-this.chartDays),{mrr:0},this.chartDays))}loadLastSeen(){return this._loadLastSeen.perform()}*_loadLastSeen(){if(this.membersLastSeen30d=null,this.membersLastSeen7d=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),this.lastSeenFilterStatus,this.membersLastSeen30d=this.dashboardMocks.membersLastSeen30d,void(this.membersLastSeen7d=this.dashboardMocks.membersLastSeen7d)}loadPaidMembersByCadence(){return this._loadPaidMembersByCadence.perform()}*_loadPaidMembersByCadence(){if(this.paidMembersByCadence=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),void(this.paidMembersByCadence={...this.dashboardMocks.paidMembersByCadence})}loadPaidMembersByTier(){return this._loadPaidMembersByTier.perform()}*_loadPaidMembersByTier(){if(this.paidMembersByTier=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),void(this.paidMembersByTier=this.dashboardMocks.paidMembersByTier.slice())}loadNewsletterSubscribers(){return this._loadNewsletterSubscribers.perform()}*_loadNewsletterSubscribers(){if(this.newsletterSubscribers=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),void(this.newsletterSubscribers=this.dashboardMocks.newsletterSubscribers)}loadEmailsSent(){return this._loadEmailsSent.perform()}*_loadEmailsSent(){if(this.emailsSent30d=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),void(this.emailsSent30d=this.dashboardMocks.emailsSent30d)}loadEmailOpenRateStats(){return this._loadEmailOpenRateStats.perform()}*_loadEmailOpenRateStats(){if(this.emailOpenRateStats=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),void(this.emailOpenRateStats=this.dashboardMocks.emailOpenRateStats)
const e=yield this.store.query("post",{limit:5,filter:"status:published",order:"published_at desc"})
this.emailOpenRateStats=e}reloadAll(){this.loadMembersCounts(),this.loadMrrStats(),this.loadMemberCountStats(),this.loadLastSeen(),this.loadPaidMembersByCadence(),this.loadPaidMembersByTier(),this.loadNewsletterSubscribers(),this.loadEmailsSent(),this.loadEmailOpenRateStats()}fillMissingDates(e,n,i){let r=(0,t.default)().subtract(i,"days"),a=(0,t.default)().add(1,"hour")
const s=[],o=e.findIndex((e=>(0,t.default)(e.date).isAfter(r)))
let l=o>0?e[o-1]:null
0!==o||l||(l=e[o]),e.length>0&&!l&&0!==o&&(l=e[e.length-1])
let u=l||n
for(;r.isBefore(a);){let t=r.format("YYYY-MM-DD")
const n=e.find((e=>e.date===t))
u=n||{...u,date:t},s.push(u),r=r.add(1,"day")}return s}},x=q(z.prototype,"dashboardMocks",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=q(z.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=q(z.prototype,"siteStatus",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=q(z.prototype,"memberCounts",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=q(z.prototype,"memberCountStats",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=q(z.prototype,"mrrStats",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=q(z.prototype,"paidMembersByCadence",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=q(z.prototype,"paidMembersByTier",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=q(z.prototype,"membersLastSeen30d",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=q(z.prototype,"membersLastSeen7d",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=q(z.prototype,"newsletterSubscribers",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=q(z.prototype,"emailsSent30d",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=q(z.prototype,"emailOpenRateStats",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=q(z.prototype,"chartDays",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),V=q(z.prototype,"lastSeenFilterStatus",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"total"}}),q(z.prototype,"_loadSiteStatus",[n.task],Object.getOwnPropertyDescriptor(z.prototype,"_loadSiteStatus"),z.prototype),q(z.prototype,"_loadMembersCounts",[v],Object.getOwnPropertyDescriptor(z.prototype,"_loadMembersCounts"),z.prototype),q(z.prototype,"_loadMemberCountStats",[y],Object.getOwnPropertyDescriptor(z.prototype,"_loadMemberCountStats"),z.prototype),q(z.prototype,"_loadMrrStats",[w],Object.getOwnPropertyDescriptor(z.prototype,"_loadMrrStats"),z.prototype),q(z.prototype,"_loadLastSeen",[E],Object.getOwnPropertyDescriptor(z.prototype,"_loadLastSeen"),z.prototype),q(z.prototype,"_loadPaidMembersByCadence",[k],Object.getOwnPropertyDescriptor(z.prototype,"_loadPaidMembersByCadence"),z.prototype),q(z.prototype,"_loadPaidMembersByTier",[P],Object.getOwnPropertyDescriptor(z.prototype,"_loadPaidMembersByTier"),z.prototype),q(z.prototype,"_loadNewsletterSubscribers",[O],Object.getOwnPropertyDescriptor(z.prototype,"_loadNewsletterSubscribers"),z.prototype),q(z.prototype,"_loadEmailsSent",[j],Object.getOwnPropertyDescriptor(z.prototype,"_loadEmailsSent"),z.prototype),q(z.prototype,"_loadEmailOpenRateStats",[_],Object.getOwnPropertyDescriptor(z.prototype,"_loadEmailOpenRateStats"),z.prototype),z)
e.default=$})),define("ghost-admin/services/data-cache",["exports"],(function(e){function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends Ember.Service{constructor(){super(...arguments),t(this,"cache",{}),t(this,"timeouts",{})}get(e){return this.cache[e]}set(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e4
return this.cache[e]=t,this.timeouts[e]=window.setTimeout((()=>{delete this.cache[e],delete this.timeouts[e]}),n),this.cache[e]}clear(){this._clearAllTimeouts(),this.cache={},this.timeouts={}}willDestroy(){this._clearAllTimeouts()}_clearAllTimeouts(){Object.keys(this.timeouts).forEach((e=>window.clearTimeout(this.timeouts[e])))}}e.default=n})),define("ghost-admin/services/drag-coordinator",["exports","ember-drag-drop/services/drag-coordinator"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default
e.default=n})),define("ghost-admin/services/dropdown",["exports","jquery","ghost-admin/mixins/body-event-listener"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends(Ember.Service.extend(Ember.Evented,n.default)){bodyClick(e){(0,t.default)(e.target).closest(".ember-basic-dropdown-trigger, .ember-basic-dropdown-content").length<=0&&this.closeDropdowns()}closeDropdowns(){this.trigger("close")}toggleDropdown(e,t){this.trigger("toggle",{target:e,button:t})}}e.default=i})),define("ghost-admin/services/ella-sparse",["exports","ember-ella-sparse/services/ella-sparse"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/ember-load-config",["exports","ember-load/services/ember-load-config","ghost-admin/config/environment"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=n.default["ember-load"]||{}
var r=t.default.extend({loadingIndicatorClass:i.loadingIndicatorClass})
e.default=r})),define("ghost-admin/services/event-bus",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends(Ember.Service.extend(Ember.Evented)){publish(){return this.trigger(...arguments)}subscribe(){return this.on(...arguments)}unsubscribe(){return this.off(...arguments)}}e.default=t})),define("ghost-admin/services/feature",["exports","jquery"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T,S,M,C,D,A,I,L,R,U,N,F,B,V,H,q,$,Y,W,K
function G(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function Z(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function J(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{user:n,onChange:i}=t,r=n?[`accessibility.${e}`]:[`config.${e}`,`labs.${e}`]
return Ember.computed.apply(Ember,r.concat({get(){let t=!1
return t=n?this.get(`accessibility.${e}`):this.get(`config.${e}`)?this.get(`config.${e}`):this.get(`labs.${e}`)||!1,t},set(e,n){return this.update(e,n,t),i&&this.get(i).bind(this)(n),n}}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.feature=J
let X=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=J("emailAnalytics"),u=J("nightShift",{user:!0,onChange:"_setAdminTheme"}),d=J("multipleProducts"),c=J("dashboardV5"),p=J("oauthLogin"),m=J("membersActivity"),h=J("urlCache"),g=J("beforeAfterCard"),b=J("multipleNewsletters"),f=J("tweetGridCard"),v=J("membersActivityFeed"),y=J("improvedOnboarding"),w=J("tierWelcomePages"),E=J("tierName"),k=J("membersTableStatus"),P=J("selectablePortalLinks"),O=Ember.computed("settings.labs"),j=Ember.computed("_user.accessibility"),_=class extends Ember.Service{constructor(){super(...arguments),G(this,"store",z,this),G(this,"config",x,this),G(this,"session",T,this),G(this,"settings",S,this),G(this,"notifications",M,this),G(this,"lazyLoader",C,this),G(this,"emailAnalytics",D,this),G(this,"nightShift",A,this),G(this,"multipleProducts",I,this),G(this,"dashboardV5",L,this),G(this,"oauthLogin",R,this),G(this,"membersActivity",U,this),G(this,"urlCache",N,this),G(this,"beforeAfterCard",F,this),G(this,"multipleNewsletters",B,this),G(this,"tweetGridCard",V,this),G(this,"membersActivityFeed",H,this),G(this,"improvedOnboarding",q,this),G(this,"tierWelcomePages",$,this),G(this,"tierName",Y,this),G(this,"membersTableStatus",W,this),G(this,"selectablePortalLinks",K,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_user",null)}get labs(){let e=this.get("settings.labs")
try{return JSON.parse(e)||{}}catch(t){return{}}}get accessibility(){let e=this.get("_user.accessibility")
try{return JSON.parse(e)||{}}catch(t){return{}}}fetch(){return this.settings.fetch().then((()=>(this.set("_user",this.session.user),this._setAdminTheme().then((()=>!0)))))}update(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.user?"accessibility":"labs",r=this.get(n.user?"_user":"settings"),a=this.get(i)
return Ember.set(a,e,t),n.requires&&!0===t&&n.requires.forEach((e=>{Ember.set(a,e,!0)})),r.set(i,JSON.stringify(a)),r.save().then((()=>(this.notifyPropertyChange(i),this.get(`${i}.${e}`)))).catch((t=>{if(r.rollbackAttributes(),this.notifyPropertyChange(i),!t)throw new Ember.Error(`Validation of the feature service ${n.user?"user":"settings"} model failed when updating ${i}.`)
return this.notifications.showAPIError(t),this.get(`${i}.${e}`)}))}_setAdminTheme(e){let n=e
return void 0===n&&(n=e||this.nightShift),this.lazyLoader.loadStyle("dark","assets/ghost-dark-146c4c688b47d45c4aa018ee0f79cebc.css",!0).then((()=>{(0,t.default)("link[title=dark]").prop("disabled",!n)})).catch((()=>{(0,t.default)("link[title=dark]").prop("disabled",!0)}))}},z=Z(_.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=Z(_.prototype,"config",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=Z(_.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=Z(_.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=Z(_.prototype,"notifications",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=Z(_.prototype,"lazyLoader",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=Z(_.prototype,"emailAnalytics",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=Z(_.prototype,"nightShift",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=Z(_.prototype,"multipleProducts",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=Z(_.prototype,"dashboardV5",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=Z(_.prototype,"oauthLogin",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=Z(_.prototype,"membersActivity",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=Z(_.prototype,"urlCache",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=Z(_.prototype,"beforeAfterCard",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=Z(_.prototype,"multipleNewsletters",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Z(_.prototype,"tweetGridCard",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=Z(_.prototype,"membersActivityFeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=Z(_.prototype,"improvedOnboarding",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=Z(_.prototype,"tierWelcomePages",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=Z(_.prototype,"tierName",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=Z(_.prototype,"membersTableStatus",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=Z(_.prototype,"selectablePortalLinks",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z(_.prototype,"labs",[O],Object.getOwnPropertyDescriptor(_.prototype,"labs"),_.prototype),Z(_.prototype,"accessibility",[j],Object.getOwnPropertyDescriptor(_.prototype,"accessibility"),_.prototype),_)
e.default=X})),define("ghost-admin/services/frontend",["exports","fetch","validator"],(function(e,t,n){var i,r,a,s,o,l,u
function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=class extends Ember.Service{constructor(){super(...arguments),d(this,"settings",o,this),d(this,"config",l,this),d(this,"ajax",u,this),c(this,"_hasLoggedIn",!1),c(this,"_lastPassword",null)}get hasPasswordChanged(){return this._lastPassword!==this.settings.get("password")}getUrl(e){const t=new URL(this.config.get("blogUrl")),n=`${t.pathname.endsWith("/")?t.pathname:`${t.pathname}/`}${e.replace(/^\//,"")}`
return`${t.origin}${n}`}async loginIfNeeded(){if(this.settings.get("isPrivate")&&(this.hasPasswordChanged||!this._hasLoggedIn)){const e=this.getUrl("/private/?r=%2F")
return this._lastPassword=this.settings.get("password"),(0,t.default)(e,{method:"POST",mode:"cors",redirect:"manual",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`password=${this._lastPassword}`}).then((()=>{this._hasLoggedIn=!0})).catch((e=>(console.error(e),!0)))}}async fetch(e,i){await this.loginIfNeeded()
let r=e
return n.default.isURL(e)||(r=this.getUrl(e)),(0,t.default)(r,{mode:"cors",credentials:"include",...i})}},o=p(s.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(s.prototype,"config",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(s.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=m})),define("ghost-admin/services/ghost-paths",["exports","ghost-admin/utils/ghost-paths"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends(Ember.Service.extend((0,t.default)())){}e.default=n})),define("ghost-admin/services/in-viewport",["exports","ember-in-viewport/services/in-viewport"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/infinity",["exports","ember-infinity/services/infinity"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/keyboard",["exports","ember-keyboard/services/keyboard"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/koenig-drag-drop-handler",["exports","koenig-editor/services/koenig-drag-drop-handler"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/koenig-ui",["exports","koenig-editor/services/koenig-ui"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/lazy-loader",["exports","ghost-admin/config/environment"],(function(e,t){var n,i,r,a,s
function o(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(n=Ember.inject.service,i=Ember.inject.service,r=class extends Ember.Service{constructor(){super(...arguments),o(this,"ajax",a,this),o(this,"ghostPaths",s,this),l(this,"testing",void 0),l(this,"scriptPromises",null)}init(){super.init(...arguments),this.scriptPromises={},void 0===this.testing&&(this.testing="test"===t.default.environment)}loadScript(e,t){if(this.testing)return Ember.RSVP.resolve()
if(this.scriptPromises[e])return this.scriptPromises[e]
let n=new Ember.RSVP.Promise(((e,n)=>{let{adminRoot:i}=this.ghostPaths,r=document.createElement("script")
r.type="text/javascript",r.async=!0,r.src=`${i}${t}`
let a=document.getElementsByTagName("script")[0]
a.parentNode.insertBefore(r,a),r.addEventListener("load",(()=>{e()})),r.addEventListener("error",(()=>{n(new Error(`${t} failed to load`))}))}))
return this.scriptPromises[e]=n,n}loadStyle(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]
return this.testing||document.querySelector(`#${e}-styles`)?Ember.RSVP.resolve():new Ember.RSVP.Promise(((i,r)=>{let a=document.createElement("link")
a.id=`${e}-styles`,a.rel=n?"alternate stylesheet":"stylesheet",a.href=`${this.ghostPaths.adminRoot}${t}`,a.onload=()=>{a.onload=null,n&&(a.disabled=!0),i()},a.onerror=r,n&&(a.title=e),document.querySelector("head").appendChild(a)}))}},a=u(r.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u(r.prototype,"ghostPaths",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=d})),define("ghost-admin/services/limit",["exports","@tryghost/limit-service"],(function(e,t){var n,i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class c{constructor(e){let{errorType:t,errorDetails:n,message:i}=e
this.errorType=t,this.errorDetails=n,this.message=i}}class p extends c{constructor(e){super(Object.assign({errorType:"IncorrectUsageError"},e))}}class m extends c{constructor(e){super(Object.assign({errorType:"HostLimitError"},e))}}let h=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=class extends Ember.Service{constructor(){super(...arguments),u(this,"config",s,this),u(this,"store",o,this),u(this,"membersStats",l,this)
let e,n=this.config.get("hostSettings.limits")
if(this.limiter=new t.default,n)return e=this.config.get("hostSettings.billing.enabled")&&!0===this.config.get("hostSettings.billing.enabled")&&this.config.get("hostSettings.billing.url")?this.config.get("hostSettings.billing.url"):"https://ghost.org/help/",this.limiter.loadLimits({limits:this.decorateWithCountQueries(n),helpLink:e,errors:{HostLimitError:m,IncorrectUsageError:p}})}async checkWouldGoOverLimit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return this.limiter.checkWouldGoOverLimit(e,t)}decorateWithCountQueries(e){return e.staff&&(e.staff.currentCountQuery=Ember.run.bind(this,this.getStaffUsersCount)),e.members&&(e.members.currentCountQuery=Ember.run.bind(this,this.getMembersCount)),e}async getStaffUsersCount(){return Ember.RSVP.hash({users:this.store.findAll("user",{reload:!0}),invites:this.store.findAll("invite",{reload:!0}),roles:this.store.findAll("role",{reload:!0})}).then((e=>{const t=e.users.filter((e=>"inactive"!==e.get("status")&&"Contributor"!==e.role.get("name"))),n=e.invites.filter((e=>"Contributor"!==e.role.get("name")))
return t.length+n.length}))}async getMembersCount(){return(await this.membersStats.fetchCounts()).total}},s=d(a.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(a.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(a.prototype,"membersStats",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=h})),define("ghost-admin/services/liquid-fire-transitions",["exports","liquid-wormhole/services/liquid-fire-transitions"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/liquid-wormhole",["exports","liquid-wormhole/services/liquid-wormhole"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/media-queries",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t={maxWidth600:"(max-width: 600px)",isMobile:"(max-width: 800px)",maxWidth900:"(max-width: 900px)",maxWidth1000:"(max-width: 1000px)"}
class n extends(Ember.Service.extend(Ember.Evented)){init(){super.init(...arguments),this._handlers=[],this.loadQueries(t)}loadQueries(e){Object.keys(e).forEach((t=>{this.loadQuery(t,e[t])}))}loadQuery(e,t){let n=window.matchMedia(t)
this.set(e,n.matches)
let i=Ember.run.bind(this,(()=>{let t=this.get(e),i=n.matches
t!==i&&(this.set(e,i),this.trigger("change",e,i))}))
n.addListener(i),this._handlers.push([n,i])}willDestroy(){this._handlers.forEach((e=>{let[t,n]=e
t.removeListener(n)})),super.willDestroy(...arguments)}}e.default=n})),define("ghost-admin/services/media",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{}e.default=t})),define("ghost-admin/services/member-import-validator",["exports","validator"],(function(e,t){var n,i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=class extends Ember.Service{constructor(){super(...arguments),u(this,"ajax",s,this),u(this,"membersUtils",o,this),u(this,"ghostPaths",l,this)}check(e){let t=this._sampleData(e)
return this._detectDataTypes(t)}_sampleData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=[{}]
if(e&&e.length>t){Object.keys(e[0]).forEach((function(i){const r=e.filter((e=>!Ember.isEmpty(e[i])))
let a=[]
if(r.length<=t)a=r
else{const i=t/3,r=e.slice(0,i),a=e.slice(e.length-i,e.length),s=Math.floor(e.length/2),o=s-2,l=s+3,u=e.slice(o,l)
n.push(...r),n.push(...u),n.push(...a)}a.forEach(((e,t)=>{n[t]||(n[t]={}),n[t][i]=e[i]}))}))}else n=e
return n}_detectDataTypes(e){const n=["email","name","note","subscribed_to_emails","labels","created_at"],i=["email"]
let r={},a=0
for(;a<=e.length-1&&(!r.email||!r.stripe_customer_id);){let s=e[a]
for(const[e,a]of Object.entries(s))r.email||!t.default.isEmail(a)?r.name||!/name/.test(e)?r[e]||!n.includes(e)||i.includes(e)||(r[e]=e):r.name=e:r.email=e
a+=1}return r}},s=d(a.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(a.prototype,"membersUtils",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(a.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=c})),define("ghost-admin/services/members-count-cache",["exports","moment","ghost-admin/helpers/gh-pluralize","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(r=Ember.inject.service,a=Ember.inject.service,s=class extends Ember.Service{constructor(){super(...arguments),u(this,"session",o,this),u(this,"store",l,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"cache",{})}async count(e){const n=this.cache[e]
if(n&&(0,t.default)().diff(n.time,"seconds")>60)return n.count
const i=this._countMembersTask.perform(e)
return this.cache[e]={count:i,time:(0,t.default)()},i}async countString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{knownCount:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const i=this.session.user,r=e.replace(/^subscribed:true\+\((.*)\)$/,"$1").split(","),a=1===r.length&&"status:free"===r[0],s=1===r.length&&"status:-free"===r[0],o=!e||r.includes("status:free")&&r.includes("status:-free")
if(i.isEditor&&void 0===t)return a?"all free members":s?"all paid members":o?"all members":"a custom members segment"
const l=void 0!==t?t:await this.count(e)
return a?(0,n.ghPluralize)(l,"free member"):s?(0,n.ghPluralize)(l,"paid member"):(0,n.ghPluralize)(l,"member")}*_countMembersTask(e){if(!e)return 0
try{return(yield this.store.query("member",{filter:e,limit:1,page:1})).meta.pagination.total}catch(t){return console.error(t),0}}},o=d(s.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"_countMembersTask",[i.task],Object.getOwnPropertyDescriptor(s.prototype,"_countMembersTask"),s.prototype),s)
e.default=c})),define("ghost-admin/services/members-stats",["exports","moment","ember-concurrency"],(function(e,t,n){var i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E
function k(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function P(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const O=6e4
let j=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=class extends Ember.Service{constructor(){super(...arguments),k(this,"ajax",m,this),k(this,"ghostPaths",h,this),k(this,"store",g,this),k(this,"days",b,this),k(this,"stats",f,this),k(this,"events",v,this),k(this,"countStats",y,this),k(this,"mrrStats",w,this),k(this,"newsletterStats",E,this)}fetch(){let e=this._lastFetchedDays!==this.days,t=this._lastFetched&&new Date-this._lastFetched>O
return!this._fetchTask.isRunning||this._forceRefresh||e?!this.stats||this._forceRefresh||e||t?this._fetchTask.perform():Promise.resolve(this.stats):this._fetchTask.last}fetchCounts(){let e=this._lastFetchedCounts&&new Date-this._lastFetchedCounts>O
return this._fetchCountsTask.isRunning?this._fetchCountsTask.last:!this.countStats||this._forceRefresh||e?this._fetchCountsTask.perform():Promise.resolve(this.countStats)}fetchNewsletterStats(){let e=this._lastFetchedNewsletterStats&&new Date-this._lastFetchedNewsletterStats>O
return this._fetchNewsletterStatsTask.isRunning?this._fetchNewsletterStatsTask.last:!this.newsletterStats||this._forceRefresh||e?this._fetchNewsletterStatsTask.perform():Promise.resolve(this.newsletterStats)}fillDates(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,t.default)().subtract(30,"days"),i=(0,t.default)().add(1,"hour")
const r={},a=e.findIndex((e=>(0,t.default)(e.date).isAfter(n)))
let s=a>0?e[a-1]:null
0!==a||s||(s=e[a]),e.length>0&&!s&&0!==a&&(s=e[e.length-1])
let o=s?s.value:0
for(;n.isBefore(i);){let t=n.format("YYYY-MM-DD")
const i=e.find((e=>e.date===t))
r[t]=i?i.value:o,o=r[t],n=n.add(1,"day")}return r}fillCountDates(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.default)().subtract(30,"days"),i=(0,t.default)().add(1,"hour")
const r={},a=e.findIndex((e=>(0,t.default)(e.date).isAfter(n)))
let s=a>0?e[a-1]:null
0!==a||s||(s=e[a]),e.length>0&&!s&&0!==a&&(s=e[e.length-1])
let o={paid:s?s.paid:0,free:s?s.free:0,comped:s?s.comped:0,total:s?s.paid+s.free+s.comped:0}
for(;n.isBefore(i);){let t=n.format("YYYY-MM-DD")
const i=e.find((e=>e.date===t))
r[t]=i?{paid:i.paid,free:i.free,comped:i.comped,total:i.paid+i.free+i.comped}:o,o=r[t],n=n.add(1,"day")}return r}fetchMRR(){let e=this._lastFetchedMRR&&new Date-this._lastFetchedMRR>O
return this._fetchMRRTask.isRunning?this._fetchMRRTask.last:!this.mrrStats||this._forceRefresh||e?this._fetchMRRTask.perform():Promise.resolve(this.mrrStats)}invalidate(){this._forceRefresh=!0}*_fetchNewsletterStatsTask(){let e={filter:"email_count:-0",order:"submitted_at desc",limit:5}
const n=yield this.store.query("email",e),i=n.toArray()
let r=i.map((e=>({subject:e.subject,submittedAt:(0,t.default)(e.submittedAtUTC).format("YYYY-MM-DD"),openRate:e.openRate})))
const a=[]
if(i.length<5){const e=5-i.length,r=i.length>0?i[n.length-1].submittedAtUTC:(0,t.default)()
for(let n=0;n<e;n++)a.push({subject:"",submittedAt:(0,t.default)(r).subtract(n+1,"days").format("YYYY-MM-DD"),openRate:0})}return r=r.concat(a),r.reverse(),this.newsletterStats=r,r}*_fetchCountsTask(){this._lastFetchedCounts=new Date
let e=this.ghostPaths.url.api("members/stats/count"),t=yield this.ajax.request(e)
return this.countStats=t,t}*_fetchMRRTask(){this._lastFetchedMRR=new Date
let e=this.ghostPaths.url.api("members/stats/mrr"),t=yield this.ajax.request(e)
return this.mrrStats=t,t}*_fetchTask(){let{days:e}=this
this._lastFetchedDays=e,this._lastFetched=new Date,this._forceRefresh=!1
let t=this.ghostPaths.url.api("members/stats"),n=yield this.ajax.request(t,{data:{days:e}})
return this.stats=n,n}},m=P(p.prototype,"ajax",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=P(p.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=P(p.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=P(p.prototype,"days",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"30"}}),f=P(p.prototype,"stats",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=P(p.prototype,"events",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=P(p.prototype,"countStats",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=P(p.prototype,"mrrStats",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=P(p.prototype,"newsletterStats",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P(p.prototype,"_fetchNewsletterStatsTask",[n.task],Object.getOwnPropertyDescriptor(p.prototype,"_fetchNewsletterStatsTask"),p.prototype),P(p.prototype,"_fetchCountsTask",[n.task],Object.getOwnPropertyDescriptor(p.prototype,"_fetchCountsTask"),p.prototype),P(p.prototype,"_fetchMRRTask",[n.task],Object.getOwnPropertyDescriptor(p.prototype,"_fetchMRRTask"),p.prototype),P(p.prototype,"_fetchTask",[n.task],Object.getOwnPropertyDescriptor(p.prototype,"_fetchTask"),p.prototype),p)
e.default=j}))
define("ghost-admin/services/members-utils",["exports"],(function(e){var t,n,i,r,a,s,o,l,u
function d(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function c(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(t=Ember.inject.service,n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=class extends Ember.Service{constructor(){super(...arguments),d(this,"config",s,this),d(this,"settings",o,this),d(this,"feature",l,this),d(this,"store",u,this)}get isMembersEnabled(){return"none"!==this.settings.get("membersSignupAccess")}get isStripeEnabled(){const e=this.config.get("stripeDirect"),t=!!this.settings.get("stripeSecretKey")&&!!this.settings.get("stripePublishableKey"),n=!!this.settings.get("stripeConnectSecretKey")&&!!this.settings.get("stripeConnectPublishableKey")
return e?t:n||t}get defaultButtonIcons(){return[{icon:"portal-icon-1",value:"icon-1"},{icon:"portal-icon-2",value:"icon-2"},{icon:"portal-icon-3",value:"icon-3"},{icon:"portal-icon-4",value:"icon-4"},{icon:"portal-icon-5",value:"icon-5"}]}get defaultIconKeys(){return this.defaultButtonIcons.map((e=>e.value))}get buttonIcon(){return this.settings.get("portalButtonIcon")||this.defaultIconKeys[0]}get isFreeChecked(){const e=this.settings.get("portalPlans")||[]
return!("all"!==this.settings.get("membersSignupAccess")||!e.includes("free"))}get isMonthlyChecked(){const e=this.settings.get("portalPlans")||[]
return!(!this.isStripeConfigured||!e.includes("monthly"))}get isYearlyChecked(){const e=this.settings.get("portalPlans")||[]
return!(!this.isStripeConfigured||!e.includes("yearly"))}getPortalPreviewUrl(e){let{disableBackground:t=!1,page:n="signup",button:i=this.settings.get("portalButton"),buttonIcon:r=this.buttonIcon,isFreeChecked:a=this.isFreeChecked,isMonthlyChecked:s=this.isMonthlyChecked,isYearlyChecked:o=this.isYearlyChecked,monthlyPrice:l,yearlyPrice:u,portalPlans:d=this.settings.get("portalPlans"),portalProducts:c,currency:p,membersSignupAccess:m=this.settings.get("membersSignupAccess")}=e
const h=this.store.peekAll("product")||[]
c=c||h.filter((e=>"public"===e.visibility&&"paid"===e.type)).map((e=>e.id))
const g=this.config.get("blogUrl"),b=new URLSearchParams,f=this.settings.get("portalButtonSignupText")||"",v="all"===m&&(!this.isStripeEnabled||a)
return b.append("button",i),b.append("name",this.settings.get("portalName")),b.append("isFree",a),b.append("isMonthly",s),b.append("isYearly",o),b.append("page",n),b.append("buttonIcon",encodeURIComponent(r)),b.append("signupButtonText",encodeURIComponent(f)),b.append("membersSignupAccess",m),b.append("allowSelfSignup",v),d&&b.append("portalPrices",encodeURIComponent(d)),c&&this.feature.get("multipleProducts")&&b.append("portalProducts",encodeURIComponent(c)),(""===this.settings.get("accentColor")||this.settings.get("accentColor"))&&b.append("accentColor",encodeURIComponent(`${this.settings.get("accentColor")}`)),this.settings.get("portalButtonStyle")&&b.append("buttonStyle",encodeURIComponent(this.settings.get("portalButtonStyle"))),l&&b.append("monthlyPrice",l),u&&b.append("yearlyPrice",u),p&&b.append("currency",p),t&&b.append("disableBackground",!0),`${g}/#/portal/preview?${b.toString()}`}getOfferPortalPreviewUrl(e){const{disableBackground:t=!1,name:n,code:i,displayTitle:r="",displayDescription:a="",type:s,cadence:o,amount:l=0,duration:u,durationInMonths:d,currency:c="usd",status:p,tierId:m}=e,h=this.config.get("blogUrl"),g=new URLSearchParams
return g.append("name",encodeURIComponent(n)),g.append("code",encodeURIComponent(i)),g.append("display_title",encodeURIComponent(r)),g.append("display_description",encodeURIComponent(a)),g.append("type",encodeURIComponent(s)),g.append("cadence",encodeURIComponent(o)),g.append("amount",encodeURIComponent(l)),g.append("duration",encodeURIComponent(u)),g.append("duration_in_months",encodeURIComponent(d)),g.append("currency",encodeURIComponent(c)),g.append("status",encodeURIComponent(p)),g.append("tier_id",encodeURIComponent(m)),t&&g.append("disableBackground","true"),`${h}/#/portal/preview/offer?${g.toString()}`}},s=c(a.prototype,"config",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=c(a.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(a.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c(a.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=p})),define("ghost-admin/services/modals",["exports","ember-promise-modals/services/modals"],(function(e,t){var n,i,r
function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="dropdown",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),a(this,"DEFAULT_OPTIONS",{className:"fullscreen-modal-action fullscreen-modal-wide"}),a(this,"focusTrapOptions",{allowOutsideClick:!0,clickOutsideDeactivates:!1,escapeDeactivates:!1})}open(e,t,n){const i=Object.assign({},this.DEFAULT_OPTIONS,e.modalOptions,n)
return super.open(e,t,i)}_onFirstModalAdded(){super._onFirstModalAdded(...arguments),this.addEventHandlers(),this.dropdown.closeDropdowns()}_onLastModalRemoved(){super._onLastModalRemoved(...arguments),this.removeEventHandlers()}addEventHandlers(){this.backdropClickHandler||(this.backdropClickHandler=Ember.run.bind(this,this.handleBackdropClick),document.body.addEventListener("click",this.backdropClickHandler,{capture:!0,passive:!1})),this.escapeKeyHandler||(this.escapeKeyHandler=Ember.run.bind(this,this.handleEscapeKey),document.addEventListener("keydown",this.escapeKeyHandler,{capture:!0,passive:!1}))}removeEventHandlers(){document.body.removeEventListener("click",this.backdropClickHandler,{capture:!0,passive:!1}),this.backdropClickHandler=null,document.removeEventListener("keydown",this.escapeKeyHandler,{capture:!0,passive:!1}),this.escapeKeyHandler=null}handleBackdropClick(e){let t=!0
for(const n of e.path||e.composedPath())if(n.matches?.(".modal-content, .fullscreen-modal-total-overlay, .ember-basic-dropdown-content, a[download]")){t=!1
break}t&&this.top.close()}handleEscapeKey(e){"Escape"===e.key&&this.top.close()}},o=i.prototype,l="dropdown",u=[n],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),c&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(c):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,i)
var o,l,u,d,c,p
e.default=s})),define("ghost-admin/services/moment",["exports","ember-moment/services/moment","ghost-admin/config/environment"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{get:i}=Ember
var r=t.default.extend({defaultFormat:i(n.default,"moment.outputFormat")})
e.default=r})),define("ghost-admin/services/navigation",["exports","@ember-decorators/object"],(function(e,t){var n,i,r,a,s,o,l
function u(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function d(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c={expanded:{posts:!0}}
let p=(n=Ember.inject.service,i=Ember._tracked,r=(0,t.observes)("session.{isAuthenticated,user}","session.user.accessibility"),a=Ember._action,s=class extends Ember.Service{constructor(){super(...arguments),u(this,"session",o,this),u(this,"settings",l,this),this.settings=Object.assign({},c),this.updateSettings()}async updateSettings(){if(!this.session.isAuthenticated||!this.session.user)return
let e=JSON.parse(this.session.user.accessibility||"{}")||{}
this.settings=e.navigation||Object.assign({},c)}async toggleExpansion(e){return this.settings.expanded||(this.settings.expanded={}),Ember.set(this.settings.expanded,e,!this.settings.expanded[e]),await this._saveNavigationSettings()}async _saveNavigationSettings(){let e=this.session.user,t=JSON.parse(e.get("accessibility"))||{}
return t.navigation=this.settings,e.set("accessibility",JSON.stringify(t)),e.save()}},o=d(s.prototype,"session",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"updateSettings",[r],Object.getOwnPropertyDescriptor(s.prototype,"updateSettings"),s.prototype),d(s.prototype,"toggleExpansion",[a],Object.getOwnPropertyDescriptor(s.prototype,"toggleExpansion"),s.prototype),s)
e.default=p})),define("ghost-admin/services/newsletters",["exports"],(function(e){var t,n,i,r,a,s,o,l,u,d,c
function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=0
let g=(t=Ember.inject.service,n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=class extends Ember.Service{constructor(){super(...arguments),p(this,"config",o,this),p(this,"settings",l,this),p(this,"feature",u,this),p(this,"store",d,this),p(this,"newsletters",c,this)}add(){return this.newsletters.push((h+=1,{id:Math.floor(1e9*Math.random()),name:"Daily roundup "+h,description:"Daily news delivered to your inbox every morning.",sender_name:"Test",sender_email:"test@example.com",sender_reply_to:"test@example.com",default:!1,status:"active",recipient_filter:"",subscribe_on_signup:!0,sort_order:h,members:{total:Math.floor(100*Math.random())},posts:{total:Math.floor(100*Math.random())}})),this.newsletters.sort(((e,t)=>e.sort_order-t.sort_order)),this.newsletters=[...this.newsletters],this.newsletters}archive(e){const t=this.newsletters.find((t=>t.id===e))
t&&Ember.set(t,"status","archived")}unArchive(e){const t=this.newsletters.find((t=>t.id===e))
t&&Ember.set(t,"status","active")}},o=m(s.prototype,"config",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=m(s.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(s.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(s.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(s.prototype,"newsletters",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{id:"123",name:"Daily roundup",description:"Daily news delivered to your inbox every morning.",sender_name:"Test",sender_email:"test@example.com",sender_reply_to:"test@example.com",default:!0,status:"active",recipient_filter:"",subscribe_on_signup:!0,sort_order:0,members:{total:19},posts:{total:17}}]}}),s)
e.default=g})),define("ghost-admin/services/notifications",["exports","@sentry/browser","ghost-admin/services/ajax"],(function(e,t,n){var i,r,a,s,o,l,u,d,c
function p(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let g=(i=Ember.inject.service,r=Ember.inject.service,a=Ember.computed.filter("content",(function(e){return"alert"===Ember.get(e,"status")})),s=Ember.computed.filter("content",(function(e){return"notification"===Ember.get(e,"status")})),o=class extends Ember.Service{constructor(){super(...arguments),m(this,"delayedNotifications",null),m(this,"content",null),p(this,"config",l,this),p(this,"upgradeStatus",u,this),p(this,"alerts",d,this),p(this,"notifications",c,this)}init(){super.init(...arguments),this.delayedNotifications=Ember.A(),this.content=Ember.A()}handleNotification(e,t){"notification"===e.constructor.modelName&&"alert"===e.get("status")&&e.set("message",Ember.String.htmlSafe(e.get("message"))),Ember.get(e,"status")||Ember.set(e,"status","notification"),Ember.get(e,"key")&&this._removeItems(Ember.get(e,"status"),Ember.get(e,"key"))
let n=Ember.get(e,"message").string||Ember.get(e,"message")
this.set("content",this.content.reject((e=>(Ember.get(e,"message").string||Ember.get(e,"message"))===n))),t?this.delayedNotifications.pushObject(e):this.content.pushObject(e)}showAlert(e,n){if(!(n=n||{}).isApiError&&this.config.get("sentry_dsn")){const i=Ember.get(e,"string")||e,r={ghost:{displayed_message:i,ghost_error_code:Ember.get(n,"ghostErrorCode"),full_error:e,source:"showAlert"}}
t.captureException(i,{contexts:r,tags:{shown_to_user:!0}})}this.handleNotification({message:e,status:"alert",description:n.description,icon:n.icon,type:n.type,key:n.key,actions:n.actions},n.delayed)}showNotification(e,t){t=t||{},this.handleNotification({message:e,status:"notification",description:t.description,icon:t.icon,type:t.type,key:t.key,actions:t.actions},t.delayed)}showAPIError(e,t){return(0,n.isVersionMismatchError)(e)?this.upgradeStatus.requireUpgrade():(0,n.isMaintenanceError)(e)?this.upgradeStatus.maintenanceAlert():e&&e.payload&&Ember.isArray(e.payload.errors)?e.payload.errors.forEach((e=>{this._showAPIError(e,t)})):void this._showAPIError(e,t)}_showAPIError(e,n){(n=n||{}).type=n.type||"error",n.key||Ember.isBlank(Ember.get(e,"title"))||(n.key=Ember.String.dasherize(Ember.get(e,"title"))),n.key=["api-error",n.key].compact().join(".")
let i=n.defaultErrorText||"There was a problem on the server, please try again."
if(e instanceof String?i=e:Ember.isBlank(Ember.get(e,"detail"))?Ember.isBlank(Ember.get(e,"message"))||(i=e.message):i=e.detail,Ember.isBlank(Ember.get(e,"context"))||(i=`${i} ${Ember.get(e,"context")}`),this.config.get("sentry_dsn")){const n=e instanceof Error?e:i
t.captureException(n,{contexts:{ghost:{ghost_error_code:Ember.get(e,"ghostErrorCode"),displayed_message:i,full_error:e,source:"showAPIError"}},tags:{shown_to_user:!0}})}n.isApiError=!0,this.showAlert(i,n)}displayDelayed(){this.delayedNotifications.forEach((e=>{this.content.pushObject(e)})),this.set("delayedNotifications",[])}closeNotification(e){let t=this.content
"notification"===e.constructor.modelName?(e.deleteRecord(),e.save().finally((()=>{t.removeObject(e)}))):t.removeObject(e)}closeNotifications(e){this._removeItems("notification",e)}closeAlerts(e){this._removeItems("alert",e)}clearAll(){this.content.clear()}_removeItems(e,t){if(t){let n=this._getKeyBase(t).replace(".","\\."),i=new RegExp(`^${n}`)
this.set("content",this.content.reject((t=>{let n=Ember.get(t,"key")
return Ember.get(t,"status")===e&&n&&n.match(i)})))}else this.set("content",this.content.rejectBy("status",e))}_getKeyBase(e){return e.split(".").slice(0,2).join(".")}},l=h(o.prototype,"config",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=h(o.prototype,"upgradeStatus",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(o.prototype,"alerts",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(o.prototype,"notifications",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=g})),define("ghost-admin/services/power-calendar",["exports","ember-power-calendar/services/power-calendar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/resize-detector",["exports","element-resize-detector"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends Ember.Service{constructor(){super(...arguments),this.detector=(0,t.default)({strategy:"scroll"})}setup(e,t){const n="string"==typeof e?document.querySelector(e):e
n||console.error(`service:resize-detector - could not find element matching ${e}`),this.detector.listenTo(n,t)}teardown(e,t){const n="string"==typeof e?document.querySelector(e):e
n&&this.detector.removeListener(n,t)}}e.default=n})),define("ghost-admin/services/session",["exports","ember-simple-auth/services/session","@sentry/browser","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z
function x(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function T(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let S=(r=Ember.inject.service,a=Ember.inject.service("store"),s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember.inject.service,c=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember._tracked,g=(0,i.task)({drop:!0}),b=class extends t.default{constructor(){super(...arguments),x(this,"config",f,this),x(this,"dataStore",v,this),x(this,"feature",y,this),x(this,"notifications",w,this),x(this,"router",E,this),x(this,"frontend",k,this),x(this,"settings",P,this),x(this,"ui",O,this),x(this,"upgradeStatus",j,this),x(this,"whatsNew",_,this),x(this,"user",z,this),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"skipAuthSuccessHandler",!1)}async populateUser(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if(this.user)return
const t=e.id||"me",n=await this.dataStore.queryRecord("user",{id:t})
this.user=n}async postAuthPreparation(){await Ember.RSVP.all([this.config.fetchAuthenticated(),this.feature.fetch(),this.settings.fetch()]),await this.frontend.loginIfNeeded(),this.config.get("sentry_dsn")&&(0,n.configureScope)((e=>{e.addEventProcessor((e=>new Promise((t=>{t({...e,release:`ghost@${this.config.get("version")}`})}))))})),this.loadServerNotifications(),this.whatsNew.fetchLatest.perform()}async handleAuthentication(){return this.handleAuthenticationTask.isRunning?this.handleAuthenticationTask.last:this.handleAuthenticationTask.perform((()=>{this.skipAuthSuccessHandler?this.skipAuthSuccessHandler=!1:super.handleAuthentication("home")}))}handleInvalidation(){let e=this.appLoadTransition
e?e.send("authorizationFailed"):Ember.run.scheduleOnce("routerTransitions",this,"triggerAuthorizationFailed")}triggerAuthorizationFailed(){Ember.getOwner(this).lookup(`route:${this.router.currentRouteName}`).send("authorizationFailed")}loadServerNotifications(){this.isAuthenticated&&(this.user.isAuthorOrContributor||this.dataStore.findAll("notification",{reload:!0}).then((e=>{e.forEach((e=>{e.top||e.custom?this.notifications.handleNotification(e):this.upgradeStatus.handleUpgradeNotification(e)}))})))}*handleAuthenticationTask(e){if(!this.user){try{yield this.populateUser()}catch(t){yield this.invalidate()}yield this.postAuthPreparation()}e()}},f=T(b.prototype,"config",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=T(b.prototype,"dataStore",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=T(b.prototype,"feature",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=T(b.prototype,"notifications",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=T(b.prototype,"router",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=T(b.prototype,"frontend",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T(b.prototype,"settings",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=T(b.prototype,"ui",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=T(b.prototype,"upgradeStatus",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=T(b.prototype,"whatsNew",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=T(b.prototype,"user",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T(b.prototype,"handleAuthenticationTask",[g],Object.getOwnPropertyDescriptor(b.prototype,"handleAuthenticationTask"),b.prototype),b)
e.default=S})),define("ghost-admin/services/settings",["exports","ghost-admin/mixins/validation-engine"],(function(e,t){var n,i,r
function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{_ProxyMixin:s}=Ember
let o=(n=Ember.inject.service,i=class extends(Ember.Service.extend(s,t.default)){constructor(){var e,t,n,i
super(...arguments),e=this,t="store",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),a(this,"content",null),a(this,"validationType","setting"),a(this,"_loadingPromise",null),a(this,"settledIcon","")}_loadSettings(){return this._loadingPromise||(this._loadingPromise=this.store.queryRecord("setting",{group:"site,theme,private,members,portal,newsletter,email,amp,labs,slack,unsplash,views,firstpromoter,oauth,editor"}).then((e=>(this._loadingPromise=null,e)))),this._loadingPromise}fetch(){return this.content?Ember.RSVP.resolve(this):this.reload()}reload(){return this._loadSettings().then((e=>(this.set("content",e),this.set("settledIcon",Ember.get(e,"icon")),this)))}async save(){let e=this.content
return!!e&&(await e.save(),this.set("settledIcon",e.icon),e)}rollbackAttributes(){return this.content?.rollbackAttributes()}changedAttributes(){return this.content?.changedAttributes()}},l=i.prototype,u="store",d=[n],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},m={},Object.keys(c).forEach((function(e){m[e]=c[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=d.slice().reverse().reduce((function(e,t){return t(l,u,e)||e}),m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(l,u,m),m=null),r=m,i)
var l,u,d,c,p,m
e.default=o})),define("ghost-admin/services/slug-generator",["exports"],(function(e){var t,n,i,r,a
function s(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function o(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{resolve:l}=Ember.RSVP
let u=(t=Ember.inject.service,n=Ember.inject.service,i=class extends Ember.Service{constructor(){super(...arguments),s(this,"ghostPaths",r,this),s(this,"ajax",a,this)}generateSlug(e,t){let n
return t?(n=this.get("ghostPaths.url").api("slugs",e,encodeURIComponent(t)),this.ajax.request(n).then((e=>{let[t]=e.slugs,{slug:n}=t
return n}))):l("")}},r=o(i.prototype,"ghostPaths",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=o(i.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i)
e.default=u})),define("ghost-admin/services/store",["exports","ember-data/store"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/tenor",["exports","fetch","tracked-built-ins","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_
function z(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let S=(r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._action,p=Ember._action,m=Ember._action,h=(0,i.task)({restartable:!0}),g=(0,i.task)({group:"loadingTasks"}),b=(0,i.task)({group:"loadingTasks"}),f=(0,i.task)({group:"loadingTasks"}),v=class extends Ember.Service{get apiKey(){return this.config.get("tenor.publicReadOnlyApiKey")}get contentfilter(){return this.config.get("tenor.contentFilter")||"off"}get isLoading(){return this.searchTask.isRunning||this.loadingTasks.isRunning}constructor(){super(...arguments),z(this,"config",y,this),z(this,"columnCount",w,this),z(this,"columns",E,this),z(this,"error",k,this),z(this,"gifs",P,this),z(this,"searchTerm",O,this),z(this,"loadedType",j,this),x(this,"_columnHeights",[]),x(this,"_nextPos",null),z(this,"loadingTasks",_,this),this._resetColumns()}updateSearch(e){if(e!==this.searchTerm)return this.searchTerm=e,this.reset(),e?this.searchTask.perform(e):this.loadTrendingTask.perform()}loadNextPage(){if(!this.searchTask.isRunning)return Ember.isEmpty(this.gifs)?this.loadTrendingTask.perform():void(null!==this._nextPos&&this.loadNextPageTask.perform())}changeColumnCount(e){this.columnCount=e,this._resetColumns()}*searchTask(e){yield(0,i.timeout)(600),this.loadedType="search",yield this._makeRequest(this.loadedType,{params:{q:e,media_filter:"minimal"}})}*loadTrendingTask(){this.loadedType="trending",yield this._makeRequest(this.loadedType,{params:{media_filter:"minimal"}})}*loadNextPageTask(){const e={pos:this._nextPos,media_filter:"minimal"}
"search"===this.loadedType&&(e.q=this.searchTerm),yield this._makeRequest(this.loadedType,{params:e})}*retryLastRequestTask(){this._lastRequestArgs&&(yield this._makeRequest(...this._lastRequestArgs))}reset(){this.gifs=new n.TrackedArray([]),this._nextPos=null,this._resetColumns()}async _makeRequest(e,n){const i=`v1/${e}`.replace(/\/+/,"/"),r=new URL(i,"https://g1.tenor.com"),a=new URLSearchParams(n.params)
return a.set("key",this.apiKey),a.set("contentfilter",this.contentfilter),r.search=a.toString(),this._lastRequestArgs=arguments,this.error="",(0,t.default)(r).then((e=>this._checkStatus(e))).then((e=>e.json())).then((e=>this._extractPagination(e))).then((e=>this._addGifsFromResponse(e))).catch((e=>{n.ignoreErrors||this.error||(this.error="Uh-oh! Trouble reaching the Tenor API, please check your connection"),console.error(e)}))}async _checkStatus(e){if(e.status>=200&&e.status<300)return e
let t
"application/json"===e.headers.map["content-type"]?t=await e.json().then((e=>e.errors[0])):"text/xml"===e.headers.map["content-type"]&&(t=await e.text()),this.error=t
const n=new Error(t)
throw n.response=e,n}async _extractPagination(e){return this._nextPos=e.next,e}async _addGifsFromResponse(e){return e.results.forEach((e=>this._addGif(e))),e}_addGif(e){const[t,n]=e.media[0].tinygif.dims
e.ratio=n/t,this.gifs.push(e),e.index=this.gifs.indexOf(e),this._addGifToColumns(e)}_addGifToColumns(e){const t=Math.min(...this._columnHeights),n=this._columnHeights.indexOf(t)
this._columnHeights[n]+=300*e.ratio,this.columns[n].push(e),e.columnIndex=n,e.columnRowIndex=this.columns[n].length-1}_resetColumns(){let e=new n.TrackedArray([]),t=[]
for(let i=0;i<this.columnCount;i+=1)e[i]=new n.TrackedArray([]),t[i]=0
this.columns=e,this._columnHeights=t,Ember.isEmpty(this.gifs)||this.gifs.forEach((e=>{this._addGifToColumns(e)}))}},y=T(v.prototype,"config",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=T(v.prototype,"columnCount",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),E=T(v.prototype,"columns",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=T(v.prototype,"error",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=T(v.prototype,"gifs",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n.TrackedArray([])}}),O=T(v.prototype,"searchTerm",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=T(v.prototype,"loadedType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"trending"}}),T(v.prototype,"updateSearch",[c],Object.getOwnPropertyDescriptor(v.prototype,"updateSearch"),v.prototype),T(v.prototype,"loadNextPage",[p],Object.getOwnPropertyDescriptor(v.prototype,"loadNextPage"),v.prototype),T(v.prototype,"changeColumnCount",[m],Object.getOwnPropertyDescriptor(v.prototype,"changeColumnCount"),v.prototype),T(v.prototype,"searchTask",[h],Object.getOwnPropertyDescriptor(v.prototype,"searchTask"),v.prototype),_=T(v.prototype,"loadingTasks",[i.taskGroup],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T(v.prototype,"loadTrendingTask",[g],Object.getOwnPropertyDescriptor(v.prototype,"loadTrendingTask"),v.prototype),T(v.prototype,"loadNextPageTask",[b],Object.getOwnPropertyDescriptor(v.prototype,"loadNextPageTask"),v.prototype),T(v.prototype,"retryLastRequestTask",[f],Object.getOwnPropertyDescriptor(v.prototype,"retryLastRequestTask"),v.prototype),v)
e.default=S})),define("ghost-admin/services/text-measurer",["exports","ember-text-measurer/services/text-measurer"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/theme-management",["exports","ghost-admin/config/environment","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,n,i){var r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x
function T(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let C=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,d=Ember.inject.service,c=Ember.inject.service,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,g=Ember._action,b=Ember._action,f=class extends Ember.Service{constructor(){super(...arguments),T(this,"ajax",v,this),T(this,"config",y,this),T(this,"customThemeSettings",w,this),T(this,"limit",E,this),T(this,"modals",k,this),T(this,"settings",P,this),T(this,"store",O,this),T(this,"frontend",j,this),T(this,"isUploading",_,this),T(this,"previewType",z,this),T(this,"previewHtml",x,this),S(this,"allPosts",this.store.peekAll("post")),S(this,"availablePreviewTypes",[{name:"homepage",label:"Homepage"},{name:"post",label:"Post"}])}get latestPublishedPost(){return this.allPosts.toArray().filterBy("status","published").sort(((e,t)=>t.publishedAtUTC.valueOf()-e.publishedAtUTC.valueOf())).lastObject}setPreviewType(e){e!==this.previewType&&(this.previewType=e,this.updatePreviewHtmlTask.perform())}async upload(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
try{await this.limit.limiter.errorIfWouldGoOverLimit("customThemes",{value:"."})}catch(t){if("HostLimitError"===t.errorType)return this.modals.open("modals/limits/custom-theme",{message:t.message})
throw t}return this.modals.open("modals/design/upload-theme",e)}*activateTask(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null
try{if(yield this.limit.checkWouldGoOverLimit("customThemes",{value:e.name}))try{yield this.limit.limiter.errorIfWouldGoOverLimit("customThemes",{value:e.name})}catch(r){if("HostLimitError"!==r.errorType)throw r
return i=this.modals.open("modals/limits/custom-theme",{message:r.message}),void(yield i)}try{const n=yield e.activate()
if(yield this.customThemeSettings.reload(),this.updatePreviewHtmlTask.perform(),!t.skipErrors){const{warnings:e,errors:t}=n
Ember.isEmpty(e)&&Ember.isEmpty(t)||(i=this.modals.open("modals/design/theme-errors",{title:"Activation successful",canActivate:!0,warnings:e,errors:t}),yield i)}}catch(r){if(!t.skipErrors&&(0,n.isThemeValidationError)(r)){let e=r.payload.errors[0].details.errors,t=[],n=[]
if(e.length>0)for(let i=0;i<e.length;i+=1)e[i].fatal?t.push(e[i]):n.push(e[i])
i=this.modals.open("modals/design/theme-errors",{title:"Activation failed",canActivate:!1,errors:n,fatalErrors:t}),yield i}throw r}}finally{i?.close()}}*updatePreviewHtmlTask(){if("test"===t.default.environment)return
let e="/"
"post"===this.previewType&&(this.latestPublishedPost||(yield this.store.query("post",{filter:"status:published",order:"published_at DESC",limit:1})),e=this.latestPublishedPost.url)
const n=yield this.frontend.fetch(e,{method:"POST",headers:{"Content-Type":"text/html;charset=utf-8","x-ghost-preview":this.previewData,Accept:"text/plain"}}),i=yield n.text(),r=(new DOMParser).parseFromString(i,"text/html"),a=r.querySelector("style"),s=a.innerHTML
a.innerHTML=`${s}\n\nhtml { pointer-events: none; }`
const o=(new XMLSerializer).serializeToString(r.doctype)
this.previewHtml=o+r.documentElement.outerHTML}get previewData(){const e=new URLSearchParams
return e.append("c",this.settings.get("accentColor")||"#ffffff"),e.append("d",this.settings.get("description")),e.append("icon",this.settings.get("icon")),e.append("logo",this.settings.get("logo")),e.append("cover",this.settings.get("coverImage")),e.append("custom",JSON.stringify(this.customThemeSettings.keyValueObject)),e.toString()}},v=M(f.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=M(f.prototype,"config",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=M(f.prototype,"customThemeSettings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M(f.prototype,"limit",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=M(f.prototype,"modals",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=M(f.prototype,"settings",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=M(f.prototype,"store",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=M(f.prototype,"frontend",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=M(f.prototype,"isUploading",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=M(f.prototype,"previewType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"homepage"}}),x=M(f.prototype,"previewHtml",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M(f.prototype,"setPreviewType",[g],Object.getOwnPropertyDescriptor(f.prototype,"setPreviewType"),f.prototype),M(f.prototype,"upload",[b],Object.getOwnPropertyDescriptor(f.prototype,"upload"),f.prototype),M(f.prototype,"activateTask",[i.task],Object.getOwnPropertyDescriptor(f.prototype,"activateTask"),f.prototype),M(f.prototype,"updatePreviewHtmlTask",[i.task],Object.getOwnPropertyDescriptor(f.prototype,"updatePreviewHtmlTask"),f.prototype),f)
e.default=C})),define("ghost-admin/services/ui",["exports","@tryghost/color-utils"],(function(e,t){var n,i,r,a,s,o,l,u,d,c,p,m,h,g,b,f,v,y,w,E,k,P,O,j,_,z,x,T
function S(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}function M(e,t,n,i,r){var a={}
return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function C(e,t){let n=[],i=[],{from:r,to:a}=e
for(;r;)n=n.concat(Ember.get(r,`metadata.${t}`)||[]),r=r.parent
for(;a;)i=i.concat(Ember.get(a,`metadata.${t}`)||[]),a=a.parent
return{oldClasses:n,newClasses:i}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let D=(n=Ember.inject.service,i=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,d=Ember._tracked,c=Ember._tracked,p=Ember._action,m=Ember._action,h=Ember._action,g=Ember._action,b=Ember._action,f=Ember._action,v=Ember._action,y=class extends Ember.Service{get isMobile(){return this.mediaQueries.isMobile}get isSideNavHidden(){return this.isFullScreen||this.isMobile}get hasSideNav(){return!this.isSideNavHidden}get backgroundColor(){return this.feature.nightShift?"#151719":"#ffffff"}get adjustedAccentColor(){const e=(0,t.Color)(this.settings.get("accentColor")),n=(0,t.Color)(this.backgroundColor)
if(e.contrast(n)>2)return e.hex()
let i=e
return i=this.feature.nightShift?(0,t.lightenToContrastThreshold)(e,n,2):(0,t.darkenToContrastThreshold)(e,n,2),i.hex()}constructor(){super(...arguments),S(this,"config",w,this),S(this,"dropdown",E,this),S(this,"feature",k,this),S(this,"mediaQueries",P,this),S(this,"router",O,this),S(this,"settings",j,this),S(this,"contextualNavMenu",_,this),S(this,"isFullScreen",z,this),S(this,"mainClass",x,this),S(this,"showMobileMenu",T,this),this.router.on("routeDidChange",(e=>{(function(e){let{body:t}=document,{oldClasses:n,newClasses:i}=C(e,"bodyClasses")
n.forEach((e=>{t.classList.remove(e)})),i.forEach((e=>{t.classList.add(e)}))})(e),this.updateDocumentTitle()
let{newClasses:t}=C(e,"mainClasses")
this.mainClass=t.join(" ")}))}closeMenus(){this.dropdown.closeDropdowns(),this.showMobileMenu=!1}closeMobileMenu(){this.showMobileMenu=!1}openMobileMenu(){this.showMobileMenu=!0}setMainClass(e){this.mainClass=e}updateDocumentTitle(){let{currentRoute:e}=this.router,t=[]
for(;e;){let n=Ember.get(e,"metadata.titleToken")
"function"==typeof n&&(n=n()),n&&t.unshift(n),e=e.parent}let n=this.config.get("blogTitle")
Ember.isEmpty(t)?window.document.title=n:window.document.title=`${t.join(" - ")} - ${n}`}initBodyDragHandlers(){this.bodyDragEnterHandler=e=>{e.dataTransfer&&(document.body.dataset.userIsDragging=!0,window.clearTimeout(this.dragTimer))},this.bodyDragLeaveHandler=e=>{0===e.screenX&&0===e.screenY&&(window.clearTimeout(this.dragTimer),this.dragTimer=window.setTimeout((()=>{delete document.body.dataset.userIsDragging}),50))},this.cancelDrag=()=>{delete document.body.dataset.userIsDragging},document.body.addEventListener("dragenter",this.bodyDragEnterHandler,{capture:!0}),document.body.addEventListener("dragleave",this.bodyDragLeaveHandler,{capture:!0}),document.body.addEventListener("dragend",this.cancelDrag,{capture:!0}),document.body.addEventListener("drop",this.cancelDrag,{capture:!0})}cleanupBodyDragHandlers(){document.body.removeEventListener("dragenter",this.bodyDragEnterHandler,{capture:!0}),document.body.removeEventListener("dragleave",this.bodyDragLeaveHandler,{capture:!0}),document.body.removeEventListener("dragend",this.cancelDrag,{capture:!0}),document.body.removeEventListener("drop",this.cancelDrag,{capture:!0})}},w=M(y.prototype,"config",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M(y.prototype,"dropdown",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=M(y.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=M(y.prototype,"mediaQueries",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=M(y.prototype,"router",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=M(y.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=M(y.prototype,"contextualNavMenu",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=M(y.prototype,"isFullScreen",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=M(y.prototype,"mainClass",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=M(y.prototype,"showMobileMenu",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M(y.prototype,"closeMenus",[p],Object.getOwnPropertyDescriptor(y.prototype,"closeMenus"),y.prototype),M(y.prototype,"closeMobileMenu",[m],Object.getOwnPropertyDescriptor(y.prototype,"closeMobileMenu"),y.prototype),M(y.prototype,"openMobileMenu",[h],Object.getOwnPropertyDescriptor(y.prototype,"openMobileMenu"),y.prototype),M(y.prototype,"setMainClass",[g],Object.getOwnPropertyDescriptor(y.prototype,"setMainClass"),y.prototype),M(y.prototype,"updateDocumentTitle",[b],Object.getOwnPropertyDescriptor(y.prototype,"updateDocumentTitle"),y.prototype),M(y.prototype,"initBodyDragHandlers",[f],Object.getOwnPropertyDescriptor(y.prototype,"initBodyDragHandlers"),y.prototype),M(y.prototype,"cleanupBodyDragHandlers",[v],Object.getOwnPropertyDescriptor(y.prototype,"cleanupBodyDragHandlers"),y.prototype),y)
e.default=D})),define("ghost-admin/services/unsplash",["exports","fetch","ember-concurrency"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i="https://api.unsplash.com"
var r=Ember.Service.extend({config:Ember.inject.service(),settings:Ember.inject.service(),columnCount:3,columns:null,error:"",photos:null,searchTerm:"",_columnHeights:null,_pagination:null,applicationId:"8672af113b0a8573edae3aa3713886265d9bb741d707f6c01a486cde8c278980",isLoading:Ember.computed.or("_search.isRunning","_loadingTasks.isRunning"),init(){this._super(...arguments),this._reset(),this.loadNew()},loadNew(){return this._reset(),this._loadNew.perform()},loadNextPage(){if(!this.get("_search.isRunning"))return Ember.isEmpty(this.photos)?this._loadNew.perform():this._pagination.next?this._loadNextPage.perform():Ember.RSVP.reject()},updateSearch(e){if(e!==this.searchTerm)return this.set("searchTerm",e),this._reset(),e?this._search.perform(e):this._loadNew.perform()},retryLastRequest(){return this._retryLastRequest.perform()},changeColumnCount(e){e!==this.columnCount&&(this.set("columnCount",e),this._resetColumns())},triggerDownload(e){e.links.download_location&&this._makeRequest(e.links.download_location,{ignoreErrors:!0})},actions:{updateSearch(e){return this.updateSearch(e)}},_loadingTasks:(0,n.taskGroup)().drop(),_loadNew:(0,n.task)((function*(){let e=`${i}/photos?per_page=30`
yield this._makeRequest(e)})).group("_loadingTasks"),_loadNextPage:(0,n.task)((function*(){yield this._makeRequest(this._pagination.next)})).group("_loadingTasks"),_retryLastRequest:(0,n.task)((function*(){yield this._makeRequest(this._lastRequestUrl)})).group("_loadingTasks"),_search:(0,n.task)((function*(e){yield(0,n.timeout)(600)
let t=`${i}/search/photos?query=${e}&per_page=30`
yield this._makeRequest(t)})).restartable(),_addPhotosFromResponse(e){(e.results||e).forEach((e=>this._addPhoto(e)))},_addPhoto(e){e.ratio=e.height/e.width,this.photos.pushObject(e),this._addPhotoToColumns(e)},_addPhotoToColumns(e){let t=Math.min(...this._columnHeights),n=this._columnHeights.indexOf(t)
this._columnHeights[n]+=300*e.ratio,this.columns[n].pushObject(e)},_reset(){this.set("photos",[]),this._pagination={},this._resetColumns()},_resetColumns(){let e=[],t=[]
for(let n=0;n<this.columnCount;n+=1)e[n]=[],t[n]=0
this.set("columns",e),this._columnHeights=t,Ember.isEmpty(this.photos)||this.photos.forEach((e=>{this._addPhotoToColumns(e)}))},_makeRequest(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={},r={}
return Ember.assign(r,{ignoreErrors:!1},n),this.set("error",""),this._lastRequestUrl=e,i.Authorization=`Client-ID ${this.applicationId}`,i["Accept-Version"]="v1",i["App-Pragma"]="no-cache",i["X-Unsplash-Cache"]=!0,(0,t.default)(e,{headers:i}).then((e=>this._checkStatus(e))).then((e=>this._extractPagination(e))).then((e=>e.json())).then((e=>this._addPhotosFromResponse(e))).catch((()=>{r.ignoreErrors||this.error||this.set("error","Uh-oh! Trouble reaching the Unsplash API, please check your connection")}))},_checkStatus(e){if(e.status>=200&&e.status<300)return Ember.RSVP.resolve(e)
let t="",n=Ember.RSVP.resolve()
return"application/json"===e.headers.map["content-type"]?n=e.json().then((e=>e.errors[0])):"text/xml"===e.headers.map["content-type"]&&(n=e.text()),n.then((n=>{403===e.status&&"0"===e.headers.map["x-ratelimit-remaining"]&&(t="Unsplash API rate limit reached, please try again later."),t=t||n||`Error ${e.status}: Uh-oh! Trouble reaching the Unsplash API`,this.set("error",t)
let i=new Error(t)
throw i.response=e,i}))},_extractPagination(e){let t={},n=new RegExp('<(.*)>; rel="(.*)"'),{link:i}=e.headers.map
return i&&i.split(",").forEach((e=>{let[,i,r]=n.exec(e)
t[r]=i})),this._pagination=t,e}})
e.default=r})),define("ghost-admin/services/upgrade-status",["exports"],(function(e){var t,n,i
function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(t=Ember.inject.service,n=class extends Ember.Service{constructor(){var e,t,n,a
super(...arguments),e=this,t="notifications",a=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0}),r(this,"isRequired",!1),r(this,"message","")}handleUpgradeNotification(e){let t=Ember.get(e,"message")
Ember.set(this,"message",Ember.String.htmlSafe(t))}maintenanceAlert(){this.notifications.showAlert("Sorry, Ghost is currently undergoing maintenance, please wait a moment then try again.",{type:"error",key:"api-error.under-maintenance"})}requireUpgrade(){Ember.set(this,"isRequired",!0),this.notifications.showAlert("Ghost has been upgraded, please copy any unsaved data and refresh the page to continue.",{type:"error",key:"api-error.upgrade-required"})}},s=n.prototype,o="notifications",l=[t],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),i=c,n)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/services/utils",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Service{downloadFile(e){let t=document.getElementById("iframeDownload")
t||(t=document.createElement("iframe"),t.id="iframeDownload",t.style.display="none",document.body.append(t)),t.setAttribute("src",e)}}e.default=t})),define("ghost-admin/services/whats-new",["exports","fetch","moment","ember-concurrency"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.Service.extend({session:Ember.inject.service(),entries:null,changelogUrl:"https://ghost.org/blog/",isShowingModal:!1,_user:null,init(){this._super(...arguments),this.entries=[]},whatsNewSettings:Ember.computed("_user.accessibility",(function(){let e=this.get("_user.accessibility")||"{}"
return JSON.parse(e).whatsNew})),hasNew:Ember.computed("whatsNewSettings.lastSeenDate","entries.[]",(function(){if(Ember.isEmpty(this.entries))return!1
let[e]=this.entries,t=this.get("whatsNewSettings.lastSeenDate")||"2019-01-01 00:00:00",i=(0,n.default)(t),r=e.published_at
return(0,n.default)(r||t).isAfter(i)})),showModal:Ember._action((function(){this.set("isShowingModal",!0)})),closeModal:Ember._action((function(){this.set("isShowingModal",!1),this.updateLastSeen.perform()})),fetchLatest:(0,i.task)((function*(){try{let e=yield this.session.user
this.set("_user",e)
let n=yield(0,t.default)("https://ghost.org/changelog.json")
if(!n.ok)return console.error("Failed to fetch changelog",{response:n})
let i=yield n.json()
this.set("entries",i.posts||[]),this.set("changelogUrl",i.changelogUrl)}catch(e){console.error(e)}})),updateLastSeen:(0,i.task)((function*(){let e=this._user.accessibility||"{}",t=JSON.parse(e),[n]=this.entries
n&&(t.whatsNew||(t.whatsNew={}),t.whatsNew.lastSeenDate=n.published_at,this._user.set("accessibility",JSON.stringify(t)),yield this._user.save())}))})
e.default=r})),define("ghost-admin/session-stores/application",["exports","ember-simple-auth/session-stores/ephemeral"],(function(e,t){var n,i,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(n=Ember.inject.service,i=class extends t.default{constructor(){var e,t,n,i
super(...arguments),e=this,t="session",i=this,(n=r)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}restore(){return this.session.populateUser().then((()=>{let e={authenticated:{authenticator:"authenticator:cookie"}}
return this.persist(e),e})).catch((()=>Ember.RSVP.reject()))}},s=i.prototype,o="session",l=[n],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(u).forEach((function(e){c[e]=u[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),c),d&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(d):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(s,o,c),c=null),r=c,i)
var s,o,l,u,d,c
e.default=a})),define("ghost-admin/templates/-contributors",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"4hzreQ8R",block:'{"symbols":[],"statements":[[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/JohnONolan"],[14,"title","JohnONolan"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/JohnONolan-47041b80c35c6341b9b929b03139aecc.jpeg"],[14,"alt","JohnONolan"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/ErisDS"],[14,"title","ErisDS"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/ErisDS-c958ccb9e3597320dee745a42f478569.jpeg"],[14,"alt","ErisDS"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/sebgie"],[14,"title","sebgie"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/sebgie-0fb02df00ee7834dbcc8beba84aec81e.png"],[14,"alt","sebgie"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/frantzypants"],[14,"title","frantzypants"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/frantzypants-637b03f85dff89700a661fde79daea5c.jpeg"],[14,"alt","frantzypants"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/cobbspur"],[14,"title","cobbspur"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/cobbspur-07ded67009757d12517621fc856eba62.jpeg"],[14,"alt","cobbspur"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/kevinansfield"],[14,"title","kevinansfield"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/kevinansfield-925606c55bc2f3f2f05c0fa58b953ad1.jpeg"],[14,"alt","kevinansfield"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/GeorginaLusby"],[14,"title","GeorginaLusby"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/GeorginaLusby-6cea5defddee3c4ea7320e580521e832.jpeg"],[14,"alt","GeorginaLusby"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/AileenCGN"],[14,"title","AileenCGN"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/AileenCGN-bf8b9ffbb34c0fd93beb8136af07771b.jpeg"],[14,"alt","AileenCGN"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/kirrg001"],[14,"title","kirrg001"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/kirrg001-79823418f2ca21e81719653f0286f95b.jpeg"],[14,"alt","kirrg001"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/disordinary"],[14,"title","disordinary"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/disordinary-b9997e5debb59b7aadc79ba90955b662.jpeg"],[14,"alt","disordinary"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/acburdine"],[14,"title","acburdine"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/acburdine-d9777fe2601dc215afb6723315829c89.jpeg"],[14,"alt","acburdine"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/dbalders"],[14,"title","dbalders"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/dbalders-452347a406c2ca23657daea9100878f3.jpeg"],[14,"alt","dbalders"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/felixrieseberg"],[14,"title","felixrieseberg"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/felixrieseberg-ecf29e8eadc58fab999c507049f898cf.jpeg"],[14,"alt","felixrieseberg"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/jaswilli"],[14,"title","jaswilli"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/jaswilli-8cc9a8d2539ca03239d113dfb25ff5c2.jpeg"],[14,"alt","jaswilli"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/halfdan"],[14,"title","halfdan"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/halfdan-00d6783e5fba2900ee1380939297d8ee.jpeg"],[14,"alt","halfdan"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/kevinkucharczyk"],[14,"title","kevinkucharczyk"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/kevinkucharczyk-3c7dfe2a103a83737b9d5ee8e19d67f8.jpeg"],[14,"alt","kevinkucharczyk"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/mixonic"],[14,"title","mixonic"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/mixonic-1ff87736dd02cfa080ae109b45131aa6.png"],[14,"alt","mixonic"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/rwjblue"],[14,"title","rwjblue"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/rwjblue-5c7cc009cda45baca2d45f0d1ed19e48.jpeg"],[14,"alt","rwjblue"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/tgriesser"],[14,"title","tgriesser"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/tgriesser-d871cbf74a871c0fb6d855e76a893f7e.png"],[14,"alt","tgriesser"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"article"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://github.com/bnookala"],[14,"title","bnookala"],[12],[2,"\\n        "],[10,"img"],[14,"src","assets/img/contributors/bnookala-5896fcdd2f477495323e420efe890657.jpeg"],[14,"alt","bnookala"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/-contributors.hbs"})
e.default=t})),define("ghost-admin/templates/application-error",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"BCoM6owz",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-view"],[12],[2,"\\n    "],[10,"section"],[14,0,"error-content error-404 js-error-container"],[12],[2,"\\n        "],[10,"section"],[14,0,"error-details"],[12],[2,"\\n            "],[10,"img"],[14,0,"error-ghost"],[14,"src","assets/img/404-ghost@2x-34c1119ed15cc3ea71e4406f80c8e810.png"],[14,"srcset","assets/img/404-ghost-e112dbfadde79cf30dbca8e8cfe7a21a.png 1x, assets/img/404-ghost@2x-34c1119ed15cc3ea71e4406f80c8e810.png 2x"],[12],[13],[2,"\\n            "],[10,"section"],[14,0,"error-message"],[12],[2,"\\n                "],[10,"h1"],[14,0,"error-code"],[12],[1,[32,0,["model","code"]]],[13],[2,"\\n                "],[10,"h2"],[14,0,"error-description"],[12],[2,"\\n                    "],[1,[30,[36,0],[[32,0,["model","payload","errors","firstObject","message"]],[32,0,["model","message"]]],null]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[8,"ember-load-remover",[],[[],[]],null],[2,"\\n"]],"hasEval":false,"upvars":["or"]}',moduleName:"ghost-admin/templates/application-error.hbs"})
e.default=t})),define("ghost-admin/templates/application",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"E/QGpekN",block:'{"symbols":[],"statements":[[8,"gh-app",[],[[],[]],[["default"],[{"statements":[[2,"\\n    "],[8,"gh-skip-link",[],[["@anchor"],[".gh-main"]],[["default"],[{"statements":[[2,"Skip to main content"]],"parameters":[]}]]],[2,"\\n\\n    "],[8,"gh-alerts",[],[[],[]],null],[2,"\\n\\n    "],[10,"div"],[15,0,[31,["gh-viewport ",[30,[36,1],[[32,0,["ui","showMobileMenu"]],"mobile-menu-expanded"],null]]]],[12],[2,"\\n"],[6,[37,1],[[32,0,["showNavMenu"]]],null,[["default"],[{"statements":[[2,"            "],[8,"gh-nav-menu",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[10,"main"],[15,0,[31,["gh-main ",[32,0,["ui","mainClass"]]]]],[12],[2,"\\n            "],[1,[30,[36,3],[[30,[36,2],null,null]],null]],[2,"\\n\\n"],[6,[37,1],[[32,0,["showBilling"]]],null,[["default"],[{"statements":[[2,"                "],[8,"gh-billing-modal",[],[["@billingWindowOpen"],[[32,0,["billing","billingWindowOpen"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"gh-notifications",[],[[],[]],null],[2,"\\n\\n        "],[8,"gh-content-cover",[],[[],[]],null],[2,"\\n\\n"],[6,[37,4],[[32,0,["session","user","isContributor"]]],null,[["default"],[{"statements":[[2,"            "],[8,"gh-mobile-nav-bar",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["settings","accentColor"]]],null,[["default"],[{"statements":[[2,"        "],[10,"style"],[12],[2,"\\n            :root {\\n                --accent-color: "],[1,[32,0,["settings","accentColor"]]],[2,";\\n                --adjusted-accent-color: "],[1,[32,0,["ui","adjustedAccentColor"]]],[2,";\\n            }\\n            .koenig-editor__editor a:not([class]) {\\n                color: var(--adjusted-accent-color);\\n            }\\n            .koenig-editor__editor blockquote {\\n                border-left: 0.25rem solid var(--adjusted-accent-color);\\n            }\\n\\n            .gh-btn-accent {\\n                background-color: var(--adjusted-accent-color);\\n                color: #fff;\\n            }\\n\\n            .gh-btn-accent:hover {\\n                background-color: "],[1,[30,[36,0],[[32,0,["ui","adjustedAccentColor"]]],[["l"],[-15]]]],[2,";\\n                color: #fff;\\n            }\\n\\n        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n\\n"],[10,"div"],[14,1,"unsplash-selector-wormhole"],[12],[13],[2,"\\n\\n"],[8,"epm-modal-container",[],[[],[]],null],[2,"\\n"],[8,"ember-load-remover",[],[[],[]],null]],"hasEval":false,"upvars":["hex-adjust","if","-outlet","component","unless"]}',moduleName:"ghost-admin/templates/application.hbs"})
e.default=t})),define("ghost-admin/templates/components/basic-dropdown-content",["exports","ember-basic-dropdown/templates/components/basic-dropdown-content"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/templates/components/basic-dropdown-trigger",["exports","ember-basic-dropdown/templates/components/basic-dropdown-trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/templates/components/basic-dropdown",["exports","ember-basic-dropdown/templates/components/basic-dropdown"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/templates/components/draggable-object-target",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"ds+gecsL",block:'{"symbols":["&default"],"statements":[[6,[37,2],[[35,1]],null,[["default","else"],[{"statements":[[2,"  "],[11,"a"],[24,6,"#"],[4,[38,0],[[32,0],"acceptForDrop"],null],[12],[2,"\\n    "],[18,1,null],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"  "],[18,1,null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","enableClicking","if"]}',moduleName:"ghost-admin/templates/components/draggable-object-target.hbs"})
e.default=t})),define("ghost-admin/templates/components/draggable-object",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"dnghnOtX",block:'{"symbols":["&default"],"statements":[[6,[37,2],[[35,1]],null,[["default","else"],[{"statements":[[2,"  "],[11,"a"],[24,6,"#"],[4,[38,0],[[32,0],"selectForDrag"],null],[12],[2,"\\n    "],[18,1,null],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"  "],[18,1,null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","enableClicking","if"]}',moduleName:"ghost-admin/templates/components/draggable-object.hbs"})
e.default=t})),define("ghost-admin/templates/components/object-bin",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"fMRICE3+",block:'{"symbols":["obj","&default"],"statements":[[6,[37,5],null,[["action"],["handleObjectDropped"]],[["default"],[{"statements":[[2,"  "],[10,"div"],[14,0,"object-bin-title"],[12],[1,[34,1]],[13],[2,"\\n  "],[10,"br"],[12],[13],[2,"\\n"],[6,[37,4],[[30,[36,3],[[30,[36,3],[[35,2]],null]],null]],null,[["default"],[{"statements":[[6,[37,0],null,[["action","content"],["handleObjectDragged",[32,1]]],[["default"],[{"statements":[[2,"      "],[18,2,[[32,1]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["draggable-object","name","model","-track-array","each","draggable-object-target"]}',moduleName:"ghost-admin/templates/components/object-bin.hbs"})
e.default=t}))
define("ghost-admin/templates/components/sortable-objects",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"c7MHeoWa",block:'{"symbols":["&default"],"statements":[[18,1,null]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/components/sortable-objects.hbs"})
e.default=t})),define("ghost-admin/templates/dashboard",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"uu+trtsm",block:'{"symbols":["entry","member"],"statements":[[11,"section"],[24,0,"gh-canvas"],[4,[38,12],null,null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            Dashboard\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,2],[[30,[36,6],["dashboardV5"],null]],null,[["default","else"],[{"statements":[[2,"        "],[8,"dashboard/dashboard-v5",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"view-container gh-dashboard"],[12],[2,"\\n"],[6,[37,2],[[30,[36,9],[[32,0,["session","user","isOwnerOnly"]],[30,[36,7],[[32,0,["settings","editorIsLaunchComplete"]]],null],[30,[36,7],[[30,[36,6],["improvedOnboarding"],null]],null]],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"section"],[14,0,"gh-dashboard-area lw-banner"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-lw-banner"],[14,5,"background-image:url(assets/img/launch-wizard-bg-13b995b1f02bce34b269db3190897384.png);"],[12],[2,"\\n                        "],[10,"h1"],[12],[2,"Select your publication style"],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Customize your brand and connect to Stripe to get your membership site ready to be shown to the world."],[13],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"]],[["@route"],["launch"]],[["default"],[{"statements":[[10,"span"],[12],[2,"Start setup guide"],[13]],"parameters":[]}]]],[2,"\\n                        "],[10,"div"],[14,0,"gh-dashboard-dismiss"],[12],[2,"\\n                            "],[8,"gh-dropdown-button",[],[["@dropdownName","@classNames"],["launch-wizard-dismiss","gh-btn gh-btn-icon icon-only gh-dashboard-dismissbutton dark"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[2,"\\n                                    "],[1,[30,[36,3],["dotdotdot"],null]],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                            "],[8,"gh-dropdown",[],[["@name","@classNames"],["launch-wizard-dismiss","gh-dashboard-dismiss-dropdown dropdown-menu dropdown-triangle-top-right"]],[["default"],[{"statements":[[2,"\\n                                "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,8],["click",[32,0,["dismissLaunchBanner"]]],null],[12],[10,"span"],[12],[2,"Dismiss"],[13],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["showMembersGraphs"]]],null,[["default"],[{"statements":[[2,"                "],[8,"dashboard/members-graphs",[],[[],[]],null],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n            "],[10,"section"],[14,0,"gh-dashboard-area mixed"],[12],[2,"\\n"],[6,[37,10],[[32,0,["settings","editorIsLaunchComplete"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-dashboard-container start-contents"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-box blogpost"],[12],[2,"\\n                        "],[10,"h2"],[12],[2,"Start creating content"],[13],[2,"\\n"],[6,[37,2],[[32,0,["showMembersData"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"link-to",[],[["@route"],["members"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[14,0,"icon"],[12],[1,[30,[36,3],["members"],null]],[13],[2,"\\n                                "],[10,"div"],[12],[2,"\\n                                    "],[10,"h4"],[12],[2,"Create your first member"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"Add yourself or import members from CSV"],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[8,"link-to",[],[["@route","@model"],["editor.new","post"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[14,0,"icon green"],[12],[1,[30,[36,3],["posts"],null]],[13],[2,"\\n                            "],[10,"div"],[12],[2,"\\n                                "],[10,"h4"],[12],[2,"Publish a post"],[13],[2,"\\n                                "],[10,"p"],[12],[2,"Get familiar with the Ghost editor and start creating"],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-container col-2"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-box"],[12],[2,"\\n                        "],[10,"div"],[14,0,"content"],[12],[2,"\\n                            "],[10,"h2"],[12],[2,"Customize your site"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Stand out from the crowd. Ghost lets you customize everything so you can create a publication that doesn’t just look the same as what everyone else has."],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"footer"],[12],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-btn gh-btn-outline mt2 mr2"]],[["@route"],["settings.design"]],[["default"],[{"statements":[[10,"span"],[12],[2,"Design"],[13]],"parameters":[]}]]],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-btn gh-btn-outline mt2"]],[["@route"],["settings.members-email"]],[["default"],[{"statements":[[10,"span"],[12],[2,"Email"],[13]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-box"],[12],[2,"\\n                        "],[10,"div"],[14,0,"content"],[12],[2,"\\n                            "],[10,"h2"],[12],[2,"Looking for help with Ghost features?"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Our product knowledgebase is packed full of guides, tutorials, answers to frequently asked questions, tips for dealing with common errors, and much more. "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"footer"],[12],[2,"\\n                            "],[10,"a"],[14,0,"gh-btn gh-btn-outline mt2"],[14,6,"https://ghost.org/help/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[2,"Visit the help center →"],[13],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"a"],[14,0,"gh-dashboard-container"],[14,6,"https://ghost.org/blog/types-of-newsletters/?utm_source=dashboard"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-box blogpost"],[12],[2,"\\n                        "],[10,"div"],[14,0,"content"],[12],[2,"\\n                            "],[10,"h2"],[12],[2,"6 types of newsletters you can start today"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Choosing one of these newsletter types for your publication will help you create better content at a faster pace with less work."],[13],[2,"\\n                            "],[10,"p"],[14,0,"green"],[12],[2,"Get some inspiration →"],[13],[2,"\\n                            "],[10,"div"],[14,0,"read-time"],[12],[2,"5 MIN READ"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/dashboard/bp1-03a13253453b372d0bbd5e6a19b20fca.jpg);"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"a"],[14,0,"gh-dashboard-container"],[14,6,"https://careers.ghost.org?utm_source=dashboard"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-box grey gh-dashboard-careers"],[12],[2,"\\n                        "],[10,"div"],[14,0,"summary"],[12],[2,"\\n                            "],[10,"h2"],[12],[2,"We\'re hiring! Join the team that makes Ghost."],[13],[2,"\\n                            "],[10,"p"],[12],[2,"The creator economy is growing faster than ever, and so are we! 📈 Join a team that\'s determined to make decentralised, open technology the heart and soul of new media 🌺"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-dashboard-careers-cta"],[12],[2,"\\n                            "],[10,"span"],[14,0,"gh-btn gh-btn-primary"],[12],[10,"span"],[12],[2,"See open roles →"],[13],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"a"],[14,0,"gh-dashboard-container reverse"],[14,6,"https://ghost.org/blog/content-strategy-creator-funnel/?utm_source=dashboard"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-box blogpost"],[12],[2,"\\n                        "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/dashboard/bp2-ed14f9f48c56d5d6fe997dc637a8b1ad.jpg);"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"content"],[12],[2,"\\n                            "],[10,"h2"],[12],[2,"How to grow your audience, starting from 0"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Starting from zero is hard. Thankfully, successful creators have given us clues on how to grow an audience by using something called a content funnel."],[13],[2,"\\n                            "],[10,"p"],[14,0,"green"],[12],[2,"Here\'s how it works →"],[13],[2,"\\n                            "],[10,"div"],[14,0,"read-time"],[12],[2,"9 MIN READ"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-dashboard-join-community"],[14,5,"background-image: url(assets/img/dashboard/join-community-bb5478f7dca6c04a2d0baf2b02f880fb.jpg)"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h2"],[12],[2,"Join the Ghost creator community."],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Meet other people building both free & paid publications with Ghost. Talk strategy, get advice, or just hang out."],[13],[2,"\\n                        "],[10,"a"],[14,0,"gh-btn gh-btn-white gh-dashboard-btn"],[14,6,"https://community.ghost.org"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[2,"Share the journey"],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"a"],[14,0,"footer-link"],[14,6,"https://community.ghost.org"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"community.ghost.org"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"section"],[14,0,"gh-dashboard-area members-activity"],[12],[2,"\\n"],[6,[37,2],[[32,0,["showMembersData"]]],null,[["default"],[{"statements":[[6,[37,2],[[30,[36,7],[[30,[36,6],["membersActivityFeed"],null]],null]],null,[["default"],[{"statements":[[6,[37,2],[[32,0,["topMembersData"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-dashboard-box grey top-members"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-header-container"],[12],[2,"\\n                                "],[10,"h4"],[14,0,"gh-dashboard-header"],[12],[2,"Top members"],[13],[2,"\\n"],[6,[37,2],[[32,0,["topMembersDataHasOpenRates"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"h4"],[14,0,"gh-dashboard-header secondary"],[12],[2,"Open rate"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"h4"],[14,0,"gh-dashboard-header secondary"],[12],[2,"Member since"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-list"],[12],[2,"\\n"],[6,[37,2],[[32,0,["topMembersLoading"]]],null,[["default","else"],[{"statements":[[2,"                                    Loading...\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["topMembersError"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"p"],[14,0,"tc"],[12],[2,"\\n                                            There was an error loading member events.\\n                                            "],[10,"code"],[14,0,"hidden"],[12],[1,[32,0,["events","error","message"]]],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"ul"],[14,0,"gh-dashboard-top-members"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["topMembersData"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                            "],[10,"li"],[14,0,"gh-dashboard-top-member"],[12],[2,"\\n                                                "],[8,"link-to",[[24,0,"member-details"]],[["@route","@model"],["member",[31,[[32,2,["id"]]]]]],[["default"],[{"statements":[[2,"\\n                                                    "],[8,"gh-member-avatar",[],[["@member","@containerClass"],[[32,2],"w9 h9 mr3 flex-shrink-0"]],null],[2,"\\n"],[6,[37,2],[[32,2,["name"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[10,"span"],[14,0,"name"],[12],[1,[32,2,["name"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                        "],[10,"span"],[14,0,"email"],[12],[1,[32,2,["email"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                                "]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,2,["emailOpenRate"]]],null,[["default","else"],[{"statements":[[2,"                                                    "],[10,"span"],[14,0,"open-rate"],[12],[1,[32,2,["emailOpenRate"]]],[2,"%"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                    "],[10,"span"],[14,0,"open-rate"],[12],[2,"\\n                                                        "],[1,[30,[36,1],[[32,2,["createdAtUTC"]],"D MMM YYYY"],null]],[2,"\\n                                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                            "],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"                                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                "],[10,"div"],[14,0,"gh-dashboard-top-members-footer"],[12],[2,"\\n                                    "],[8,"link-to",[],[["@route"],["members"]],[["default"],[{"statements":[[2,"See all members "],[1,[30,[36,3],["arrow-right"],null]]],"parameters":[]}]]],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n                    "],[8,"dashboard/latest-member-activity",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[30,[36,7],[[30,[36,11],[[32,0,["whatsNewEntriesLoading"]],[32,0,["whatsNewEntriesError"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[15,0,[31,["gh-dashboard-box whats-new ",[30,[36,2],[[32,0,["whatsNew","hasNew"]],"has-new"],null]]]],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-header-container"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-dashboard-header"],[12],[2,"What\'s new?"],[13],[2,"\\n                        "],[1,[30,[36,3],["gift"],null]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"content"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["whatsNewEntries"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[8,"link-to",[],[["@route","@query"],["whatsnew",[30,[36,0],null,[["entry"],[[32,1,["slug"]]]]]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"h2"],[12],[1,[32,1,["title"]]],[13],[2,"\\n                                "],[10,"span"],[14,0,"wn-date"],[12],[1,[30,[36,1],[[32,1,["published_at"]],"D MMM YYYY"],null]],[13],[2,"\\n"],[6,[37,2],[[32,1,["custom_excerpt"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"p"],[12],[1,[32,1,["custom_excerpt"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[1]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"footer"],[12],[2,"\\n                        "],[8,"link-to",[[24,0,"green"]],[["@route","@query"],["whatsnew",[30,[36,0],null,[["entry"],[null]]]]],[["default"],[{"statements":[[2,"See more →"]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["hash","moment-format","if","svg-jar","-track-array","each","feature","not","on","and","unless","or","scroll-top"]}',moduleName:"ghost-admin/templates/dashboard.hbs"})
e.default=t})),define("ghost-admin/templates/designsandbox",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"s5uX/Isk",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            Components\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container gh-ds"],[12],[2,"\\n        "],[10,"h2"],[14,0,""],[12],[2,"Buttons"],[13],[2,"\\n        "],[10,"ul"],[14,0,"nostyle"],[12],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn gh-btn-primary"],[14,4,"button"],[12],[10,"span"],[12],[2,"Primary button"],[13],[13],[13],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn"],[14,4,"button"],[12],[10,"span"],[12],[2,"Regular button"],[13],[13],[13],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn gh-btn-blue"],[14,4,"button"],[12],[10,"span"],[12],[2,"Blue button"],[13],[13],[13],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn gh-btn-green"],[14,4,"button"],[12],[10,"span"],[12],[2,"Green button"],[13],[13],[13],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn gh-btn-red"],[14,4,"button"],[12],[10,"span"],[12],[2,"Red button"],[13],[13],[13],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn gh-btn-outline"],[14,4,"button"],[12],[10,"span"],[12],[2,"Outline button"],[13],[13],[13],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn gh-btn-primary gh-btn-large"],[14,4,"button"],[12],[10,"span"],[12],[2,"Large button"],[13],[13],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"h2"],[14,0,""],[12],[2,"Lists"],[13],[2,"\\n        \\n        "],[10,"div"],[14,0,"gh-list"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-list-row header"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-list-header"],[12],[2,"Column 1"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-header"],[12],[2,"Column 2"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-header"],[12],[2,"Column 3"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-list-row"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-list-row"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-list-row"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"h2"],[14,0,"mt8"],[12],[2,"Sections"],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Single column"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content"],[12],[2,"\\n                "],[10,"div"],[12],[2,"Column 1"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Section heading"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content columns-2"],[12],[2,"\\n                "],[10,"div"],[12],[2,"Column 1"],[13],[2,"\\n                "],[10,"div"],[12],[2,"Column 2"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section columns-2"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Block 1"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"Contents"],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Block 2"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"Contents"],[13],[2,"\\n        "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"h2"],[14,0,"mt8"],[12],[2,"Setting area"],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Section heading"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Title"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Description"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[12],[2,"[ACTION]"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[12],[2,"[CONTENT - OPTIONAL / HIDDEN FOR EXPANDABLE]"],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Title"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Description"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[12],[2,"[ACTION]"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Title"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Description"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[12],[2,"[ACTION]"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/designsandbox.hbs"})
e.default=t})),define("ghost-admin/templates/editor",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"mwnNSUp6",block:'{"symbols":["editor"],"statements":[[6,[37,4],[[32,0,["post"]]],null,[["default"],[{"statements":[[2,"    "],[11,"div"],[24,0,"flex flex-row"],[4,[38,8],["cmd+p",[30,[36,1],[[32,0],"openPostPreview"],null]],null],[12],[2,"\\n        "],[8,"gh-editor",[],[["@tagName","@class"],["section","gh-editor gh-view relative"]],[["default"],[{"statements":[[2,"\\n            "],[10,"header"],[14,0,"gh-editor-header br2 pe-none"],[12],[2,"\\n                "],[10,"div"],[14,0,"flex items-center pe-auto"],[12],[2,"\\n"],[6,[37,4],[[32,0,["ui","isFullScreen"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"ml3 mobile flex items-center"],[12],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-editor-back-button"]],[["@route"],[[30,[36,6],[[32,0,["post","displayName"]]],null]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[2,"\\n                                    "],[1,[30,[36,2],["arrow-left"],null]],[2,"\\n                                    "],[1,[30,[36,7],[[30,[36,6],[[32,0,["post","displayName"]]],null]],null]],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"div"],[14,0,"gh-editor-post-status"],[12],[2,"\\n                        "],[10,"span"],[12],[2,"\\n                            "],[8,"gh-editor-post-status",[],[["@post","@hasDirtyAttributes","@isSaving"],[[32,0,["post"]],[32,0,["hasDirtyAttributes"]],[30,[36,9],[[32,0,["autosaveTask","isRunning"]],[32,0,["saveTasks","isRunning"]]],null]]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"section"],[14,0,"flex"],[14,5,"pointer-events: auto"],[12],[2,"\\n"],[6,[37,5],[[32,0,["post","isNew"]]],null,[["default"],[{"statements":[[6,[37,4],[[32,0,["post","isDraft"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[12],[2,"\\n                                "],[11,"button"],[24,0,"gh-btn gh-editor-preview-trigger"],[24,4,"button"],[4,[38,3],["click",[30,[36,1],[[32,0],"openPostPreviewModal"],null]],null],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"Preview"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["session","user","isContributor"]]],null,[["default","else"],[{"statements":[[2,"                            "],[8,"gh-task-button",[],[["@buttonText","@task","@runningText","@class"],["Save",[32,0,["save"]],"Saving","gh-btn gh-btn-icon gh-btn-editor contributor-save-button"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[8,"gh-publishmenu",[],[["@post","@postStatus","@saveTask","@setSaveType","@onOpen"],[[32,0,["post"]],[32,0,["post","status"]],[32,0,["saveTask"]],[30,[36,1],[[32,0],"setSaveType"],null],[30,[36,1],[[32,0],"cancelAutosave"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[32,0,["showSettingsMenu"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"settings-menu-toggle-spacer"],[12],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[2,"            "],[8,"gh-koenig-editor",[],[["@title","@titleAutofocus","@titlePlaceholder","@onTitleChange","@onTitleBlur","@body","@bodyPlaceholder","@onBodyChange","@headerOffset","@scrollContainerSelector","@scrollOffsetBottomSelector","@onEditorCreated","@onWordCountChange","@snippets","@saveSnippet","@updateSnippet","@deleteSnippet","@featureImage","@featureImageAlt","@featureImageCaption","@setFeatureImage","@setFeatureImageAlt","@setFeatureImageCaption","@clearFeatureImage","@cardOptions","@postType"],[[30,[36,10],[[32,0,["post","titleScratch"]]],null],[32,0,["shouldFocusTitle"]],[30,[36,11],[[30,[36,7],[[32,0,["post","displayName"]]],null]," title"],null],[30,[36,1],[[32,0],"updateTitleScratch"],null],[30,[36,1],[[32,0],[30,[36,12],[[32,0,["saveTitleTask"]]],null]],null],[30,[36,10],[[32,0,["post","scratch"]]],null],[30,[36,11],["Begin writing your ",[32,0,["post","displayName"]],"..."],null],[30,[36,1],[[32,0],"updateScratch"],null],[32,1,["headerHeight"]],".gh-koenig-editor",".gh-mobile-nav-bar",[30,[36,1],[[32,0],"setKoenigEditor"],null],[30,[36,1],[[32,0],"updateWordCount"],null],[32,0,["snippets"]],[30,[36,4],[[32,0,["canManageSnippets"]],[32,0,["saveSnippet"]]],null],[30,[36,4],[[32,0,["canManageSnippets"]],[32,0,["toggleUpdateSnippetModal"]]],null],[30,[36,4],[[32,0,["canManageSnippets"]],[32,0,["toggleDeleteSnippetModal"]]],null],[32,0,["post","featureImage"]],[32,0,["post","featureImageAlt"]],[32,0,["post","featureImageCaption"]],[30,[36,1],[[32,0],"setFeatureImage"],null],[30,[36,1],[[32,0],"setFeatureImageAlt"],null],[30,[36,1],[[32,0],"setFeatureImageCaption"],null],[30,[36,1],[[32,0],"clearFeatureImage"],null],[30,[36,0],null,[["post"],[[32,0,["post"]]]]],[32,0,["post","displayName"]]]],null],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-editor-wordcount-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-editor-wordcount"],[12],[2,"\\n                    "],[1,[30,[36,13],[[32,0,["wordCount","wordCount"]],"word"],null]],[2,"\\n                "],[13],[2,"\\n                "],[10,"a"],[14,6,"https://ghost.org/help/using-the-editor/"],[14,0,"flex"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[30,[36,2],["help"],null]],[13],[2,"\\n            "],[13],[2,"\\n\\n        "]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,4],[[32,0,["showSettingsMenu"]]],null,[["default"],[{"statements":[[2,"            "],[8,"gh-post-settings-menu",[],[["@post","@deletePost","@updateSlugTask","@savePostTask"],[[32,0,["post"]],[30,[36,1],[[32,0],"openDeletePostModal"],null],[32,0,["updateSlugTask"]],[32,0,["savePostTask"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[11,"button"],[24,0,"settings-menu-toggle gh-btn gh-btn-editor gh-btn-icon icon-only gh-btn-action-icon"],[24,"title","Settings"],[24,4,"button"],[4,[38,3],["click",[32,0,["toggleSettingsMenu"]]],null],[12],[2,"\\n"],[6,[37,4],[[32,0,["showSettingsMenu"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"span"],[14,0,"settings-menu-open"],[12],[1,[30,[36,2],["sidemenu-open"],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[12],[1,[30,[36,2],["sidemenu"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["showReAuthenticateModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@close","@modifier"],["re-authenticate",[30,[36,1],[[32,0],"toggleReAuthenticateModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["showUpgradeModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["upgrade-host-limit",[30,[36,0],null,[["message","details"],[[32,0,["hostLimitError","context"]],[32,0,["hostLimitError","details"]]]]],[30,[36,1],[[32,0],"closeUpgradeModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["snippetToUpdate"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["update-snippet",[32,0,["snippetToUpdate"]],[32,0,["updateSnippet"]],[32,0,["toggleUpdateSnippetModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["snippetToDelete"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["delete-snippet",[32,0,["snippetToDelete"]],[32,0,["deleteSnippet"]],[32,0,["toggleDeleteSnippetModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[1,[30,[36,15],[[30,[36,14],null,null]],null]],[2,"\\n"]],"hasEval":false,"upvars":["hash","action","svg-jar","on","if","unless","pluralize","capitalize","on-key","or","readonly","concat","perform","gh-pluralize","-outlet","component"]}',moduleName:"ghost-admin/templates/editor.hbs"})
e.default=t})),define("ghost-admin/templates/editor/edit-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"8Jm7N1C9",block:'{"symbols":[],"statements":[[11,"div"],[24,0,"gh-view"],[4,[38,1],[[30,[36,0],[[32,0],"setMainClass","gh-main-white"],[["target"],[[32,0,["ui"]]]]]],null],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","did-insert"]}',moduleName:"ghost-admin/templates/editor/edit-loading.hbs"})
e.default=t})),define("ghost-admin/templates/error",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"5C/w8dFA",block:'{"symbols":["item"],"statements":[[10,"div"],[14,0,"gh-view"],[12],[2,"\\n\\n    "],[10,"section"],[14,0,"flex flex-column items-center flex-grow justify-center h-100 nt10"],[12],[2,"\\n        "],[10,"div"],[14,0,"absolute error-background nudge-right--5"],[12],[2,"\\n            "],[1,[30,[36,3],["desert"],[["class"],["error-background absolute"]]]],[2,"\\n            "],[10,"div"],[14,0,"traveler-1"],[12],[1,[30,[36,3],["tumbleweed"],[["class"],["w6 h6 absolute bouncer-1"]]]],[13],[2,"\\n            "],[10,"div"],[14,0,"traveler-2"],[12],[1,[30,[36,3],["tumbleweed"],[["class"],["w11 h11 absolute bouncer-2"]]]],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"mt5 tc"],[12],[2,"\\n            "],[10,"h1"],[14,0,"midlightgrey error-code-size fw6"],[12],[1,[32,0,["code"]]],[13],[2,"\\n            "],[10,"h2"],[14,0,"midlightgrey f4 fw3"],[12],[1,[32,0,["message"]]],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["stack"]]],null,[["default"],[{"statements":[[2,"        "],[10,"section"],[14,0,"error-stack"],[12],[2,"\\n            "],[10,"h3"],[12],[2,"Stack Trace"],[13],[2,"\\n            "],[10,"p"],[12],[10,"strong"],[12],[1,[32,0,["message"]]],[13],[13],[2,"\\n            "],[10,"ul"],[14,0,"error-stack-list"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["stack"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[12],[2,"\\n                        at\\n                        "],[6,[37,0],[[32,1,["function"]]],null,[["default"],[{"statements":[[10,"em"],[14,0,"error-stack-function"],[12],[1,[32,1,["function"]]],[13]],"parameters":[]}]]],[2,"\\n                        "],[10,"span"],[14,0,"error-stack-file"],[12],[2,"("],[1,[32,1,["at"]]],[2,")"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","-track-array","each","svg-jar"]}',moduleName:"ghost-admin/templates/error.hbs"})
e.default=t})),define("ghost-admin/templates/launch",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"pJRXHouF",block:'{"symbols":[],"statements":[[11,"div"],[24,0,"fullscreen-wizard-container"],[4,[38,0],[[32,0,["reset"]]],null],[12],[2,"\\n    "],[10,"div"],[14,0,"pt7 pb5 pl12 pr12 flex justify-between items-center"],[12],[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"ttu gh-launch-wizard-step-indicator"],[12],[1,[32,0,["currentStep","position"]]],[13],[2,"\\n            "],[10,"h2"],[12],[1,[32,0,["currentStep","title"]]],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"button"],[24,0,"close gh-btn gh-btn-outline"],[24,4,"button"],[4,[38,1],["click",[32,0,["close"]]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-launch-wizard-content"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-launch-wizard-content-left"],[12],[2,"\\n            "],[1,[30,[36,3],[[30,[36,2],["gh-launch-wizard/",[32,0,["step"]]],null]],[["nextStep","backStep","skipStep","refreshPreview","updatePreview","replacePreviewContents","storeData","getData"],[[32,0,["goNextStep"]],[32,0,["goBackStep"]],[32,0,["skipStep"]],[32,0,["refreshPreview"]],[32,0,["updatePreview"]],[32,0,["replacePreviewContents"]],[32,0,["storeData"]],[32,0,["getData"]]]]]],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-launch-wizard-content-right"],[12],[2,"\\n            "],[8,"gh-browser-preview",[[24,0,"gh-launch-wizard-preview-container"]],[["@icon","@title"],[[32,0,["settings","icon"]],[32,0,["config","blogTitle"]]]],[["default"],[{"statements":[[2,"\\n                "],[8,"gh-site-iframe",[[24,0,"gh-launch-wizard-preview"],[4,[38,4],[[32,0,["registerPreviewIframe"]]],null]],[["@src","@guid"],[[32,0,["previewSrc"]],[32,0,["previewGuid"]]]],[["default"],[{"statements":[],"parameters":[]}]]],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["will-destroy","on","concat","component","did-insert"]}',moduleName:"ghost-admin/templates/launch.hbs"})
e.default=t})),define("ghost-admin/templates/member",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"AAlO0vbK",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["members"]],[["default"],[{"statements":[[2,"Members"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n"],[6,[37,4],[[32,0,["member","isNew"]]],null,[["default","else"],[{"statements":[[2,"                New member\\n"]],"parameters":[]},{"statements":[[2,"                "],[1,[30,[36,3],[[32,0,["member","name"]],[32,0,["member","email"]]],null]],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n"],[6,[37,4],[[32,0,["session","user","isAdmin"]]],null,[["default"],[{"statements":[[6,[37,2],[[32,0,["member","isNew"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"dropdown"],[12],[2,"\\n                        "],[8,"gh-dropdown-button",[],[["@dropdownName","@classNames","@title"],["members-actions-menu","gh-btn gh-btn-icon icon-only gh-btn-action-icon","Members Actions"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"\\n                                "],[1,[30,[36,0],["settings"],null]],[2,"\\n                                "],[10,"span"],[14,0,"hidden"],[12],[2,"Actions"],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],["members-actions-menu","ul","gh-member-actions-menu dropdown-menu dropdown-triangle-top-right"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"li"],[12],[2,"\\n                                "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,1],["click",[32,0,["toggleImpersonateMemberModal"]]],null],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"Impersonate"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"li"],[12],[2,"\\n                                "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,1],["click",[32,0,["toggleDeleteMemberModal"]]],null],[12],[2,"\\n                                    "],[10,"span"],[14,0,"red"],[12],[2,"Delete member"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n            "],[8,"gh-task-button",[],[["@class","@type","@task"],["gh-btn gh-btn-primary gh-btn-icon","button",[32,0,["saveTask"]]]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[12],[2,"\\n        "],[10,"form"],[14,0,"member-basic-info-form"],[12],[2,"\\n            "],[8,"gh-member-settings-form",[],[["@member","@scratchMember","@setProperty","@onLabelEdit","@saveMember","@isSaveRunning","@isLoading"],[[32,0,["member"]],[32,0,["scratchMember"]],[32,0,["setProperty"]],[32,0,["editLabel"]],[32,0,["save"]],[32,0,["saveTask","isRunning"]],[32,0,["isLoading"]]]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["showUnsavedChangesModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[32,0,["leaveScreen"]],[32,0,["toggleUnsavedChangesModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["showDeleteMemberModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["delete-member",[32,0,["member"]],[32,0,["deleteMember"]],[32,0,["toggleDeleteMemberModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["showImpersonateMemberModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["impersonate-member",[32,0,["member"]],[32,0,["toggleImpersonateMemberModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["showLabelModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["members-label-form",[32,0,["labelModalData"]],[32,0,["toggleLabelModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["svg-jar","on","unless","or","if"]}',moduleName:"ghost-admin/templates/member.hbs"})
e.default=t})),define("ghost-admin/templates/members-activity",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"iHQywtH+",block:'{"symbols":["eventsFetcher"],"statements":[[10,"section"],[15,0,[31,["gh-canvas gh-members-activity ",[30,[36,1],[[32,0,["memberRecord"]],"gh-members-activity-single"],null]]]],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route","@query"],["members-activity",[30,[36,5],["members-activity"],null]]],[["default"],[{"statements":[[2,"Activity"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["memberRecord"]]],null,[["default"],[{"statements":[[2,"                "],[10,"span"],[12],[1,[30,[36,4],["arrow-right"],null]],[13],[2,"\\n                "],[10,"span"],[14,0,"truncate"],[12],[1,[30,[36,2],[[32,0,["memberRecord","name"]],[32,0,["memberRecord","email"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"members-activity/event-type-filter",[],[["@excludedEvents","@hiddenEvents","@onChange"],[[32,0,["excludedEvents"]],[32,0,["hiddenEvents"]],[32,0,["changeExcludedEvents"]]]],null],[2,"\\n\\n            "],[8,"members-activity/member-filter",[],[["@selected","@onChange"],[[32,0,["memberRecord"]],[32,0,["changeMember"]]]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"view-container"],[12],[2,"\\n"],[6,[37,8],[[30,[36,7],null,[["filter","pageSize"],[[30,[36,6],null,[["excludedEvents","member"],[[32,0,["fullExcludedEvents"]],[32,0,["member"]]]]],50]]]],null,[["default"],[{"statements":[[6,[37,1],[[32,1,["data"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["memberRecord"]]],null,[["default"],[{"statements":[[2,"                    "],[8,"gh-member-details-activity",[],[["@member"],[[32,0,["memberRecord"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[10,"div"],[14,0,"gh-list-scrolling"],[12],[2,"   \\n                    "],[8,"members-activity/table",[],[["@hideMemberColumn","@events"],[[30,[36,1],[[32,0,["member"]],true],null],[32,1,["data"]]]],null],[2,"\\n\\n"],[6,[37,1],[[30,[36,3],[[30,[36,2],[[32,1,["isLoading"]],[32,1,["hasReachedEnd"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[8,"gh-scroll-trigger",[],[["@enter","@triggerOffset"],[[32,1,["loadNextPage"]],250]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,1,["isLoading"]]],null,[["default"],[{"statements":[[2,"                    "],[8,"members-activity/no-events",[],[["@filter"],[[32,0,["filter"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isLoading"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"no-posts-box"],[12],[8,"gh-loading-spinner",[],[[],[]],null],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[1,[30,[36,10],[[30,[36,9],null,null]],null]]],"hasEval":false,"upvars":["unless","if","or","not","svg-jar","reset-query-params","members-event-filter","members-event-fetcher","let","-outlet","component"]}',moduleName:"ghost-admin/templates/members-activity.hbs"})
e.default=t})),define("ghost-admin/templates/members",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"9au5n/n/",block:'{"symbols":["member","column"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header break tablet members-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"Members"],[13],[2,"\\n"],[6,[37,3],[[30,[36,6],[[32,0,["settings","membersSignupAccess"]],"none"],null]],null,[["default"],[{"statements":[[2,"            "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n                "],[10,"div"],[15,0,[31,["view-actions-bottom-row ",[30,[36,3],[[32,0,["hideSearchBar"]],"hidden"],null]]]],[12],[2,"\\n                    "],[10,"div"],[14,0,"relative gh-members-header-search"],[12],[2,"\\n                        "],[1,[30,[36,1],["search"],[["class"],["gh-input-search-icon"]]]],[2,"\\n                        "],[11,"input"],[24,"placeholder","Search members..."],[16,2,[32,0,["searchParam"]]],[24,"aria-label","Search members"],[16,0,[31,["gh-input gh-members-list-searchfield ",[30,[36,3],[[32,0,["searchParam"]],"active"],null]]]],[24,4,"text"],[4,[38,11],["input",[32,0,["search"]]],null],[4,[38,11],["focus",[30,[36,13],[[30,[36,12],[[32,0,["searchIsFocused"]]],null],true],null]],null],[4,[38,11],["blur",[30,[36,13],[[30,[36,12],[[32,0,["searchIsFocused"]]],null],false],null]],null],[4,[38,14],[[30,[36,13],[[30,[36,12],[[32,0,["searchIsFocused"]]],null],false],null]],null],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"view-actions-top-row"],[12],[2,"\\n                    "],[8,"members/filter",[],[["@isFiltered","@onApplyFilter","@defaultFilterParam","@onApplySoftFilter","@onResetSoftFilter","@onResetFilter","@onLabelEdit"],[[32,0,["isFiltered"]],[32,0,["applyFilter"]],[32,0,["filterParam"]],[32,0,["applySoftFilter"]],[32,0,["resetSoftFilter"]],[32,0,["resetFilter"]],[32,0,["editLabel"]]]],null],[2,"\\n                    "],[10,"span"],[14,0,"dropdown"],[12],[2,"\\n                        "],[8,"gh-dropdown-button",[],[["@dropdownName","@classNames","@title"],["members-actions-menu","gh-btn gh-btn-icon icon-only gh-btn-action-icon","Members Actions"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"\\n                                "],[1,[30,[36,1],["settings"],null]],[2,"\\n                                "],[10,"span"],[14,0,"hidden"],[12],[2,"Actions"],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],["members-actions-menu","ul","gh-member-actions-menu dropdown-menu dropdown-triangle-top-right"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"li"],[12],[2,"\\n                                "],[8,"link-to",[[24,0,"mr2"]],[["@route"],["members.import"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[12],[2,"Import members"],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"li"],[15,0,[31,[[30,[36,3],[[32,0,["members","length"]],"","disabled"],null]]]],[12],[2,"\\n"],[6,[37,3],[[32,0,["members","length"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,11],["click",[32,0,["exportData"]]],null],[12],[2,"\\n"],[6,[37,3],[[32,0,["showingAll"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[12],[2,"Export all members"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[10,"span"],[12],[2,"Export selected members ("],[1,[32,0,["members","length"]]],[2,")"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"button"],[14,0,"mr2"],[14,"disabled","true"],[14,4,"button"],[12],[2,"\\n                                        "],[10,"span"],[12],[2,"Export selected members (0)"],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n"],[6,[37,3],[[30,[36,15],[[32,0,["members","length"]],[32,0,["isFiltered"]]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"li"],[14,0,"divider"],[12],[13],[2,"\\n                                "],[10,"li"],[12],[2,"\\n                                    "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,11],["click",[32,0,["bulkAddLabel"]]],null],[12],[2,"\\n                                        "],[10,"span"],[12],[2,"Add label for selected members ("],[1,[32,0,["members","length"]]],[2,")"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"li"],[12],[2,"\\n                                    "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,11],["click",[32,0,["bulkRemoveLabel"]]],null],[12],[2,"\\n                                        "],[10,"span"],[12],[2,"Remove label from selected members ("],[1,[32,0,["members","length"]]],[2,")"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"li"],[12],[2,"\\n                                    "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,11],["click",[32,0,["bulkUnsubscribe"]]],null],[12],[2,"\\n                                        "],[10,"span"],[12],[2,"Unsubscribe selected members ("],[1,[32,0,["members","length"]]],[2,")"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"li"],[14,0,"divider"],[12],[13],[2,"\\n                                "],[10,"li"],[12],[2,"\\n                                    "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,11],["click",[32,0,["bulkDelete"]]],null],[12],[2,"\\n                                        "],[10,"span"],[14,0,"red"],[12],[2,"Delete selected members ("],[1,[32,0,["members","length"]]],[2,")"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                    "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary"]],[["@route"],["member.new"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New member"],[13]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[32,0,["members","loading"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n            "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"section"],[15,0,[31,["view-container ",[30,[36,3],[[30,[36,10],[[30,[36,9],[[32,0,["members"]]],null],[30,[36,4],[[32,0,["members","length"]],6],null]],null],"members-list-container-stretch"],null]]]],[12],[2,"\\n"],[6,[37,3],[[32,0,["members"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[15,0,[31,["gh-list-scrolling ",[30,[36,3],[[30,[36,4],[[32,0,["members","length"]],6],null],"gh-list-with-helpsection"],null]]]],[12],[2,"\\n                    "],[10,"table"],[14,0,"gh-list"],[12],[2,"\\n                        "],[10,"thead"],[12],[2,"\\n                            "],[10,"tr"],[12],[2,"\\n                                "],[10,"th"],[12],[1,[32,0,["listHeader"]]],[13],[2,"\\n"],[6,[37,3],[[30,[36,5],["membersTableStatus"],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"th"],[12],[2,"Status"],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,6],[[32,0,["settings","editorDefaultEmailRecipients"]],"disabled"],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"th"],[12],[2,"Open rate"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[10,"th"],[12],[2,"Location"],[13],[2,"\\n                                "],[10,"th"],[12],[2,"Created"],[13],[2,"\\n"],[6,[37,8],[[30,[36,7],[[30,[36,7],[[32,0,["filterColumnLabels"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"th"],[12],[1,[32,2,["label"]]],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[8,"vertical-collection",[],[["@tagName","@items","@key","@containerSelector","@estimateHeight","@staticHeight","@bufferSize"],["tbody",[32,0,["members"]],"id",".gh-list-scrolling",69,true,20]],[["default"],[{"statements":[[2,"\\n                            "],[8,"gh-members-list-item",[],[["@newsletterEnabled","@member","@filterColumns"],[[30,[36,6],[[32,0,["settings","editorDefaultEmailRecipients"]],"disabled"],null],[32,1],[32,0,["filterColumns"]]]],null],[2,"\\n                        "]],"parameters":[1]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["showingAll"]]],null,[["default","else"],[{"statements":[[2,"                    "],[8,"gh-members-no-members",[],[["@afterCreate","@members"],[[32,0,["refreshData"]],[32,0,["members"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-members-empty"],[12],[2,"\\n                        "],[1,[30,[36,1],["members-placeholder"],[["class"],["gh-members-placeholder"]]]],[2,"\\n                        "],[10,"h4"],[12],[2,"No members match the current filter"],[13],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-btn mt4"]],[["@route","@query"],["members",[30,[36,2],["members.index"],null]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"Show all members"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[6,[37,3],[[30,[36,4],[[32,0,["members","length"]],6],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-main-section gh-members-help"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"gh-main-section-header small bn"],[12],[2,"Get started with memberships"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                            "],[10,"a"],[14,6,"https://ghost.org/resources/build-audience-subscriber-signups/"],[14,"target","_blank"],[14,0,"gh-members-help-card"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-members-help-content"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/members-1-8b89a1f48fe7b336754e91a429531f65.jpg);"],[12],[13],[2,"\\n                                    "],[10,"div"],[14,0,"text"],[12],[2,"\\n                                        "],[10,"h3"],[12],[2,"Building your audience with subscriber signups"],[13],[2,"\\n                                        "],[10,"p"],[12],[2,"Learn how to turn anonymous visitors into logged-in members with memberships in Ghost."],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-btn gh-btn-link"],[12],[2,"Start building →"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n\\n                            "],[10,"a"],[14,6,"https://ghost.org/resources/first-100-email-subscribers/"],[14,"target","_blank"],[14,0,"gh-members-help-card"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-members-help-content"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"thumbnail right"],[14,5,"background-image: url(assets/img/marketing/members-2-791205c82d5cf221f8c99a74f9ee1739.jpg);"],[12],[13],[2,"\\n                                    "],[10,"div"],[14,0,"text"],[12],[2,"\\n                                        "],[10,"h3"],[12],[2,"Get your first 100 email subscribers"],[13],[2,"\\n                                        "],[10,"p"],[12],[2,"Starting from zero? Use this guide to find your founding audience members."],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-btn gh-btn-link"],[12],[2,"Become an expert →"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[1,[30,[36,17],[[30,[36,16],null,null]],null]],[2,"\\n\\n"],[6,[37,3],[[32,0,["showUnsubscribeMembersModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["unsubscribe-members",[30,[36,0],null,[["memberCount"],[[32,0,["members","length"]]]]],[32,0,["unsubscribeMembers"]],[32,0,["toggleUnsubscribeMembersModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["showLabelModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["members-label-form",[32,0,["labelModalData"]],[32,0,["toggleLabelModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["hash","svg-jar","reset-query-params","if","lt","feature","not-eq","-track-array","each","not","or","on","mut","fn","will-destroy","and","-outlet","component"]}',moduleName:"ghost-admin/templates/members.hbs"})
e.default=t})),define("ghost-admin/templates/members/import",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"oWi45bKX",block:'{"symbols":[],"statements":[[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["import-members",[32,0,["refreshMembers"]],[32,0,["close"]],"action import-members"]],null],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/members/import.hbs"})
e.default=t})),define("ghost-admin/templates/offer",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"MQ1SZQ6C",block:'{"symbols":[],"statements":[[11,"section"],[24,0,"gh-canvas gh-offer circle-bg"],[4,[38,6],[[32,0,["setup"]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["offers"]],[["default"],[{"statements":[[2,"Offers"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,7],["arrow-right"],null]],[13],[2,"\\n"],[6,[37,5],[[32,0,["offer","isNew"]]],null,[["default","else"],[{"statements":[[2,"                New Offer\\n"]],"parameters":[]},{"statements":[[2,"                "],[1,[32,0,["offer","name"]]],[2,"\\n"],[6,[37,5],[[30,[36,4],[[32,0,["offer","status"]],"archived"],null]],null,[["default"],[{"statements":[[2,"                "],[10,"span"],[14,0,"gh-badge gh-badge-title"],[12],[2,"Archived"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@class","@type","@task"],["gh-btn gh-btn-primary gh-btn-icon","button",[32,0,["saveTask"]]]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-layout content-preview"],[12],[2,"\\n            "],[10,"form"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section gh-offer-form"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-main-section-block no-margin"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Basic"],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                            "],[8,"gh-form-group",[[24,0,"no-margin"]],[["@errors","@property","@hasValidated"],[[32,0,["offer","errors"]],"name",[32,0,["offer","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","name"],[14,0,"fw6"],[12],[2,"Name"],[13],[2,"\\n                                "],[8,"gh-text-input",[],[["@name","@placeholder","@id","@value","@input","@class"],["name","Black Friday","name",[32,0,["offer","name"]],[32,0,["setOfferName"]],"gh-input"]],null],[2,"\\n                                "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"name"]],null],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"p"],[12],[2,"Visible to members on Stripe Checkout page."],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"\\n                            Discount information "],[10,"span"],[14,0,"midgrey"],[12],[2," – Once saved, this cannot be changed."],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                            "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["errors"]],"product-cadence"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[30,[36,8],["multipleProducts"],null]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"label"],[14,"for","product-cadence"],[14,0,"fw6"],[12],[2,"Tier – cadence"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"label"],[14,"for","product-cadence"],[14,0,"fw6"],[12],[2,"Cadence"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n                                    "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@disabled","@update"],[[32,0,["cadence"]],[32,0,["cadences"]],"name","label","name",[32,0,["isDiscountSectionDisabled"]],[32,0,["updateCadence"]]]],null],[2,"\\n                                    "],[1,[30,[36,7],["arrow-down-small"],null]],[2,"\\n                                "],[13],[2,"\\n                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"product-cadence"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                            "],[10,"div"],[14,0,"gh-offer-discount"],[12],[2,"\\n                                "],[10,"label"],[14,"for","amount"],[14,0,"fw6 mb1"],[12],[2,"Amount off"],[13],[2,"\\n                                "],[10,"div"],[14,0,"flex items-start"],[12],[2,"\\n                                    "],[8,"gh-form-group",[],[["@errors","@property","@hasValidated"],[[32,0,["offer","errors"]],"amount",[32,0,["offer","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"div"],[14,0,"gh-offer-value percentage"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[32,0,["offer","type"]],"fixed"],null]],null,[["default","else"],[{"statements":[[2,"                                                "],[8,"gh-text-input",[],[["@name","@type","@placeholder","@disabled","@value","@input","@id","@class"],["amount","number","",[32,0,["isDiscountSectionDisabled"]],[30,[36,2],[[30,[36,3],[[32,0,["offer","amount"]]],null]],null],[32,0,["setDiscountAmount"]],"amount","gh-input"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                "],[8,"gh-text-input",[],[["@name","@type","@placeholder","@disabled","@value","@input","@id","@class"],["amount","number","",[32,0,["isDiscountSectionDisabled"]],[30,[36,2],[[32,0,["offer","amount"]]],null],[32,0,["setDiscountAmount"]],"amount","gh-input"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                        "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"amount"]],null],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[10,"div"],[14,0,"gh-offer-type"],[12],[2,"\\n                                        "],[8,"gh-form-group",[[24,0,"no-margin"]],[["@errors","@property","@hasValidated"],[[32,0,["offer","errors"]],"type",[32,0,["offer","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n                                                "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@disabled","@optionLabelPath","@optionTargetPath","@update"],[[32,0,["offer","type"]],[32,0,["offertypes"]],"offertype",[32,0,["isDiscountSectionDisabled"]],"label","offertype",[32,0,["setDiscountType"]]]],null],[2,"\\n                                                "],[1,[30,[36,7],["arrow-down-small"],null]],[2,"\\n                                            "],[13],[2,"\\n                                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"type"]],null],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-offer-duration"],[12],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["errors"]],"duration"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","product-cadence"],[14,0,"fw6"],[12],[2,"Duration"],[13],[2,"\\n                                    "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n                                        "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@disabled","@optionLabelPath","@optionTargetPath","@update"],[[32,0,["offer","duration"]],[32,0,["durations"]],"duration",[32,0,["isDiscountSectionDisabled"]],"label","duration",[32,0,["updateDuration"]]]],null],[2,"\\n                                        "],[1,[30,[36,7],["arrow-down-small"],null]],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"duration"]],null],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[30,[36,4],[[32,0,["offer","duration"]],"repeating"],null]],null,[["default"],[{"statements":[[2,"                                "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["offer","errors"]],"durationInMonths"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","duration-months"],[14,0,"fw6"],[12],[2,"Number of months"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"duration-months"],[12],[2,"\\n                                        "],[8,"gh-text-input",[],[["@name","@value","@input","@disabled","@id","@class"],["duration-months",[30,[36,2],[[32,0,["offer","durationInMonths"]]],null],[32,0,["setDurationInMonths"]],[32,0,["isDiscountSectionDisabled"]],"duration-months","gh-input"]],null],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"durationInMonths"]],null],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Portal settings"],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                            "],[10,"div"],[14,0,"form-col2"],[12],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@property","@hasValidated"],[[32,0,["offer","errors"]],"displayTitle",[32,0,["offer","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","display-title"],[14,0,"fw6"],[12],[2,"Display title"],[13],[2,"\\n                                    "],[8,"gh-text-input",[],[["@name","@value","@input","@placeholder","@id","@class"],["display-title",[30,[36,2],[[32,0,["offer","displayTitle"]]],null],[32,0,["setPortalTitle"]],"Black Friday Special","display-title","gh-input"]],null],[2,"\\n                                    "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"displayTitle"]],null],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@property","@hasValidated"],[[32,0,["offer","errors"]],"code",[32,0,["offer","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","code"],[14,0,"fw6"],[12],[2,"Offer code"],[13],[2,"\\n                                    "],[8,"gh-text-input",[],[["@name","@placeholder","@value","@input","@id","@class"],["code","black-friday",[30,[36,2],[[32,0,["offer","code"]]],null],[32,0,["setOfferCode"]],"code","gh-input"]],null],[2,"\\n                                    "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"code"]],null],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                            "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["offer","errors"]],"displayDescription"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","description"],[14,0,"fw6"],[12],[2,"Display description"],[13],[2,"\\n                                "],[8,"gh-textarea",[],[["@id","@name","@placeholder","@value","@input","@stopEnterKeyDownPropagation"],["description","description","Take advantage of this limited-time offer.",[30,[36,2],[[32,0,["offer","displayDescription"]]],null],[32,0,["setPortalDescription"]],"true"]],null],[2,"\\n                                "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"displayDescription"]],null],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                            "],[8,"gh-form-group",[[24,0,"no-margin"]],[["@errors","@property","@class"],[[32,0,["errors"]],"url","gh-offer-url"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","url"],[14,0,"fw6"],[12],[2,"URL"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-input-group"],[12],[2,"\\n                                    "],[8,"gh-text-input",[],[["@name","@value","@id","@disabled","@placeholder","@class"],["url",[30,[36,2],[[32,0,["offerUrl"]]],null],"url","disabled",[32,0,["defaultSiteUrl"]],"gh-input"]],null],[2,"\\n\\n                                    "],[8,"gh-task-button",[],[["@type","@buttonText","@task","@successText","@disabled","@class"],["button","Copy link",[32,0,["copyOfferUrl"]],"Link copied",[30,[36,1],[[32,0,["offerUrl"]],"disabled"],null],"gh-btn gh-btn-icon"]],null],[2,"\\n                                "],[13],[2,"\\n                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"url"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-offer-portal-preview"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Preview"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-setting-members-portalpreview"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-members-portal-mock"],[12],[2,"\\n                            "],[8,"gh-site-iframe",[[24,"scrolling","no"]],[["@src","@invisibleUntilLoaded","@onInserted","@onDestroyed"],[[32,0,["portalPreviewUrl"]],"portal-ready",[32,0,["portalPreviewInserted"]],[32,0,["portalPreviewDestroyed"]]]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block gh-offer-archive-container"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[32,0,["offer","status"]],"active"],null]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["offer","isNew"]]],null,[["default"],[{"statements":[[2,"                        "],[11,"button"],[24,0,"gh-btn gh-btn-black gh-btn-icon"],[24,4,"button"],[4,[38,0],["click",[32,0,["openConfirmArchiveModal"]]],null],[12],[2,"\\n                            "],[10,"span"],[12],[2,"Archive offer"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            "],[10,"span"],[12],[2,"Archiving an offer ensures it is no longer available for use. Don’t worry, existing members remain unchanged and the offer can be reactivated anytime."],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-black gh-btn-icon"],[24,4,"button"],[4,[38,0],["click",[32,0,["openConfirmUnarchiveModal"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Reactivate offer"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,5],[[32,0,["showUnsavedChangesModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[32,0,["leaveScreen"]],[32,0,["toggleUnsavedChangesModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","unless","readonly","gh-price-amount","eq","if","did-insert","svg-jar","feature"]}',moduleName:"ghost-admin/templates/offer.hbs"})
e.default=t})),define("ghost-admin/templates/offers",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"5bdb60Mm",block:'{"symbols":["offer","type"],"statements":[[10,"section"],[14,0,"gh-canvas gh-offers"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"Offers"],[13],[2,"\\n        "],[10,"section"],[14,0,"gh-offers-actions view-actions"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-type ",[30,[36,3],[[30,[36,12],[[30,[36,2],[[32,0,["selectedType","value"]],"active"],null]],null],"gh-contentfilter-selected"],null]]]],[12],[2,"\\n                    "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,0,["selectedType"]],[32,0,["availableTypes"]],false,[32,0,["onTypeChange"]],"gh-power-select/trigger","gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n                        "],[6,[37,3],[[32,2,["name"]]],null,[["default","else"],[{"statements":[[1,[32,2,["name"]]],[2," offers"]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown type"],[13]],"parameters":[]}]]],[2,"\\n                    "]],"parameters":[2]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary"]],[["@route"],["offer.new"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New offer"],[13]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n\\n"],[6,[37,3],[[30,[36,13],[[32,0,["offersExist"]],[32,0,["filteredOffers","length"]]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"table"],[14,0,"gh-list gh-offers-list"],[12],[2,"\\n                "],[10,"tr"],[14,0,"gh-list-row header"],[12],[2,"\\n                    "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,0,["selectedType","value"]],"active"],null]],null,[["default","else"],[{"statements":[[2,"                            "],[1,[30,[36,9],[[32,0,["filteredOffers","length"]],"active offer"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[1,[30,[36,9],[[32,0,["filteredOffers","length"]],"archived offer"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Tier"],[13],[2,"\\n                    "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Terms"],[13],[2,"\\n                    "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Price"],[13],[2,"\\n                    "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Redemptions"],[13],[2,"\\n                    "],[10,"th"],[14,0,"gh-list-header gh-list-cellwidth-10"],[12],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,11],[[30,[36,10],[[30,[36,10],[[32,0,["filteredOffers"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"tr"],[14,0,"gh-list-row"],[12],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-list-data"]],[["@route","@model"],["offer",[32,1]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"h3"],[12],[1,[32,1,["name"]]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-list-data"]],[["@route","@model"],["offer",[32,1]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,5],["multipleProducts"],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"span"],[12],[1,[32,1,["tier","name"]]],[13],[2,"\\n                                "],[10,"span"],[14,0,"midgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[10,"span"],[14,0,"midgrey"],[12],[1,[30,[36,3],[[30,[36,2],[[32,1,["cadence"]],"month"],null],"Monthly","Yearly"],null]],[2," "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-list-data"]],[["@route","@model"],["offer",[32,1]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[14,0,"offer-value"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,1,["type"]],"percent"],null]],null,[["default"],[{"statements":[[2,"                                    "],[1,[30,[36,1],["offer"],null]],[2,"\\n                                    "],[10,"span"],[14,0,"green fw6"],[12],[1,[32,1,["amount"]]],[2,"% OFF"],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,2],[[32,1,["type"]],"fixed"],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"blue"],[12],[1,[30,[36,1],["offer"],null]],[13],[2,"\\n                                    "],[10,"span"],[14,0,"blue fw6"],[12],[1,[30,[36,4],[[32,1,["amount"]]],null]],[2," "],[10,"span"],[14,0,"ttu"],[12],[1,[32,1,["currency"]]],[13],[2," OFF"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[10,"span"],[14,0,"dib ml1 midgrey ttc"],[12],[2," – \\n                                    "],[1,[30,[36,3],[[30,[36,2],[[32,1,["duration"]],"once"],null],"First-payment","Repeating"],null]],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-list-data"]],[["@route","@model"],["offer",[32,1]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[1,[30,[36,6],[[32,1,["finalCurrency"]]],null]],[1,[30,[36,4],[[32,1,["updatedPrice"]]],null]],[13],[2,"\\n                            "],[10,"span"],[14,0,"midgrey strike ml2"],[12],[1,[30,[36,6],[[32,1,["finalCurrency"]]],null]],[1,[30,[36,4],[[32,1,["originalPrice"]]],null]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-list-data"]],[["@route","@model"],["offer",[32,1]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[14,0,"midgrey"],[12],[1,[32,1,["redemptionCount"]]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[10,"div"],[14,0,"gh-list-data gh-list-cellwidth-10 gh-list-chevron"],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center justify-end w-100 h-100"],[12],[2,"\\n                                "],[11,"div"],[24,0,"gh-btn gh-btn-icon gh-btn-text gh-offer-link-button"],[24,"data-tooltip","Get shareable link"],[4,[38,8],["click",[30,[36,7],[[32,0,["openLinkDialog"]],[32,1]],null]],null],[12],[2,"\\n                                    "],[10,"span"],[12],[1,[30,[36,1],["link"],null]],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[8,"link-to",[],[["@route","@model"],["offer",[32,1]]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[14,0,"nr2 lh-1"],[12],[1,[30,[36,1],["arrow-right"],[["class"],["w6 h6 fill-midgrey pa1"]]]],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,0,["selectedType","value"]],"active"],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-offers-list-cta"],[12],[2,"\\n                    "],[1,[30,[36,1],["discount-bubble"],[["class"],["discount-bubble"]]]],[2,"\\n                    "],[10,"h4"],[12],[2,"Provide special offers to new signups"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"\\n                        Boost your subscriptions by creating targeted discounts to potential members.\\n                    "],[13],[2,"\\n                    "],[8,"link-to",[[24,0,"gh-btn gh-btn-green gh-btn-icon"]],[["@route"],["offer.new"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"span"],[12],[1,[30,[36,1],["add"],null]],[2," Add offer"],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"no-posts-box"],[12],[2,"\\n                    "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n                        "],[10,"h3"],[12],[2,"You have no archived offers."],[13],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-btn gh-btn-lg"]],[["@route","@query"],["offers",[30,[36,0],null,[["type","author","tag"],[null,null,null]]]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"Show active offers"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,0,["selectedType","value"]],"active"],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-main-section gh-offers-help"],[12],[2,"\\n                "],[10,"h2"],[14,0,"gh-main-section-header small bn"],[12],[2,"Get the most out of offers"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                        "],[10,"a"],[14,6,"https://ghost.org/help/offers"],[14,"target","_blank"],[14,0,"gh-offers-help-card"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-offers-help-content"],[12],[2,"\\n                                "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/offers-1-f2e1b653c4d5bb90eea9d7a2862530f9.jpg);"],[12],[13],[2,"\\n                                "],[10,"div"],[14,0,"text"],[12],[2,"\\n                                    "],[10,"h3"],[12],[2,"How to create offers in Ghost"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"Find out how to create and promote offers to increase your subscriptions."],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-btn"],[12],[10,"span"],[12],[2,"Read more"],[13],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"a"],[14,6,"https://ghost.org/resources/proven-discount-strategies"],[14,"target","_blank"],[14,0,"gh-offers-help-card"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-offers-help-content"],[12],[2,"\\n                                "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/offers-3-2094c91ab21a16c37fbe6ec16c140160.jpg);"],[12],[13],[2,"\\n                                "],[10,"div"],[14,0,"text"],[12],[2,"\\n                                    "],[10,"h3"],[12],[2,"Proven discount strategies for publishers"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"Setting up the right timing for your offers is as critical as finding the right amount."],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-btn"],[12],[10,"span"],[12],[2,"Read more"],[13],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"a"],[14,6,"https://ghost.org/resources/conversion-vs-retention-offers"],[14,"target","_blank"],[14,0,"gh-offers-help-card"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-offers-help-content"],[12],[2,"\\n                                "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/offers-2-28a225d34cc39d133748431536961d00.jpg)"],[12],[13],[2,"\\n                                "],[10,"div"],[14,0,"text"],[12],[2,"\\n                                    "],[10,"h3"],[12],[2,"Offer pricing: Conversion vs retention"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"As your business evolves, your discount strategy should too."],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-btn"],[12],[10,"span"],[12],[2,"Read more"],[13],[13],[2,"\\n                        "],[13],[2,"\\n\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["hash","svg-jar","eq","if","gh-price-amount","feature","currency-symbol","fn","on","gh-pluralize","-track-array","each","not","and"]}',moduleName:"ghost-admin/templates/offers.hbs"})
e.default=t})),define("ghost-admin/templates/pages-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"y6tJ9tda",block:'{"symbols":[],"statements":[[11,"section"],[24,0,"gh-canvas"],[4,[38,1],[[30,[36,0],[[32,0],"setMainClass","gh-main-primarybg"],[["target"],[[32,0,["ui"]]]]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header break tablet post-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[8,"gh-custom-view-title",[],[["@title","@query"],["Pages",[30,[36,2],["posts"],null]]],null],[2,"\\n\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-contentfilter",[],[["@currentUser","@selectedType","@availableTypes","@onTypeChange","@selectedVisibility","@availableVisibilities","@onVisibilityChange","@selectedAuthor","@availableAuthors","@onAuthorChange","@selectedTag","@availableTags","@onTagChange","@selectedOrder","@availableOrders","@onOrderChange"],[[32,0,["session","user"]],[32,0,["selectedType"]],[32,0,["availableTypes"]],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["k"]]],null]],null],[32,0,["selectedVisibility"]],[32,0,["availableVisibilities"]],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["k"]]],null]],null],[32,0,["selectedAuthor"]],[32,0,["availableAuthors"]],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["k"]]],null]],null],[32,0,["selectedTag"]],[32,0,["availableTags"]],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["k"]]],null]],null],[32,0,["selectedOrder"]],[32,0,["availableOrders"]],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["k"]]],null]],null]]],null],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary view-actions-top-row"]],[["@route","@model"],["editor.new","page"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New page"],[13]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-list",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","did-insert","reset-query-params","mut"]}',moduleName:"ghost-admin/templates/pages-loading.hbs"})
e.default=t})),define("ghost-admin/templates/pages",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"PYCiUrMl",block:'{"symbols":["page"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header break tablet post-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[8,"gh-custom-view-title",[],[["@title","@query"],["Pages",[30,[36,3],["posts"],null]]],null],[2,"\\n\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-contentfilter",[],[["@currentUser","@selectedType","@availableTypes","@onTypeChange","@selectedVisibility","@availableVisibilities","@onVisibilityChange","@selectedAuthor","@availableAuthors","@onAuthorChange","@selectedTag","@availableTags","@onTagChange","@selectedOrder","@availableOrders","@onOrderChange"],[[32,0,["session","user"]],[32,0,["selectedType"]],[32,0,["availableTypes"]],[30,[36,4],[[32,0],"changeType"],null],[32,0,["selectedVisibility"]],[32,0,["availableVisibilities"]],[30,[36,4],[[32,0],"changeVisibility"],null],[32,0,["selectedAuthor"]],[32,0,["availableAuthors"]],[30,[36,4],[[32,0],"changeAuthor"],null],[32,0,["selectedTag"]],[32,0,["availableTags"]],[30,[36,4],[[32,0],"changeTag"],null],[32,0,["selectedOrder"]],[32,0,["availableOrders"]],[30,[36,4],[[32,0],"changeOrder"],null]]],null],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary view-actions-top-row"]],[["@route","@model"],["editor.new","page"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New page"],[13]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container content-list"],[12],[2,"\\n        "],[10,"ol"],[15,0,[31,["gh-list ",[30,[36,5],[[32,0,["postsInfinityModel"]],"no-posts"],null]]]],[12],[2,"\\n"],[6,[37,2],[[32,0,["postsInfinityModel"]]],null,[["default"],[{"statements":[[2,"                "],[10,"li"],[14,0,"gh-list-row header"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header gh-posts-title-header"],[12],[2,"Title"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header gh-posts-status-header"],[12],[2,"Status"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["postsInfinityModel"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                "],[8,"gh-posts-list-item",[],[["@post"],[[32,1]]],null],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"                "],[10,"li"],[14,0,"no-posts-box"],[12],[2,"\\n                    "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n"],[6,[37,2],[[32,0,["showingAll"]]],null,[["default","else"],[{"statements":[[2,"                            "],[1,[30,[36,1],["pages-placeholder"],[["class"],["gh-pages-placeholder"]]]],[2,"\\n                            "],[10,"h4"],[12],[2,"Tell the world about yourself."],[13],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"]],[["@route","@model"],["editor.new","page"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[2,"Create a new page"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[10,"h3"],[12],[2,"No pages match the current filter"],[13],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-btn"]],[["@route","@query"],["pages",[30,[36,0],null,[["type","author","tag"],[null,null,null]]]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[2,"Show all pages"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[8,"gh-infinity-loader",[],[["@infinityModel","@scrollable","@triggerOffset"],[[32,0,["postsInfinityModel"]],".gh-main",1000]],null],[2,"\\n    "],[13],[2,"\\n\\n    "],[1,[30,[36,9],[[30,[36,8],null,null]],null]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["hash","svg-jar","if","reset-query-params","action","unless","-track-array","each","-outlet","component"]}',moduleName:"ghost-admin/templates/pages.hbs"})
e.default=t})),define("ghost-admin/templates/posts-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"roqvnwtk",block:'{"symbols":[],"statements":[[11,"section"],[24,0,"gh-canvas"],[4,[38,1],[[30,[36,0],[[32,0],"setMainClass","gh-main-primarybg"],[["target"],[[32,0,["ui"]]]]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header break tablet post-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[8,"gh-custom-view-title",[],[["@title","@query"],[[30,[36,3],[[32,0,["session","user","isContributor"]],[30,[36,2],[[32,0,["config","blogTitle"]]," posts"],null],"Posts"],null],[30,[36,4],["posts"],null]]],null],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-contentfilter",[],[["@currentUser","@selectedType","@availableTypes","@onTypeChange","@selectedVisibility","@availableVisibilities","@onVisibilityChange","@selectedAuthor","@availableAuthors","@onAuthorChange","@selectedTag","@availableTags","@onTagChange","@selectedOrder","@availableOrders","@onOrderChange"],[[32,0,["session","user"]],[32,0,["selectedType"]],[32,0,["availableTypes"]],[30,[36,0],[[32,0],[30,[36,5],[[32,0,["k"]]],null]],null],[32,0,["selectedVisibility"]],[32,0,["availableVisibilities"]],[30,[36,0],[[32,0],[30,[36,5],[[32,0,["k"]]],null]],null],[32,0,["selectedAuthor"]],[32,0,["availableAuthors"]],[30,[36,0],[[32,0],[30,[36,5],[[32,0,["k"]]],null]],null],[32,0,["selectedTag"]],[32,0,["availableTags"]],[30,[36,0],[[32,0],[30,[36,5],[[32,0,["k"]]],null]],null],[32,0,["selectedOrder"]],[32,0,["availableOrders"]],[30,[36,0],[[32,0],[30,[36,5],[[32,0,["k"]]],null]],null]]],null],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary view-actions-top-row"]],[["@route","@model"],["editor.new","post"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New post"],[13]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-list",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","did-insert","concat","if","reset-query-params","mut"]}',moduleName:"ghost-admin/templates/posts-loading.hbs"})
e.default=t})),define("ghost-admin/templates/posts",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"LQTjxY6r",block:'{"symbols":["post"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header break tablet post-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[8,"gh-custom-view-title",[],[["@title","@query"],[[30,[36,2],[[32,0,["session","user","isContributor"]],[30,[36,6],[[32,0,["config","blogTitle"]]," posts"],null],"Posts"],null],[30,[36,7],["posts"],null]]],null],[2,"\\n\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-contentfilter",[],[["@currentUser","@selectedType","@availableTypes","@onTypeChange","@selectedVisibility","@availableVisibilities","@onVisibilityChange","@selectedAuthor","@availableAuthors","@onAuthorChange","@selectedTag","@availableTags","@onTagChange","@selectedOrder","@availableOrders","@onOrderChange"],[[32,0,["session","user"]],[32,0,["selectedType"]],[32,0,["availableTypes"]],[30,[36,8],[[32,0],"changeType"],null],[32,0,["selectedVisibility"]],[32,0,["availableVisibilities"]],[30,[36,8],[[32,0],"changeVisibility"],null],[32,0,["selectedAuthor"]],[32,0,["availableAuthors"]],[30,[36,8],[[32,0],"changeAuthor"],null],[32,0,["selectedTag"]],[32,0,["availableTags"]],[30,[36,8],[[32,0],"changeTag"],null],[32,0,["selectedOrder"]],[32,0,["availableOrders"]],[30,[36,8],[[32,0],"changeOrder"],null]]],null],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary view-actions-top-row"]],[["@route","@model"],["editor.new","post"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New post"],[13]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container content-list"],[12],[2,"\\n        "],[10,"ol"],[15,0,[31,["posts-list gh-list ",[30,[36,9],[[32,0,["postsInfinityModel"]],"no-posts"],null]]]],[12],[2,"\\n"],[6,[37,2],[[32,0,["postsInfinityModel"]]],null,[["default"],[{"statements":[[2,"                "],[10,"li"],[14,0,"gh-list-row header"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header gh-posts-title-header"],[12],[2,"Title"],[13],[2,"\\n"],[6,[37,2],[[30,[36,5],[[30,[36,4],[[32,0,["settings","membersSignupAccess"]],"none"],null],[30,[36,4],[[32,0,["settings","editorDefaultEmailRecipients"]],"disabled"],null],[30,[36,3],[[32,0,["session","user","isContributor"]]],null],[32,0,["feature","emailAnalytics"]]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-list-header gh-posts-sends-header"],[12],[2,"Sends"],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-list-header gh-posts-opens-header"],[12],[2,"Opens"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"div"],[14,0,"gh-list-header gh-posts-status-header"],[12],[2,"Status"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,11],[[30,[36,10],[[30,[36,10],[[32,0,["postsInfinityModel"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                "],[8,"gh-posts-list-item",[],[["@post"],[[32,1]]],null],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"            "],[10,"li"],[14,0,"no-posts-box"],[12],[2,"\\n                "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n"],[6,[37,2],[[32,0,["showingAll"]]],null,[["default","else"],[{"statements":[[2,"                        "],[1,[30,[36,1],["posts-placeholder"],[["class"],["gh-posts-placeholder"]]]],[2,"\\n                        "],[10,"h4"],[12],[2,"Start creating content."],[13],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"]],[["@route","@model"],["editor.new","post"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"Write a new post"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"h3"],[12],[2,"No posts match the current filter"],[13],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-btn"]],[["@route","@query"],["posts",[30,[36,0],null,[["type","author","tag"],[null,null,null]]]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"Show all posts"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[8,"gh-infinity-loader",[],[["@infinityModel","@scrollable","@triggerOffset"],[[32,0,["postsInfinityModel"]],".gh-main",1000]],null],[2,"\\n    "],[13],[2,"\\n\\n    "],[1,[30,[36,13],[[30,[36,12],null,null]],null]],[2,"\\n"],[13]],"hasEval":false,"upvars":["hash","svg-jar","if","not","not-eq","and","concat","reset-query-params","action","unless","-track-array","each","-outlet","component"]}',moduleName:"ghost-admin/templates/posts.hbs"})
e.default=t})),define("ghost-admin/templates/reset",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"kgvIl1XL",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-flow"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-flow-content-wrap"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-flow-content fade-in"],[12],[2,"\\n            "],[11,"form"],[24,1,"reset"],[24,0,"gh-signin"],[24,"method","post"],[24,"novalidate","novalidate"],[4,[38,0],[[32,0],"submit"],[["on"],["submit"]]],[12],[2,"\\n                "],[10,"header"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-site-icon"],[15,5,[34,1]],[12],[13],[2,"\\n                    "],[10,"h1"],[12],[2,"Reset your password."],[13],[2,"\\n                "],[13],[2,"\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"newPassword"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"span"],[14,0,"gh-input-icon gh-icon-lock"],[12],[2,"\\n                        "],[8,"gh-text-input",[],[["@type","@name","@placeholder","@class","@autocorrect","@shouldFocus","@value","@input"],["password","newpassword","New password","password reset-password","off",true,[30,[36,2],[[32,0,["newPassword"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["newPassword"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"ne2Password"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"span"],[14,0,"gh-input-icon gh-icon-lock"],[12],[2,"\\n                        "],[8,"gh-text-input",[],[["@type","@name","@placeholder","@class","@autocorrect","@value","@input"],["password","ne2password","Confirm new password","password reset-password","off",[30,[36,2],[[32,0,["ne2Password"]]],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["ne2Password"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-task-button",[],[["@buttonText","@task","@class","@type","@autoWidth"],["Save new password",[32,0,["resetPassword"]],"gh-btn gh-btn-reset gh-btn-block gh-btn-icon","submit","false"]],null],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"p"],[14,0,"main-error"],[12],[1,[32,0,["flowErrors"]]],[2," "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","site-icon-style","readonly","mut"]}',moduleName:"ghost-admin/templates/reset.hbs"})
e.default=t})),define("ghost-admin/templates/settings",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"6PQzb60R",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            Settings\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-header gh-first-header"],[12],[2,"Website"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-settings-main-grid"],[12],[2,"\\n            "],[8,"link-to",[[24,0,"gh-setting-group"]],[["@route"],["settings.general"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"yellow"],[12],[1,[30,[36,1],["settings"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"General"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Basic publication details and site metadata"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[8,"link-to",[[24,0,"gh-setting-group"]],[["@route"],["settings.design"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"blue"],[12],[1,[30,[36,1],["paint-palette"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Design"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Customize your site and manage themes"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[8,"link-to",[[24,0,"gh-setting-group"]],[["@route"],["settings.navigation"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"pink"],[12],[1,[30,[36,1],["compass-2"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Navigation"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Set up primary and secondary menus"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-setting-group"]],[["@route"],["settings.staff"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"green"],[12],[1,[30,[36,1],["staff"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Staff"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Manage authors, editor and collaborators"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-setting-header"],[12],[2,"Members"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-settings-main-grid"],[12],[2,"\\n            "],[8,"link-to",[[24,0,"gh-setting-group"]],[["@route"],["settings.membership"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"blue"],[12],[1,[30,[36,1],["members"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Membership"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Access, subscription, and pricing options"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[8,"link-to",[[24,0,"gh-setting-group"]],[["@route"],["settings.members-email"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"yellow"],[12],[1,[30,[36,1],["email-stroke"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Email newsletter"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Customize emails and set email addresses"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-setting-header"],[12],[2,"Advanced"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-settings-main-grid"],[12],[2,"\\n            "],[8,"link-to",[[24,0,"gh-setting-group"]],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"yellow"],[12],[1,[30,[36,1],["module"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Integrations"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Make Ghost work with apps and tools"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-setting-group"]],[["@route"],["settings.code-injection"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"green"],[12],[1,[30,[36,1],["brackets"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Code injection"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Add code to your publication"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-setting-group"]],[["@route"],["settings.labs"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"pink"],[12],[1,[30,[36,1],["labs"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Labs"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Testing ground for new features"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["showLeaveSettingsModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[30,[36,0],[[32,0],"leavePortalSettings"],null],[30,[36,0],[[32,0],"closeLeaveSettingsModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","svg-jar","if"]}',moduleName:"ghost-admin/templates/settings.hbs"})
e.default=t})),define("ghost-admin/templates/settings/code-injection-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"tYfGaxvu",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            Code injection\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/settings/code-injection-loading.hbs"})
e.default=t})),define("ghost-admin/templates/settings/code-injection",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"0VTHAAj5",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,1],["arrow-right"],null]],[13],[2,"\\n            Code injection\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,2],[[32,0,["showLeaveSettingsModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[30,[36,0],[[32,0],"leaveSettings"],null],[30,[36,0],[[32,0],"toggleLeaveSettingsModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"form"],[14,1,"settings-code"],[14,"novalidate","novalidate"],[12],[2,"\\n            "],[10,"fieldset"],[12],[2,"\\n                "],[10,"p"],[14,0,"gh-box gh-box-tip"],[12],[2,"\\n                    "],[1,[30,[36,1],["idea"],null]],[2,"\\n                    Ghost allows you to inject code into the top and bottom of your theme files without editing them. This allows for quick modifications to insert useful things like tracking codes and meta tags.\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n                    "],[10,"label"],[14,"for","ghost-head"],[14,0,"gh-main-section-header bn"],[12],[2,"Site Header"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-main-section-description bn"],[12],[2,"Code here will be injected into the "],[10,"code"],[12],[2,"{{ghost_head}}"],[13],[2," tag on every page of the site"],[13],[2,"\\n                    "],[10,"div"],[14,0,"form-group settings-code"],[12],[2,"\\n                        "],[8,"gh-cm-editor",[],[["@value","@id","@class","@name","@type","@update"],[[32,0,["settings","codeinjectionHead"]],"ghost-head","gh-input settings-code-editor","codeInjection[ghost_head]","text",[30,[36,0],[[32,0],[30,[36,3],[[32,0,["settings","codeinjectionHead"]]],null]],null]]],null],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n                    "],[10,"label"],[14,"for","ghost-foot"],[14,0,"gh-main-section-header bn"],[12],[2,"Site Footer"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-main-section-description bn"],[12],[2,"Code here will be injected into the "],[10,"code"],[12],[2,"{{ghost_foot}}"],[13],[2," tag on every page of the site"],[13],[2,"\\n                    "],[10,"div"],[14,0,"form-group settings-code"],[12],[2,"\\n                        "],[8,"gh-cm-editor",[],[["@value","@id","@class","@name","@type","@update"],[[32,0,["settings","codeinjectionFoot"]],"ghost-foot","gh-input settings-code-editor","codeInjection[ghost_foot]","text",[30,[36,0],[[32,0],[30,[36,3],[[32,0,["settings","codeinjectionFoot"]]],null]],null]]],null],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","if","mut"]}',moduleName:"ghost-admin/templates/settings/code-injection.hbs"})
e.default=t})),define("ghost-admin/templates/settings/design/change-theme",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"KpBZ+RnZ",block:'{"symbols":["theme"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"Themes"],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[11,"button"],[24,0,"mr4 gh-btn gh-advanced "],[24,4,"button"],[4,[38,1],["click",[32,0,["toggleAdvanced"]]],null],[12],[10,"span"],[12],[1,[30,[36,2],[[30,[36,0],[[32,0,["showAdvanced"]],"arrow-up-small","arrow-down-small"],null]],null]],[2,"Advanced"],[13],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-primary"],[24,4,"button"],[4,[38,1],["click",[32,0,["startThemeUpload"]]],null],[12],[10,"span"],[12],[2,"Upload theme"],[13],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n"],[6,[37,3],[[32,0,["showAdvanced"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-themes-container"],[12],[2,"\\n                "],[8,"gh-theme-table",[],[["@themes"],[[32,0,["themes"]]]],null],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[10,"div"],[14,0,"gh-theme-directory-container"],[12],[2,"\\n            "],[10,"div"],[14,0,"theme-directory"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["themesList"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"link-to",[[24,0,"td-item td-item-labs"]],[["@route","@model"],["settings.design.change-theme.view",[32,1,["name"]]]],[["default"],[{"statements":[[2,"\\n                        "],[10,"div"],[14,0,"gh-theme-browser"],[12],[2,"\\n                            "],[10,"span"],[14,0,"gh-theme-browser-button"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"td-item-screenshot-labs relative"],[12],[2,"\\n                            "],[10,"img"],[14,5,"object-fit:contain;"],[15,"src",[32,1,["image"]]],[15,"alt",[31,[[32,1,["name"]]," Theme"]]],[12],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"td-item-desc"],[12],[2,"\\n                            "],[10,"div"],[14,0,"td-item-name"],[12],[1,[32,1,["name"]]],[2,"\\n"],[6,[37,0],[[32,1,["isDefault"]]],null,[["default"],[{"statements":[[2,"                                    (Default)\\n"]],"parameters":[]}]]],[6,[37,0],[[32,1,["isActive"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"gh-badge"],[12],[2,"Active"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"td-item-category"],[12],[1,[32,1,["category"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"section"],[14,0,"gh-theme-directory-footer"],[14,5,"background-image:url(assets/img/footer-marketplace-bg-572b6c6486a7e26316954d599eaa9f30.png);"],[12],[2,"\\n    Find and buy third-party, premium themes from independent developers in the "],[10,"a"],[14,6,"https://ghost.org/themes/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"link"],[12],[2,"Ghost Marketplace →"],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","on","svg-jar","liquid-if","-track-array","each"]}',moduleName:"ghost-admin/templates/settings/design/change-theme.hbs"})
e.default=t})),define("ghost-admin/templates/settings/design/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"pJ/iUxnR",block:'{"symbols":[],"statements":[[11,"section"],[24,0,"gh-canvas gh-design"],[4,[38,0],["cmd+s",[32,0,["saveFromKeyboard"]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"Site design"],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-select gh-design-page-preview-mode"],[12],[2,"\\n                "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update"],[[32,0,["themeManagement","previewType"]],[32,0,["themeManagement","availablePreviewTypes"]],"name","label","name",[32,0,["themeManagement","setPreviewType"]]]],null],[2,"\\n                "],[1,[30,[36,1],["arrow-down-small"],null]],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-contentfilter gh-btn-group"],[12],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn gh-design-preview-mode ",[30,[36,2],[[32,0,["isDesktopPreview"]],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[32,0,["setPreviewSize"]],"desktop"],null]],null],[12],[10,"span"],[12],[1,[30,[36,1],["desktop"],null]],[13],[13],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn gh-design-preview-mode ",[30,[36,2],[[32,0,["isMobilePreview"]],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[32,0,["setPreviewSize"]],"mobile"],null]],null],[12],[10,"span"],[12],[1,[30,[36,1],["mobile-phone"],null]],[13],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[8,"gh-task-button",[],[["@buttonText","@task","@successText","@runningText","@class"],["Save",[32,0,["saveTask"]],"Saved","Saving","gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"view-container"],[12],[2,"\\n        "],[8,"gh-browser-preview",[],[["@isMobilePreview"],[[32,0,["isMobilePreview"]]]],[["default"],[{"statements":[[2,"\\n            "],[8,"gh-html-iframe",[[16,0,[30,[36,2],[[32,0,["isMobilePreview"]],"gh-post-preview-iframe","site-frame"],null]]],[["@html","@pageId"],[[32,0,["themeManagement","previewHtml"]],[32,0,["themeManagement","previewType"]]]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on-key","svg-jar","if","fn","on"]}',moduleName:"ghost-admin/templates/settings/design/index.hbs"})
e.default=t})),define("ghost-admin/templates/settings/general-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"mEE/Ad2L",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            General\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@buttonText","@task","@class"],["Save settings",[32,0,["save"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/settings/general-loading.hbs"})
e.default=t})),define("ghost-admin/templates/settings/general",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"yLj3Ku1F",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,5],["arrow-right"],null]],[13],[2,"\\n            General\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@buttonText","@task","@class"],["Save",[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,7],[[32,0,["showLeaveSettingsModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[30,[36,1],[[32,0],"leaveSettings"],null],[30,[36,1],[[32,0],"toggleLeaveSettingsModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Publication info"],[13],[2,"\\n        "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Title & description"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"The details used to identify your publication around the web"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,9],["pubInfoOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,7],[[32,0,["pubInfoOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,10],[[32,0,["pubInfoOpen"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"title"]],[["default"],[{"statements":[[2,"\\n                            "],[8,"gh-text-input",[],[["@value","@input","@focus-out"],[[30,[36,0],[[32,0,["settings","title"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","title"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validate","title"],[["target"],[[32,0,["settings"]]]]]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"title"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"The name of your site"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property","@class"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"description","description-container"]],[["default"],[{"statements":[[2,"\\n                            "],[8,"gh-text-input",[],[["@value","@input","@focus-out"],[[30,[36,0],[[32,0,["settings","description"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","description"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validate","description"],[["target"],[[32,0,["settings"]]]]]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"description"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Used in your theme, meta data and search results"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Site timezone"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Set the time and date of your publication, used for all published posts"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,9],["timezoneOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,7],[[32,0,["timezoneOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,10],[[32,0,["timezoneOpen"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                        "],[8,"gh-timezone-select",[],[["@timezone","@availableTimezones","@update"],[[32,0,["settings","timezone"]],[32,0,["availableTimezones"]],[30,[36,1],[[32,0],"setTimezone"],null]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Publication Language"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Set the language/locale which is used on your site"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,9],["langOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,7],[[32,0,["langOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,10],[[32,0,["langOpen"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"lang"]],[["default"],[{"statements":[[2,"\\n                            "],[8,"gh-text-input",[],[["@value","@input","@focus-out"],[[30,[36,0],[[32,0,["settings","lang"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","lang"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validate","lang"],[["target"],[[32,0,["settings"]]]]]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"lang"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Default: English ("],[10,"strong"],[12],[2,"en"],[13],[2,"); you can add translation files to your theme for "],[10,"a"],[14,6,"https://ghost.org/docs/themes/helpers/translate/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"any language"],[13],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Site meta settings"],[13],[2,"\\n        "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Meta data"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Extra content for search engines"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,9],["metaDataOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,7],[[32,0,["metaDataOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,10],[[32,0,["metaDataOpen"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-seo-settings"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-seo-settings-left flex-basis-1-2-m flex-basis-2-3-l"],[12],[2,"\\n                                    "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"metaTitle"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,"for","metaTitle"],[12],[2,"Meta title"],[13],[2,"\\n                                        "],[8,"gh-text-input",[],[["@id","@type","@placeholder","@value","@input"],["metaTitle","text",[30,[36,4],[[32,0,["settings","title"]],70],null],[30,[36,0],[[32,0,["settings","metaTitle"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","metaTitle"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"metaTitle"]],null],[2,"\\n                                        "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"70"],[13],[2," characters. You’ve used "],[10,"b"],[12],[1,[30,[36,8],[[32,0,["settings","metaTitle"]],70],null]],[13],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"metaDescription"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,"for","metaDescription"],[12],[2,"Meta description"],[13],[2,"\\n                                        "],[8,"gh-textarea",[],[["@id","@type","@placeholder","@value","@input"],["metaDescription","text",[30,[36,4],[[32,0,["settings","description"]],300],null],[30,[36,0],[[32,0,["settings","metaDescription"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","metaDescription"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"metaDescription"]],null],[2,"\\n                                        "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"156"],[13],[2," characters. You’ve used "],[10,"b"],[12],[1,[30,[36,8],[[32,0,["settings","metaDescription"]],156],null]],[13],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"flex-basis-1-2-m flex-basis-1-3-l"],[12],[2,"\\n                                    "],[10,"label"],[12],[2,"Search engine result preview"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-seo-container"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-seo-preview"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"flex mb6"],[12],[2,"\\n                                                "],[1,[30,[36,5],["google"],null]],[2,"\\n                                                "],[10,"div"],[14,0,"gh-seo-search-bar"],[12],[1,[30,[36,5],["google-search"],null]],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-seo-preview-link"],[12],[1,[32,0,["config","blogDomain"]]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-seo-preview-title"],[12],[1,[30,[36,6],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-seo-preview-desc"],[12],[2,"\\n                                                "],[1,[30,[36,4],[[30,[36,6],[[32,0,["settings","metaDescription"]],[32,0,["settings","description"]]],null],159],null]],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Twitter card"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Customize structured data of your site for Twitter"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,9],["twitterCardOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,7],[[32,0,["twitterCardOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,10],[[32,0,["twitterCardOpen"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-twitter-settings"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-twitter-settings-left flex-basis-1-2-m flex-basis-2-3-l"],[12],[2,"\\n                                "],[10,"label"],[12],[2,"Twitter image"],[13],[2,"\\n                                "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                    "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,0,["settings","twitterImage"]],"Add Twitter image",true,[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","twitterImage"]]],null]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","twitterImage"]]],null],""],null]]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"twitterTitle"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","twitterTitle"],[12],[2,"Twitter title"],[13],[2,"\\n                                    "],[8,"gh-text-input",[],[["@id","@type","@placeholder","@value","@input"],["twitterTitle","text",[30,[36,4],[[32,0,["settings","title"]],70],null],[30,[36,0],[[32,0,["settings","twitterTitle"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","twitterTitle"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"twitterTitle"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"twitterDescription"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","twitterDescription"],[12],[2,"Twitter description"],[13],[2,"\\n                                    "],[8,"gh-textarea",[],[["@id","@placeholder","@value","@input"],["twitterDescription",[30,[36,4],[[32,0,["settings","description"]],300],null],[30,[36,0],[[32,0,["settings","twitterDescription"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","twitterDescription"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"twitterDescription"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"flex-basis-1-2-m flex-basis-1-3-l"],[12],[2,"\\n                                "],[10,"label"],[12],[2,"Twitter preview"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-twitter-container"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex ma4"],[12],[2,"\\n                                        "],[10,"span"],[12],[1,[30,[36,5],["social-twitter"],[["class"],["social-icon"]]]],[13],[2,"\\n                                        "],[10,"div"],[14,0,"w-100"],[12],[2,"\\n                                            "],[10,"span"],[14,0,"gh-social-og-title"],[12],[1,[30,[36,6],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                                            "],[10,"span"],[14,0,"gh-social-og-time"],[12],[2,"12 hrs"],[13],[2,"\\n                                            "],[10,"div"],[14,0,"flex flex-column mt2 mb3"],[12],[2,"\\n                                                "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                                                "],[10,"span"],[14,0,"gh-social-og-desc w-60"],[12],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-post-preview"],[12],[2,"\\n"],[6,[37,7],[[32,0,["settings","twitterImage"]]],null,[["default"],[{"statements":[[2,"                                                    "],[10,"div"],[14,0,"gh-social-twitter-preview-image"],[15,5,[30,[36,3],[[32,0,["settings","twitterImage"]]],null]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                                "],[10,"div"],[14,0,"gh-social-twitter-preview-content"],[12],[2,"\\n                                                    "],[10,"div"],[14,0,"gh-social-twitter-preview-title"],[12],[1,[30,[36,6],[[32,0,["settings","twitterTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                                                    "],[10,"div"],[14,0,"gh-social-twitter-preview-desc"],[12],[1,[30,[36,4],[[30,[36,6],[[32,0,["settings","twitterDescription"]],[32,0,["settings","description"]]],null]],null]],[13],[2,"\\n                                                    "],[10,"div"],[14,0,"gh-social-twitter-preview-meta"],[12],[2,"\\n                                                        "],[1,[30,[36,5],["twitter-link"],null]],[2,"\\n                                                        "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-reactions"],[12],[2,"\\n                                                "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,5],["twitter-comment"],null]],[2,"2"],[13],[2,"\\n                                                "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,5],["twitter-retweet"],null]],[2,"11"],[13],[2,"\\n                                                "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,5],["twitter-like"],null]],[2,"32"],[13],[2,"\\n                                                "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,5],["twitter-share"],null]],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Facebook card"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Customize structured data of your site"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,9],["facebookCardOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,7],[[32,0,["facebookCardOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,10],[[32,0,["facebookCardOpen"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-og-settings"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-og-settings-left flex-basis-1-2-m flex-basis-2-3-l"],[12],[2,"\\n                                    "],[10,"label"],[12],[2,"Facebook image"],[13],[2,"\\n                                    "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                        "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,0,["settings","ogImage"]],"Add Facebook image",true,[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","ogImage"]]],null]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","ogImage"]]],null],""],null]]],null],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"ogTitle"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,"for","ogTitle"],[12],[2,"Facebook title"],[13],[2,"\\n                                        "],[8,"gh-text-input",[],[["@id","@type","@placeholder","@value","@input"],["ogTitle","text",[30,[36,4],[[32,0,["settings","title"]],70],null],[30,[36,0],[[32,0,["settings","ogTitle"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","ogTitle"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"ogTitle"]],null],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"ogDescription"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,"for","ogDescription"],[12],[2,"Facebook description"],[13],[2,"\\n                                        "],[8,"gh-textarea",[],[["@id","@placeholder","@value","@input"],["ogDescription",[30,[36,4],[[32,0,["settings","description"]],300],null],[30,[36,0],[[32,0,["settings","ogDescription"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","ogDescription"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"ogDescription"]],null],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"flex-basis-1-2-m flex-basis-1-3-l"],[12],[2,"\\n                                    "],[10,"label"],[12],[2,"Facebook preview"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-og-container"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"flex ma3 mb2"],[12],[2,"\\n                                            "],[10,"span"],[12],[1,[30,[36,5],["social-facebook"],[["class"],["social-icon"]]]],[13],[2,"\\n                                            "],[10,"div"],[12],[2,"\\n                                                "],[10,"div"],[14,0,"gh-social-og-title"],[12],[1,[30,[36,6],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-social-og-time"],[12],[2,"12 hrs"],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"flex flex-column ma3 mt2"],[12],[2,"\\n                                            "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                                            "],[10,"span"],[14,0,"gh-social-og-desc w-60"],[12],[13],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-social-og-preview"],[12],[2,"\\n"],[6,[37,7],[[32,0,["settings","ogImage"]]],null,[["default"],[{"statements":[[2,"                                                "],[10,"div"],[14,0,"gh-social-og-preview-image"],[15,5,[30,[36,3],[[32,0,["settings","ogImage"]]],null]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                            "],[10,"div"],[14,0,"gh-social-og-preview-bookmark"],[12],[2,"\\n"],[2,"                                                "],[10,"div"],[14,0,"gh-social-og-preview-content"],[12],[2,"\\n                                                    "],[10,"div"],[14,0,"gh-social-og-preview-meta"],[12],[2,"\\n                                                        "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                                    "],[13],[2,"\\n                                                    "],[10,"div"],[14,0,"gh-social-og-preview-title"],[12],[1,[30,[36,4],[[30,[36,6],[[32,0,["settings","ogTitle"]],[32,0,["settings","title"]]],null]],null]],[13],[2,"\\n                                                    "],[10,"div"],[14,0,"gh-social-og-preview-desc"],[12],[1,[30,[36,4],[[30,[36,6],[[32,0,["settings","ogDescription"]],[32,0,["settings","description"]]],null]],null]],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-social-og-reactions"],[12],[2,"\\n                                            "],[10,"span"],[14,0,"gh-social-og-likes"],[12],[1,[30,[36,5],["facebook-like"],[["class"],["z-999"]]]],[1,[30,[36,5],["facebook-heart"],[["class"],["nl1"]]]],[2,"182"],[13],[2,"\\n                                            "],[10,"span"],[14,0,"gh-social-og-comments"],[12],[2,"7 comments"],[13],[2,"\\n                                            "],[10,"span"],[14,0,"gh-social-og-comments ml2"],[12],[2,"2 shares"],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Social accounts"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Link your social accounts for full structured data and rich card support"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,9],["socialOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,7],[[32,0,["socialOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,10],[[32,0,["socialOpen"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"facebook"]],[["default"],[{"statements":[[2,"\\n                            "],[8,"gh-text-input",[],[["@type","@placeholder","@autocorrect","@value","@input","@focus-out"],["url","https://www.facebook.com/ghost","off",[30,[36,0],[[32,0,["settings","facebook"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["_scratchFacebook"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validateFacebookUrl"],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"facebook"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"URL of your publication\'s Facebook Page"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"twitter"]],[["default"],[{"statements":[[2,"\\n                            "],[8,"gh-text-input",[],[["@type","@placeholder","@autocorrect","@value","@input","@focus-out"],["url","https://twitter.com/ghost","off",[30,[36,0],[[32,0,["settings","twitter"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["_scratchTwitter"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validateTwitterUrl"],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"twitter"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"URL of your publication\'s Twitter profile"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Advanced settings"],[13],[2,"\\n        "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Make this site private"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                            Enable protection with a simple shared password. All search engine optimization and social features will be disabled.\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                        "],[10,"label"],[14,0,"switch"],[14,"for","settings-private"],[12],[2,"\\n                            "],[10,"input"],[15,"checked",[32,0,["settings","isPrivate"]]],[14,1,"settings-private"],[15,"onclick",[30,[36,1],[[32,0],"toggleIsPrivate"],[["value"],["target.checked"]]]],[14,4,"checkbox"],[12],[13],[2,"\\n                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,7],[[32,0,["settings","isPrivate"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-content-extended pt4 pb4"],[12],[2,"\\n                            "],[10,"span"],[14,0,"avoid-break-out"],[12],[2,"\\n                                A private RSS feed is available at\\n                                "],[10,"a"],[15,6,[31,[[32,0,["privateRSSUrl"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[32,0,["privateRSSUrl"]]],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[8,"gh-form-group",[],[["@class","@errors","@hasValidated","@property"],["no-margin pt2",[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"password"]],[["default"],[{"statements":[[2,"\\n                                "],[8,"gh-text-input",[],[["@value","@name","@focus-out","@input"],[[30,[36,0],[[32,0,["settings","password"]]],null],"general[password]",[30,[36,1],[[32,0],"validate","password"],[["target"],[[32,0,["settings"]]]]],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","password"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"password"]],null],[2,"\\n                                "],[10,"p"],[12],[2,"Set the password for this site"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[1,[30,[36,12],[[30,[36,11],null,null]],null]]],"hasEval":false,"upvars":["readonly","action","mut","background-image-style","truncate","svg-jar","or","if","gh-count-down-characters","toggle","liquid-if","-outlet","component"]}',moduleName:"ghost-admin/templates/settings/general.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integration",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"NsadkYE2",block:'{"symbols":["webhook","uploader"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[11,"form"],[4,[38,6],["submit",[30,[36,7],[[32,0,["saveTask"]]],null]],null],[12],[2,"\\n        "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,1],["arrow-right"],null]],[13],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"Integrations"]],"parameters":[]}]]],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,1],["arrow-right"],null]],[13],[2,"\\n                "],[1,[32,0,["integration","name"]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n                "],[8,"gh-task-button",[],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[11,"div"],[24,0,"gh-main-section"],[4,[38,8],null,null],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Configuration"],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-main-section-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content padding-top-s grey"],[12],[2,"\\n                    "],[10,"div"],[14,0,"flex"],[12],[2,"\\n                        "],[10,"div"],[14,0,"flex flex-column items-start app-custom-icon-container"],[12],[2,"\\n                            "],[10,"label"],[14,0,"mb1"],[12],[2,"Icon"],[13],[2,"\\n                            "],[10,"figure"],[14,0,"app-custom-icon hide-child"],[15,5,[32,0,["iconImageStyle"]]],[12],[2,"\\n                                "],[8,"aspect-ratio-box",[],[["@class","@ratio","@base"],["flex items-center h-100 justify-center","1/1","height"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,9],[[32,0,["integration","iconImage"]]],null,[["default"],[{"statements":[[2,"                                        "],[1,[30,[36,1],["integration"],[["class"],["w11 h11"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["setIconImage"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,10],[[32,2,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"absolute top-0 left-0 w-100 h-100 br4 bg-black-70 flex items-center"],[12],[2,"\\n                                            "],[1,[32,2,["progressBar"]]],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[11,"button"],[24,0,"child app-custom-icon-uploadlabel"],[24,4,"button"],[4,[38,6],["click",[32,0,["triggerIconFileDialog"]]],null],[12],[2,"\\n                                            Upload\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                        "],[8,"gh-file-input",[],[["@name","@multiple","@action","@accept"],["iconImage",false,[32,2,["setFiles"]],[32,0,["imageMimeTypes"]]]],null],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[2]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"flex-auto"],[12],[2,"\\n                            "],[8,"gh-validation-status-container",[],[["@class","@errors","@hasValidated","@property"],["flex flex-column w-100 mr3",[32,0,["integration","errors"]],[32,0,["integration","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","integration_name"],[12],[2,"Name"],[13],[2,"\\n                                "],[8,"gh-text-input",[],[["@id","@class","@type","@value","@on-input","@focus-out"],["integration_name","gh-input mt1 mb1","text",[30,[36,11],[[32,0,["integration","name"]]],null],[30,[36,5],[[32,0,["updateProperty"]],"name"],null],[30,[36,5],[[32,0,["validateProperty"]],"name"],null]]],null],[2,"\\n                                "],[8,"gh-error-message",[[24,0,"ma0"]],[["@errors","@property"],[[32,0,["integration","errors"]],"name"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n\\n                            "],[8,"gh-validation-status-container",[],[["@class","@errors","@hasValidated","@property"],["flex flex-column w-100 mr3",[32,0,["integration","errors"]],[32,0,["integration","hasValidated"]],"decription"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","integration_description"],[14,0,"mt3"],[12],[2,"Description"],[13],[2,"\\n                                "],[8,"gh-text-input",[],[["@id","@class","@type","@value","@on-input","@focus-out"],["integration_description","gh-input mt1","text",[30,[36,11],[[32,0,["integration","description"]]],null],[30,[36,5],[[32,0,["updateProperty"]],"description"],null],[30,[36,5],[[32,0,["validateProperty"]],"description"],null]]],null],[2,"\\n                                "],[8,"gh-error-message",[[24,0,"ma0"]],[["@errors","@property"],[[32,0,["integration","errors"]],"description"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n\\n                            "],[10,"table"],[14,0,"app-custom-api-table list"],[14,5,"table-layout: fixed"],[12],[2,"\\n                                "],[10,"tbody"],[12],[2,"\\n                                    "],[10,"tr"],[12],[2,"\\n                                        "],[10,"td"],[14,0,"data-label"],[12],[2,"Content API key"],[13],[2,"\\n                                        "],[10,"td"],[14,0,"data highlight-hover"],[12],[2,"\\n                                            "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,9],[[32,0,["copyContentKey","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                                "],[10,"span"],[14,0,"truncate"],[12],[2,"\\n                                                    "],[1,[32,0,["integration","contentKey","secret"]]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-regenerate"],[24,"data-tooltip","Regenerate"],[24,4,"button"],[4,[38,6],["click",[30,[36,5],[[32,0,["confirmRegenerateKeyModal"]],[32,0,["integration","contentKey"]]],null]],null],[12],[2,"\\n                                                        "],[1,[30,[36,1],["reload"],[["class"],["w4 h4 stroke-midgrey"]]]],[2,"\\n                                                    "],[13],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,6],["click",[30,[36,7],[[32,0,["copyContentKey"]]],null]],null],[12],[2,"\\n"],[6,[37,10],[[32,0,["copyContentKey","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[1,[30,[36,1],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                        Copy\\n"]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n"],[6,[37,10],[[30,[36,12],[[32,0,["regeneratedKeyType"]],[32,0,["integration","contentKey","type"]]],null]],null,[["default"],[{"statements":[[2,"                                                "],[10,"div"],[14,0,"green nt3 mb2"],[12],[2," Content API Key was successfully regenerated "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"tr"],[12],[2,"\\n                                        "],[10,"td"],[14,0,"data-label"],[12],[2,"Admin API key"],[13],[2,"\\n                                        "],[10,"td"],[14,0,"data highlight-hover"],[12],[2,"\\n                                            "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,9],[[32,0,["copyAdminKey","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                                "],[10,"span"],[14,0,"truncate"],[12],[2,"\\n                                                    "],[1,[32,0,["integration","adminKey","secret"]]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-regenerate"],[24,"data-tooltip","Regenerate"],[24,4,"button"],[4,[38,6],["click",[30,[36,5],[[32,0,["confirmRegenerateKeyModal"]],[32,0,["integration","adminKey"]]],null]],null],[12],[2,"\\n                                                        "],[1,[30,[36,1],["reload"],[["class"],["w4 h4 stroke-midgrey"]]]],[2,"\\n                                                    "],[13],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,6],["click",[30,[36,7],[[32,0,["copyAdminKey"]]],null]],null],[12],[2,"\\n"],[6,[37,10],[[32,0,["copyAdminKey","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[1,[30,[36,1],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                        Copy\\n"]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n"],[6,[37,10],[[30,[36,12],[[32,0,["regeneratedKeyType"]],[32,0,["integration","adminKey","type"]]],null]],null,[["default"],[{"statements":[[2,"                                                "],[10,"div"],[14,0,"green"],[12],[2," Admin API key was successfully regenerated "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"tr"],[12],[2,"\\n                                        "],[10,"td"],[14,0,"data-label"],[12],[2,"API URL"],[13],[2,"\\n                                        "],[10,"td"],[14,0,"data highlight-hover truncate"],[12],[2,"\\n                                            "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,9],[[32,0,["copyApiUrl","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                                "],[10,"span"],[12],[2,"\\n                                                    "],[1,[32,0,["apiUrl"]]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,6],["click",[30,[36,7],[[32,0,["copyApiUrl"]]],null]],null],[12],[2,"\\n"],[6,[37,10],[[32,0,["copyApiUrl","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[1,[30,[36,1],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                        Copy\\n"]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small"],[12],[2,"Webhooks"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block p0"],[12],[2,"\\n            "],[10,"table"],[14,0,"gh-list small"],[12],[2,"\\n                "],[10,"thead"],[12],[2,"\\n                    "],[10,"tr"],[14,0,"gh-list-row header"],[12],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Name"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Event"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"URL"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Last triggered"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tbody"],[12],[2,"\\n"],[6,[37,14],[[30,[36,13],[[30,[36,13],[[32,0,["filteredWebhooks"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"tr"],[14,0,"gh-list-row hide-child"],[12],[2,"\\n                            "],[10,"td"],[14,0,"gh-list-data"],[12],[1,[32,1,["name"]]],[13],[2,"\\n                            "],[10,"td"],[14,0,"gh-list-data"],[12],[1,[30,[36,2],[[32,1,["event"]]],null]],[13],[2,"\\n                            "],[10,"td"],[14,0,"gh-list-data"],[12],[1,[32,1,["targetUrl"]]],[13],[2,"\\n                            "],[10,"td"],[14,0,"gh-list-data"],[12],[1,[30,[36,3],[[32,1,["lastTriggeredAtUTC"]],"Not triggered"],null]],[13],[2,"\\n                            "],[10,"td"],[14,0,"w1 gh-list-data nowrap"],[12],[2,"\\n                                "],[10,"div"],[14,0,"child flex items-center"],[12],[2,"\\n                                    "],[8,"link-to",[],[["@route","@models"],["settings.integration.webhooks.edit",[30,[36,4],[[32,0,["integration"]],[32,1]],null]]],[["default"],[{"statements":[[2,"\\n                                        "],[1,[30,[36,1],["pen"],[["class"],["w6 h6 fill-midgrey pa1 mr1"]]]],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[11,"button"],[24,4,"button"],[4,[38,6],["click",[30,[36,5],[[32,0,["confirmWebhookDeletion"]],[32,1]],null]],null],[12],[2,"\\n                                        "],[1,[30,[36,1],["trash"],[["class"],["w6 fill-red pa1"]]]],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"                    "],[10,"tr"],[14,0,"bt b--whitegrey"],[12],[2,"\\n                        "],[10,"td"],[14,"colspan","5"],[14,0,"pa5 pt15 pb15 tc midgrey f7"],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex flex-column items-center"],[12],[2,"\\n                                "],[10,"p"],[14,0,"ma0 pa0 tc midgrey lh-title mt2"],[12],[2,"\\n                                    No webhooks configured\\n                                "],[13],[2,"\\n                                "],[8,"link-to",[[24,0,"flex items-center"]],[["@route","@model"],["settings.integration.webhooks.new",[32,0,["integration"]]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"flex items-center pa2 pt1"],[12],[2,"\\n                                    "],[1,[30,[36,1],["add"],[["class"],["w3 h3 fill-green-d1"]]]],[2,"\\n                                    "],[10,"span"],[14,0,"ml1 green"],[12],[2,"Add webhook"],[13],[2,"\\n                                "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"],[6,[37,10],[[32,0,["filteredWebhooks"]]],null,[["default"],[{"statements":[[2,"                "],[10,"tfoot"],[12],[2,"\\n                    "],[10,"tr"],[14,0,"gh-list-row new-webhook-cell"],[12],[2,"\\n                        "],[10,"td"],[14,"colspan","5"],[14,0,"gh-list-data"],[12],[2,"\\n                            "],[8,"link-to",[[24,0,"flex items-center"]],[["@route","@model"],["settings.integration.webhooks.new",[32,0,["integration"]]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"div"],[14,0,"pt1 pb1 f7"],[12],[2,"\\n                                "],[1,[30,[36,1],["add"],[["class"],["w3 h3 fill-green-d1"]]]],[2,"\\n                                "],[10,"span"],[14,0,"ml1 green"],[12],[2,"Add webhook"],[13],[2,"\\n                            "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-red gh-btn-icon"],[24,4,"button"],[4,[38,6],["click",[32,0,["confirmIntegrationDeletion"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[2," Delete integration "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,10],[[32,0,["showUnsavedChangesModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[32,0,["leaveScreen"]],[32,0,["toggleUnsavedChangesModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[32,0,["showRegenerateKeyModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["regenerate-key",[30,[36,0],null,[["apiKey","integration"],[[32,0,["selectedApiKey"]],[32,0,["integration"]]]]],[32,0,["regenerateKey"]],[32,0,["cancelRegenerateKeyModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[32,0,["showDeleteIntegrationModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["delete-integration",[32,0,["deleteIntegration"]],[32,0,["cancelIntegrationDeletion"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[32,0,["webhookToDelete"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["delete-webhook",[32,0,["deleteWebhook"]],[32,0,["cancelWebhookDeletion"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[1,[30,[36,16],[[30,[36,15],null,null]],null]],[2,"\\n"]],"hasEval":false,"upvars":["hash","svg-jar","event-name","or","array","fn","on","perform","scroll-top","unless","if","readonly","eq","-track-array","each","-outlet","component"]}',moduleName:"ghost-admin/templates/settings/integration.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integration/webhooks/edit",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"VSOfjYwH",block:'{"symbols":[],"statements":[[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["webhook-form",[32,0,["webhook"]],[30,[36,0],[[32,0],"save"],null],[30,[36,0],[[32,0],"cancel"],null],"action wide"]],null]],"hasEval":false,"upvars":["action"]}',moduleName:"ghost-admin/templates/settings/integration/webhooks/edit.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integration/webhooks/new",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"3YJav0GY",block:'{"symbols":[],"statements":[[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["webhook-form",[32,0,["webhook"]],[30,[36,0],[[32,0],"save"],null],[30,[36,0],[[32,0],"cancel"],null],"action wide"]],null]],"hasEval":false,"upvars":["action"]}',moduleName:"ghost-admin/templates/settings/integration/webhooks/new.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"9F0yJd8/",block:'{"symbols":["integration"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            Integrations\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[11,"div"],[24,0,"gh-main-section"],[4,[38,4],null,null],[12],[2,"\\n        "],[10,"div"],[14,0,"integrations-directory"],[12],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/disqus/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-disqus"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;"],[14,"src","assets/img/disqus.svg"],[14,"alt","Disqus Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"Disqus"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/google/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-analytics"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;padding:1px 0;"],[14,"src","assets/img/google-analytics-e05fc1327377939663407200d4978eba.png"],[14,"alt","Google Analytics Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"Analytics"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/ulysses/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-ulysses"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;"],[14,"src","assets/img/ulysses-3c66b59fb45c285bf336b4b613dc86e4.png"],[14,"alt","Ulysses Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"Ulysses"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/typeform/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-typeform"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;"],[14,"src","assets/img/typeform.svg"],[14,"alt","Typeform Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"Typeform"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/buffer/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-buffer"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;padding:1px 0;"],[14,"src","assets/img/buffer-db31f6b5dc27a298050e16312619c586.png"],[14,"alt","Buffer Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"Buffer"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/plausible/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-plausible"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;padding:1px 0;"],[14,"src","assets/img/plausible-1b754a95e19a6d935e0bc8bf6790ba56.png"],[14,"alt","Plausible Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"Plausible"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/github/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-github"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;"],[14,"src","assets/img/github.svg"],[14,"alt","GitHub Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"GitHub"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-more"],[12],[2,"\\n"],[2,"                    "],[1,[30,[36,0],["circle-ellipsis"],[["class"],["w5"]]]],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"More"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small"],[12],[2,"Built-in integrations"],[13],[2,"\\n        "],[10,"div"],[14,0,"apps-grid"],[12],[2,"\\n"],[6,[37,3],[[32,0,["zapierDisabled"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings.integrations.zapier"]],[["default"],[{"statements":[[2,"\\n                "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/zapier.svg);background-size:36px;"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                            "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Zapier"],[13],[2,"\\n                            "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"Automation for your favorite apps"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n                            "],[10,"span"],[12],[2,"Configure"],[13],[2,"\\n                            "],[1,[30,[36,0],["arrow-right"],null]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n            "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings.integrations.slack"]],[["default"],[{"statements":[[2,"\\n                "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/slackicon-406aadea8994ca2ddee9c1d7157208db.png); background-size: 36px;"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                            "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Slack"],[13],[2,"\\n                            "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"A messaging app for teams"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n"],[6,[37,1],[[32,0,["settings","slack","isActive"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-badge"],[12],[2,"Active"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[12],[2,"Configure"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[1,[30,[36,0],["arrow-right"],null]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings.integrations.amp"]],[["default"],[{"statements":[[2,"\\n                "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/amp.svg); background-size: 36px;"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                            "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"AMP"],[13],[2,"\\n                            "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"Google Accelerated Mobile Pages"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n"],[6,[37,1],[[32,0,["settings","amp"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-badge"],[12],[2,"Active"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[12],[2,"Configure"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[1,[30,[36,0],["arrow-right"],null]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings.integrations.unsplash"]],[["default"],[{"statements":[[2,"\\n                "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                        "],[10,"figure"],[14,0,"apps-card-app-icon id-unsplash"],[14,5,"background-image:url(assets/icons/unsplash.svg); background-size:30px;"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                            "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Unsplash"],[13],[2,"\\n                            "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"Beautiful, free photos"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n"],[6,[37,1],[[32,0,["settings","unsplash"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-badge"],[12],[2,"Active"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[12],[2,"Configure"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[1,[30,[36,0],["arrow-right"],null]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings.integrations.firstpromoter"]],[["default"],[{"statements":[[2,"\\n                "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                        "],[10,"figure"],[14,0,"apps-card-app-icon id-unsplash"],[14,5,"background-image:url(assets/icons/firstpromoter-ce8b5219e5b5ebda463bd60396c6ab81.png); background-size:30px;"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                            "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"FirstPromoter"],[13],[2,"\\n                            "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"Launch your member referral program"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n"],[6,[37,1],[[32,0,["settings","firstpromoter"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-badge"],[12],[2,"Active"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[12],[2,"Configure"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[1,[30,[36,0],["arrow-right"],null]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small"],[12],[2,"Custom integrations"],[13],[2,"\\n        "],[10,"div"],[14,0,"apps-grid"],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,0,["integrations"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                    "],[8,"link-to",[],[["@route","@model"],["settings.integration",[32,1]]],[["default"],[{"statements":[[2,"\\n                        "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                            "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                "],[10,"figure"],[14,0,"apps-card-app-icon flex items-center"],[15,5,[30,[36,2],[[32,1]],null]],[12],[2,"\\n"],[6,[37,3],[[32,1,["iconImage"]]],null,[["default"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["integration"],[["class"],["nudge-left--6 w9 stroke-darkgrey"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                    "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"\\n                                        "],[1,[32,1,["name"]]],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"\\n                                        "],[1,[32,1,["description"]]],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"Configure"],[13],[2,"\\n                                    "],[1,[30,[36,0],["arrow-right"],null]],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"                "],[10,"div"],[14,0,"flex flex-column justify-center items-center mih30 miw-100 bb b--whitegrey"],[12],[2,"\\n"],[6,[37,1],[[32,0,["fetchIntegrations","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"div"],[14,0,"flex flex-column items-center pa5 pt15 pb15"],[12],[2,"\\n                            "],[10,"p"],[14,0,"ma0 pa0 tc midgrey lh-title mt2 mb4"],[12],[2,"\\n                                Create your own custom Ghost integrations with dedicated API keys & webhooks\\n                            "],[13],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-btn gh-btn-green gh-btn-icon"]],[["@route"],["settings.integrations.new"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,0],["add"],[["class"],["w3 h3"]]]],[2," Add custom integration"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["integrations"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"mt5"],[12],[2,"\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-green gh-btn-icon"]],[["@route"],["settings.integrations.new"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[12],[1,[30,[36,0],["add"],[["class"],["w3 h3"]]]],[2," Add custom integration"],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[13],[2,"\\n\\n"],[1,[30,[36,8],[[30,[36,7],null,null]],null]],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","if","integration-icon-style","unless","scroll-top","-track-array","each","-outlet","component"]}',moduleName:"ghost-admin/templates/settings/integrations.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/amp-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"HtiwB6FS",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"Integrations"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            AMP\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/settings/integrations/amp-loading.hbs"})
e.default=t}))
define("ghost-admin/templates/settings/integrations/amp",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"KZx4c1Ve",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,2],["arrow-right"],null]],[13],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"Integrations"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,2],["arrow-right"],null]],[13],[2,"\\n            AMP\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[32,0,["showLeaveSettingsModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[30,[36,0],[[32,0],"leaveSettings"],null],[30,[36,0],[[32,0],"toggleLeaveSettingsModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-main-section bt app-grid"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block app-detail-heading app-grid"],[12],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"img"],[14,0,"app-icon"],[14,"src","assets/img/amp.svg"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"AMP"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Accelerated Mobile Pages"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"AMP configuration"],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-main-section-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"div"],[15,0,[31,["gh-setting-first ",[30,[36,4],[[32,0,["settings","amp"]],"gh-setting-last"],null]]]],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Enable AMP"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-desc mb0"],[12],[2,"Enable "],[10,"a"],[14,6,"https://ampproject.org"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Google Accelerated Mobile Pages"],[13],[2," for your posts"],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n                                "],[10,"div"],[14,0,"for-checkbox"],[12],[2,"\\n                                    "],[10,"label"],[14,"for","amp"],[14,0,"checkbox"],[12],[2,"\\n                                        "],[10,"input"],[15,"checked",[32,0,["settings","amp"]]],[14,1,"amp"],[14,3,"amp"],[15,"onclick",[30,[36,0],[[32,0],"update"],[["value"],["target.checked"]]]],[14,4,"checkbox"],[12],[13],[2,"\\n                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"],[6,[37,5],[[32,0,["settings","amp"]]],[["class"],[""]],[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-last gh-setting-amp-liquid"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-content gh-setting-content--no-action"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Google Analytics Tracking ID"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2,"Tracks AMP traffic in Google Analytics, find your ID "],[10,"a"],[14,6,"https://ghost.org/help/how-to-find-your-google-analytics-tracking-id/"],[12],[2,"here"],[13],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                                    "],[8,"gh-form-group",[],[["@class","@errors","@hasValidated","@property"],["no-margin",[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"ampGtagId"]],[["default"],[{"statements":[[2,"\\n                                        "],[8,"gh-text-input",[],[["@placeholder","@name","@value","@keyEvents"],["UA-XXXXXXX-X","amp_gtag_id",[32,0,["settings","ampGtagId"]],[30,[36,1],null,[["Enter"],[[30,[36,0],[[32,0],"save"],null]]]]]],null],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"ampGtagId"]],null],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","hash","svg-jar","if","unless","liquid-if"]}',moduleName:"ghost-admin/templates/settings/integrations/amp.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/firstpromoter",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"lsxvcp5y",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,2],["arrow-right"],null]],[13],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"Integrations"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,2],["arrow-right"],null]],[13],[2,"\\n            FirstPromoter\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[32,0,["showLeaveSettingsModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[30,[36,0],[[32,0],"leaveSettings"],null],[30,[36,0],[[32,0],"toggleLeaveSettingsModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-main-section bt app-grid"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block app-detail-heading app-grid"],[12],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"img"],[14,0,"app-icon"],[14,"src","assets/img/firstpromoter-ce8b5219e5b5ebda463bd60396c6ab81.png"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"FirstPromoter"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Launch your own member referral program"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"FirstPromoter configuration"],[13],[2,"\\n        "],[10,"section"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"div"],[15,0,[31,["gh-setting-first ",[30,[36,4],[[32,0,["settings","firstpromoter"]],"gh-setting-last"],null]]]],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Enable FirstPromoter"],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-desc mb0"],[12],[2,"Enable "],[10,"a"],[14,6,"https://firstpromoter.com/?fpr=ghost&fp_sid=admin"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"FirstPromoter"],[13],[2," for tracking referrals"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n                            "],[10,"div"],[14,0,"for-checkbox"],[12],[2,"\\n                                "],[10,"label"],[14,"for","firstpromoter"],[14,0,"checkbox"],[12],[2,"\\n                                    "],[10,"input"],[15,"checked",[32,0,["settings","firstpromoter"]]],[14,1,"firstpromoter"],[14,3,"firstpromoter"],[15,"onclick",[30,[36,0],[[32,0],"update"],[["value"],["target.checked"]]]],[14,4,"checkbox"],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,5],[[32,0,["settings","firstpromoter"]]],[["class"],[""]],[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-last gh-setting-firstpromoter-liquid"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-content gh-setting-content--no-action"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"FirstPromoter Account ID"],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2," Affiliate and referral tracking, find your ID "],[10,"a"],[14,6,"https://ghost.org/help/firstpromoter-id/"],[12],[2,"here"],[13],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                                "],[8,"gh-form-group",[],[["@class","@errors","@hasValidated","@property"],["no-margin",[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"firstpromoterId"]],[["default"],[{"statements":[[2,"\\n                                    "],[8,"gh-text-input",[],[["@placeholder","@name","@value","@keyEvents"],["XXXXXXXX","firstpromoter_id",[32,0,["settings","firstpromoterId"]],[30,[36,1],null,[["Enter"],[[30,[36,0],[[32,0],"save"],null]]]]]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"firstpromoterId"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","hash","svg-jar","if","unless","liquid-if"]}',moduleName:"ghost-admin/templates/settings/integrations/firstpromoter.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/slack-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"ZBXUnKBP",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"Integrations"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            Slack\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/settings/integrations/slack-loading.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/slack",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"GQ4l1xPA",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,1],["arrow-right"],null]],[13],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"Integrations"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,1],["arrow-right"],null]],[13],[2,"\\n            Slack\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,2],[[32,0,["showLeaveSettingsModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[30,[36,0],[[32,0],"leaveSettings"],null],[30,[36,0],[[32,0],"toggleLeaveSettingsModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-main-section bt app-grid"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block app-detail-heading app-grid"],[12],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"img"],[14,0,"app-icon"],[14,"src","assets/img/slackicon-406aadea8994ca2ddee9c1d7157208db.png"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Slack"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"A messaging app for teams"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Slack configuration"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                    "],[11,"form"],[24,0,"app-config-form"],[24,1,"slack-settings"],[24,"novalidate","novalidate"],[4,[38,0],[[32,0],"save"],[["on"],["submit"]]],[12],[2,"\\n\\n                        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-first"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-content gh-setting-content--no-action"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Webhook URL"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2,"Automatically send newly published posts to a channel in Slack or any Slack-compatible service like Discord or Mattermost."],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["slackSettings","errors"]],[32,0,["slackSettings","hasValidated"]],"url"]],[["default"],[{"statements":[[2,"\\n                                            "],[8,"gh-text-input",[],[["@placeholder","@name","@value","@input","@keyEvents","@focus-out"],["https://hooks.slack.com/services/...","slack[url]",[30,[36,3],[[32,0,["slackSettings","url"]]],null],[30,[36,0],[[32,0],"updateURL"],[["value"],["target.value"]]],[30,[36,4],null,[["Enter"],[[30,[36,0],[[32,0],"save"],null]]]],[30,[36,0],[[32,0],"triggerDirtyState"],null]]],null],[2,"\\n"],[6,[37,5],[[32,0,["slackSettings","errors","url"]]],null,[["default","else"],[{"statements":[[2,"                                                "],[10,"p"],[12],[2,"Set up a new incoming webhook "],[10,"a"],[14,6,"https://my.slack.com/apps/new/A0F7XDUAZ-incoming-webhooks"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"here"],[13],[2,", and grab the URL."],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["slackSettings","errors"]],"url"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "]],"parameters":[]}]]],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-last"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-content gh-setting-content--no-action"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Username"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2,"The username to display messages from"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["slackSettings","errors"]],[32,0,["slackSettings","hasValidated"]],"username"]],[["default"],[{"statements":[[2,"\\n                                            "],[8,"gh-text-input",[],[["@placeholder","@name","@value","@input","@keyEvents","@focus-out"],["Ghost","slack[username]",[30,[36,3],[[32,0,["slackSettings","username"]]],null],[30,[36,0],[[32,0],"updateUsername"],[["value"],["target.value"]]],[30,[36,4],null,[["Enter"],[[30,[36,0],[[32,0],"save"],null]]]],[30,[36,0],[[32,0],"triggerDirtyState"],null]]],null],[2,"\\n"],[6,[37,2],[[32,0,["slackSettings","errors","username"]]],null,[["default"],[{"statements":[[2,"                                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["slackSettings","errors"]],"username"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "]],"parameters":[]}]]],[2,"\\n                                    "],[13],[2,"\\n                                    "],[8,"gh-task-button",[],[["@buttonText","@task","@successText","@class","@disabled"],["Send test notification",[32,0,["sendTestNotification"]],"Sent","gh-btn gh-btn-icon",[32,0,["testNotificationDisabled"]]]],null],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","if","readonly","hash","unless"]}',moduleName:"ghost-admin/templates/settings/integrations/slack.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/unsplash-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"ci2rd81W",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"Integrations"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            Unsplash\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/settings/integrations/unsplash-loading.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/unsplash",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"xV9HDt7q",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,1],["arrow-right"],null]],[13],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"Integrations"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,1],["arrow-right"],null]],[13],[2,"\\n            Unsplash\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,2],[[32,0,["showLeaveSettingsModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[30,[36,0],[[32,0],"leaveSettings"],null],[30,[36,0],[[32,0],"toggleLeaveSettingsModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-main-section bt app-grid"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block app-detail-heading app-grid"],[12],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"img"],[14,0,"app-icon pa2 id-unsplash"],[14,"src","assets/icons/unsplash.svg"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Unsplash"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Beautiful, free photos"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Unsplash configuration"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-setting-first gh-setting-last"],[14,1,"unsplash-toggle"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Enable Unsplash"],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-desc mb0"],[12],[2,"Enable "],[10,"a"],[14,6,"https://unsplash.com"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Unsplash"],[13],[2," image integration for your posts"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n                            "],[10,"div"],[14,0,"form-group right gh-setting-unsplash-checkbox"],[12],[2,"\\n                                "],[10,"div"],[14,0,"for-checkbox"],[12],[2,"\\n                                    "],[10,"label"],[14,"for","unsplash"],[14,0,"checkbox"],[12],[2,"\\n                                            "],[10,"input"],[15,"checked",[32,0,["settings","unsplash"]]],[14,1,"unsplash"],[14,3,"unsplash"],[15,"onclick",[30,[36,0],[[32,0],"update"],[["value"],["target.checked"]]]],[14,4,"checkbox"],[12],[13],[2,"\\n                                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","if"]}',moduleName:"ghost-admin/templates/settings/integrations/unsplash.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/zapier",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"FeucNehr",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,2],["arrow-right"],null]],[13],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"Integrations"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,2],["arrow-right"],null]],[13],[2,"\\n            Zapier\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section no-heading"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block overflow-hidden"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content app-detail-heading app-grid"],[12],[2,"\\n                    "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                        "],[10,"img"],[14,0,"app-icon"],[14,"src","assets/img/zapier.svg"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"app-cell overflow-hidden"],[12],[2,"\\n                        "],[10,"h3"],[12],[2,"Zapier"],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Automation for your favorite apps"],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"gh-zapier-data-container"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-zapier-data"],[12],[2,"\\n                                "],[10,"div"],[14,0,"data-label"],[12],[2,"Admin API key"],[13],[2,"\\n                                "],[10,"div"],[14,0,"data highlight-hover"],[12],[2,"\\n                                    "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,3],[[32,0,["copyAdminKey","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                        "],[10,"span"],[14,0,"admin-key"],[12],[2,"\\n                                            "],[1,[32,0,["integration","adminKey","secret"]]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                            "],[11,"button"],[24,0,"app-button-regenerate"],[24,4,"button"],[4,[38,1],[[32,0],"confirmRegenerateKeyModal",[32,0,["integration","adminKey"]]],null],[12],[2,"\\n                                                "],[1,[30,[36,2],["reload"],[["class"],["w4 h4 stroke-midgrey"]]]],[2,"\\n                                            "],[13],[2,"\\n                                            "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,4],[[32,0,["copyAdminKey"]]],null]],null],[12],[2,"\\n"],[6,[37,5],[[32,0,["copyAdminKey","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                "],[1,[30,[36,2],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                Copy\\n"]],"parameters":[]}]]],[2,"                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n"],[6,[37,5],[[30,[36,6],[[32,0,["regeneratedKeyType"]],[32,0,["integration","adminKey","type"]]],null]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"green"],[12],[2," Admin API Key was successfully regenerated "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-zapier-data"],[12],[2,"\\n                                "],[10,"div"],[14,0,"data-label"],[12],[2,"API URL"],[13],[2,"\\n                                "],[10,"div"],[14,0,"data highlight-hover"],[12],[2,"\\n                                    "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,3],[[32,0,["copyApiUrl","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                        "],[10,"span"],[14,0,"api-url"],[12],[2,"\\n                                            "],[1,[32,0,["apiUrl"]]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                            "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,4],[[32,0,["copyApiUrl"]]],null]],null],[12],[2,"\\n"],[6,[37,5],[[32,0,["copyApiUrl","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                    "],[1,[30,[36,2],["check-circle"],[["class"],["w3 v-mid mr2"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                    Copy\\n"]],"parameters":[]}]]],[2,"                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,1,"zapier-toggle"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header large bn"],[12],[2,"Zapier templates"],[13],[2,"\\n            "],[10,"p"],[14,0,"gh-main-section-description"],[12],[2,"Explore pre-built templates for common automation tasks"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-content gh-setting-content--no-action"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-grid gh-settings-zapier-templates"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-1-32b72766be2164fdea6ab2565fb1c137.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/twitter.svg);background-size:32px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Share new posts to Twitter"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=50909"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-2-4b0baef1ec34816af6f3fbede7ab191d.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/slackicon-406aadea8994ca2ddee9c1d7157208db.png);background-size:30px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Share scheduled posts with your team in Slack"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=359499"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-3-9780c5e9991b69ed2303b526aa3e3252.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/patreon.svg);background-size:28px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Connect Patreon to your Ghost membership site"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=75801"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-4-d9c3caacb8d2ba98a52517ff2971433c.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/zero-bounce-ee799eddb1f88e33ab8c462858cbfed9.png);background-size:30px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Protect email delivery with email verification"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=359415"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-5-063a200f749e09c587b9443ffd2c4cfa.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/paypal.svg);background-size:26px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Add members for successful sales in PayPal"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=184423"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb rot-1"],[14,5,"background-image:url(assets/img/logos/orb-black-3-9780c5e9991b69ed2303b526aa3e3252.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/paypal.svg);background-size:26px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Unsubscribe members who cancel a subscription in PayPal"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=359348"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb rot-2"],[14,5,"background-image:url(assets/img/logos/orb-black-1-32b72766be2164fdea6ab2565fb1c137.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/google-docs.svg);background-size:22px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Send new post drafts from Google Docs to Ghost"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=50924"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb rot-3"],[14,5,"background-image:url(assets/img/logos/orb-black-4-d9c3caacb8d2ba98a52517ff2971433c.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon id-typeform"],[14,5,"background-image:url(assets/img/typeform.svg);background-size:32px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Survey new members using Typeform"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=359407"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb rot-3"],[14,5,"background-image:url(assets/img/logos/orb-black-1-32b72766be2164fdea6ab2565fb1c137.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,2],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/mailchimp.svg);background-size:32px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Sync email subscribers in Ghost + Mailchimp"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=359342"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,0,"zapier-footer"],[12],[2,"\\n                        "],[10,"a"],[14,6,"https://zapier.com/apps/ghost/integrations?utm_medium=partner_api&utm_source=widget&utm_campaign=Widget"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[2,"See more Ghost integrations powered by"],[13],[2," "],[10,"figure"],[14,5,"background-image:url(assets/img/zapier-logo.svg); background-size: 42px;"],[12],[13],[13],[2,"\\n                    "],[13],[2,"\\n\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,5],[[32,0,["showRegenerateKeyModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["regenerate-key",[30,[36,0],null,[["apiKey","integration","internalIntegration"],[[32,0,["selectedApiKey"]],[32,0,["integration"]],"zapier"]]],[30,[36,1],[[32,0],"regenerateKey"],null],[30,[36,1],[[32,0],"cancelRegenerateKeyModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["hash","action","svg-jar","unless","perform","if","eq"]}',moduleName:"ghost-admin/templates/settings/integrations/zapier.hbs"})
e.default=t})),define("ghost-admin/templates/settings/labs-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"1SWCIN71",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[10,"header"],[14,0,"gh-canvas-header"],[12],[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            Labs\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/settings/labs-loading.hbs"})
e.default=t})),define("ghost-admin/templates/settings/labs",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"X76+j2F1",block:'{"symbols":["uploader","error","uploader","error","error"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,1],["arrow-right"],null]],[13],[2,"\\n            Labs\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container settings-debug"],[12],[2,"\\n        "],[10,"p"],[14,0,"gh-box gh-box-tip"],[12],[1,[30,[36,1],["idea"],null]],[2,"This is a testing ground for new or experimental features. They may change, break or inexplicably disappear at any time."],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Migration options"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Import content"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Import posts from another Ghost installation"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"form"],[14,1,"settings-import"],[14,"enctype","multipart/form-data"],[12],[2,"\\n                            "],[8,"gh-file-upload",[],[["@id","@classNames","@uploadButtonText","@onUpload","@acceptEncoding"],["importfile","flex",[32,0,["uploadButtonText"]],[30,[36,0],[[32,0],"onUpload"],null],[32,0,["importMimeType"]]]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,4],[[32,0,["importErrors"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[15,0,[31,["gh-import-errors ",[30,[36,4],[[32,0,["importSuccessful"]],"gh-import-errors-alert"],null]]]],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-import-errors-title"],[12],[2,"\\n"],[6,[37,4],[[32,0,["importSuccessful"]]],null,[["default","else"],[{"statements":[[2,"                                    Import successful with warnings\\n"]],"parameters":[]},{"statements":[[2,"                                    Import failed\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["importErrors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-import-error"],[12],[2,"\\n                                    "],[10,"p"],[14,0,"gh-import-error-message"],[12],[2,"\\n                                        "],[6,[37,4],[[32,5,["help"]]],null,[["default"],[{"statements":[[1,[32,5,["help"]]],[2,": "]],"parameters":[]}]]],[1,[32,5,["message"]]],[2,"\\n                                    "],[13],[2,"\\n\\n"],[6,[37,4],[[32,5,["context"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"gh-import-error-entry"],[12],[2,"\\n                                            "],[10,"pre"],[12],[1,[32,5,["context"]]],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n"]],"parameters":[5]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Export your content"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Download all of your posts and settings in a single, glorious JSON file"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"downloadFile","db"],null],[12],[10,"span"],[12],[2,"Export"],[13],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Delete all content"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Permanently delete all posts and tags from the database, a hard reset"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn gh-btn-red js-delete"],[24,4,"button"],[4,[38,0],[[32,0],"toggleDeleteAllModal"],null],[12],[10,"span"],[12],[2,"Delete"],[13],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Beta features"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[8,"gh-uploader",[],[["@extensions","@uploadUrl","@paramName","@onUploadSuccess","@onUploadFailure"],[[32,0,["redirectsFileExtensions"]],"/redirects/upload/","redirects",[30,[36,8],[[32,0,["redirectUploadResult"]],true],null],[30,[36,8],[[32,0,["redirectUploadResult"]],false],null]]],[["default"],[{"statements":[[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Redirects"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Configure redirects for old or moved content, more info in "],[10,"a"],[14,6,"https://ghost.org/docs/tutorials/implementing-redirects/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"the docs"],[13],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-action flex flex-column items-end"],[12],[2,"\\n"],[6,[37,4],[[32,3,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                "],[1,[32,3,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"button"],[15,0,[31,["gh-btn gh-btn-icon ",[30,[36,4],[[32,0,["redirectSuccess"]],"gh-btn-green"],null]," ",[30,[36,4],[[32,0,["redirectFailure"]],"gh-btn-red"],null]]]],[15,"onclick",[30,[36,0],[[32,0],"triggerFileDialog"],null]],[14,4,"button"],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"\\n"],[6,[37,4],[[32,0,["redirectSuccess"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[30,[36,1],["check-circle"],null]],[2," Uploaded\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[32,0,["redirectFailure"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[30,[36,1],["retry"],null]],[2," Upload Failed\\n"]],"parameters":[]},{"statements":[[2,"                                            Upload redirects YAML/JSON\\n                                        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[12],[11,"a"],[24,6,"#"],[4,[38,0],[[32,0],"downloadFile","redirects/download"],null],[12],[2,"Download current redirects"],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,3,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-setting-error"],[12],[1,[30,[36,5],[[32,4,["context"]],[32,4,["message"]]],null]],[13],[2,"\\n"]],"parameters":[4]}]]],[2,"\\n                            "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                "],[8,"gh-file-input",[],[["@multiple","@action","@accept"],[false,[32,3,["setFiles"]],[32,0,["redirectsFileMimeTypes"]]]],null],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "]],"parameters":[3]}]]],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[8,"gh-uploader",[],[["@extensions","@uploadUrl","@paramName","@onUploadSuccess","@onUploadFailure"],[[32,0,["yamlExtension"]],"/settings/routes/yaml/","routes",[30,[36,8],[[32,0,["routesUploadResult"]],true],null],[30,[36,8],[[32,0,["routesUploadResult"]],false],null]]],[["default"],[{"statements":[[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Routes"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Configure dynamic routing by modifying the routes.yaml file"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-action flex flex-column items-end"],[12],[2,"\\n"],[6,[37,4],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"button"],[15,0,[31,["gh-btn gh-btn-icon ",[30,[36,4],[[32,0,["routesSuccess"]],"gh-btn-green"],null]," ",[30,[36,4],[[32,0,["routesFailure"]],"gh-btn-red"],null]]]],[15,"onclick",[30,[36,0],[[32,0],"triggerFileDialog"],null]],[14,4,"button"],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"\\n"],[6,[37,4],[[32,0,["routesSuccess"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[30,[36,1],["check-circle"],null]],[2," Uploaded\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[32,0,["routesFailure"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[30,[36,1],["retry"],null]],[2," Upload Failed\\n"]],"parameters":[]},{"statements":[[2,"                                            Upload routes YAML\\n                                        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[12],[11,"a"],[24,6,"#"],[4,[38,0],[[32,0],"downloadFile","settings/routes/yaml"],null],[12],[2,"Download current routes.yaml"],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-setting-error"],[12],[1,[30,[36,5],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"\\n                            "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                "],[8,"gh-file-input",[],[["@multiple","@action","@accept"],[false,[32,1,["setFiles"]],[32,0,["yamlAccept"]]]],null],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "]],"parameters":[1]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n\\n"],[6,[37,4],[[30,[36,9],null,null]],null,[["default"],[{"statements":[[2,"         "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Alpha Features"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Google OAuth for staff users"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Allow people to sign into Ghost Admin using Google SSO,\\n                                "],[10,"a"],[14,6,"https://ghost.org/docs/tutorials/setting-up-oauth/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"docs here"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["oauthLogin"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,4],[[32,0,["feature","oauthLogin"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-setting-content-extended gh-labs-sso-settings pt2 pb4"],[12],[2,"\\n                                "],[10,"a"],[14,6,"https://console.developers.google.com/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-white mb4"],[12],[10,"span"],[12],[1,[30,[36,1],["google-favicon"],null]],[2,"Configure Google OAuth"],[13],[13],[2,"\\n                                "],[8,"gh-form-group",[],[["@class","@errors","@hasValidated","@property"],["no-margin pt2",[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"password"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                        "],[10,"label"],[14,"for","aouth-client-id"],[12],[2,"Google OAuth Client ID"],[13],[2,"\\n                                        "],[8,"gh-text-input",[[24,1,"oauth-client-id"]],[["@value","@name","@focus-out","@input"],[[30,[36,2],[[32,0,["settings","oauthClientId"]]],null],"oauth-client-id",[30,[36,0],[[32,0],"saveOAuthSettings"],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["settings","oauthClientId"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                    "],[13],[2,"\\n\\n                                    "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                        "],[10,"label"],[14,"for","oauth-client-secret"],[12],[2,"Google OAuth Client Secret"],[13],[2,"\\n                                        "],[8,"gh-text-input",[[24,1,"oauth-client-secret"]],[["@value","@name","@focus-out","@input"],[[30,[36,2],[[32,0,["settings","oauthClientSecret"]]],null],"oauth-client-secret",[30,[36,0],[[32,0],"saveOAuthSettings"],null],[30,[36,0],[[32,0],[30,[36,3],[[32,0,["settings","oauthClientSecret"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Members Activity"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                               Enable recording of member activity for analytics\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                           "],[8,"gh-feature-flag",[],[["@flag"],["membersActivity"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"URL Cache"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                               Enable URL Caching\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                           "],[8,"gh-feature-flag",[],[["@flag"],["urlCache"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Cardmageddon - Before/After"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Card for comparing two images\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                           "],[8,"gh-feature-flag",[],[["@flag"],["beforeAfterCard"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Cardmageddon - Tweet grid"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                               Card for displaying a group of related tweets\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                           "],[8,"gh-feature-flag",[],[["@flag"],["tweetGridCard"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Members activity feed"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                               Separate activity feed screen showing all member activity.\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                           "],[8,"gh-feature-flag",[],[["@flag"],["membersActivityFeed"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Improved onboarding flow"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Various tweaks to streamline the site creation and getting started flows.\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                           "],[8,"gh-feature-flag",[],[["@flag"],["improvedOnboarding"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Multiple newsletters"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Create, manage and send multiple newsletter lists\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                           "],[8,"gh-feature-flag",[],[["@flag"],["multipleNewsletters"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                     "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                         "],[10,"div"],[12],[2,"\\n                             "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Dashboard 5.0"],[13],[2,"\\n                             "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Increased amount of analytics with more useful / dynamic resources\\n                             "],[13],[2,"\\n                         "],[13],[2,"\\n                         "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["dashboardV5"]],null],[2,"\\n                         "],[13],[2,"\\n                     "],[13],[2,"\\n                 "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["showDeleteAllModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@close","@modifier"],["delete-all",[30,[36,0],[[32,0],"toggleDeleteAllModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["showEnableTiersModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@close","@modifier"],["enable-tiers",[30,[36,0],[[32,0],"toggleEnableTiersModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","svg-jar","readonly","mut","if","or","-track-array","each","perform","enable-developer-experiments"]}',moduleName:"ghost-admin/templates/settings/labs.hbs"})
e.default=t})),define("ghost-admin/templates/settings/members-email",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"0VVYf1hz",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas gh-setting-email"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            Email newsletter\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[4,[38,1],["cmd+s"],null]],[["@buttonText","@task","@successText","@runningText","@class"],["Save",[32,0,["saveSettings"]],"Saved","Saving","gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container settings-debug"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-liquid-section"],[12],[2,"\\n            "],[8,"settings/members-email",[],[["@fromAddress","@supportAddress","@setEmailAddress","@toggleEmailDesignSettings"],[[32,0,["fromAddress"]],[32,0,["supportAddress"]],[32,0,["setEmailAddress"]],[32,0,["toggleEmailDesignSettings"]]]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["showLeaveSettingsModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[32,0,["confirmLeave"]],[32,0,["cancelLeave"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["showEmailDesignSettings"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modifier"],["full-overlay portal-settings"]],[["default"],[{"statements":[[2,"\\n        "],[8,"modal-email-design-settings",[],[["@closeModal"],[[32,0,["toggleEmailDesignSettings"]]]],null],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["svg-jar","on-key","if"]}',moduleName:"ghost-admin/templates/settings/members-email.hbs"})
e.default=t})),define("ghost-admin/templates/settings/membership",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"rBFGsqVI",block:'{"symbols":[],"statements":[[11,"section"],[24,0,"gh-canvas circle-bg"],[4,[38,11],[[32,0,["setup"]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header gh-setting-members-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,2],["arrow-right"],null]],[13],[2,"\\n            Membership\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[4,[38,12],["cmd+s"],null]],[["@buttonText","@task","@successText","@runningText","@class"],["Save",[32,0,["saveSettingsTask"]],"Saved","Saving","gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container settings-debug"],[12],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-layout content-preview"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-members-basicsform"],[12],[2,"\\n                "],[10,"p"],[14,0,"intro"],[12],[2,"Fund your work with subscription revenue. Connect your Stripe account and offer premium content to your audience. Our creators are already making over $12 million per year, while "],[10,"strong"],[12],[2,"Ghost takes 0% payment fees"],[13],[2,"."],[13],[2,"\\n                "],[10,"hr"],[12],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"section"],[14,0,"gh-expandable gh-setting-members-portalcta"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                                "],[10,"div"],[12],[2,"\\n                                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Portal Settings"],[13],[2,"\\n                                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                        Customize members modal signup flow\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[16,"disabled",[30,[36,13],[[32,0,["settings","membersSignupAccess"]],"none"],null]],[24,4,"button"],[4,[38,9],["click",[32,0,["openPortalSettings"]]],null],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"Customize Portal →"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,0,"gh-setting-rich-dropdown"],[12],[2,"\\n                        "],[8,"settings/members-subscription-access",[],[["@onChange"],[[32,0,["membersSubscriptionAccessChanged"]]]],null],[2,"\\n                        "],[8,"settings/members-default-post-access",[],[[],[]],null],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-members-portalpreview"],[12],[2,"\\n                "],[10,"div"],[15,0,[31,["gh-setting-members-portal-mock ",[30,[36,5],[[30,[36,6],["multipleProducts"],null],"mock-enabled"],null]]]],[12],[2,"\\n"],[6,[37,5],[[30,[36,8],[[30,[36,13],[[32,0,["settings","membersSignupAccess"]],"none"],null],[32,0,["switchFromNoneTask","isRunning"]]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-members-portal-disabled"],[12],[2,"\\n                            "],[10,"span"],[14,0,"lightgrey"],[12],[1,[30,[36,2],["portal-logo-stroke"],null]],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"Portal disabled"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Change your Subscription Access setting to re-enable Portal"],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[8,"gh-site-iframe",[[24,"scrolling","no"]],[["@src","@invisibleUntilLoaded","@onInserted","@onDestroyed"],[[32,0,["portalPreviewUrl"]],"portal-ready",[32,0,["portalPreviewInserted"]],[32,0,["portalPreviewDestroyed"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-setting-members-tierscontainer"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-settings-members-tiersheader"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Membership tiers"],[13],[2,"\\n"],[6,[37,5],[[32,0,["session","user","isAdmin"]]],null,[["default"],[{"statements":[[2,"                "],[11,"button"],[16,0,[31,["gh-btn gh-btn-outline gh-btn-stripe-status ",[30,[36,5],[[32,0,["isConnectDisallowed"]],"disabled"],null]," ",[30,[36,5],[[32,0,["settings","stripeConnectAccountId"]],"connected",""],null]]]],[24,4,"button"],[4,[38,9],["click",[32,0,["openStripeConnect"]]],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"\\n                        "],[1,[30,[36,5],[[32,0,["settings","stripeConnectAccountId"]],"Connected to Stripe","Stripe not connected"],null]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Free"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Free member sign up settings"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,9],["click",[30,[36,10],["freeOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,5],[[32,0,["freeOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,14],[[32,0,["freeOpen"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n"],[6,[37,5],[[30,[36,6],["multipleProducts"],null]],null,[["default"],[{"statements":[[2,"                                "],[8,"gh-product-card",[],[["@product","@products","@openEditProduct"],[[32,0,["freeProduct"]],[32,0,["products"]],[32,0,["openEditProduct"]]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,5],[[30,[36,8],[[30,[36,7],[[30,[36,6],["tierWelcomePages"],null]],null],[30,[36,7],[[30,[36,6],["multipleProducts"],null]],null]],null]],null,[["default","else"],[{"statements":[[2,"                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"free-welcome-page"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","freeWelcomePage"],[12],[2,"Welcome page"],[13],[2,"\\n                                    "],[8,"gh-url-input",[],[["@id","@value","@baseUrl","@setResult","@validateUrl","@placeholder"],["freeWelcomePage",[30,[36,1],[[32,0,["settings","membersFreeSignupRedirect"]]],null],[30,[36,1],[[32,0,["siteUrl"]]],null],[32,0,["setFreeSignupRedirect"]],[32,0,["validateFreeSignupRedirect"]],[30,[36,1],[[32,0,["siteUrl"]]],null]]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"membersFreeSignupRedirect"]],null],[2,"\\n                                    "],[10,"p"],[12],[2,"Redirect to this URL after signup for a free membership"],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","welcomePage"],[14,0,"fw6"],[12],[2,"Welcome page"],[13],[2,"\\n                                    "],[8,"gh-url-input",[],[["@id","@value","@baseUrl","@setResult","@validateUrl","@placeholder"],["welcomePage",[30,[36,1],[[32,0,["freeProduct","welcomePageURL"]]],null],[30,[36,1],[[32,0,["siteUrl"]]],null],[32,0,["setWelcomePageURL"]],[32,0,["validateWelcomePageURL"]],[30,[36,1],[[32,0,["siteUrl"]]],null]]],null],[2,"\\n                                    "],[10,"p"],[12],[2,"Redirect to this URL after signup for a free membership"],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Premium"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Set prices and paid member sign up settings"],[13],[2,"\\n                        "],[13],[2,"\\n\\n"],[6,[37,5],[[32,0,["settings","stripeConnectAccountId"]]],null,[["default","else"],[{"statements":[[2,"                            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,9],["click",[30,[36,10],["paidOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,5],[[32,0,["paidOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[11,"button"],[16,0,[31,["stripe-connect ",[30,[36,5],[[30,[36,8],[[30,[36,7],[[32,0,["session","user","isAdmin"]]],null],[32,0,["isConnectDisallowed"]]],null],"disabled"],null]]]],[24,4,"button"],[4,[38,9],["click",[32,0,["openStripeConnect"]]],null],[12],[2,"\\n                                "],[10,"span"],[12],[2,"Connect with Stripe"],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"],[6,[37,5],[[32,0,["isConnectDisallowed"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-nossl"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-nossl-container"],[12],[2,"\\n                            "],[10,"span"],[14,0,"red"],[12],[1,[30,[36,2],["shield-lock"],null]],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"Your site is not secured"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Paid memberships through Ghost can only be run on sites secured by SSL (HTTPS vs. HTTP). More information on adding a free SSL Certificate to your Ghost site can be "],[10,"a"],[14,6,"https://ghost.org/integrations/lets-encrypt/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"found here"],[13],[2,"."],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,14],[[32,0,["paidOpen"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n"],[6,[37,5],[[32,0,["fetchDefaultProduct","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                Loading...\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[30,[36,6],["multipleProducts"],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[8,"gh-membership-products-alpha",[],[["@updatePortalPreview","@products","@confirmProductSave"],[[32,0,["updatePortalPreview"]],[32,0,["paidProducts"]],[32,0,["confirmProductSave"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"prices"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"div"],[14,0,"gh-settings-members-pricelabelcont"],[12],[2,"\\n                                            "],[10,"label"],[14,"for","monthlyPrice"],[12],[2,"Prices"],[13],[2,"\\n                                            "],[10,"span"],[12],[2,"–"],[13],[2,"\\n                                            "],[10,"div"],[12],[2,"\\n                                                "],[10,"span"],[14,0,"gh-setting-members-currency gh-select"],[12],[2,"\\n                                                    "],[10,"div"],[14,0,"gh-setting-members-currencylabel"],[12],[2,"\\n                                                        "],[10,"span"],[12],[1,[32,0,["currency"]]],[13],[2,"\\n                                                        "],[1,[30,[36,2],["arrow-down-small"],null]],[2,"\\n                                                    "],[13],[2,"\\n                                                    "],[8,"one-way-select",[[24,1,"currency"],[24,3,"currency"]],[["@value","@options","@optionValuePath","@optionLabelPath","@update"],[[32,0,["selectedCurrency"]],[30,[36,1],[[32,0,["allCurrencies"]]],null],"value","label",[32,0,["setStripePlansCurrency"]]]],null],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-setting-members-prices"],[12],[2,"\\n\\n                                            "],[10,"div"],[14,0,"gh-input-group"],[12],[2,"\\n                                                "],[8,"gh-text-input",[],[["@id","@value","@type","@input","@focus-out"],["monthlyPrice",[30,[36,1],[[32,0,["stripeMonthlyAmount"]]],null],"number",[30,[36,4],[[32,0],[30,[36,3],[[32,0,["stripeMonthlyAmount"]]],null]],[["value"],["target.value"]]],[30,[36,4],[[32,0],"validateStripePlans"],null]]],null],[2,"\\n                                                "],[10,"span"],[14,0,"gh-input-append"],[12],[10,"span"],[14,0,"ttu"],[12],[1,[32,0,["currency"]]],[13],[2,"/month"],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-input-group"],[12],[2,"\\n                                                "],[8,"gh-text-input",[],[["@id","@value","@type","@input","@focus-out","@placeholder"],["yearlyPrice",[30,[36,1],[[32,0,["stripeYearlyAmount"]]],null],"number",[30,[36,4],[[32,0],[30,[36,3],[[32,0,["stripeYearlyAmount"]]],null]],[["value"],["target.value"]]],[32,0,["validateStripePlans"]],""]],null],[2,"\\n                                                "],[10,"span"],[14,0,"gh-input-append"],[12],[10,"span"],[14,0,"ttu"],[12],[1,[32,0,["currency"]]],[13],[2,"/year"],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n"],[6,[37,5],[[32,0,["stripePlanError"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"p"],[14,0,"response w-100"],[12],[10,"span"],[14,0,"red"],[12],[1,[32,0,["stripePlanError"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[6,[37,5],[[30,[36,8],[[30,[36,7],[[30,[36,6],["tierWelcomePages"],null]],null],[30,[36,7],[[30,[36,6],["multipleProducts"],null]],null]],null]],null,[["default"],[{"statements":[[2,"                                    "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"paid-welcome-page"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,"for","paidWelcomePage"],[12],[2,"Welcome page"],[13],[2,"\\n                                        "],[8,"gh-url-input",[],[["@value","@baseUrl","@setResult","@validateUrl","@placeholder"],[[30,[36,1],[[32,0,["settings","membersPaidSignupRedirect"]]],null],[30,[36,1],[[32,0,["siteUrl"]]],null],[32,0,["setPaidSignupRedirect"]],[32,0,["validatePaidSignupRedirect"]],[30,[36,1],[[32,0,["siteUrl"]]],null]]],null],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"membersPaidSignupRedirect"]],null],[2,"\\n                                        "],[10,"p"],[12],[2,"Redirect to this URL after signup for premium membership"],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,5],[[32,0,["showLeaveRouteModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[32,0,["confirmLeave"]],[32,0,["cancelLeave"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[32,0,["showPortalSettings"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["portal-settings",[30,[36,0],null,[["preloadTask","openStripeSettings","products"],[[32,0,["saveSettingsTask"]],[32,0,["openStripeConnect"]],[32,0,["products"]]]]],[32,0,["closePortalSettings"]],"full-overlay portal-settings"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[32,0,["showLeavePortalModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[32,0,["confirmClosePortalSettings"]],[32,0,["cancelClosePortalSettings"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[32,0,["showStripeConnect"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@close","@modifier"],["stripe-connect",[32,0,["closeStripeConnect"]],"action wide stripe-connect"]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,5],[[32,0,["showProductModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["product",[30,[36,0],null,[["product","products"],[[32,0,["productModel"]],[32,0,["products"]]]]],[32,0,["confirmProductSave"]],[32,0,["closeProductModal"]],"edit-product action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["hash","readonly","svg-jar","mut","action","if","feature","not","or","on","toggle","did-insert","on-key","eq","liquid-if"]}',moduleName:"ghost-admin/templates/settings/membership.hbs"})
e.default=t})),define("ghost-admin/templates/settings/navigation",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"reGvKCA5",block:'{"symbols":["navItem","index","navItem","index"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,1],["arrow-right"],null]],[13],[2,"\\n            Navigation\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,2],[[32,0,["showLeaveSettingsModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[30,[36,0],[[32,0],"leaveSettings"],null],[30,[36,0],[[32,0],"toggleLeaveSettingsModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Primary Navigation"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content padding-top-s grey"],[12],[2,"\\n                "],[10,"form"],[14,1,"settings-navigation"],[14,0,"gh-blognav"],[14,"novalidate","novalidate"],[12],[2,"\\n                    "],[8,"sortable-objects",[],[["@sortableObjectList","@useSwap"],[[32,0,["settings","navigation"]],false]],[["default"],[{"statements":[[2,"\\n"],[6,[37,4],[[30,[36,3],[[30,[36,3],[[32,0,["settings","navigation"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[8,"draggable-object",[],[["@content","@dragHandle","@isSortable"],[[32,3],".gh-blognav-grab",true]],[["default"],[{"statements":[[2,"\\n                                "],[8,"gh-navitem",[],[["@navItem","@baseUrl","@addItem","@deleteItem","@updateUrl","@updateLabel"],[[32,3],[32,0,["blogUrl"]],[30,[36,0],[[32,0],"addNavItem"],null],[30,[36,0],[[32,0],"deleteNavItem"],null],[30,[36,0],[[32,0],"updateUrl"],null],[30,[36,0],[[32,0],"updateLabel"],null]]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[3,4]}]]],[2,"                    "]],"parameters":[]}]]],[2,"\\n                    "],[8,"gh-navitem",[],[["@navItem","@baseUrl","@addItem","@updateUrl","@updateLabel"],[[32,0,["newNavItem"]],[32,0,["blogUrl"]],[30,[36,0],[[32,0],"addNavItem"],null],[30,[36,0],[[32,0],"updateUrl"],null],[30,[36,0],[[32,0],"updateLabel"],null]]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Secondary Navigation"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content padding-top-s grey"],[12],[2,"\\n                "],[10,"form"],[14,1,"secondary-navigation"],[14,0,"gh-blognav"],[14,"novalidate","novalidate"],[12],[2,"\\n                    "],[8,"sortable-objects",[],[["@sortableObjectList","@useSwap"],[[32,0,["settings","secondaryNavigation"]],false]],[["default"],[{"statements":[[2,"\\n"],[6,[37,4],[[30,[36,3],[[30,[36,3],[[32,0,["settings","secondaryNavigation"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[8,"draggable-object",[],[["@content","@dragHandle","@isSortable"],[[32,1],".gh-blognav-grab",true]],[["default"],[{"statements":[[2,"\\n                                "],[8,"gh-navitem",[],[["@navItem","@baseUrl","@addItem","@deleteItem","@updateUrl","@updateLabel"],[[32,1],[32,0,["blogUrl"]],[30,[36,0],[[32,0],"addNavItem"],null],[30,[36,0],[[32,0],"deleteNavItem"],null],[30,[36,0],[[32,0],"updateUrl"],null],[30,[36,0],[[32,0],"updateLabel"],null]]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[1,2]}]]],[2,"                    "]],"parameters":[]}]]],[2,"\\n                    "],[8,"gh-navitem",[],[["@navItem","@baseUrl","@addItem","@updateUrl","@updateLabel"],[[32,0,["newSecondaryNavItem"]],[32,0,["blogUrl"]],[30,[36,0],[[32,0],"addNavItem"],null],[30,[36,0],[[32,0],"updateUrl"],null],[30,[36,0],[[32,0],"updateLabel"],null]]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[1,[30,[36,6],[[30,[36,5],null,null]],null]],[2,"\\n\\n"]],"hasEval":false,"upvars":["action","svg-jar","if","-track-array","each","-outlet","component"]}',moduleName:"ghost-admin/templates/settings/navigation.hbs"})
e.default=t})),define("ghost-admin/templates/settings/product",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"MXEKDNTg",block:'{"symbols":["price"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,6],["arrow-right"],null]],[13],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings.products"]],[["default"],[{"statements":[[2,"Products"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,6],["arrow-right"],null]],[13],[2,"\\n"],[6,[37,3],[[32,0,["product","name"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[32,0,["product","name"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"New product"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@buttonText","@task","@successText","@runningText","@class"],["Save product",[32,0,["saveTask"]],"Saved","Saving","gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"form"],[12],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Product details"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-content grey gh-product-details-form"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-product-details-fields"],[12],[2,"\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property","@classNames"],[[32,0,["product","errors"]],[32,0,["product","hasValidated"]],"name","max-width"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","product-name"],[12],[2,"Product name"],[13],[2,"\\n                    "],[8,"gh-text-input",[],[["@id","@value"],["product-name",[32,0,["product","name"]]]],null],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["product","errors"]],"name"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-form-group",[],[["@property","@classNames"],["description","max-width"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","product-description"],[12],[2,"Description"],[13],[2,"\\n                    "],[8,"gh-text-input",[],[["@value"],[[32,0,["product","description"]]]],null],[2,"\\n                    "],[8,"gh-error-message",[],[["@property"],["description"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-form-group",[],[["@property","@classNames"],["_welcome-page","max-width"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","_welcome-page"],[12],[2,"Welcome page"],[13],[2,"\\n                    "],[8,"gh-url-input",[],[["@value","@baseUrl","@setResult","@validateUrl","@placeholder"],[[30,[36,7],[[32,0,["settings","membersPaidSignupRedirect"]]],null],[30,[36,7],[[32,0,["siteUrl"]]],null],[30,[36,1],[[32,0],"setPaidSignupRedirect"],null],[30,[36,1],[[32,0],"validatePaidSignupRedirect"],null],[30,[36,7],[[32,0,["siteUrl"]]],null]]],null],[2,"\\n                    "],[10,"p"],[12],[2,"Redirect to this URL after signup for this product"],[13],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"membersPaidSignupRedirect"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block p0"],[12],[2,"\\n            "],[10,"ol"],[14,0,"gh-price-list gh-list"],[12],[2,"\\n                "],[10,"li"],[14,0,"gh-list-row header"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header"],[12],[2,"Prices("],[1,[32,0,["noOfPrices"]]],[2,")"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header"],[12],[2,"Price"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header"],[12],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,2],[[32,0,["stripePrices"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"tr"],[15,0,[31,["gh-list-row ",[30,[36,3],[[32,0,["price","active"]],"","gh-price-list-archived"],null]]]],[12],[2,"\\n                        "],[10,"td"],[14,"colspan","4"],[14,0,"gh-list-data"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-price-list-noprices"],[12],[2,"\\n                                "],[10,"div"],[14,0,"mb2"],[12],[2,"There are no prices for this product"],[13],[2,"\\n"],[6,[37,3],[[32,0,["membersUtils","isStripeEnabled"]]],null,[["default","else"],[{"statements":[[6,[37,2],[[32,0,["product","isNew"]]],null,[["default"],[{"statements":[[2,"                                        "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[16,"disabled",[32,0,["saveTask","isRunning"]]],[24,4,"button"],[4,[38,1],[[32,0],"openNewPrice"],null],[12],[2,"\\n                                            "],[10,"span"],[12],[2,"Add price"],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                                    You need to "],[11,"button"],[24,0,"b gh-setting-group"],[24,4,"button"],[4,[38,5],["click",[32,0,["openStripeConnect"]]],null],[12],[2,"connect to Stripe"],[13],[2," to add prices\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,9],[[30,[36,8],[[30,[36,8],[[32,0,["stripePrices"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"li"],[15,0,[31,["gh-list-row ",[30,[36,3],[[32,1,["active"]],"","gh-price-list-archived"],null]]]],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-data gh-price-list-title"],[12],[2,"\\n                        "],[10,"h3"],[14,0,"gh-price-list-name"],[12],[2,"\\n                            "],[10,"span"],[14,0,"name"],[12],[1,[32,1,["nickname"]]],[13],[2,"\\n"],[6,[37,2],[[32,1,["active"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"span"],[14,0,"gh-badge archived"],[12],[2,"Archived"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                        "],[10,"p"],[14,0,"ma0 pa0 f8 midgrey gh-price-list-description"],[12],[2,"\\n                            "],[1,[32,1,["description"]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,0,"gh-list-data gh-price-list-price"],[12],[2,"\\n                        "],[10,"span"],[12],[1,[30,[36,4],[[32,1,["currency"]]],null]],[1,[32,1,["amount"]]],[2," / "],[1,[32,1,["interval"]]],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,0,"gh-list-data gh-price-list-actions"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-price-list-actionlist"],[12],[2,"\\n                            "],[11,"button"],[24,0,"gh-btn gh-btn-link"],[24,4,"button"],[4,[38,1],[[32,0],"openEditPrice",[32,1]],null],[12],[2,"\\n                                "],[10,"span"],[12],[2,"Edit"],[13],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,3],[[32,1,["active"]]],null,[["default","else"],[{"statements":[[2,"                                "],[11,"button"],[24,0,"gh-btn gh-btn-link gh-btn-archive-toggle archived"],[16,"disabled",[32,0,["saveTask","isRunning"]]],[24,4,"button"],[4,[38,1],[[32,0],"archivePrice",[32,1]],null],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"Archive"],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[11,"button"],[24,0,"gh-btn gh-btn-link gh-btn-archive-toggle"],[16,"disabled",[32,0,["saveTask","isRunning"]]],[24,4,"button"],[4,[38,1],[[32,0],"activatePrice",[32,1]],null],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"Activate"],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["stripePrices"]]],null,[["default"],[{"statements":[[6,[37,2],[[32,0,["product","isNew"]]],null,[["default"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,4,"button"],[4,[38,1],[[32,0],"openNewPrice"],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Add price"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["showPriceModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["product-price",[30,[36,0],null,[["price"],[[32,0,["priceModel"]]]]],[30,[36,1],[[32,0],"savePrice"],null],[32,0,["closePriceModal"]],"action wide product-ssprice"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["showUnsavedChangesModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[32,0,["leaveScreen"]],[32,0,["toggleUnsavedChangesModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["hash","action","unless","if","currency-symbol","on","svg-jar","readonly","-track-array","each"]}',moduleName:"ghost-admin/templates/settings/product.hbs"})
e.default=t})),define("ghost-admin/templates/settings/products",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Gk6w+Hkd",block:'{"symbols":["product"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            Products\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-product-list"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-product-card"],[12],[2,"\\n                "],[10,"span"],[14,0,"gh-product-list-icon"],[12],[1,[30,[36,0],["members"],null]],[13],[2,"\\n                "],[10,"h3"],[14,0,"gh-product-card-name"],[12],[2,"\\n                    Free membership\\n                "],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-product-card-description"],[12],[2,"\\n                    "],[1,[32,0,["settings","membersFreePriceDescription"]]],[2,"\\n                "],[13],[2,"\\n                "],[8,"link-to",[[24,0,"gh-btn"],[4,[38,2],[[32,0],[30,[36,1],["showFreeMembershipModal",[32,0]],null]],null]],[["@route"],["settings.products"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"span"],[12],[2,"Customize"],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,4],[[30,[36,3],[[30,[36,3],[[32,0,["products"]]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-product-card"],[12],[2,"\\n                "],[10,"span"],[14,0,"gh-product-list-icon"],[12],[10,"div"],[14,0,"gh-product-list-siteicon"],[15,5,[32,0,["iconStyle"]]],[12],[13],[13],[2,"\\n                "],[10,"h3"],[14,0,"gh-product-card-name"],[12],[2,"\\n                    "],[1,[32,1,["name"]]],[2,"\\n                "],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-product-card-description"],[12],[2,"\\n                    "],[1,[32,1,["description"]]],[2,"\\n                "],[13],[2,"\\n                "],[8,"link-to",[[24,0,"gh-btn"]],[["@route","@model"],["settings.product",[32,1]]],[["default"],[{"statements":[[2,"\\n                    "],[10,"span"],[12],[2,"Customize"],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,5],[[32,0,["showFreeMembershipModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@close","@modifier"],["free-membership-settings",[32,0,["closeFreeMembershipModal"]],"action wide product-ssprice"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["svg-jar","toggle","action","-track-array","each","if"]}',moduleName:"ghost-admin/templates/settings/products.hbs"})
e.default=t})),define("ghost-admin/templates/settings/staff/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"bsbfjdRP",block:'{"symbols":["user","component","user","component","component","invite","component"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n            "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,6],["arrow-right"],null]],[13],[2,"\\n            Staff\\n        "],[13],[2,"\\n"],[6,[37,9],[[32,0,["currentUser","isAuthorOrContributor"]]],null,[["default"],[{"statements":[[2,"            "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n"],[6,[37,4],[[30,[36,8],[[32,0,["session","user"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"dropdown"],[12],[2,"\\n                        "],[8,"gh-dropdown-button",[],[["@dropdownName","@classNames","@title"],["staff-actions-menu","gh-btn gh-btn-icon icon-only gh-btn-action-icon","Staff Actions"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"\\n                                "],[1,[30,[36,6],["settings"],null]],[2,"\\n                                "],[10,"span"],[14,0,"hidden"],[12],[2,"Actions"],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],["staff-actions-menu","ul","gh-member-actions-menu dropdown-menu dropdown-triangle-top-right"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"li"],[12],[2,"\\n                                "],[11,"button"],[24,4,"button"],[4,[38,7],["click",[30,[36,3],[[32,0],"toggleResetAllPasswordsModal"],null]],null],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"Reset all passwords"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[11,"button"],[24,0,"gh-btn gh-btn-primary"],[24,4,"button"],[4,[38,7],["click",[30,[36,3],[[32,0],"toggleInviteUserModal"],null]],null],[12],[10,"span"],[12],[2,"Invite people"],[13],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,4],[[32,0,["showInviteUserModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@close","@modifier"],["invite-new-user",[30,[36,3],[[32,0],"toggleInviteUserModal"],null],"action wide invite-user"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["showResetAllPasswordsModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@close","@modifier"],["reset-all-passwords",[30,[36,3],[[32,0],"toggleResetAllPasswordsModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[14,0,"view-container gh-team"],[12],[2,"\\n"],[6,[37,9],[[32,0,["currentUser","isAuthorOrContributor"]]],null,[["default"],[{"statements":[[6,[37,4],[[32,0,["invites"]]],null,[["default"],[{"statements":[[2,"        "],[10,"section"],[14,0,"gh-main-section gh-invited-users apps-first-header"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small"],[12],[2,"Invited users"],[13],[2,"\\n            "],[10,"div"],[14,0,"apps-grid"],[12],[2,"\\n\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,["sortedInvites"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"gh-user-invited",[],[["@invite","@reload"],[[32,6],[30,[36,5],["reload"],null]]],[["default"],[{"statements":[[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"span"],[14,0,"user-list-item-icon"],[12],[1,[30,[36,6],["email"],null]],[2,"ic"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[1,[32,6,["email"]]],[13],[2,"\\n                                        "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"\\n"],[6,[37,4],[[32,6,["pending"]]],null,[["default","else"],[{"statements":[[2,"                                                "],[10,"span"],[14,0,"description-error"],[12],[2,"\\n                                                    Invitation not sent - please try again\\n                                                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                "],[10,"span"],[14,0,"description"],[12],[2,"\\n                                                    Invitation sent: "],[1,[32,7,["createdAt"]]],[2,",\\n                                                    "],[1,[30,[36,4],[[32,7,["isExpired"]],"expired","expires"],null]],[2," "],[1,[32,7,["expiresAt"]]],[2,"\\n                                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-right"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n"],[6,[37,4],[[32,7,["isSending"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[12],[2,"Sending Invite..."],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[11,"a"],[24,0,"apps-configured-action red-hover"],[24,6,"#revoke"],[4,[38,3],[[32,0],"revoke"],[["target"],[[32,7]]]],[12],[2,"\\n                                                Revoke\\n                                            "],[13],[2,"\\n                                            "],[11,"a"],[24,0,"apps-configured-action green-hover"],[24,6,"#resend"],[4,[38,3],[[32,0],"resend"],[["target"],[[32,7]]]],[12],[2,"\\n                                                Resend\\n                                            "],[13],[2,"\\n\\n                                            "],[10,"span"],[15,0,[31,["apps-configured-action gh-badge ",[32,6,["role","lowerCaseName"]]]]],[12],[1,[32,6,["role","name"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[7]}]]],[2,"\\n"]],"parameters":[6]}]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[15,0,[31,["gh-main-section gh-active-users ",[30,[36,9],[[32,0,["invites"]],"apps-first-header"],null]]]],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small"],[12],[2,"Active users"],[13],[2,"\\n        "],[10,"div"],[14,0,"apps-grid"],[12],[2,"\\n"],[6,[37,4],[[32,0,["currentUser","isAuthorOrContributor"]]],null,[["default","else"],[{"statements":[[2,"                "],[8,"gh-user-active",[],[["@user"],[[32,0,["currentUser"]]]],[["default"],[{"statements":[[2,"\\n                    "],[8,"gh-user-list-item",[],[["@user","@component"],[[32,0,["currentUser"]],[32,5]]],null],[2,"\\n                "]],"parameters":[5]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["sortedActiveUsers"]]],[["key","containerSelector","estimateHeight"],["id",".gh-main",75]],[["default"],[{"statements":[[2,"                    "],[8,"gh-user-active",[],[["@user"],[[32,3]]],[["default"],[{"statements":[[2,"\\n                        "],[8,"gh-user-list-item",[],[["@user","@component"],[[32,3],[32,4]]],null],[2,"\\n                    "]],"parameters":[4]}]]],[2,"\\n"]],"parameters":[3]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,4],[[30,[36,11],[[32,0,["suspendedUsers"]],[30,[36,10],[[32,0,["currentUser","isAuthorOrContributor"]]],null]],null]],null,[["default"],[{"statements":[[2,"    "],[10,"section"],[14,0,"apps-grid-container gh-active-users"],[12],[2,"\\n        "],[10,"span"],[14,0,"apps-grid-title"],[12],[2,"Suspended users"],[13],[2,"\\n        "],[10,"div"],[14,0,"apps-grid"],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,["sortedSuspendedUsers"]]],null]],null]],[["key"],["id"]],[["default"],[{"statements":[[2,"                "],[8,"gh-user-active",[],[["@user"],[[32,1]]],[["default"],[{"statements":[[2,"\\n                    "],[8,"gh-user-list-item",[],[["@user","@component"],[[32,1],[32,2]]],null],[2,"\\n                "]],"parameters":[2]}]]],[2,"\\n"]],"parameters":[1]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["-track-array","each","vertical-collection","action","if","route-action","svg-jar","on","gh-user-can-admin","unless","not","and"]}',moduleName:"ghost-admin/templates/settings/staff/index.hbs"})
e.default=t})),define("ghost-admin/templates/settings/staff/user-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Ybit/AL+",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,0,["session","user","isAuthorOrContributor"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"Your profile"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings.staff"]],[["default"],[{"statements":[[2,"Staff"]],"parameters":[]}]]],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n                "],[1,[32,0,["user","name"]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-btn gh-btn-primary"],[12],[10,"span"],[12],[2,"Save"],[13],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","if"]}',moduleName:"ghost-admin/templates/settings/staff/user-loading.hbs"})
e.default=t})),define("ghost-admin/templates/settings/staff/user",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"xO0r4keG",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[32,0,["currentUser","isAuthorOrContributor"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"Your profile"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,1],["arrow-right"],null]],[13],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings.staff"]],[["default"],[{"statements":[[2,"Staff"]],"parameters":[]}]]],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,1],["arrow-right"],null]],[13],[2,"\\n                "],[1,[32,0,["user","name"]]],[2,"\\n\\n"],[6,[37,5],[[32,0,["user","isSuspended"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-badge suspended"],[12],[2,"Suspended"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[32,0,["showLeaveSettingsModal"]]],null,[["default"],[{"statements":[[2,"            "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[30,[36,0],[[32,0],"leaveSettings"],null],[30,[36,0],[[32,0],"toggleLeaveSettingsModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n"],[6,[37,5],[[32,0,["userActionsAreVisible"]]],null,[["default"],[{"statements":[[2,"                "],[10,"span"],[14,0,"dropdown"],[12],[2,"\\n                    "],[8,"gh-dropdown-button",[],[["@dropdownName","@classNames","@title"],["user-actions-menu","gh-btn gh-btn-white gh-btn-icon icon-only user-actions-cog","User Actions"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"span"],[12],[2,"\\n                            "],[1,[30,[36,1],["settings"],null]],[2,"\\n                            "],[10,"span"],[14,0,"hidden"],[12],[2,"User Settings"],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],["user-actions-menu","ul","user-actions-menu dropdown-menu dropdown-align-right"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[32,0,["canMakeOwner"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[12],[2,"\\n                                "],[11,"button"],[24,4,"button"],[4,[38,0],[[32,0],"toggleTransferOwnerModal"],null],[12],[2,"\\n                                    Make owner\\n                                "],[13],[2,"\\n"],[6,[37,5],[[32,0,["showTransferOwnerModal"]]],null,[["default"],[{"statements":[[2,"                                    "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["transfer-owner",[30,[36,0],[[32,0],"transferOwnership"],null],[30,[36,0],[[32,0],"toggleTransferOwnerModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,5],[[32,0,["deleteUserActionIsVisible"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[12],[2,"\\n                                "],[11,"button"],[24,0,"delete"],[24,4,"button"],[4,[38,0],[[32,0],"toggleDeleteUserModal"],null],[12],[2,"\\n                                    Delete user\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,5],[[32,0,["user","isActive"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"li"],[12],[2,"\\n                                    "],[11,"button"],[24,0,"suspend"],[24,4,"button"],[4,[38,0],[[32,0],"toggleSuspendUserModal"],null],[12],[2,"\\n                                        Suspend user\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,5],[[32,0,["user","isSuspended"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"li"],[12],[2,"\\n                                    "],[11,"button"],[24,0,"unsuspend"],[24,4,"button"],[4,[38,0],[[32,0],"toggleUnsuspendUserModal"],null],[12],[2,"\\n                                        Un-suspend user\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n            "],[8,"gh-task-button",[],[["@class","@task"],["gh-btn gh-btn-primary gh-btn-icon",[32,0,["save"]]]],null],[2,"\\n\\n"],[6,[37,5],[[32,0,["showDeleteUserModal"]]],null,[["default"],[{"statements":[[2,"                "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["delete-user",[32,0,["user"]],[30,[36,0],[[32,0],[30,[36,4],[[32,0,["deleteUser"]]],null]],null],[30,[36,0],[[32,0],"toggleDeleteUserModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[32,0,["showSuspendUserModal"]]],null,[["default"],[{"statements":[[2,"                "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["suspend-user",[32,0,["user"]],[30,[36,0],[[32,0],"suspendUser"],null],[30,[36,0],[[32,0],"toggleSuspendUserModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[32,0,["showUnsuspendUserModal"]]],null,[["default"],[{"statements":[[6,[37,5],[[32,0,["limitErrorMessage"]]],null,[["default","else"],[{"statements":[[2,"                    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["upgrade-unsuspend-user-host-limit",[30,[36,6],null,[["message"],[[32,0,["limitErrorMessage"]]]]],[30,[36,0],[[32,0],"toggleUnsuspendUserModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["unsuspend-user",[32,0,["user"]],[30,[36,0],[[32,0],"unsuspendUser"],null],[30,[36,0],[[32,0],"toggleUnsuspendUserModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,5],[[32,0,["user","isLocked"]]],null,[["default"],[{"statements":[[2,"        "],[10,"p"],[14,0,"gh-box gh-box-alert"],[12],[1,[30,[36,1],["info"],null]],[2,"This user account is locked. To sign in, ask this user to perform a password reset on their account."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[2,"    "],[10,"section"],[12],[2,"\\n        "],[10,"div"],[14,0,"gm-main view-container settings-user"],[12],[2,"\\n            "],[11,"form"],[24,0,"user-profile"],[24,"novalidate","novalidate"],[24,"autocomplete","off"],[4,[38,0],[[32,0],[30,[36,4],[[32,0,["save"]]],null]],[["on"],["submit"]]],[12],[2,"\\n\\n                "],[10,"figure"],[14,0,"user-cover"],[15,5,[30,[36,9],[[32,0,["user","coverImageUrl"]]],null]],[12],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn gh-btn-default user-cover-edit"],[24,4,"button"],[4,[38,0],[[32,0],"toggleUploadCoverModal"],null],[12],[10,"span"],[12],[2,"Change cover"],[13],[13],[2,"\\n"],[6,[37,5],[[32,0,["showUploadCoverModal"]]],null,[["default"],[{"statements":[[2,"                        "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["upload-image",[30,[36,6],null,[["model","imageProperty"],[[32,0,["user"]],"coverImage"]]],[30,[36,0],[[32,0],"toggleUploadCoverModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n\\n                "],[10,"figure"],[14,0,"user-image bg-whitegrey"],[12],[2,"\\n                    "],[10,"div"],[14,1,"user-image"],[14,0,"img"],[15,5,[30,[36,9],[[32,0,["user","profileImageUrl"]]],null]],[12],[10,"span"],[14,0,"hidden"],[12],[1,[32,0,["user","name"]]],[2,"\\"s picture"],[13],[13],[2,"\\n                    "],[11,"button"],[24,0,"edit-user-image"],[24,4,"button"],[4,[38,0],[[32,0],"toggleUploadImageModal"],null],[12],[2,"Edit picture"],[13],[2,"\\n"],[6,[37,5],[[32,0,["showUploadImageModal"]]],null,[["default"],[{"statements":[[2,"                        "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["upload-image",[30,[36,6],null,[["model","imageProperty","paramsHash"],[[32,0,["user"]],"profileImage",[30,[36,6],null,[["purpose"],["profile_image"]]]]]],[30,[36,0],[[32,0],"toggleUploadImageModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"pa5"],[12],[2,"\\n                    "],[10,"fieldset"],[14,0,"user-details-bottom"],[12],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property","@class"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"name","first-form-group"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-name"],[12],[2,"Full name"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@id","@class","@autocorrect","@value","@input","@focus-out"],["user-name","user-name","off",[30,[36,3],[[32,0,["user","name"]]],null],[30,[36,0],[[32,0],[30,[36,8],[[32,0,["user","name"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"validate","name"],[["target"],[[32,0,["user"]]]]]]],null],[2,"\\n"],[6,[37,5],[[32,0,["user","errors","name"]]],null,[["default","else"],[{"statements":[[2,"                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["user","errors"]],"name"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"p"],[12],[2,"Use your real name so people can recognize you"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"slug"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-slug"],[12],[2,"Slug"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@class","@id","@name","@selectOnClick","@autocorrect","@value","@input","@focus-out"],["user-name","user-slug","user","true","off",[30,[36,3],[[32,0,["slugValue"]]],null],[30,[36,0],[[32,0],[30,[36,8],[[32,0,["slugValue"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],[30,[36,4],[[32,0,["updateSlug"]],[32,0,["slugValue"]]],null]],null]]],null],[2,"\\n                            "],[10,"p"],[12],[8,"gh-blog-url",[],[[],[]],null],[2,"/author/"],[1,[32,0,["slugValue"]]],[13],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["user","errors"]],"slug"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"email"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-email"],[12],[2,"Email"],[13],[2,"\\n"],[6,[37,5],[[32,0,["canChangeEmail"]]],null,[["default","else"],[{"statements":[[2,"                                "],[8,"gh-text-input",[],[["@type","@id","@name","@placeholder","@autocapitalize","@autocorrect","@autocomplete","@value","@input","@focus-out"],["email","user-email","email","jamie@example.com","off","off","off",[30,[36,3],[[32,0,["user","email"]]],null],[30,[36,0],[[32,0],[30,[36,8],[[32,0,["user","email"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"validate","email"],[["target"],[[32,0,["user"]]]]]]],null],[2,"\\n                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["user","errors"]],"email"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[12],[1,[32,0,["user","email"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[10,"p"],[12],[2,"Used for notifications"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,5],[[32,0,["rolesDropdownIsVisible"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                "],[10,"label"],[14,"for","user-role"],[12],[2,"Role"],[13],[2,"\\n                                "],[11,"div"],[24,0,"gh-input pointer"],[4,[38,7],["click",[30,[36,0],[[32,0],"toggleRoleSelectionModal"],null]],null],[12],[1,[32,0,["user","role","name"]]],[1,[30,[36,1],["arrow-down-small"],null]],[13],[2,"\\n                                "],[10,"p"],[12],[2,"What permissions should this user have?"],[13],[2,"\\n                            "],[13],[2,"\\n\\n"],[6,[37,5],[[32,0,["showRoleSelectionModal"]]],null,[["default"],[{"statements":[[2,"                                "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["select-user-role",[30,[36,3],[[32,0,["user","role"]]],null],[30,[36,0],[[32,0],"changeRole"],null],[30,[36,0],[[32,0],"toggleRoleSelectionModal"],null],"change-role"]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"location"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-location"],[12],[2,"Location"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@id","@value","@input","@focus-out"],["user-location",[30,[36,3],[[32,0,["user","location"]]],null],[30,[36,0],[[32,0],[30,[36,8],[[32,0,["user","location"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"validate","location"],[["target"],[[32,0,["user"]]]]]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["user","errors"]],"location"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Where in the world do you live?"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"website"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-website"],[12],[2,"Website"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@type","@id","@autocapitalize","@autocorrect","@autocomplete","@value","@input","@focus-out"],["url","user-website","off","off","off",[30,[36,3],[[32,0,["user","website"]]],null],[30,[36,0],[[32,0],[30,[36,8],[[32,0,["user","website"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"validate","website"],[["target"],[[32,0,["user"]]]]]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["user","errors"]],"website"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Have a website or blog other than this one? Link it!"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"facebook"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-facebook"],[12],[2,"Facebook profile"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@type","@placeholder","@autocorrect","@id","@name","@value","@input","@focus-out"],["url","https://www.facebook.com/username","off","user-facebook","user[facebook]",[30,[36,3],[[32,0,["user","facebook"]]],null],[30,[36,0],[[32,0],[30,[36,8],[[32,0,["_scratchFacebook"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"validateFacebookUrl"],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["user","errors"]],"facebook"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"URL of your personal Facebook Profile"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"twitter"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-twitter"],[12],[2,"Twitter profile"],[13],[2,"\\n                            "],[8,"gh-text-input",[],[["@type","@placeholder","@autocorrect","@id","@name","@value","@input","@focus-out"],["url","https://twitter.com/username","off","user-twitter","user[twitter]",[30,[36,3],[[32,0,["user","twitter"]]],null],[30,[36,0],[[32,0],[30,[36,8],[[32,0,["_scratchTwitter"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"validateTwitterUrl"],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["user","errors"]],"twitter"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"URL of your personal Twitter profile"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property","@class"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"bio","bio-container"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-bio"],[12],[2,"Bio"],[13],[2,"\\n                            "],[8,"gh-textarea",[],[["@id","@value","@input","@focus-out"],["user-bio",[30,[36,3],[[32,0,["user","bio"]]],null],[30,[36,0],[[32,0],[30,[36,8],[[32,0,["user","bio"]]],null]],[["value"],["target.value"]]],[30,[36,0],[[32,0],"validate","bio"],[["target"],[[32,0,["user"]]]]]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["user","errors"]],"bio"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"\\n                                Recommended: "],[10,"strong"],[12],[2,"200"],[13],[2," characters. \\n                                You\'ve used "],[1,[30,[36,10],[[32,0,["user","bio"]],200],null]],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n            "],[13],[2," "],[2,"\\n\\n"],[6,[37,5],[[32,0,["canChangePassword"]]],null,[["default"],[{"statements":[[2,"                "],[11,"form"],[24,1,"password-reset"],[24,0,"user-profile"],[24,"novalidate","novalidate"],[24,"autocomplete","off"],[4,[38,0],[[32,0],[30,[36,4],[[32,0,["user","saveNewPassword"]]],null]],[["on"],["submit"]]],[12],[2,"\\n                    "],[10,"div"],[14,0,"pa5"],[12],[2,"\\n                        "],[10,"fieldset"],[14,0,"user-details-form"],[12],[2,"\\n"],[6,[37,5],[[32,0,["isOwnProfile"]]],null,[["default"],[{"statements":[[2,"                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"password"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","user-password-old"],[12],[2,"Old password"],[13],[2,"\\n                                    "],[8,"gh-text-input",[],[["@type","@id","@autocomplete","@value","@input","@keyEvents"],["password","user-password-old","current-password",[30,[36,3],[[32,0,["user","password"]]],null],[30,[36,0],[[32,0],"updatePassword"],[["value"],["target.value"]]],[30,[36,6],null,[["Enter"],[[30,[36,0],[[32,0],[30,[36,4],[[32,0,["user","saveNewPassword"]]],null]],null]]]]]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["user","errors"]],"password"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"newPassword"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","user-password-new"],[12],[2,"New password"],[13],[2,"\\n                                "],[8,"gh-text-input",[],[["@value","@type","@autocomplete","@id","@input","@keyEvents"],[[30,[36,3],[[32,0,["user","newPassword"]]],null],"password","new-password","user-password-new",[30,[36,0],[[32,0],"updateNewPassword"],[["value"],["target.value"]]],[30,[36,6],null,[["Enter"],[[30,[36,0],[[32,0],[30,[36,4],[[32,0,["user","saveNewPassword"]]],null]],null]]]]]],null],[2,"\\n                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["user","errors"]],"newPassword"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n\\n                            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"ne2Password"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","user-new-password-verification"],[12],[2,"Verify password"],[13],[2,"\\n                                "],[8,"gh-text-input",[],[["@value","@type","@id","@input","@keyEvents"],[[30,[36,3],[[32,0,["user","ne2Password"]]],null],"password","user-new-password-verification",[30,[36,0],[[32,0],"updateNe2Password"],[["value"],["target.value"]]],[30,[36,6],null,[["Enter"],[[30,[36,0],[[32,0],[30,[36,4],[[32,0,["user","saveNewPassword"]]],null]],null]]]]]],null],[2,"\\n                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["user","errors"]],"ne2Password"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n\\n                            "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                "],[8,"gh-task-button",[],[["@buttonText","@idleClass","@class","@task"],["Change Password","gh-btn-red","gh-btn gh-btn-icon button-change-password",[32,0,["user","saveNewPassword"]]]],null],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2," "],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[32,0,["isOwnProfile"]]],null,[["default"],[{"statements":[[2,"                "],[10,"form"],[14,0,"user-profile"],[12],[2,"\\n                    "],[10,"div"],[14,0,"pa5"],[12],[2,"\\n                        "],[10,"fieldset"],[14,0,"user-details-form"],[12],[2,"\\n                            "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","personal-token"],[12],[2,"Staff access token"],[13],[2,"\\n                                "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,2],[[32,0,["copyContentKey","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                    "],[8,"gh-text-input",[[24,"onclick","this.select()"]],[["@id","@value","@readonly","@type"],["personal-token",[30,[36,3],[[32,0,["personalToken"]]],null],"","text"]],null],[2,"\\n                                    "],[10,"div"],[14,0,"app-api-personal-token-buttons child"],[12],[2,"\\n                                        "],[11,"button"],[24,0,"app-button-regenerate"],[24,"data-tooltip","Regenerate"],[24,4,"button"],[4,[38,0],[[32,0],"confirmRegenerateTokenModal"],null],[12],[2,"\\n                                            "],[1,[30,[36,1],["reload"],[["class"],["w4 h4 stroke-midgrey"]]]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,0],[[32,0],[30,[36,4],[[32,0,["copyContentKey"]]],null]],null],[12],[2,"\\n"],[6,[37,5],[[32,0,["copyContentKey","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[30,[36,1],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                            Copy\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"p"],[12],[2,"\\n                                    Give apps personal access without sharing your email/password.\\n                                "],[13],[2,"\\n"],[6,[37,5],[[32,0,["personalTokenRegenerated"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"p"],[14,0,"green"],[12],[2,"Staff access token was successfully regenerated "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,5],[[32,0,["showRegenerateTokenModal"]]],null,[["default"],[{"statements":[[2,"                                    "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["regenerate-token",[30,[36,0],[[32,0],"regenerateToken"],null],[30,[36,0],[[32,0],"cancelRegenerateTokenModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","unless","readonly","perform","if","hash","on","mut","background-image-style","gh-count-down-characters"]}',moduleName:"ghost-admin/templates/settings/staff/user.hbs"})
e.default=t})),define("ghost-admin/templates/setup",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"kZRcshyo",block:'{"symbols":["task"],"statements":[[10,"section"],[14,0,"gh-flow gh-setup"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-flow-content"],[12],[2,"\\n        "],[10,"header"],[12],[2,"\\n            "],[1,[30,[36,0],["ghost-orb"],[["alt"],["Ghost"]]]],[2,"\\n            "],[10,"h1"],[12],[2,"Welcome to Ghost."],[13],[2,"\\n            "],[10,"p"],[12],[2,"All over the world, people have started 3,000,000+ incredible sites with Ghost. Today, we’re starting yours."],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"form"],[14,1,"setup"],[14,0,"gh-flow-form"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"blogTitle"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","blog-title"],[12],[2,"Site title"],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-input-icon gh-icon-content"],[12],[2,"\\n                    "],[8,"gh-trim-focus-input",[],[["@tabindex","@type","@id","@name","@placeholder","@autocorrect","@value","@input","@focus-out"],["1","text","blog-title","blog-title","The Daily Awesome","off",[30,[36,1],[[32,0,["blogTitle"]]],null],[30,[36,3],[[32,0],[30,[36,2],[[32,0,["blogTitle"]]],null]],[["value"],["target.value"]]],[30,[36,3],[[32,0],"preValidate","blogTitle"],null]]],null],[2,"\\n                "],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"blogTitle"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","name"],[12],[2,"Full name"],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-input-icon gh-icon-user"],[12],[2,"\\n                    "],[8,"gh-text-input",[],[["@tabindex","@id","@name","@placeholder","@autocorrect","@autocomplete","@value","@input","@focus-out"],["2","name","name","Jamie Larson","off","name",[30,[36,1],[[32,0,["name"]]],null],[30,[36,3],[[32,0],[30,[36,2],[[32,0,["name"]]],null]],[["value"],["target.value"]]],[30,[36,3],[[32,0],"preValidate","name"],null]]],null],[2,"\\n                "],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"name"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"email"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","email"],[12],[2,"Email address"],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-input-icon gh-icon-mail"],[12],[2,"\\n                    "],[8,"gh-text-input",[],[["@tabindex","@type","@id","@name","@placeholder","@autocorrect","@autocomplete","@value","@input","@focus-out"],["3","email","email","email","jamie@example.com","off","username email",[30,[36,1],[[32,0,["email"]]],null],[30,[36,3],[[32,0],[30,[36,2],[[32,0,["email"]]],null]],[["value"],["target.value"]]],[30,[36,3],[[32,0],"preValidate","email"],null]]],null],[2,"\\n                "],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"email"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"password"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","password"],[12],[2,"Password"],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-input-icon gh-icon-lock"],[12],[2,"\\n                    "],[8,"gh-text-input",[],[["@tabindex","@type","@id","@name","@placeholder","@autocorrect","@autocomplete","@value","@input","@focus-out"],["4","password","password","password","At least 10 characters","off","new-password",[30,[36,1],[[32,0,["password"]]],null],[30,[36,3],[[32,0],[30,[36,2],[[32,0,["password"]]],null]],[["value"],["target.value"]]],[30,[36,3],[[32,0],"preValidate","password"],null]]],null],[2,"\\n                "],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"password"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-task-button",[],[["@task","@type","@tabindex","@class"],[[32,0,["setupTask"]],"submit","5","gh-btn gh-btn-black gh-btn-signup gh-btn-block gh-btn-icon"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,4],[[32,1,["isRunning"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"span"],[12],[1,[30,[36,0],["spinner"],[["class"],["gh-icon-spinner gh-btn-icon-no-margin"]]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"span"],[12],[2,"Create account & start publishing →"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "]],"parameters":[1]}]]],[2,"\\n        "],[13],[2,"\\n"],[6,[37,4],[[32,0,["flowErrors"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"main-error"],[12],[1,[32,0,["flowErrors"]]],[2," "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","readonly","mut","action","if"]}',moduleName:"ghost-admin/templates/setup.hbs"})
e.default=t})),define("ghost-admin/templates/setup/done",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"1X22iuuz",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-flow gh-done"],[12],[2,"\\n    "],[10,"main"],[14,0,"flex flex-row h-100"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-done-sidebar"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex flex-column h-100"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-nav-body"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-done-panel"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-stack"],[12],[2,"\\n                            "],[10,"header"],[12],[2,"\\n                                "],[10,"h1"],[12],[2,"All done!"],[13],[2,"\\n                                "],[10,"p"],[12],[2,"Your brand new publication is set up and ready to go."],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"What do you want to do first?"],[13],[2,"\\n                            "],[10,"section"],[12],[2,"\\n                                "],[8,"link-to",[[24,0,"gh-done-yellow"]],[["@route","@model"],["editor.new","post"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[12],[1,[30,[36,0],["posts"],null]],[13],[2,"\\n                                    "],[10,"h6"],[12],[2,"Write your first post"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"Test out the editor and get a feel for creating content inside Ghost."],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                                "],[8,"link-to",[[24,0,"gh-done-green"]],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[12],[1,[30,[36,0],["paint-palette"],null]],[13],[2,"\\n                                    "],[10,"h6"],[12],[2,"Customize your site"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"Review your settings and tweak the design to make your site just right."],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                                "],[8,"link-to",[[24,0,"gh-done-blue"]],[["@route"],["members.import"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[12],[1,[30,[36,0],["members"],null]],[13],[2,"\\n                                    "],[10,"h6"],[12],[2,"Import members"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"Move your audience over to Ghost with our migration tools and guides."],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                                "],[8,"link-to",[[24,0,"gh-done-pink"]],[["@route"],["dashboard"]],[["default"],[{"statements":[[2,"\\n                                   "],[10,"span"],[12],[1,[30,[36,0],["house"],null]],[13],[2,"\\n                                    "],[10,"h6"],[12],[2,"Explore Ghost admin"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"See the dashboard, click around, and explore Ghost for yourself."],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-done-preview"],[12],[2,"\\n            "],[8,"gh-browser-preview",[],[[],[]],[["default"],[{"statements":[[2,"\\n                "],[8,"gh-html-iframe",[[24,0,"site-frame"]],[["@html"],[[32,0,["themeManagement","previewHtml"]]]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/setup/done.hbs"})
e.default=t})),define("ghost-admin/templates/signin",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Q97QYGLs",block:'{"symbols":["task"],"statements":[[10,"div"],[14,0,"gh-flow"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-flow-content-wrap"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-flow-content"],[12],[2,"\\n"],[6,[37,3],[[32,0,["passwordResetEmailSent"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-auth-email"],[12],[2,"\\n                    "],[10,"header"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-site-icon"],[15,5,[34,2]],[12],[13],[2,"\\n                        "],[10,"h1"],[12],[2,"Update your password."],[13],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            For security, you need to create a new password. An email has been sent to you with instructions.\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"form"],[24,1,"login"],[24,"method","post"],[24,0,"gh-signin"],[24,"novalidate","novalidate"],[4,[38,1],[[32,0],"authenticate"],[["on"],["submit"]]],[12],[2,"\\n                "],[10,"header"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-site-icon"],[15,5,[34,2]],[12],[13],[2,"\\n                    "],[10,"h1"],[12],[2,"Sign in to "],[1,[32,0,["config","blogTitle"]]],[2,"."],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,3],[[32,0,["config","oauth"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"a"],[14,6,"oauth/google"],[14,0,"login gh-btn gh-btn-login gh-btn-block gh-btn-white gh-btn-icon gh-center"],[12],[2,"\\n                        "],[10,"span"],[14,5,"color: #15171a;"],[12],[1,[30,[36,0],["google-favicon"],null]],[2,"Sign in with Google"],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,0,"gh-separator"],[12],[2,"\\n                        or\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["signin","errors"]],[32,0,["hasValidated"]],"identification"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[12],[2,"Email address"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-input-icon gh-icon-mail"],[12],[2,"\\n                        "],[8,"gh-trim-focus-input",[],[["@class","@type","@placeholder","@name","@autocapitalize","@autocorrect","@autocomplete","@tabindex","@value","@input","@focus-out"],["email","email","jamie@example.com","identification","off","off","username","1",[30,[36,4],[[32,0,["signin","identification"]]],null],[30,[36,1],[[32,0],[30,[36,5],[[32,0,["signin","identification"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validate","identification"],null]]],null],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["signin","errors"]],[32,0,["hasValidated"]],"password"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[12],[2,"Password"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-input-icon gh-icon-lock forgotten-wrap"],[12],[2,"\\n                        "],[8,"gh-text-input",[],[["@class","@type","@placeholder","@name","@tabindex","@autocomplete","@autocorrect","@value","@input"],["password","password","•••••••••••••••","password","2","current-password","off",[30,[36,4],[[32,0,["signin","password"]]],null],[30,[36,1],[[32,0],[30,[36,5],[[32,0,["signin","password"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n\\n                        "],[8,"gh-task-button",[],[["@task","@class","@tabindex","@type","@successClass","@failureClass"],[[32,0,["forgotten"]],"forgotten-link gh-btn gh-btn-link gh-btn-icon","4","button","",""]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[6,[37,3],[[32,1,["isRunning"]]],null,[["default","else"],[{"statements":[[1,[30,[36,0],["spinner"],[["class"],["gh-spinner"]]]]],"parameters":[]},{"statements":[[2,"Forgot?"]],"parameters":[]}]]],[13],[2,"\\n                        "]],"parameters":[1]}]]],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-task-button",[[16,5,[34,6]]],[["@buttonText","@task","@showSuccess","@class","@type","@tabindex"],["Sign in →",[32,0,["validateAndAuthenticate"]],false,"login gh-btn gh-btn-login gh-btn-block gh-btn-icon js-login-button","submit","3"]],null],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"p"],[14,0,"main-error"],[12],[1,[30,[36,3],[[32,0,["flowErrors"]],[32,0,["flowErrors"]]],null]],[2," "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","action","site-icon-style","if","readonly","mut","accent-color-background"]}',moduleName:"ghost-admin/templates/signin.hbs"})
e.default=t})),define("ghost-admin/templates/signup",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"7s7Q0R8Z",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-flow"],[12],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-flow-content-wrap"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-flow-content"],[12],[2,"\\n            "],[10,"header"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-site-icon"],[15,5,[34,0]],[12],[13],[2,"\\n                "],[10,"h1"],[12],[2,"Create your account."],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"form"],[14,1,"signup"],[14,0,"gh-signup"],[14,"method","post"],[14,"novalidate","novalidate"],[15,"onsubmit",[30,[36,1],[[32,0],"submit"],null]],[12],[2,"\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["signupDetails","errors"]],[32,0,["signupDetails","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","name"],[12],[2,"Full name"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-input-icon gh-icon-user"],[12],[2,"\\n                        "],[8,"gh-trim-focus-input",[],[["@tabindex","@type","@id","@name","@placeholder","@autocorrect","@autocomplete","@value","@input","@focus-out"],["1","text","display-name","display-name","Jamie Larson","off","name",[30,[36,2],[[32,0,["signupDetails","name"]]],null],[30,[36,1],[[32,0],[30,[36,3],[[32,0,["signupDetails","name"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validate","name"],null]]],null],[2,"\\n                    "],[13],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["signupDetails","errors"]],"name"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["signupDetails","errors"]],[32,0,["signupDetails","hasValidated"]],"email"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","email"],[12],[2,"Email address"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-input-icon gh-icon-mail"],[12],[2,"\\n                        "],[8,"gh-text-input",[],[["@tabindex","@type","@id","@name","@placeholder","@autocorrect","@autocomplete","@value","@input","@focus-out"],["2","text","username","username","jamie@example.com","off","username email",[30,[36,2],[[32,0,["signupDetails","email"]]],null],[30,[36,1],[[32,0],[30,[36,3],[[32,0,["signupDetails","email"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validate","email"],null]]],null],[2,"\\n                    "],[13],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["signupDetails","errors"]],"email"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["signupDetails","errors"]],[32,0,["signupDetails","hasValidated"]],"password"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","password"],[12],[2,"Password"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-input-icon gh-icon-lock"],[12],[2,"\\n                        "],[8,"gh-text-input",[],[["@tabindex","@type","@id","@name","@placeholder","@autocorrect","@autocomplete","@value","@input","@focus-out"],["3","password","password","password","At least 10 characters","off","new-password",[30,[36,2],[[32,0,["signupDetails","password"]]],null],[30,[36,1],[[32,0],[30,[36,3],[[32,0,["signupDetails","password"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validate","password"],null]]],null],[2,"\\n                    "],[13],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["signupDetails","errors"]],"password"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-task-button",[[16,5,[34,4]]],[["@buttonText","@type","@form","@defaultClick","@runningText","@task","@class","@tabindex"],["Create Account →","submit","signup",true,"Creating",[32,0,["signup"]],"gh-btn gh-btn-signup gh-btn-block gh-btn-icon","3"]],null],[2,"\\n            "],[13],[2,"\\n"],[6,[37,5],[[32,0,["flowErrors"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,0,"main-error"],[12],[1,[32,0,["flowErrors"]]],[2," "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["site-icon-style","action","readonly","mut","accent-color-background","if"]}',moduleName:"ghost-admin/templates/signup.hbs"})
e.default=t})),define("ghost-admin/templates/site",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"53Jg8toH",block:'{"symbols":[],"statements":[[8,"gh-site-iframe",[],[["@guid"],[[32,0,["guid"]]]],[["default"],[{"statements":[],"parameters":[]}]]]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/site.hbs"})
e.default=t})),define("ghost-admin/templates/tag",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"j6DnG1DC",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[10,"form"],[14,0,"mb15"],[12],[2,"\\n        "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["tags"]],[["default"],[{"statements":[[2,"Tags"]],"parameters":[]}]]],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,2],["arrow-right"],null]],[13],[2,"\\n                "],[1,[30,[36,3],[[32,0,["tag","isNew"]],"New tag",[32,0,["tag","name"]]],null]],[2,"\\n            "],[13],[2,"\\n            "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n                "],[8,"gh-task-button",[],[["@task","@type","@class"],[[32,0,["saveTask"]],"button","gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[8,"gh-tag-settings-form",[],[["@tag","@scratchTag","@setProperty"],[[32,0,["tag"]],[32,0,["scratchTag"]],[30,[36,0],[[32,0],"setProperty"],null]]],null],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["tag","isNew"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-red gh-btn-icon"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0],"openDeleteTagModal"],null]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Delete tag"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["showUnsavedChangesModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["leave-settings",[30,[36,0],[[32,0],"leaveScreen"],null],[30,[36,0],[[32,0],"toggleUnsavedChangesModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["showDeleteTagModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["delete-tag",[32,0,["tag"]],[30,[36,0],[[32,0],"deleteTag"],null],[30,[36,0],[[32,0],"closeDeleteTagModal"],null],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","on","svg-jar","if","unless"]}',moduleName:"ghost-admin/templates/tag.hbs"})
e.default=t})),define("ghost-admin/templates/tags-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"uHaXJM1m",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"Tags"],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary"]],[["@route"],["tag.new"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New tag"],[13]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/tags-loading.hbs"})
e.default=t})),define("ghost-admin/templates/tags",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"fOgSSfiZ",block:'{"symbols":["tag"],"statements":[[11,"section"],[24,0,"gh-canvas"],[4,[38,2],["c",[30,[36,1],[[32,0],"newTag"],null]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"Tags"],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-contentfilter gh-btn-group"],[12],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,4],[[30,[36,3],[[32,0,["type"]],"public"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,1],[[32,0],"changeType","public"],null],[12],[10,"span"],[12],[2,"Public tags"],[13],[13],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,4],[[30,[36,3],[[32,0,["type"]],"internal"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,1],[[32,0],"changeType","internal"],null],[12],[10,"span"],[12],[2,"Internal tags"],[13],[13],[2,"\\n            "],[13],[2,"\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary"]],[["@route"],["tag.new"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New tag"],[13]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container content-list"],[12],[2,"\\n        "],[10,"ol"],[15,0,[31,["tags-list gh-list ",[30,[36,5],[[32,0,["sortedTags"]],"no-posts"],null]]]],[12],[2,"\\n"],[6,[37,4],[[32,0,["sortedTags"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"li"],[14,0,"gh-list-row header"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header gh-list-cellwidth-70"],[12],[2,"Tag"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header gh-list-cellwidth-10"],[12],[2,"Slug"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header gh-list-cellwidth-10"],[12],[2,"No. of posts"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header gh-list-cellwidth-10"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[8,"vertical-collection",[],[["@items","@key","@containerSelector","@estimateHeight","@bufferSize"],[[32,0,["sortedTags"]],"id",".gh-main",60,20]],[["default"],[{"statements":[[2,"\\n                    "],[8,"gh-tags-list-item",[],[["@tag"],[[32,1]]],null],[2,"\\n                "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"li"],[14,0,"no-posts-box"],[12],[2,"\\n                    "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n                            "],[1,[30,[36,0],["tags-placeholder"],[["class"],["gh-tags-placeholder"]]]],[2,"\\n                            "],[10,"h4"],[12],[2,"Start organizing your content."],[13],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"]],[["@route"],["tag.new"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[2,"Create a new tag"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[1,[30,[36,7],[[30,[36,6],null,null]],null]]],"hasEval":false,"upvars":["svg-jar","action","on-key","eq","if","unless","-outlet","component"]}',moduleName:"ghost-admin/templates/tags.hbs"})
e.default=t})),define("ghost-admin/templates/whatsnew",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"ktH1gt2C",block:'{"symbols":["entry"],"statements":[[11,"section"],[24,0,"gh-canvas js-settings-content"],[4,[38,4],null,null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-whats-new-heading"],[12],[1,[30,[36,5],["gift"],null]],[2," What\'s new?"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-about-header-actions"],[12],[2,"\\n            "],[10,"a"],[14,0,"gh-btn gh-btn-outline"],[14,6,"https://ghost.org/docs/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[2,"User documentation"],[13],[13],[2,"\\n            "],[10,"a"],[14,0,"gh-btn gh-btn-outline"],[14,6,"https://forum.ghost.org/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[2,"Get help with Ghost"],[13],[13],[2,"\\n            "],[10,"a"],[14,0,"gh-btn gh-btn-black"],[14,6,"https://ghost.org/docs/contributing/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[2,"Get involved"],[13],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-about-container"],[12],[2,"\\n            "],[11,"section"],[24,0,"gh-whats-new gh-about-box"],[4,[38,7],[[30,[36,6],[[32,0,["whatsNew","updateLastSeen"]]],null]],null],[12],[2,"\\n"],[6,[37,9],[[30,[36,8],[[30,[36,8],[[32,0,["whatsNew","entries"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[11,"a"],[16,6,[31,[[32,1,["url"]]]]],[24,0,"gh-wn-entry"],[4,[38,1],null,[["shouldScroll"],[[30,[36,0],[[32,1,["slug"]],[32,0,["entry"]]],null]]]],[12],[2,"\\n                        "],[10,"h4"],[12],[1,[30,[36,2],[[32,1,["published_at"]],"DD MMMM YYYY"],null]],[13],[2,"\\n                        "],[10,"h1"],[12],[1,[32,1,["title"]]],[13],[2,"\\n"],[6,[37,3],[[32,1,["feature_image"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"img"],[14,0,"mb5"],[15,"src",[32,1,["feature_image"]]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[10,"div"],[14,0,"gh-wn-content"],[12],[2,"\\n"],[6,[37,3],[[32,1,["custom_excerpt"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"p"],[12],[1,[32,1,["custom_excerpt"]]],[13],[2,"\\n                            "],[10,"a"],[15,6,[32,1,["url"]]],[14,0,"dib fw6 mb6"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Read the full post →"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[2,[32,1,["html"]]],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                "],[10,"a"],[14,0,"green"],[14,6,"https://ghost.org/changelog"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"See all updates →"],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-about-content-actions"],[12],[2,"\\n                "],[10,"a"],[14,0,"gh-btn gh-btn-outline"],[14,6,"https://ghost.org/docs/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[2,"User documentation"],[13],[13],[2,"\\n                "],[10,"a"],[14,0,"gh-btn gh-btn-outline"],[14,6,"https://forum.ghost.org/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[2,"Get help with Ghost"],[13],[13],[2,"\\n                "],[10,"a"],[14,0,"gh-btn gh-btn-black"],[14,6,"https://ghost.org/docs/contributing/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[2,"Get involved"],[13],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"section"],[14,0,"gh-env-details gh-about-box grey"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-about-logo"],[12],[2,"\\n                    "],[1,[30,[36,5],["ghost-logo-orb"],[["alt"],["Ghost"]]]],[2,"\\n                "],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["upgradeStatus","message"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"section"],[14,0,"gh-upgrade-notification"],[12],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            "],[10,"strong"],[12],[2,"Update available!"],[13],[2," "],[1,[32,0,["upgradeStatus","message"]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                "],[10,"ul"],[14,0,"gh-env-list"],[12],[2,"\\n                    "],[10,"li"],[12],[10,"strong"],[12],[2,"Version:"],[13],[2," "],[1,[32,0,["config","version"]]],[13],[2,"\\n                    "],[10,"li"],[12],[10,"strong"],[12],[2,"Environment:"],[13],[2," "],[10,"span"],[14,0,"ttc"],[12],[1,[32,0,["config","environment"]]],[13],[13],[2,"\\n                    "],[10,"li"],[14,0,"gh-env-list-database-type"],[12],[10,"strong"],[12],[2,"Database:"],[13],[2," "],[1,[32,0,["config","database"]]],[13],[2,"\\n                    "],[10,"li"],[12],[10,"strong"],[12],[2,"Mail:"],[13],[2," "],[6,[37,3],[[32,0,["config","mail"]]],null,[["default","else"],[{"statements":[[1,[32,0,["config","mail"]]]],"parameters":[]},{"statements":[[2,"Native"]],"parameters":[]}]]],[13],[2,"\\n"],[6,[37,3],[[30,[36,10],null,null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[12],[10,"strong"],[12],[2,"Developer experiments:"],[13],[2," "],[10,"span"],[14,0,"gh-badge"],[12],[2,"Enabled"],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["showDatabaseWarning"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"section"],[14,0,"gh-upgrade-notification"],[12],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            "],[10,"strong"],[12],[2,"Warning:"],[13],[2," MySQL 8 will be the required database in the next major release of Ghost. Make sure your database is up to date to ensure forwards compatibility.\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                "],[10,"footer"],[14,0,"gh-copyright-info"],[12],[2,"\\n                    Copyright © 2013 – "],[1,[32,0,["copyrightYear"]]],[2," Ghost Foundation, released under the "],[10,"a"],[14,6,"https://github.com/TryGhost/Ghost/blob/master/LICENSE"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"MIT license"],[13],[2,". "],[10,"a"],[14,6,"https://ghost.org/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Ghost"],[13],[2," is a registered trademark of "],[10,"a"],[14,6,"https://ghost.org/trademark/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Ghost Foundation Ltd"],[13],[2,".\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["eq","scroll-to","moment-format","if","scroll-top","svg-jar","perform","did-insert","-track-array","each","enable-developer-experiments"]}',moduleName:"ghost-admin/templates/whatsnew.hbs"})
e.default=t})),define("ghost-admin/transforms/boolean",["exports","@ember-data/serializer/-private"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.BooleanTransform}})})),define("ghost-admin/transforms/date",["exports","@ember-data/serializer/-private"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.DateTransform}})})),define("ghost-admin/transforms/facebook-url-user",["exports","@ember-data/serializer/transform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{deserialize(e){if(e){let[,t]=e.match(/(\S+)/)||[]
return`https://www.facebook.com/${t}`}return e}serialize(e){if(e){let[,t]=e.match(/(?:https:\/\/)(?:www\.)(?:facebook\.com)\/(?:#!\/)?(\w+\/?\S+)/im)||[]
return t}return e}}e.default=n})),define("ghost-admin/transforms/json-string",["exports","@ember-data/serializer/transform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{deserialize(e){let t=""===e?null:e
return JSON.parse(t)}serialize(e){return e?JSON.stringify(e):null}}e.default=n}))
define("ghost-admin/transforms/member-product",["exports","ghost-admin/models/member-product","@ember-data/serializer/transform"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends n.default{deserialize(e){let n,i
return i=e||[],n=i.map((e=>t.default.create(e))),Ember.A(n)}serialize(e){let t
return t=Ember.isArray(e)?e.map((e=>e)).compact():[],t}}e.default=i})),define("ghost-admin/transforms/member-subscription",["exports","ghost-admin/models/member-subscription","@ember-data/serializer/transform"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends n.default{deserialize(e){let n,i
return i=e||[],n=i.map((e=>t.default.create(e))),Ember.A(n)}serialize(e){let t
return t=Ember.isArray(e)?e.map((e=>e)).compact():[],t}}e.default=i})),define("ghost-admin/transforms/members-segment-string",["exports","@ember-data/serializer/transform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{deserialize(e){return"all"===e?"status:free,status:-free":"none"===e?null:e}serialize(e){return"status:free,status:-free"===e?"all":e||"none"}}e.default=n})),define("ghost-admin/transforms/moment-date",["exports","@ember-data/serializer/transform","moment"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{deserialize(e){return e?(0,n.default)(e):e}serialize(e){return e?(0,n.default)(e).toDate():e}}e.default=i})),define("ghost-admin/transforms/moment-utc",["exports","@ember-data/serializer/transform","moment"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{deserialize(e){return e?n.default.utc(e):e}serialize(e){if(e)try{return e.toJSON()}catch(t){return e}return e}}e.default=i})),define("ghost-admin/transforms/navigation-settings",["exports","ghost-admin/models/navigation-item","@ember-data/serializer/transform"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends n.default{deserialize(e,n){let i,r
try{r=JSON.parse(e)||[]}catch(a){r=[]}return i=r.map((e=>(e.isSecondary=n&&n.isSecondary||!1,t.default.create(e)))),Ember.A(i)}serialize(e){let t
return t=Ember.isArray(e)?e.map((e=>({label:e.label.trim(),url:e.url.trim()}))).compact():[],JSON.stringify(t)}}e.default=i})),define("ghost-admin/transforms/number",["exports","@ember-data/serializer/-private"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.NumberTransform}})})),define("ghost-admin/transforms/product-benefits",["exports","ghost-admin/models/product-benefit-item","@ember-data/serializer/transform"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends n.default{deserialize(e){let n,i
return i=e||[],n=i.map((e=>t.default.create(e))),Ember.A(n)}serialize(e){let t
return t=Ember.isArray(e)?e.map((e=>({name:e.get("name").trim()}))).compact():[],t}}e.default=i})),define("ghost-admin/transforms/raw",["exports","@ember-data/serializer/transform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{deserialize(e){return e}serialize(e){return e}}e.default=n})),define("ghost-admin/transforms/slack-settings",["exports","ghost-admin/models/slack-integration","@ember-data/serializer/transform"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends n.default{deserialize(e){let n
try{n=JSON.parse(e)||[]}catch(i){n=[]}return Ember.isEmpty(n)&&n.push({url:"",username:""}),n.map((e=>t.default.create(e)))}serialize(e){let t
return t=Ember.isArray(e)?e.map((e=>{let t=(e.get("url")||"").trim(),n=(e.get("username")||"").trim()
if(t)return{url:t,username:n}})).compact():[],JSON.stringify(t)}}e.default=i})),define("ghost-admin/transforms/string",["exports","@ember-data/serializer/-private"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.StringTransform}})})),define("ghost-admin/transforms/stripe-price",["exports","ghost-admin/models/stripe-price","@ember-data/serializer/transform"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends n.default{deserialize(e){if(null==e)return null
if(Array.isArray(e)){const n=e.map((e=>t.default.create(e)))
return Ember.A(n)}return t.default.create(e)}serialize(e){return Ember.isArray(e)?e.map((e=>e)).compact():e||null}}e.default=i})),define("ghost-admin/transforms/twitter-url-user",["exports","@ember-data/serializer/transform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{deserialize(e){if(e){let[,t]=e.match(/@?([^/]*)/)||[]
return`https://twitter.com/${t}`}return e}serialize(e){if(e){let[,t]=e.match(/(?:https:\/\/)(?:twitter\.com)\/(?:#!\/)?@?([^/]*)/)||[]
return`@${t}`}return e}}e.default=n})),define("ghost-admin/transforms/visibility-string",["exports","@ember-data/serializer/transform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{deserialize(e){return"members"===e?"status:free,status:-free":"paid"===e?"status:-free":e}serialize(e){return"status:free,status:-free"===e?"members":"status:-free"===e?"paid":e}}e.default=n})),define("ghost-admin/transitions",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){this.transition(this.hasClass("fullscreen-modal-container"),this.toValue(!0),this.use("fade",{duration:150}),this.reverse("fade",{duration:150})),this.transition(this.hasClass("fade-transition"),this.use("crossFade",{duration:100}))}})),define("ghost-admin/transitions/cross-fade",["exports","liquid-fire/transitions/cross-fade"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/default",["exports","liquid-fire/transitions/default"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/explode",["exports","liquid-fire/transitions/explode"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/fade",["exports","liquid-fire/transitions/fade"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/flex-grow",["exports","liquid-fire/transitions/flex-grow"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/fly-to",["exports","liquid-fire/transitions/fly-to"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/move-over",["exports","liquid-fire/transitions/move-over"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/scale",["exports","liquid-fire/transitions/scale"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/scroll-then",["exports","liquid-fire/transitions/scroll-then"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/to-down",["exports","liquid-fire/transitions/to-down"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/to-left",["exports","liquid-fire/transitions/to-left"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/to-right",["exports","liquid-fire/transitions/to-right"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/to-up",["exports","liquid-fire/transitions/to-up"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/wait",["exports","liquid-fire/transitions/wait"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/wormhole",["exports","liquid-wormhole/transitions/wormhole"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){let e
this.newElement&&(e=this.newElement.find(".liquid-wormhole-element:last-child"))
return t.default.apply(this,arguments).finally((()=>{if(this.newElement&&e){let t=e[0].querySelector("[autofocus]")
t&&t.focus()}}))}}))
define("ghost-admin/utils/bound-one-way",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){"function"!=typeof t&&(t=function(e){return e})
return Ember.computed(e,{get(){return t(this.get(e))},set:(e,t)=>t})}})),define("ghost-admin/utils/caja-sanitizers",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={url:function(e){if(e=e.toString().replace(/['"]+/g,""),/^https?:\/\//.test(e)||/^\//.test(e))return e},id:function(e){return e}}
e.default=t})),define("ghost-admin/utils/calculate-position",["exports","ember-basic-dropdown/utils/calculate-position"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/utils/copy-text-to-clipboard",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){navigator.clipboard.writeText(e)}})),define("ghost-admin/utils/ctrl-or-cmd",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=-1!==navigator.userAgent.indexOf("Mac")?"command":"ctrl"
e.default=t})),define("ghost-admin/utils/currency",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.currencies=void 0,e.getCurrencyOptions=function(){const e=t.slice(0,5).map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode}))),n=t.slice(5,t.length).map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode})))
return[{groupName:"—",options:e},{groupName:"—",options:n}]},e.getNonDecimal=function(e){return e/100},e.getSymbol=function(e){if(!e)return""
return Intl.NumberFormat("en",{currency:e,style:"currency"}).format(0).replace(/[\d\s.]/g,"")}
const t=[{isoCode:"USD",name:"United States dollar"},{isoCode:"EUR",name:"Euro"},{isoCode:"GBP",name:"Pound sterling"},{isoCode:"AUD",name:"Australian dollar"},{isoCode:"CAD",name:"Canadian dollar"},{isoCode:"AED",name:"United Arab Emirates dirham"},{isoCode:"AFN",name:"Afghan afghani"},{isoCode:"ALL",name:"Albanian lek"},{isoCode:"AMD",name:"Armenian dram"},{isoCode:"ANG",name:"Netherlands Antillean guilder"},{isoCode:"AOA",name:"Angolan kwanza"},{isoCode:"ARS",name:"Argentine peso"},{isoCode:"AWG",name:"Aruban florin"},{isoCode:"AZN",name:"Azerbaijani manat"},{isoCode:"BAM",name:"Bosnia and Herzegovina convertible mark"},{isoCode:"BBD",name:"Barbados dollar"},{isoCode:"BDT",name:"Bangladeshi taka"},{isoCode:"BGN",name:"Bulgarian lev"},{isoCode:"BMD",name:"Bermudian dollar"},{isoCode:"BND",name:"Brunei dollar"},{isoCode:"BOB",name:"Boliviano"},{isoCode:"BRL",name:"Brazilian real"},{isoCode:"BSD",name:"Bahamian dollar"},{isoCode:"BWP",name:"Botswana pula"},{isoCode:"BZD",name:"Belize dollar"},{isoCode:"CDF",name:"Congolese franc"},{isoCode:"CHF",name:"Swiss franc"},{isoCode:"CNY",name:"Chinese yuan"},{isoCode:"COP",name:"Colombian peso"},{isoCode:"CRC",name:"Costa Rican colon"},{isoCode:"CVE",name:"Cape Verdean escudo"},{isoCode:"CZK",name:"Czech koruna"},{isoCode:"DKK",name:"Danish krone"},{isoCode:"DOP",name:"Dominican peso"},{isoCode:"DZD",name:"Algerian dinar"},{isoCode:"EGP",name:"Egyptian pound"},{isoCode:"ETB",name:"Ethiopian birr"},{isoCode:"FJD",name:"Fiji dollar"},{isoCode:"FKP",name:"Falkland Islands pound"},{isoCode:"GEL",name:"Georgian lari"},{isoCode:"GIP",name:"Gibraltar pound"},{isoCode:"GMD",name:"Gambian dalasi"},{isoCode:"GTQ",name:"Guatemalan queztal"},{isoCode:"GYD",name:"Guyanese dollar"},{isoCode:"HKD",name:"Hong Kong dollar"},{isoCode:"HNL",name:"Honduran lempira"},{isoCode:"HRK",name:"Croation kuna"},{isoCode:"HTG",name:"Haitian gourde"},{isoCode:"HUF",name:"Hungarian forint"},{isoCode:"IDR",name:"Indonesian rupiah"},{isoCode:"ILS",name:"Israeli new shekel"},{isoCode:"INR",name:"Indian rupee"},{isoCode:"ISK",name:"Icelandic króna"},{isoCode:"JMD",name:"Jamaican dollar"},{isoCode:"KES",name:"Kenyan shilling"},{isoCode:"KGS",name:"Kyrgyzstani som"},{isoCode:"KHR",name:"Cambodian riel"},{isoCode:"KYD",name:"Cayman Islands dollar"},{isoCode:"KZT",name:"Kazakhstani tenge"},{isoCode:"LAK",name:"Lao kip"},{isoCode:"LBP",name:"Lebanese pound"},{isoCode:"LKR",name:"Sri Lankan rupee"},{isoCode:"LRD",name:"Liberian dollar"},{isoCode:"LSL",name:"Lesotho loti"},{isoCode:"MAD",name:"Moroccan dirham"},{isoCode:"MDL",name:"Moldovan leu"},{isoCode:"MKD",name:"Macedonian denar"},{isoCode:"MMK",name:"Myanmar kyat"},{isoCode:"MNT",name:"Mongolian tögrög"},{isoCode:"MOP",name:"Macanese pataca"},{isoCode:"MRO",name:"Mauritanian ouguiya"},{isoCode:"MUR",name:"Mauritian rupee"},{isoCode:"MVR",name:"Maldivian rufiyaa"},{isoCode:"MWK",name:"Malawian kwacha"},{isoCode:"MXN",name:"Mexican peso"},{isoCode:"MYR",name:"Malaysian ringgit"},{isoCode:"MZN",name:"Mozambican metical"},{isoCode:"NAD",name:"Namibian dollar"},{isoCode:"NGN",name:"Nigerian naira"},{isoCode:"NIO",name:"Nicaraguan córdoba"},{isoCode:"NOK",name:"Norwegian krone"},{isoCode:"NPR",name:"Nepalese rupee"},{isoCode:"NZD",name:"New Zealand dollar"},{isoCode:"PAB",name:"Panamanian balboa"},{isoCode:"PEN",name:"Peruvian sol"},{isoCode:"PGK",name:"Papua New Guinean kina"},{isoCode:"PHP",name:"Philippine peso"},{isoCode:"PKR",name:"Pakistani rupee"},{isoCode:"PLN",name:"Polish złoty"},{isoCode:"QAR",name:"Qatari riyal"},{isoCode:"RON",name:"Romanian leu"},{isoCode:"RSD",name:"Serbian dinar"},{isoCode:"RUB",name:"Russian ruble"},{isoCode:"SAR",name:"Saudi riyal"},{isoCode:"SBD",name:"Solomon Islands dollar"},{isoCode:"SCR",name:"Seychelles rupee"},{isoCode:"SEK",name:"Swedish krona"},{isoCode:"SGD",name:"Singapore dollar"},{isoCode:"SHP",name:"Saint Helena pound"},{isoCode:"SLL",name:"Sierra Leonean leone"},{isoCode:"SOS",name:"Somali shilling"},{isoCode:"SRD",name:"Surinamese dollar"},{isoCode:"STD",name:"São Tomé and Príncipe dobra"},{isoCode:"SZL",name:"Salvadoran colón"},{isoCode:"THB",name:"Thai baht"},{isoCode:"TJS",name:"Tajikistani somoni"},{isoCode:"TOP",name:"Tongan paʻanga"},{isoCode:"TRY",name:"Turkish lira"},{isoCode:"TTD",name:"Trinidad and Tobago dollar"},{isoCode:"TWD",name:"New Taiwan dollar"},{isoCode:"TZS",name:"Tanzanian shilling"},{isoCode:"UAH",name:"Ukrainian hryvnia"},{isoCode:"UYU",name:"Uruguayan peso"},{isoCode:"UZS",name:"Uzbekistan som"},{isoCode:"WST",name:"Samoan tala"},{isoCode:"XCD",name:"East Caribbean dollar"},{isoCode:"YER",name:"Yemeni rial"},{isoCode:"ZAR",name:"South African rand"},{isoCode:"ZMW",name:"Zambian kwacha"}]
e.currencies=t})),define("ghost-admin/utils/flatten-grouped-options",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){const t=[]
return e.forEach((function e(n){if(n.options)return n.options.forEach(e)
t.push(n)})),t}})),define("ghost-admin/utils/format-markdown",["exports","markdown-it","markdown-it-footnote","markdown-it-lazy-headers","markdown-it-mark","koenig-editor/helpers/sanitize-html"],(function(e,t,n,i,r,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e||"",i=""
return i=o.render(n),(0,a.sanitizeHtml)(i,{replaceJS:t})}
let s=function(e,t){let n=e.replace(/[^\w]/g,"").toLowerCase()
return t[n]&&(t[n]+=1,n+=t[n]),n},o=(0,t.default)({html:!0,breaks:!0,linkify:!0}).use(n.default).use(i.default).use(r.default).use((function(e){let t=e.renderer.rules.heading_open
e.renderer.rules.heading_open=function(e,n,i,r,a){let o={}
e[n].attrs=e[n].attrs||[]
let l=e[n+1].children.reduce((function(e,t){return e+t.content}),""),u=s(l,o)
return e[n].attrs.push(["id",u]),t?t.apply(this,arguments):a.renderToken(...arguments)}}))
o.linkify.set({fuzzyLink:!1})})),define("ghost-admin/utils/get-scroll-parent",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function e(t){const n=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY,i="visible"!==n&&"hidden"!==n
if(!t)return null
if(i&&t.scrollHeight>=t.clientHeight)return t
return e(t.parentNode)||document.body}})),define("ghost-admin/utils/ghost-paths",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){let e=window.location.pathname,n=e.substr(0,e.search("/ghost/")),i=`${n}/ghost/`,r=`${n}/ghost/api/admin`
return{adminRoot:i,assetRoot:`${n}/ghost/assets/`,apiRoot:r,subdir:n,blogRoot:`${n}/`,url:{admin(){return t(i,arguments)},api(){return t(r,arguments)},join(){if(arguments.length>1)return t(arguments[0],Array.prototype.slice.call(arguments,1))
if(1===arguments.length){let[e]=arguments
return"/"===e.slice(-1)?e:`${e}/`}return"/"},asset:function(e){return n+e}}}}
let t=function(e,t){let n=/^\//,i=/\/$/,r=Array.prototype.slice.call(t,0),a=e.replace(i,"")
return r.forEach((e=>{e&&(a=[a,e.replace(n,"").replace(i,"")].join("/"))})),a+="/"}})),define("ghost-admin/utils/isNumber",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return"number"==typeof e||e&&"object"==typeof e&&"[object Number]"===t.call(e)||!1}
const{toString:t}=Object.prototype})),define("ghost-admin/utils/link-component",[],(function(){Ember.LinkComponent.reopen({active:Ember.computed("attrs.params","_routing.currentState",(function(){let e=this._super(...arguments)
return"function"==typeof this.alternateActive&&this.alternateActive(e),e})),activeClass:Ember.computed("tagName",(function(){return"button"===this.tagName?"":"active"}))})})),define("ghost-admin/utils/password-generator",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,r,a,s){var o,l,u="",d=[]
null==e&&(e=10)
null==r&&(r=!0)
null==a&&(a=/\w/)
null==s&&(s="")
if(!r){for(l=33;126>l;l+=1)(u=String.fromCharCode(l)).match(a)&&d.push(u)
if(!d.length)throw new Error("Could not find characters that match the password pattern "+a+". Patterns must match individual characters, not the password as a whole.")}for(;s.length<e;)r?(a=s.match(n)?t:n,o=i(33,126),u=String.fromCharCode(o)):u=d[i(0,d.length)],r&&(u=u.toLowerCase()),u.match(a)&&(s=""+s+u)
return s}
const t=/[aeiou]$/i,n=/[bcdfghjklmnpqrstvwxyz]$/i
function i(e,t){var n,r,a,s=new Uint8Array(t)
for(n in a=s,window.crypto.getRandomValues(a),s)if(Object.prototype.hasOwnProperty.call(s,n)&&(r=s[n])>e&&r<t)return r
return i(e,t)}})),define("ghost-admin/utils/route",[],(function(){Ember.Route.reopen({config:Ember.inject.service(),billing:Ember.inject.service(),router:Ember.inject.service(),actions:{willTransition(e){return this.get("upgradeStatus.isRequired")?(e.abort(),this.upgradeStatus.requireUpgrade(),!1):!this.config.get("hostSettings.forceUpgrade")||("pro.index"===e.to?.name||"signout"===e.to?.name||(e.abort(),this.billing.openBillingWindow(this.router.currentURL,"/pro"),!1))}}})})),define("ghost-admin/utils/slug-url",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){t&&!Ember.isBlank(t.slug)&&(e+=`slug/${t.slug}/`,delete t.slug)
return e}})),define("ghost-admin/utils/titleize",["exports","ember-cli-string-helpers/utils/titleize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/utils/window-proxy",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={changeLocation(e){window.location=e},replaceLocation(e){window.location.replace(e)},replaceState(e,t,n){window.history.replaceState(e,t,n)}}
e.default=t})),define("ghost-admin/validators/base",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Object.extend({passed:!1,init(){this._super(...arguments),this.properties=this.properties||[]},check(e,t){return this.set("passed",!0),t&&this[t]?this[t](e):this.properties.forEach((t=>{this[t]&&this[t](e)})),this.passed},invalidate(){this.set("passed",!1)}})
e.default=t})),define("ghost-admin/validators/custom-view",["exports","ghost-admin/validators/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["name"],name(e){Ember.isBlank(e.name)&&(e.errors.add("name","Please enter a name"),e.hasValidated.pushObject("name"),this.invalidate())}})
e.default=n})),define("ghost-admin/validators/integration",["exports","ghost-admin/validators/base","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["name"],name(e){Ember.isBlank(e.name)?(e.errors.add("name","Please enter a name"),e.hasValidated.pushObject("name"),this.invalidate()):n.default.isLength(e.name,0,191)||(e.errors.add("name","Name is too long, max 191 chars"),e.hasValidated.pushObject("name"),this.invalidate())}})
e.default=i})),define("ghost-admin/validators/invite-user",["exports","ghost-admin/validators/base","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["email","role"],email(e){let t=e.get("email")
Ember.isBlank(t)?(e.get("errors").add("email","Please enter an email."),this.invalidate()):n.default.isEmail(t)||(e.get("errors").add("email","Invalid Email."),this.invalidate())},role(e){let t=e.get("role")
Ember.isBlank(t)&&(e.get("errors").add("role","Please select a role."),e.get("hasValidated").pushObject("role"),this.invalidate())}})
e.default=i})),define("ghost-admin/validators/label",["exports","ghost-admin/validators/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["name"],name(e){Ember.isBlank(e.name)&&(e.errors.add("name","Please enter a name"),e.hasValidated.pushObject("name"),this.invalidate())}})
e.default=n})),define("ghost-admin/validators/member",["exports","ghost-admin/validators/base","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["name","email","note"],name(e){n.default.isLength(e.name||"",0,191)||(e.errors.add("name","Name cannot be longer than 191 characters."),this.invalidate())},email(e){let t=e.get("email")
Ember.isBlank(t)?(e.errors.add("email","Please enter an email."),this.invalidate()):n.default.isEmail(t)||(e.errors.add("email","Invalid Email."),this.invalidate()),n.default.isLength(e.email||"",0,191)||(e.errors.add("email","Email cannot be longer than 191 characters."),this.invalidate()),e.get("hasValidated").addObject("email")},note(e){let t=e.get("note")
n.default.isLength(t||"",0,500)||(e.errors.add("note","Note is too long."),this.invalidate()),e.get("hasValidated").addObject("note")}})
e.default=i})),define("ghost-admin/validators/mixins/password",["exports","validator"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=["1234567890","qwertyuiop","qwertzuiop","asdfghjkl;","abcdefghij","0987654321","1q2w3e4r5t","12345asdfg"],i=["ghost","password","passw0rd"]
var r=Ember.Mixin.create({_characterOccurance(e){let t,n={},i=!0
t=e.length/2
for(let r=0;r<e.length;r+=1)n[e[r]]?n[e[r]]+=1:n[e[r]]=1
for(let r in n)if(n[r]>=t)return i=!1,i
return i},passwordValidation(e,r,a){let s,o=e.get("config.blogUrl")||window.location.host,l=e.get("blogTitle")||e.get("config.blogTitle")
if(r=r||e.get("password"),a=a||"password",o=o.replace(/^http(s?):\/\//,""),s=o.match(/\/$/)?o:`${o}/`,l=l?l.trim().toLowerCase():l,!t.default.isLength(r||"",10))return e.get("errors").add(a,"Password must be at least 10 characters long."),this.invalidate()
r=r.toString(),n.map((t=>{t===r&&(e.get("errors").add(a,"Sorry, you cannot use an insecure password."),this.invalidate())})),r.toLowerCase()===e.get("email").toLowerCase()&&(e.get("errors").add(a,"Sorry, you cannot use an insecure password."),this.invalidate()),i.map((t=>{r.toLowerCase().indexOf(t)>=0&&(e.get("errors").add(a,"Sorry, you cannot use an insecure password."),this.invalidate())})),r.toLowerCase()===l&&(e.get("errors").add(a,"Sorry, you cannot use an insecure password."),this.invalidate()),r.toLowerCase()!==o&&r.toLowerCase()!==s||(e.get("errors").add(a,"Sorry, you cannot use an insecure password."),this.invalidate()),this._characterOccurance(r)||(e.get("errors").add(a,"Sorry, you cannot use an insecure password."),this.invalidate())}})
e.default=r})),define("ghost-admin/validators/nav-item",["exports","ghost-admin/validators/base","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["label","url"],label(e){let t=e.get("label"),n=e.get("hasValidated")
Ember.isBlank(t)&&(e.get("errors").add("label","You must specify a label"),this.invalidate()),n.addObject("label")},url(e){let t=e.get("url"),i=e.get("hasValidated"),r=new RegExp(/^(\/|#|[a-zA-Z0-9-]+:)/)
Ember.isBlank(t)?(e.get("errors").add("url","You must specify a URL or relative path"),this.invalidate()):(t.match(/\s/)||!n.default.isURL(t,{require_protocol:!0})&&!t.match(r))&&(e.get("errors").add("url","You must specify a valid URL or relative path"),this.invalidate()),i.addObject("url")}})
e.default=i})),define("ghost-admin/validators/new-user",["exports","ghost-admin/validators/base","ghost-admin/validators/mixins/password","validator"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=t.default.extend(n.default,{init(){this.properties=this.properties||["name","email","password"],this._super(...arguments)},name(e){let t=e.get("name")
i.default.isLength(t||"",1)||(e.get("errors").add("name","Please enter a name."),e.get("hasValidated").addObject("email"),this.invalidate())},email(e){let t=e.get("email")
Ember.isBlank(t)?(e.get("errors").add("email","Please enter an email."),this.invalidate()):i.default.isEmail(t)||(e.get("errors").add("email","Invalid Email."),this.invalidate()),e.get("hasValidated").addObject("email")},password(e){this.passwordValidation(e)}})
e.default=r})),define("ghost-admin/validators/offer",["exports","ghost-admin/validators/base","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["name","amount","displayTitle","displayDescription","code","durationInMonths"],name(e){e.name||(e.errors.add("name","Please enter a name."),this.invalidate()),n.default.isLength(e.name||"",0,40)||(e.errors.add("name","Name cannot be longer than 40 characters."),this.invalidate())},amount(e){e.amount||(e.errors.add("amount","Please enter the amount."),this.invalidate())},displayDescription(e){n.default.isLength(e.displayDescription||"",0,191)||(e.errors.add("displayDescription","Display description cannot be longer than 191 characters."),this.invalidate())},durationInMonths(e){"repeating"!==e.duration||e.durationInMonths||(e.errors.add("durationInMonths","Please enter the duration in months."),this.invalidate())},code(e){e.code||(e.errors.add("code","Please enter an offer code."),this.invalidate())}})
e.default=i})),define("ghost-admin/validators/post",["exports","ghost-admin/validators/base","moment","validator"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=t.default.create({properties:["title","authors","customExcerpt","canonicalUrl","codeinjectionHead","codeinjectionFoot","metaTitle","metaDescription","ogtitle","ogDescription","twitterTitle","twitterDescription","publishedAtBlogTime","publishedAtBlogDate","emailSubject","featureImageAlt"],title(e){Ember.isBlank(e.title)&&(e.errors.add("title","You must specify a title for the post."),this.invalidate()),i.default.isLength(e.title||"",0,255)||(e.errors.add("title","Title cannot be longer than 255 characters."),this.invalidate())},authors(e){Ember.isEmpty(e.authors)&&(e.errors.add("authors","At least one author is required."),this.invalidate())},canonicalUrl(e){let t=new RegExp(/^(\/|[a-zA-Z0-9-]+:)/),n=e.canonicalUrl
Ember.isBlank(n)||(n.match(/\s/)||!i.default.isURL(n,{require_protocol:!0})&&!n.match(t)?(e.errors.add("canonicalUrl","Please enter a valid URL"),this.invalidate()):i.default.isLength(e.canonicalUrl,0,2e3)||(e.errors.add("canonicalUrl","Canonical URL is too long, max 2000 chars"),this.invalidate()))},customExcerpt(e){i.default.isLength(e.customExcerpt||"",0,300)||(e.errors.add("customExcerpt","Excerpt cannot be longer than 300 characters."),this.invalidate())},visibility(e){Ember.isBlank(e.visibility)&&!e.isNew&&(e.errors.add("visibility","Please select at least one tier"),this.invalidate())},tiers(e){"tiers"===e.visibility&&!e.isNew&&Ember.isEmpty(e.tiers)&&(e.errors.add("tiers","Please select at least one tier"),this.invalidate())},codeinjectionFoot(e){i.default.isLength(e.codeinjectionFoot||"",0,65535)||(e.errors.add("codeinjectionFoot","Footer code cannot be longer than 65535 characters."),this.invalidate())},codeinjectionHead(e){i.default.isLength(e.codeinjectionHead||"",0,65535)||(e.errors.add("codeinjectionHead","Header code cannot be longer than 65535 characters."),this.invalidate())},metaTitle(e){i.default.isLength(e.metaTitle||"",0,300)||(e.errors.add("metaTitle","Meta Title cannot be longer than 300 characters."),this.invalidate())},metaDescription(e){i.default.isLength(e.metaDescription||"",0,500)||(e.errors.add("metaDescription","Meta Description cannot be longer than 500 characters."),this.invalidate())},ogTitle(e){i.default.isLength(e.ogTitle||"",0,300)||(e.errors.add("ogTitle","Facebook Title cannot be longer than 300 characters."),this.invalidate())},ogDescription(e){i.default.isLength(e.ogDescription||"",0,500)||(e.errors.add("ogDescription","Facebook Description cannot be longer than 500 characters."),this.invalidate())},twitterTitle(e){i.default.isLength(e.twitterTitle||"",0,300)||(e.errors.add("twitterTitle","Twitter Title cannot be longer than 300 characters."),this.invalidate())},twitterDescription(e){i.default.isLength(e.twitterDescription||"",0,500)||(e.errors.add("twitterDescription","Twitter Description cannot be longer than 500 characters."),this.invalidate())},emailSubject(e){i.default.isLength(e.emailSubject||"",0,300)||(e.errors.add("emailSubject","Email Subject cannot be longer than 300 characters."),this.invalidate())},_shouldValidatePublishedAtBlog:e=>Ember.isPresent(e.publishedAtUTC)||Ember.isPresent(e.publishedAtBlogDate)||Ember.isPresent(e.publishedAtBlogTime),publishedAtBlog(e){this.publishedAtBlogTime(e),this.publishedAtBlogDate(e)},publishedAtBlogTime(e){!/^(([0-1]?[0-9])|([2][0-3])):([0-5][0-9])$/.test(e.publishedAtBlogTime)&&this._shouldValidatePublishedAtBlog(e)&&(e.errors.add("publishedAtBlogTime",'Must be in format: "15:00"'),this.invalidate())},publishedAtBlogDate(e){let t=e.publishedAtBlogDate,i=e.publishedAtBlogTime
if(this._shouldValidatePublishedAtBlog(e)){if(Ember.isBlank(t)&&!Ember.isBlank(i))return e.errors.add("publishedAtBlogDate","Can't be blank"),this.invalidate()
if(Ember.isEmpty(e.errors.errorsFor("publishedAtBlogTime"))){let t=e.statusScratch||e.status,i=(0,n.default)(),r=e.publishedAtUTC,a=e.publishedAtBlogTZ,s=r&&a.isSame(r),o=a.isSameOrAfter(i.add(2,"minutes"))
"draft"!==t&&"published"!==t||!a.isSameOrAfter(i)?"scheduled"!==t||s||o||(e.errors.add("publishedAtBlogDate","Must be at least 2 mins in the future"),this.invalidate()):(e.errors.add("publishedAtBlogDate","Must be in the past"),this.invalidate())}}},featureImageAlt(e){i.default.isLength(e.featureImageAlt||"",0,125)||(e.errors.add("featureImageAlt","Feature image alt text cannot be longer than 125 characters."),this.invalidate())}})
e.default=r})),define("ghost-admin/validators/product-benefit-item",["exports","ghost-admin/validators/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["name"],name(e){let t=e.get("name"),n=e.get("hasValidated")
Ember.isBlank(t)&&(e.get("errors").add("name","Please enter a benefit"),this.invalidate()),n.addObject("name")}})
e.default=n})),define("ghost-admin/validators/product",["exports","ghost-admin/validators/base","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["name"],name(e){e.name||(e.errors.add("name","Please enter Name."),this.invalidate()),n.default.isLength(e.name||"",0,191)||(e.errors.add("name","Name cannot be longer than 191 characters."),this.invalidate())}})
e.default=i}))
define("ghost-admin/validators/reset",["exports","ghost-admin/validators/base","ghost-admin/validators/mixins/password","validator"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=t.default.extend(n.default,{init(){this.properties=this.properties||["newPassword"],this._super(...arguments)},newPassword(e){let t=e.get("newPassword"),n=e.get("ne2Password")
Ember.isBlank(t)?(e.get("errors").add("newPassword","Please enter a password."),this.invalidate()):i.default.equals(t,n||"")||(e.get("errors").add("ne2Password","The two new passwords don't match."),this.invalidate()),this.passwordValidation(e,t,"newPassword")}})
var a=r.create()
e.default=a})),define("ghost-admin/validators/setting",["exports","ghost-admin/validators/base","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["title","description","password"],title(e){let t=e.get("title")
n.default.isLength(t||"",0,150)||(e.get("errors").add("title","Title is too long"),this.invalidate())},description(e){let t=e.get("description")
n.default.isLength(t||"",0,200)||(e.get("errors").add("description","Description is too long"),this.invalidate())},password(e){let t=e.get("isPrivate"),n=e.get("password")
t&&""===n&&(e.get("errors").add("password","Password must be supplied"),this.invalidate())}})
e.default=i})),define("ghost-admin/validators/setup",["exports","ghost-admin/validators/new-user","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["name","email","password","blogTitle"],blogTitle(e){let t=e.get("blogTitle")
n.default.isLength(t||"",1)||(e.get("errors").add("blogTitle","Please enter a site title."),this.invalidate()),n.default.isLength(t||"",0,150)||(e.get("errors").add("blogTitle","Title is too long"),this.invalidate())}})
e.default=i})),define("ghost-admin/validators/signin",["exports","ghost-admin/validators/base","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["identification","signin","forgotPassword"],invalidMessage:"Email address is not valid",identification(e){let t=e.get("identification")
Ember.isBlank(t)||n.default.isEmail(t)||(e.get("errors").add("identification",this.invalidMessage),this.invalidate())},signin(e){let t=e.get("identification"),i=e.get("password")
e.get("errors").clear(),Ember.isBlank(t)&&(e.get("errors").add("identification","Please enter an email"),this.invalidate()),Ember.isBlank(t)||n.default.isEmail(t)||(e.get("errors").add("identification",this.invalidMessage),this.invalidate()),Ember.isBlank(i)&&(e.get("errors").add("password","Please enter a password"),this.invalidate())},forgotPassword(e){let t=e.get("identification")
e.get("errors").clear(),!Ember.isBlank(t)&&n.default.isEmail(t)||(e.get("errors").add("identification",this.invalidMessage),this.invalidate())}})
e.default=i})),define("ghost-admin/validators/signup",["exports","ghost-admin/validators/new-user"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create()
e.default=n})),define("ghost-admin/validators/slack-integration",["exports","ghost-admin/validators/base","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["url"],url(e){let t=e.get("url"),i=e.get("hasValidated")
Ember.isBlank(t)||n.default.isURL(t,{require_protocol:!0})||(e.get("errors").add("url","The URL must be in a format like https://hooks.slack.com/services/<your personal key>"),this.invalidate()),i.addObject("url")}})
e.default=i})),define("ghost-admin/validators/snippet",["exports","ghost-admin/validators/base","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["name","mobiledoc"],name(e){let{name:t}=e
n.default.isLength(t||"",0,191)||(e.errors.add("name","Name cannot be longer than 191 characters"),this.invalidate()),Ember.isBlank(t)&&(e.errors.add("name","Name cannot be blank"),this.invalidate()),e.get("hasValidated").addObject("name")},mobiledoc(e){Ember.isBlank(e.get("mobiledoc"))&&(e.errors.add("mobiledoc","Content cannot be blank."),this.invalidate()),e.get("hasValidated").addObject("mobiledoc")}})
e.default=i})),define("ghost-admin/validators/subscriber",["exports","ghost-admin/validators/base","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["email"],email(e){let t=e.get("email")
Ember.isBlank(t)?(e.get("errors").add("email","Please enter an email."),e.get("hasValidated").pushObject("email"),this.invalidate()):n.default.isEmail(t)?n.default.isLength(t,0,191)||(e.get("errors").add("email","Email is too long"),e.get("hasValidated").pushObject("email"),this.invalidate()):(e.get("errors").add("email","Invalid email."),e.get("hasValidated").pushObject("email"),this.invalidate())}})
e.default=i})),define("ghost-admin/validators/tag-settings",["exports","ghost-admin/validators/base","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["name","slug","description","metaTitle","metaDescription"],name(e){let t=e.get("name")
Ember.isBlank(t)?(e.get("errors").add("name","You must specify a name for the tag."),this.invalidate()):t.match(/^,/)?(e.get("errors").add("name","Tag names can't start with commas."),this.invalidate()):n.default.isLength(t,0,191)||(e.get("errors").add("name","Tag names cannot be longer than 191 characters."),this.invalidate())},slug(e){let t=e.get("slug")
n.default.isLength(t||"",0,191)||(e.get("errors").add("slug","URL cannot be longer than 191 characters."),this.invalidate())},description(e){let t=e.get("description")
n.default.isLength(t||"",0,500)||(e.get("errors").add("description","Description cannot be longer than 500 characters."),this.invalidate())},metaTitle(e){let t=e.get("metaTitle")
n.default.isLength(t||"",0,300)||(e.get("errors").add("metaTitle","Meta Title cannot be longer than 300 characters."),this.invalidate())},metaDescription(e){let t=e.get("metaDescription")
n.default.isLength(t||"",0,500)||(e.get("errors").add("metaDescription","Meta Description cannot be longer than 500 characters."),this.invalidate())}})
e.default=i})),define("ghost-admin/validators/user",["exports","ghost-admin/validators/base","ghost-admin/validators/mixins/password","validator"],(function(e,t,n,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=t.default.extend(n.default,{init(){this.properties=this.properties||["name","bio","email","location","website","roles"],this._super(...arguments)},isActive:e=>"active"===e.get("status"),name(e){let t=e.get("name")
this.isActive(e)&&(Ember.isBlank(t)?(e.get("errors").add("name","Please enter a name."),this.invalidate()):i.default.isLength(t,0,191)||(e.get("errors").add("name","Name is too long"),this.invalidate()))},bio(e){let t=e.get("bio")
this.isActive(e)&&(i.default.isLength(t||"",0,200)||(e.get("errors").add("bio","Bio is too long"),this.invalidate()))},email(e){let t=e.get("email")
i.default.isEmail(t||"")||(e.get("errors").add("email","Please supply a valid email address"),this.invalidate()),i.default.isLength(t||"",0,191)||(e.get("errors").add("email","Email is too long"),this.invalidate())},location(e){let t=e.get("location")
this.isActive(e)&&(i.default.isLength(t||"",0,150)||(e.get("errors").add("location","Location is too long"),this.invalidate()))},website(e){let t=e.get("website"),n=!i.default.isURL(t||"",{require_protocol:!1})||!i.default.isLength(t||"",0,2e3)
this.isActive(e)&&!Ember.isBlank(t)&&n&&(e.get("errors").add("website","Website is not a valid url"),this.invalidate())},roles(e){if(!this.isActive(e)){e.get("roles").length<1&&(e.get("errors").add("role","Please select a role"),this.invalidate())}},passwordChange(e){let t=e.get("newPassword"),n=e.get("ne2Password")
e.get("hasValidated").addObject("newPassword"),e.get("hasValidated").addObject("ne2Password"),Ember.isBlank(t)&&Ember.isBlank(n)?(e.get("errors").add("newPassword","Sorry, passwords can't be blank"),this.invalidate()):(i.default.equals(t,n||"")||(e.get("errors").add("ne2Password","Your new passwords do not match"),this.invalidate()),this.passwordValidation(e,t,"newPassword"))},ownPasswordChange(e){let t=e.get("password")
this.passwordChange(e),e.get("hasValidated").addObject("password"),Ember.isBlank(t)&&(e.get("errors").add("password","Your current password is required to set a new one"),this.invalidate())}})
var a=r.create()
e.default=a})),define("ghost-admin/validators/webhook",["exports","ghost-admin/validators/base","validator"],(function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["name","event","targetUrl"],name(e){Ember.isBlank(e.name)?(e.errors.add("name","Please enter a name"),e.hasValidated.pushObject("name"),this.invalidate()):n.default.isLength(e.name,0,191)||(e.errors.add("name","Name is too long, max 191 chars"),e.hasValidated.pushObject("name"),this.invalidate())},event(e){Ember.isBlank(e.event)&&(e.errors.add("event","Please select an event"),e.hasValidated.pushObject("event"),this.invalidate())},targetUrl(e){Ember.isBlank(e.targetUrl)?e.errors.add("targetUrl","Please enter a target URL"):n.default.isURL(e.targetUrl||"",{require_protocol:!1})?n.default.isLength(e.targetUrl,0,2e3)||e.errors.add("targetUrl","Target URL is too long, max 2000 chars"):e.errors.add("targetUrl","Please enter a valid URL"),e.hasValidated.pushObject("targetUrl"),e.errors.has("targetUrl")&&this.invalidate()}})
e.default=i})),define("ghost-admin/views/application",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend({})
e.default=t})),define("ghost-admin/config/environment",[],(function(){try{var e="ghost-admin/config/environment",t=document.querySelector('meta[name="'+e+'"]').getAttribute("content"),n={default:JSON.parse(decodeURIComponent(t))}
return Object.defineProperty(n,"__esModule",{value:!0}),n}catch(i){throw new Error('Could not read config from meta tag with name "'+e+'".')}})),runningTests||require("ghost-admin/app").default.create({version:"4.41",name:"ghost-admin"})

//# sourceMappingURL=ghost.min-1abf114ca26a71e8e1f09054f3592614.map